!function(){"use strict";self.CACHE_BUSTER="1623707996317|0.9479100485341803",self.addEventListener("install",(function(s){return self.skipWaiting()})),self.addEventListener("activate",(function(s){return self.clients.claim()}));var s=(s,e)=>caches.keys().then(t=>{t.forEach(t=>{0===t.indexOf(s)&&t!==e&&caches.delete(t)})});const e="esw-asset-cache-1",t=["assets/auto-import-fastboot-b1e68f18da239c7534a674e913a9e90d.js","assets/auto-import-fastboot-dcca69907fab6da01c8c92f8374cbeb1.map","assets/chunk.1e0504900a339d078fc5.js","assets/chunk.1e0504900a339d078fc5-fdbffde4d066e24958d0b542e0fa47da.map","assets/chunk.488d183e47e03dc68711.js","assets/chunk.488d183e47e03dc68711-bb62d800f6246a0a252ceff5e1ad9d6e.map","assets/chunk.6357b94a9462aa0f66ae.js","assets/chunk.6357b94a9462aa0f66ae-c69250383117c0a7d481f6b49fab8fda.map","assets/chunk.c8a8bd86b4f05dacdf92.js","assets/chunk.c8a8bd86b4f05dacdf92-c6d6de4358464ba4d87fb1531b648cdd.map","assets/fonts/nunitosans-black.woff","assets/fonts/nunitosans-black.woff2","assets/fonts/nunitosans-blackitalic.woff","assets/fonts/nunitosans-blackitalic.woff2","assets/fonts/nunitosans-bold.woff","assets/fonts/nunitosans-bold.woff2","assets/fonts/nunitosans-bolditalic.woff","assets/fonts/nunitosans-bolditalic.woff2","assets/fonts/nunitosans-extrabold.woff","assets/fonts/nunitosans-extrabold.woff2","assets/fonts/nunitosans-extrabolditalic.woff","assets/fonts/nunitosans-extrabolditalic.woff2","assets/fonts/nunitosans-extralight.woff","assets/fonts/nunitosans-extralight.woff2","assets/fonts/nunitosans-extralightitalic.woff","assets/fonts/nunitosans-extralightitalic.woff2","assets/fonts/nunitosans-italic.woff","assets/fonts/nunitosans-italic.woff2","assets/fonts/nunitosans-light.woff","assets/fonts/nunitosans-light.woff2","assets/fonts/nunitosans-lightitalic.woff","assets/fonts/nunitosans-lightitalic.woff2","assets/fonts/nunitosans-regular.woff","assets/fonts/nunitosans-regular.woff2","assets/fonts/nunitosans-semibold.woff","assets/fonts/nunitosans-semibold.woff2","assets/fonts/nunitosans-semibolditalic.woff","assets/fonts/nunitosans-semibolditalic.woff2","assets/icons/add-freestanding.svg","assets/icons/add.svg","assets/icons/appicon-192-f391b94d78872954cbc6622e613c769c.png","assets/icons/appicon-280-20292d255a156ee615d0aaa07c4d3592.png","assets/icons/appicon-32-001174a71a41c70403c60e2b45a4ef1e.png","assets/icons/appicon-512-46d4b2a88ad8260d97ec5fa7939fd461.png","assets/icons/audio-file.svg","assets/icons/back-arrow.svg","assets/icons/badge-favorite.svg","assets/icons/badge-follow.svg","assets/icons/badge-mention.svg","assets/icons/badge-reply.svg","assets/icons/badge-repost.svg","assets/icons/block.svg","assets/icons/caution.svg","assets/icons/chats.svg","assets/icons/check-loose.svg","assets/icons/check.svg","assets/icons/chevron-down.svg","assets/icons/chevron-left.svg","assets/icons/chevron-right.svg","assets/icons/circle.svg","assets/icons/close-chunky.svg","assets/icons/close-circle-hollow.svg","assets/icons/close-circle.svg","assets/icons/close-colored.svg","assets/icons/close.svg","assets/icons/color/chevron-down-cropped-blue.svg","assets/icons/color/chevron-down-cropped-gray.svg","assets/icons/color/pause.svg","assets/icons/color/play.svg","assets/icons/conversation.svg","assets/icons/copy.svg","assets/icons/delete.svg","assets/icons/emoji-react.svg","assets/icons/feeds.svg","assets/icons/follow.svg","assets/icons/globe.svg","assets/icons/home.svg","assets/icons/image.svg","assets/icons/info.svg","assets/icons/link.svg","assets/icons/lock.svg","assets/icons/menu.svg","assets/icons/message.svg","assets/icons/mute-conversation.svg","assets/icons/mute-user.svg","assets/icons/muted-user-avatar.svg","assets/icons/new-message.svg","assets/icons/notifications.svg","assets/icons/placeholder-avatar.svg","assets/icons/placeholder-media.svg","assets/icons/poll.svg","assets/icons/post.svg","assets/icons/reply.svg","assets/icons/report.svg","assets/icons/repost.svg","assets/icons/search.svg","assets/icons/send.svg","assets/icons/settings-sliders.svg","assets/icons/settings.svg","assets/icons/share.svg","assets/icons/sign-in.svg","assets/icons/sign-out.svg","assets/icons/star-filled.svg","assets/icons/star.svg","assets/icons/tooltip.svg","assets/icons/triple-dot.svg","assets/icons/unavailable.svg","assets/icons/unfollow.svg","assets/icons/unmute-conversation.svg","assets/icons/unmute-user.svg","assets/icons/user-feed.svg","assets/icons/user.svg","assets/images/avatars/01-961cd405f015b6f2756501d8e2c24440.jpg","assets/images/avatars/02-00b09835b1057beaa1871ea680e45725.jpg","assets/images/avatars/03-b9700918eae44202331c6afc86e972e5.jpg","assets/images/avatars/04-29b5c0e9994bec82014c3ff31e97b94f.jpg","assets/images/avatars/05-de2ad56733ebd6af1ffce0bbcad50d37.jpg","assets/images/avatars/06-485e4ee128cb02578d54f7f9b790e11d.jpg","assets/images/avatars/07-a89040f95a4986cdd28b933eef1fa727.jpg","assets/images/avatars/default-2ee3d3c051885a9b2c412dc91dac7109.jpg","assets/images/photos/01-95101edb3d59d2663b069db4e83e491b.jpg","assets/images/photos/02-7907c0acb0b19c561e010a9d35c2cc1a.jpg","assets/images/photos/03-8c08deb17ec2fb3421befc605ae0fb23.jpg","assets/images/photos/04-abcc9d0f819f9ee74dc6ea56eac17874.jpg","assets/images/photos/05-2251eabc475180e02c9d3c799edf0546.jpg","assets/images/photos/06-f3edfce87fed4916fa8728c7d1f52f52.jpg","assets/images/photos/07-9fe5d30cc05f5a2e8407385ec124d2bc.jpg","assets/images/photos/08-cfb2528fdac2e9aba5fbff03421e2424.jpg","assets/images/sensitive-content-911eed3a25a3adc2358b9dd79bfe8ee3.png","assets/images/spinner-29c473dda4835eab469d201b1eca9300.gif","assets/intl/intl.complete-1db7b16f28ce87e691e9ca686d5b60d5.js","assets/intl/intl.complete-10dda392c22c1a4a1760a69365304e3c.map","assets/intl/intl-f296896778891ae2a7c85d5a694faee9.js","assets/intl/intl-8e854e5e4b9d60153d3adc94adf0e883.map","assets/intl/intl.min-3ca3aecbd8d2867b3629f4b9419b6a62.js","assets/intl/intl.min-98d4c5d0dc5f9b4518096e650245aec3.map","assets/intl/locales/en-488de1adcf1da10a391ba5c299dfbf4c.js","assets/intl/locales/en-183e9171f621910af41e7a201b855ca1.map","assets/pleroma-pwa-96a1444cfab83cc311fab3ff580c5fd0.css","assets/pleroma-pwa-ac325e35c424f71e0f97efe495ab6e9b.js","assets/pleroma-pwa-870799d261837e1d6f00cc4b4b3c42dd.map","assets/vendor-ef89bfbbbbab872f6f245e3b3b0e8ad9.css","assets/vendor-1bafc9d9481394632af6608379c8dd98.js","assets/vendor-d26108596cee4f52367dde6a3646b336.map"].map(s=>new URL(s,self.location).toString());self.addEventListener("install",s=>{s.waitUntil(caches.open(e).then(s=>Promise.all(t.map(e=>{let t=new Request(e,{mode:"cors"});return fetch(t).then(t=>{if(t.status>=400){throw new Error(`Request for ${e} failed with status ${t.statusText}`)}return s.put(e,t)}).catch((function(s){console.error(`Not caching ${e} due to ${s}`)}))}))))}),self.addEventListener("activate",a=>{a.waitUntil(Promise.all([s("esw-asset-cache",e),void caches.open(e).then(s=>s.keys().then(e=>{e.forEach(e=>{-1===t.indexOf(e.url)&&s.delete(e)})}))]))}),self.addEventListener("fetch",s=>{let a="GET"===s.request.method,n=-1!==t.indexOf(s.request.url);a&&n&&s.respondWith(caches.match(s.request,{cacheName:e}).then(e=>e||fetch(s.request.url,{mode:"cors"})))});function a(s,e){return!!e.find(e=>e.test(decodeURI(s)))}const n=["/assets/fonts/.*"].map((function(s){let e=function(s,e=self.location){return decodeURI(new URL(encodeURI(s),e).toString())}(s);return new RegExp(`^${e}$`)}));self.addEventListener("fetch",s=>{let e=s.request;"GET"===e.method&&/^https?/.test(e.url)&&a(e.url,n)&&s.respondWith(caches.open("esw-cache-first-1").then(s=>s.match(e).then(t=>t||fetch(e).then(t=>(s.put(e,t.clone()),t)))))}),self.addEventListener("activate",e=>{e.waitUntil(s("esw-cache-first","esw-cache-first-1"))});const o=[/\/pleroma\/admin(\/.*)?$/,/\/mailer\/unsubscribe(\/.*)?$/,/\/oauth(\/.*)?$/],i=[/\/about/,/\/sign-in/,/\/sign-out/,/\/sign-up/,/\/feeds(\/.*)?$/,/\/notifications(\/.*)?$/,/\/account(\/.*)?$/,/\/users(\/.*)?$/,/\/notice(\/.*)?$/,/\/settings(\/.*)?$/,/\/search(\/.*)?$/,/\/tag(\/.*)?$/,/\/messages(\/.*)?$/,/\/message(\/.*)?$/];self.INDEX_FILE_HASH="803aa80cf7a6ea6defd798f2209967c7";const c=new URL("index.html",self.location).toString();self.addEventListener("install",s=>{s.waitUntil(fetch(c,{credentials:"include"}).then(s=>caches.open("esw-index-1").then(e=>e.put(c,s))))}),self.addEventListener("activate",e=>{e.waitUntil(s("esw-index","esw-index-1"))}),self.addEventListener("fetch",s=>{let e=s.request,t=new URL(e.url),n="GET"===e.method,l=-1!==e.headers.get("accept").indexOf("text/html"),f=t.origin===location.origin,r=a(e.url,o),g=!i.length||a(e.url,i);!("/tests"===t.pathname&&!1)&&n&&l&&f&&g&&!r&&s.respondWith(caches.match(c,{cacheName:"esw-index-1"}).then(s=>s||fetch(c,{credentials:"include"}).then(s=>(caches.open("esw-index-1").then(e=>e.put(c,s)),s.clone()))))}),self.addEventListener("activate",(function(s){console.debug("PLEROMA SW, Activate"),s.waitUntil(self.clients.claim())})),self.addEventListener("push",(function(s){console.debug("PLEROMA SW, PUSH");try{let e=s.data&&s.data.json();s.waitUntil(self.clients.matchAll().then(s=>{if(!s.some(s=>s.focused))return e?self.registration.showNotification(e.title,{body:e.body,icon:e.icon,data:e}):void 0}))}catch(s){console.error("PLEROMA SW, PUSH ERROR ",s)}})),self.addEventListener("notificationclick",(function(s){console.debug("SW, NOTIFICATION CLICKED"),s.notification.close(),s.waitUntil(self.clients.matchAll().then((function(s){return s.length>0?s[0].focus():self.clients.openWindow("/notifications")})))}))}();
//# sourceMappingURL=sw-d4405e8b4ab315dcd73c7fccbaa2fabb.map