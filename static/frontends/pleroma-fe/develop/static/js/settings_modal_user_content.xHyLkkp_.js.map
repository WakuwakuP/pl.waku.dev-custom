{"version":3,"file":"settings_modal_user_content.xHyLkkp_.js","sources":["../../../src/components/importer/importer.js?vue&type=script&src=true&lang.js","../../../src/components/importer/importer.vue","../../../src/components/exporter/exporter.js?vue&type=script&src=true&lang.js","../../../src/components/exporter/exporter.vue","../../../src/components/settings_modal/tabs/data_import_export_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/data_import_export_tab.vue","../../../node_modules/lodash/negate.js","../../../node_modules/lodash/reject.js","../../../src/components/autosuggest/autosuggest.js?vue&type=script&src=true&lang.js","../../../src/components/autosuggest/autosuggest.vue","../../../src/components/block_card/block_card.js?vue&type=script&src=true&lang.js","../../../src/components/block_card/block_card.vue","../../../src/components/mute_card/mute_card.js?vue&type=script&src=true&lang.js","../../../src/components/mute_card/mute_card.vue","../../../src/components/domain_mute_card/domain_mute_card.js?vue&type=script&src=true&lang.js","../../../src/components/domain_mute_card/domain_mute_card.vue","../../../src/components/selectable_list/selectable_list.js?vue&type=script&src=true&lang.js","../../../src/components/selectable_list/selectable_list.vue","../../../src/hocs/with_subscription/with_subscription.jsx","../../../src/components/settings_modal/tabs/mutes_and_blocks_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/mutes_and_blocks_tab.vue","../../../src/components/settings_modal/tabs/notifications_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/notifications_tab.vue","../../../src/components/settings_modal/helpers/unit_setting.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/helpers/unit_setting.vue","../../../src/components/settings_modal/helpers/help_indicator.vue","../../../src/components/settings_modal/tabs/filtering_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/filtering_tab.vue","../../../src/components/settings_modal/tabs/security_tab/mfa_backup_codes.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/security_tab/mfa_backup_codes.vue","../../../src/components/settings_modal/tabs/security_tab/confirm.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/security_tab/confirm.vue","../../../src/components/settings_modal/tabs/security_tab/mfa_totp.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/security_tab/mfa_totp.vue","../../../node_modules/qrcode/lib/can-promise.js","../../../node_modules/qrcode/lib/core/utils.js","../../../node_modules/qrcode/lib/core/error-correction-level.js","../../../node_modules/qrcode/lib/core/bit-buffer.js","../../../node_modules/qrcode/lib/core/bit-matrix.js","../../../node_modules/qrcode/lib/core/alignment-pattern.js","../../../node_modules/qrcode/lib/core/finder-pattern.js","../../../node_modules/qrcode/lib/core/mask-pattern.js","../../../node_modules/qrcode/lib/core/error-correction-code.js","../../../node_modules/qrcode/lib/core/galois-field.js","../../../node_modules/qrcode/lib/core/polynomial.js","../../../node_modules/qrcode/lib/core/reed-solomon-encoder.js","../../../node_modules/qrcode/lib/core/version-check.js","../../../node_modules/qrcode/lib/core/regex.js","../../../node_modules/qrcode/lib/core/mode.js","../../../node_modules/qrcode/lib/core/version.js","../../../node_modules/qrcode/lib/core/format-info.js","../../../node_modules/qrcode/lib/core/numeric-data.js","../../../node_modules/qrcode/lib/core/alphanumeric-data.js","../../../node_modules/qrcode/lib/core/byte-data.js","../../../node_modules/qrcode/lib/core/kanji-data.js","../../../node_modules/dijkstrajs/dijkstra.js","../../../node_modules/qrcode/lib/core/segments.js","../../../node_modules/qrcode/lib/core/qrcode.js","../../../node_modules/qrcode/lib/renderer/utils.js","../../../node_modules/qrcode/lib/renderer/canvas.js","../../../node_modules/qrcode/lib/renderer/svg-tag.js","../../../node_modules/qrcode/lib/browser.js","../../../node_modules/@chenfengyuan/vue-qrcode/dist/vue-qrcode.esm.js","../../../src/components/settings_modal/tabs/security_tab/mfa.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/security_tab/mfa.vue","../../../src/components/settings_modal/tabs/security_tab/security_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/security_tab/security_tab.vue","../../../node_modules/lodash/_basePropertyOf.js","../../../node_modules/lodash/_unescapeHtmlChar.js","../../../node_modules/lodash/unescape.js","../../../node_modules/lodash/_assignMergeValue.js","../../../node_modules/lodash/_cloneBuffer.js","../../../node_modules/lodash/_cloneArrayBuffer.js","../../../node_modules/lodash/_cloneTypedArray.js","../../../node_modules/lodash/_copyArray.js","../../../node_modules/lodash/_baseCreate.js","../../../node_modules/lodash/_getPrototype.js","../../../node_modules/lodash/_initCloneObject.js","../../../node_modules/lodash/isArrayLikeObject.js","../../../node_modules/lodash/isPlainObject.js","../../../node_modules/lodash/_safeGet.js","../../../node_modules/lodash/_assignValue.js","../../../node_modules/lodash/_copyObject.js","../../../node_modules/lodash/_nativeKeysIn.js","../../../node_modules/lodash/_baseKeysIn.js","../../../node_modules/lodash/keysIn.js","../../../node_modules/lodash/toPlainObject.js","../../../node_modules/lodash/_baseMergeDeep.js","../../../node_modules/lodash/_baseMerge.js","../../../node_modules/lodash/_apply.js","../../../node_modules/lodash/_overRest.js","../../../node_modules/lodash/constant.js","../../../node_modules/lodash/_baseSetToString.js","../../../node_modules/lodash/_shortOut.js","../../../node_modules/lodash/_setToString.js","../../../node_modules/lodash/_baseRest.js","../../../node_modules/lodash/_isIterateeCall.js","../../../node_modules/lodash/_createAssigner.js","../../../node_modules/lodash/merge.js","../../../node_modules/@cropper/utils/dist/utils.esm.raw.js","../../../node_modules/@cropper/element/dist/element.esm.raw.js","../../../node_modules/@cropper/element-canvas/dist/element-canvas.esm.raw.js","../../../node_modules/@cropper/element-image/dist/element-image.esm.raw.js","../../../node_modules/@cropper/element-shade/dist/element-shade.esm.raw.js","../../../node_modules/@cropper/element-handle/dist/element-handle.esm.raw.js","../../../node_modules/@cropper/element-selection/dist/element-selection.esm.raw.js","../../../node_modules/@cropper/element-grid/dist/element-grid.esm.raw.js","../../../node_modules/@cropper/element-crosshair/dist/element-crosshair.esm.raw.js","../../../node_modules/@cropper/element-viewer/dist/element-viewer.esm.raw.js","../../../node_modules/cropperjs/dist/cropper.esm.raw.js","../../../src/components/image_cropper/image_cropper.js?vue&type=script&src=true&lang.js","../../../src/components/image_cropper/image_cropper.vue","../../../src/components/settings_modal/tabs/profile_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/profile_tab.vue","../../../src/components/settings_modal/helpers/float_setting.vue","../../../src/components/settings_modal/tabs/general_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/general_tab.vue","../../../src/components/settings_modal/helpers/unit_setting.js","../../../src/components/color_input/color_input.vue","../../../src/components/palette_editor/palette_editor.vue","../../../src/components/settings_modal/tabs/theme_tab/theme_preview.vue","../../../src/components/font_control/font_control.js?vue&type=script&src=true&lang.js","../../../src/components/font_control/font_control.vue","../../../src/components/settings_modal/tabs/appearance_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/appearance_tab.vue","../../../src/components/settings_modal/tabs/version_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/version_tab.vue","../../../src/components/range_input/range_input.vue","../../../src/components/opacity_input/opacity_input.vue","../../../src/components/select/select_motion.vue","../../../src/components/component_preview/component_preview.vue","../../../src/services/theme_data/iss_serializer.js","../../../src/components/shadow_control/shadow_control.js?vue&type=script&src=true&lang.js","../../../src/components/shadow_control/shadow_control.vue","../../../src/components/tooltip/tooltip.vue","../../../src/components/contrast_ratio/contrast_ratio.vue","../../../src/components/settings_modal/tabs/theme_tab/theme_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/theme_tab/theme_tab.vue","../../../src/components/roundness_input/roundness_input.vue","../../../src/components/settings_modal/tabs/style_tab/virtual_directives_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/style_tab/virtual_directives_tab.vue","../../../src/components/settings_modal/tabs/style_tab/style_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/style_tab/style_tab.vue","../../../src/components/settings_modal/settings_modal_user_content.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/settings_modal_user_content.vue"],"sourcesContent":["import { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faCircleNotch,\n  faTimes\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faCircleNotch,\n  faTimes\n)\n\nconst Importer = {\n  props: {\n    submitHandler: {\n      type: Function,\n      required: true\n    },\n    submitButtonLabel: { type: String },\n    successMessage: { type: String },\n    errorMessage: { type: String }\n  },\n  data () {\n    return {\n      file: null,\n      error: false,\n      success: false,\n      submitting: false\n    }\n  },\n  methods: {\n    change () {\n      this.file = this.$refs.input.files[0]\n    },\n    submit () {\n      this.dismiss()\n      this.submitting = true\n      this.submitHandler(this.file)\n        .then(() => { this.success = true })\n        .catch(() => { this.error = true })\n        .finally(() => { this.submitting = false })\n    },\n    dismiss () {\n      this.success = false\n      this.error = false\n    }\n  }\n}\n\nexport default Importer\n","<template>\n  <div class=\"importer\">\n    <form>\n      <input\n        ref=\"input\"\n        class=\"input\"\n        type=\"file\"\n        @change=\"change\"\n      >\n    </form>\n    <FAIcon\n      v-if=\"submitting\"\n      class=\"importer-uploading\"\n      spin\n      icon=\"circle-notch\"\n    />\n    <button\n      v-else\n      class=\"btn button-default\"\n      @click=\"submit\"\n    >\n      {{ submitButtonLabel || $t('importer.submit') }}\n    </button>\n    <div v-if=\"success\">\n      <button\n        class=\"button-unstyled\"\n        @click=\"dismiss\"\n      >\n        <FAIcon\n          icon=\"times\"\n        />\n      </button>\n      {{ ' ' }}\n      <span>{{ successMessage || $t('importer.success') }}</span>\n    </div>\n    <div v-else-if=\"error\">\n      <button\n        class=\"button-unstyled\"\n        @click=\"dismiss\"\n      >\n        <FAIcon\n          icon=\"times\"\n        />\n      </button>\n      {{ ' ' }}\n      <span>{{ errorMessage || $t('importer.error') }}</span>\n    </div>\n  </div>\n</template>\n\n<script src=\"./importer.js\"></script>\n\n<style lang=\"scss\">\n.importer {\n  &-uploading {\n    font-size: 1.5em;\n    margin: 0.25em;\n  }\n}\n</style>\n","import { library } from '@fortawesome/fontawesome-svg-core'\nimport { faCircleNotch } from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faCircleNotch\n)\n\nconst Exporter = {\n  props: {\n    getContent: {\n      type: Function,\n      required: true\n    },\n    filename: {\n      type: String,\n      default: 'export.csv'\n    },\n    exportButtonLabel: { type: String },\n    processingMessage: { type: String }\n  },\n  data () {\n    return {\n      processing: false\n    }\n  },\n  methods: {\n    process () {\n      this.processing = true\n      this.getContent()\n        .then((content) => {\n          const fileToDownload = document.createElement('a')\n          fileToDownload.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(content))\n          fileToDownload.setAttribute('download', this.filename)\n          fileToDownload.style.display = 'none'\n          document.body.appendChild(fileToDownload)\n          fileToDownload.click()\n          document.body.removeChild(fileToDownload)\n          // Add delay before hiding processing state since browser takes some time to handle file download\n          setTimeout(() => { this.processing = false }, 2000)\n        })\n    }\n  }\n}\n\nexport default Exporter\n","<template>\n  <div class=\"exporter\">\n    <div v-if=\"processing\">\n      <FAIcon\n        icon=\"circle-notch\"\n        size=\"lg\"\n        spin\n      />\n\n      <span>{{ processingMessage || $t('exporter.processing') }}</span>\n    </div>\n    <button\n      v-else\n      class=\"btn button-default\"\n      @click=\"process\"\n    >\n      {{ exportButtonLabel || $t('exporter.export') }}\n    </button>\n  </div>\n</template>\n\n<script src=\"./exporter.js\"></script>\n\n<style lang=\"scss\">\n.exporter {\n  &-processing {\n    margin: 0.25em;\n  }\n}\n</style>\n","import Importer from 'src/components/importer/importer.vue'\nimport Exporter from 'src/components/exporter/exporter.vue'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport { mapState } from 'vuex'\nimport { useOAuthTokensStore } from 'src/stores/oauth_tokens'\n\nconst DataImportExportTab = {\n  data () {\n    return {\n      activeTab: 'profile',\n      newDomainToMute: '',\n      listBackupsError: false,\n      addBackupError: false,\n      addedBackup: false,\n      backups: []\n    }\n  },\n  created () {\n    useOAuthTokensStore().fetchTokens()\n    this.fetchBackups()\n  },\n  components: {\n    Importer,\n    Exporter,\n    Checkbox\n  },\n  computed: {\n    ...mapState({\n      backendInteractor: (state) => state.api.backendInteractor,\n      user: (state) => state.users.currentUser\n    })\n  },\n  methods: {\n    getFollowsContent () {\n      return this.backendInteractor.exportFriends({ id: this.user.id })\n        .then(this.generateExportableUsersContent)\n    },\n    getBlocksContent () {\n      return this.backendInteractor.fetchBlocks()\n        .then(this.generateExportableUsersContent)\n    },\n    getMutesContent () {\n      return this.backendInteractor.fetchMutes()\n        .then(this.generateExportableUsersContent)\n    },\n    importFollows (file) {\n      return this.backendInteractor.importFollows({ file })\n        .then((status) => {\n          if (!status) {\n            throw new Error('failed')\n          }\n        })\n    },\n    importBlocks (file) {\n      return this.backendInteractor.importBlocks({ file })\n        .then((status) => {\n          if (!status) {\n            throw new Error('failed')\n          }\n        })\n    },\n    importMutes (file) {\n      return this.backendInteractor.importMutes({ file })\n        .then((status) => {\n          if (!status) {\n            throw new Error('failed')\n          }\n        })\n    },\n    generateExportableUsersContent (users) {\n      // Get addresses\n      return users.map((user) => {\n        // check is it's a local user\n        if (user && user.is_local) {\n          // append the instance address\n          return user.screen_name + '@' + location.hostname\n        }\n        return user.screen_name\n      }).join('\\n')\n    },\n    addBackup () {\n      this.$store.state.api.backendInteractor.addBackup()\n        .then(() => {\n          this.addedBackup = true\n          this.addBackupError = false\n        })\n        .catch((error) => {\n          this.addedBackup = false\n          this.addBackupError = error\n        })\n        .then(() => this.fetchBackups())\n    },\n    fetchBackups () {\n      this.$store.state.api.backendInteractor.listBackups()\n        .then((res) => {\n          this.backups = res\n          this.listBackupsError = false\n        })\n        .catch((error) => {\n          this.listBackupsError = error.error\n        })\n    }\n  }\n}\n\nexport default DataImportExportTab\n","<template>\n  <div\n    :label=\"$t('settings.data_import_export_tab')\"\n  >\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.follow_import') }}</h2>\n      <p>{{ $t('settings.import_followers_from_a_csv_file') }}</p>\n      <Importer\n        :submit-handler=\"importFollows\"\n        :success-message=\"$t('settings.follows_imported')\"\n        :error-message=\"$t('settings.follow_import_error')\"\n      />\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.follow_export') }}</h2>\n      <Exporter\n        :get-content=\"getFollowsContent\"\n        filename=\"friends.csv\"\n        :export-button-label=\"$t('settings.follow_export_button')\"\n      />\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.block_import') }}</h2>\n      <p>{{ $t('settings.import_blocks_from_a_csv_file') }}</p>\n      <Importer\n        :submit-handler=\"importBlocks\"\n        :success-message=\"$t('settings.blocks_imported')\"\n        :error-message=\"$t('settings.block_import_error')\"\n      />\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.block_export') }}</h2>\n      <Exporter\n        :get-content=\"getBlocksContent\"\n        filename=\"blocks.csv\"\n        :export-button-label=\"$t('settings.block_export_button')\"\n      />\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.mute_import') }}</h2>\n      <p>{{ $t('settings.import_mutes_from_a_csv_file') }}</p>\n      <Importer\n        :submit-handler=\"importMutes\"\n        :success-message=\"$t('settings.mutes_imported')\"\n        :error-message=\"$t('settings.mute_import_error')\"\n      />\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.mute_export') }}</h2>\n      <Exporter\n        :get-content=\"getMutesContent\"\n        filename=\"mutes.csv\"\n        :export-button-label=\"$t('settings.mute_export_button')\"\n      />\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.account_backup') }}</h2>\n      <p>{{ $t('settings.account_backup_description') }}</p>\n      <table>\n        <thead>\n          <tr>\n            <th>{{ $t('settings.account_backup_table_head') }}</th>\n            <th />\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"backup in backups\"\n            :key=\"backup.id\"\n          >\n            <td>{{ backup.inserted_at }}</td>\n            <td class=\"actions\">\n              <a\n                v-if=\"backup.processed\"\n                target=\"_blank\"\n                :href=\"backup.url\"\n              >\n                {{ $t('settings.download_backup') }}\n              </a>\n              <span\n                v-else-if=\"backup.state === 'running'\"\n              >\n                {{ $t('settings.backup_running', { number: backup.processed_number }, backup.processed_number) }}\n              </span>\n              <span\n                v-else-if=\"backup.state === 'failed'\"\n              >\n                {{ $t('settings.backup_failed') }}\n              </span>\n              <span\n                v-else\n              >\n                {{ $t('settings.backup_not_ready') }}\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div\n        v-if=\"listBackupsError\"\n        class=\"alert error\"\n      >\n        {{ $t('settings.list_backups_error', { error }) }}\n        <button\n          :title=\"$t('settings.hide_list_backups_error_action')\"\n          @click=\"listBackupsError = false\"\n        >\n          <FAIcon\n            class=\"fa-scale-110 fa-old-padding\"\n            icon=\"times\"\n          />\n        </button>\n      </div>\n      <button\n        class=\"btn button-default\"\n        @click=\"addBackup\"\n      >\n        {{ $t('settings.add_backup') }}\n      </button>\n      <p v-if=\"addedBackup\">\n        {{ $t('settings.added_backup') }}\n      </p>\n      <template v-if=\"addBackupError !== false\">\n        <p>{{ $t('settings.add_backup_error', { error: addBackupError }) }}</p>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script src=\"./data_import_export_tab.js\"></script>\n<!-- <style lang=\"scss\" src=\"./profile.scss\"></style> -->\n","/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that negates the result of the predicate `func`. The\n * `func` predicate is invoked with the `this` binding and arguments of the\n * created function.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} predicate The predicate to negate.\n * @returns {Function} Returns the new negated function.\n * @example\n *\n * function isEven(n) {\n *   return n % 2 == 0;\n * }\n *\n * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n * // => [1, 3, 5]\n */\nfunction negate(predicate) {\n  if (typeof predicate != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  return function() {\n    var args = arguments;\n    switch (args.length) {\n      case 0: return !predicate.call(this);\n      case 1: return !predicate.call(this, args[0]);\n      case 2: return !predicate.call(this, args[0], args[1]);\n      case 3: return !predicate.call(this, args[0], args[1], args[2]);\n    }\n    return !predicate.apply(this, args);\n  };\n}\n\nmodule.exports = negate;\n","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray'),\n    negate = require('./negate');\n\n/**\n * The opposite of `_.filter`; this method returns the elements of `collection`\n * that `predicate` does **not** return truthy for.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.filter\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': false },\n *   { 'user': 'fred',   'age': 40, 'active': true }\n * ];\n *\n * _.reject(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.reject(users, { 'age': 40, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.reject(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.reject(users, 'active');\n * // => objects for ['barney']\n */\nfunction reject(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, negate(baseIteratee(predicate, 3)));\n}\n\nmodule.exports = reject;\n","const debounceMilliseconds = 500\n\nexport default {\n  props: {\n    query: { // function to query results and return a promise\n      type: Function,\n      required: true\n    },\n    filter: { // function to filter results in real time\n      type: Function\n    },\n    placeholder: {\n      type: String,\n      default: 'Search...'\n    }\n  },\n  data () {\n    return {\n      term: '',\n      timeout: null,\n      results: [],\n      resultsVisible: false\n    }\n  },\n  computed: {\n    filtered () {\n      return this.filter ? this.filter(this.results) : this.results\n    }\n  },\n  watch: {\n    term (val) {\n      this.fetchResults(val)\n    }\n  },\n  methods: {\n    fetchResults (term) {\n      clearTimeout(this.timeout)\n      this.timeout = setTimeout(() => {\n        this.results = []\n        if (term) {\n          this.query(term).then((results) => { this.results = results })\n        }\n      }, debounceMilliseconds)\n    },\n    onInputClick () {\n      this.resultsVisible = true\n    },\n    onClickOutside () {\n      this.resultsVisible = false\n    }\n  }\n}\n","<!-- FIXME THIS NEEDS TO BE REFACTORED TO USE POPOVER -->\n<template>\n  <div\n    v-click-outside=\"onClickOutside\"\n    class=\"autosuggest\"\n  >\n    <input\n      v-model=\"term\"\n      :placeholder=\"placeholder\"\n      class=\"input autosuggest-input\"\n      @click=\"onInputClick\"\n    >\n    <div\n      v-if=\"resultsVisible && filtered.length > 0\"\n      class=\"panel autosuggest-results\"\n    >\n      <slot\n        v-for=\"item in filtered\"\n        :item=\"item\"\n      />\n    </div>\n  </div>\n</template>\n\n<script src=\"./autosuggest.js\"></script>\n\n<style lang=\"scss\">\n.autosuggest {\n  position: relative;\n\n  &-input {\n    display: block;\n    width: 100%;\n  }\n\n  &-results {\n    position: absolute;\n    left: 0;\n    top: 100%;\n    right: 0;\n    max-height: 400px;\n    background-color: var(--bg);\n    border-style: solid;\n    border-width: 1px;\n    border-color: var(--border);\n    border-radius: var(--roundness);\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n    box-shadow: 1px 1px 4px rgb(0 0 0 / 60%);\n    box-shadow: var(--shadow);\n    overflow-y: auto;\n    z-index: 1;\n  }\n}\n</style>\n","import BasicUserCard from '../basic_user_card/basic_user_card.vue'\n\nconst BlockCard = {\n  props: ['userId'],\n  data () {\n    return {\n      progress: false\n    }\n  },\n  computed: {\n    user () {\n      return this.$store.getters.findUser(this.userId)\n    },\n    relationship () {\n      return this.$store.getters.relationship(this.userId)\n    },\n    blocked () {\n      return this.relationship.blocking\n    }\n  },\n  components: {\n    BasicUserCard\n  },\n  methods: {\n    unblockUser () {\n      this.progress = true\n      this.$store.dispatch('unblockUser', this.user.id).then(() => {\n        this.progress = false\n      })\n    },\n    blockUser () {\n      this.progress = true\n      this.$store.dispatch('blockUser', this.user.id).then(() => {\n        this.progress = false\n      })\n    }\n  }\n}\n\nexport default BlockCard\n","<template>\n  <basic-user-card :user=\"user\">\n    <div class=\"block-card-content-container\">\n      <button\n        v-if=\"blocked\"\n        class=\"btn button-default\"\n        :disabled=\"progress\"\n        @click=\"unblockUser\"\n      >\n        <template v-if=\"progress\">\n          {{ $t('user_card.unblock_progress') }}\n        </template>\n        <template v-else>\n          {{ $t('user_card.unblock') }}\n        </template>\n      </button>\n      <button\n        v-else\n        class=\"btn button-default\"\n        :disabled=\"progress\"\n        @click=\"blockUser\"\n      >\n        <template v-if=\"progress\">\n          {{ $t('user_card.block_progress') }}\n        </template>\n        <template v-else>\n          {{ $t('user_card.block') }}\n        </template>\n      </button>\n    </div>\n  </basic-user-card>\n</template>\n\n<script src=\"./block_card.js\"></script>\n\n<style lang=\"scss\">\n.block-card-content-container {\n  margin-top: 0.5em;\n  text-align: right;\n\n  button {\n    width: 10em;\n  }\n}\n</style>\n","import BasicUserCard from '../basic_user_card/basic_user_card.vue'\n\nconst MuteCard = {\n  props: ['userId'],\n  data () {\n    return {\n      progress: false\n    }\n  },\n  computed: {\n    user () {\n      return this.$store.getters.findUser(this.userId)\n    },\n    relationship () {\n      return this.$store.getters.relationship(this.userId)\n    },\n    muted () {\n      return this.relationship.muting\n    }\n  },\n  components: {\n    BasicUserCard\n  },\n  methods: {\n    unmuteUser () {\n      this.progress = true\n      this.$store.dispatch('unmuteUser', this.userId).then(() => {\n        this.progress = false\n      })\n    },\n    muteUser () {\n      this.progress = true\n      this.$store.dispatch('muteUser', this.userId).then(() => {\n        this.progress = false\n      })\n    }\n  }\n}\n\nexport default MuteCard\n","<template>\n  <basic-user-card :user=\"user\">\n    <div class=\"mute-card-content-container\">\n      <button\n        v-if=\"muted\"\n        class=\"btn button-default\"\n        :disabled=\"progress\"\n        @click=\"unmuteUser\"\n      >\n        <template v-if=\"progress\">\n          {{ $t('user_card.unmute_progress') }}\n        </template>\n        <template v-else>\n          {{ $t('user_card.unmute') }}\n        </template>\n      </button>\n      <button\n        v-else\n        class=\"btn button-default\"\n        :disabled=\"progress\"\n        @click=\"muteUser\"\n      >\n        <template v-if=\"progress\">\n          {{ $t('user_card.mute_progress') }}\n        </template>\n        <template v-else>\n          {{ $t('user_card.mute') }}\n        </template>\n      </button>\n    </div>\n  </basic-user-card>\n</template>\n\n<script src=\"./mute_card.js\"></script>\n\n<style lang=\"scss\">\n.mute-card-content-container {\n  margin-top: 0.5em;\n  text-align: right;\n\n  button {\n    width: 10em;\n  }\n}\n</style>\n","import ProgressButton from '../progress_button/progress_button.vue'\n\nconst DomainMuteCard = {\n  props: ['domain'],\n  components: {\n    ProgressButton\n  },\n  computed: {\n    user () {\n      return this.$store.state.users.currentUser\n    },\n    muted () {\n      return this.user.domainMutes.includes(this.domain)\n    }\n  },\n  methods: {\n    unmuteDomain () {\n      return this.$store.dispatch('unmuteDomain', this.domain)\n    },\n    muteDomain () {\n      return this.$store.dispatch('muteDomain', this.domain)\n    }\n  }\n}\n\nexport default DomainMuteCard\n","<template>\n  <div class=\"domain-mute-card\">\n    <div class=\"domain-mute-card-domain\">\n      {{ domain }}\n    </div>\n    <ProgressButton\n      v-if=\"muted\"\n      :click=\"unmuteDomain\"\n      class=\"btn button-default\"\n    >\n      {{ $t('domain_mute_card.unmute') }}\n      <template #progress>\n        {{ $t('domain_mute_card.unmute_progress') }}\n      </template>\n    </ProgressButton>\n    <ProgressButton\n      v-else\n      :click=\"muteDomain\"\n      class=\"btn button-default\"\n    >\n      {{ $t('domain_mute_card.mute') }}\n      <template #progress>\n        {{ $t('domain_mute_card.mute_progress') }}\n      </template>\n    </ProgressButton>\n  </div>\n</template>\n\n<script src=\"./domain_mute_card.js\"></script>\n\n<style lang=\"scss\">\n.domain-mute-card {\n  flex: 1 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.6em 1em 0.6em 0;\n\n  &-domain {\n    margin-right: 1em;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  button {\n    width: 10em;\n  }\n\n  .autosuggest-results & {\n    padding-left: 1em;\n  }\n}\n</style>\n","import List from '../list/list.vue'\nimport Checkbox from '../checkbox/checkbox.vue'\n\nconst SelectableList = {\n  components: {\n    List,\n    Checkbox\n  },\n  props: {\n    items: {\n      type: Array,\n      default: () => []\n    },\n    getKey: {\n      type: Function,\n      default: item => item.id\n    }\n  },\n  data () {\n    return {\n      selected: []\n    }\n  },\n  computed: {\n    allKeys () {\n      return this.items.map(this.getKey)\n    },\n    filteredSelected () {\n      return this.allKeys.filter(key => this.selected.indexOf(key) !== -1)\n    },\n    allSelected () {\n      return this.filteredSelected.length === this.items.length\n    },\n    noneSelected () {\n      return this.filteredSelected.length === 0\n    },\n    someSelected () {\n      return !this.allSelected && !this.noneSelected\n    }\n  },\n  methods: {\n    isSelected (item) {\n      return this.filteredSelected.indexOf(this.getKey(item)) !== -1\n    },\n    toggle (checked, item) {\n      const key = this.getKey(item)\n      const oldChecked = this.isSelected(key)\n      if (checked !== oldChecked) {\n        if (checked) {\n          this.selected.push(key)\n        } else {\n          this.selected.splice(this.selected.indexOf(key), 1)\n        }\n      }\n    },\n    toggleAll (value) {\n      if (value) {\n        this.selected = this.allKeys.slice(0)\n      } else {\n        this.selected = []\n      }\n    }\n  }\n}\n\nexport default SelectableList\n","<template>\n  <div class=\"selectable-list\">\n    <div\n      v-if=\"items.length > 0\"\n      class=\"selectable-list-header\"\n    >\n      <div class=\"selectable-list-checkbox-wrapper\">\n        <Checkbox\n          :model-value=\"allSelected\"\n          :indeterminate=\"someSelected\"\n          @update:model-value=\"toggleAll\"\n        >\n          {{ $t('selectable_list.select_all') }}\n        </Checkbox>\n      </div>\n      <div class=\"selectable-list-header-actions\">\n        <slot\n          name=\"header\"\n          :selected=\"filteredSelected\"\n        />\n      </div>\n    </div>\n    <List\n      :items=\"items\"\n      :get-key=\"getKey\"\n      :get-class=\"item => isSelected(item) ? '-active' : ''\"\n    >\n      <template #item=\"{item}\">\n        <div\n          class=\"selectable-list-item-inner\"\n          :class=\"{ 'selectable-list-item-selected-inner': isSelected(item) }\"\n          @click.stop=\"toggle(!isSelected(item), item)\"\n        >\n          <div class=\"selectable-list-checkbox-wrapper\">\n            <Checkbox\n              :model-value=\"isSelected(item)\"\n              @update:model-value=\"checked => toggle(checked, item)\"\n              @click.stop\n            />\n          </div>\n          <slot\n            name=\"item\"\n            :item=\"item\"\n          />\n        </div>\n      </template>\n      <template #empty>\n        <slot name=\"empty\" />\n      </template>\n    </List>\n  </div>\n</template>\n\n<script src=\"./selectable_list.js\"></script>\n\n<style lang=\"scss\">\n.selectable-list {\n  --__line-height: 1.5em;\n  --__horizontal-gap: 0.75em;\n  --__vertical-gap: 0.5em;\n\n  &-item-inner {\n    display: flex;\n    align-items: center;\n\n    > * {\n      min-width: 0;\n    }\n  }\n\n  &-header {\n    display: flex;\n    align-items: center;\n    padding: var(--__vertical-gap) var(--__horizontal-gap);\n    border-bottom: 1px solid;\n    border-bottom-color: var(--border);\n\n    &-actions {\n      flex: 1;\n    }\n  }\n\n  &-checkbox-wrapper {\n    padding-right: var(--__horizontal-gap);\n    flex: none;\n  }\n}\n</style>\n","// eslint-disable-next-line no-unused\nimport { h } from 'vue'\nimport isEmpty from 'lodash/isEmpty'\nimport { getComponentProps } from '../../services/component_utils/component_utils'\nimport './with_subscription.scss'\n\nimport { FontAwesomeIcon as FAIcon } from '@fortawesome/vue-fontawesome'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faCircleNotch\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faCircleNotch\n)\n\nconst withSubscription = ({\n  fetch, // function to fetch entries and return a promise\n  select, // function to select data from store\n  childPropName = 'content', // name of the prop to be passed into the wrapped component\n  additionalPropNames = [] // additional prop name list of the wrapper component\n}) => (WrappedComponent) => {\n  const originalProps = Object.keys(getComponentProps(WrappedComponent))\n  const props = originalProps.filter(v => v !== childPropName).concat(additionalPropNames)\n\n  return {\n    props: [\n      ...props,\n      'refresh' // boolean saying to force-fetch data whenever created\n    ],\n    data () {\n      return {\n        loading: false,\n        error: false\n      }\n    },\n    computed: {\n      fetchedData () {\n        return select(this.$props, this.$store)\n      }\n    },\n    created () {\n      if (this.refresh || isEmpty(this.fetchedData)) {\n        this.fetchData()\n      }\n    },\n    methods: {\n      fetchData () {\n        if (!this.loading) {\n          this.loading = true\n          this.error = false\n          fetch(this.$props, this.$store)\n            .then(() => {\n              this.loading = false\n            })\n            .catch(() => {\n              this.error = true\n              this.loading = false\n            })\n        }\n      }\n    },\n    render () {\n      if (!this.error && !this.loading) {\n        const props = {\n          ...this.$props,\n          [childPropName]: this.fetchedData\n        }\n        const children = this.$slots\n        return (\n          <div class=\"with-subscription\">\n            <WrappedComponent {...props}>\n              {children}\n            </WrappedComponent>\n          </div>\n        )\n      } else {\n        return (\n          <div class=\"with-subscription-loading\">\n            {this.error\n              ? <a onClick={this.fetchData} class=\"alert error\">{this.$t('general.generic_error')}</a>\n              : <FAIcon spin icon=\"circle-notch\"/>\n            }\n          </div>\n        )\n      }\n    }\n  }\n}\n\nexport default withSubscription\n","import get from 'lodash/get'\nimport map from 'lodash/map'\nimport reject from 'lodash/reject'\nimport Autosuggest from 'src/components/autosuggest/autosuggest.vue'\nimport TabSwitcher from 'src/components/tab_switcher/tab_switcher.jsx'\nimport BlockCard from 'src/components/block_card/block_card.vue'\nimport MuteCard from 'src/components/mute_card/mute_card.vue'\nimport DomainMuteCard from 'src/components/domain_mute_card/domain_mute_card.vue'\nimport SelectableList from 'src/components/selectable_list/selectable_list.vue'\nimport ProgressButton from 'src/components/progress_button/progress_button.vue'\nimport withSubscription from 'src/components/../hocs/with_subscription/with_subscription'\nimport withLoadMore from 'src/components/../hocs/with_load_more/with_load_more'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport { useOAuthTokensStore } from 'src/stores/oauth_tokens'\n\nconst BlockList = withLoadMore({\n  fetch: (props, $store) => $store.dispatch('fetchBlocks'),\n  select: (props, $store) => get($store.state.users.currentUser, 'blockIds', []),\n  destroy: () => {},\n  childPropName: 'items'\n})(SelectableList)\n\nconst MuteList = withLoadMore({\n  fetch: (props, $store) => $store.dispatch('fetchMutes'),\n  select: (props, $store) => get($store.state.users.currentUser, 'muteIds', []),\n  destroy: () => {},\n  childPropName: 'items'\n})(SelectableList)\n\nconst DomainMuteList = withSubscription({\n  fetch: (props, $store) => $store.dispatch('fetchDomainMutes'),\n  select: (props, $store) => get($store.state.users.currentUser, 'domainMutes', []),\n  childPropName: 'items'\n})(SelectableList)\n\nconst MutesAndBlocks = {\n  data () {\n    return {\n      activeTab: 'profile'\n    }\n  },\n  created () {\n    useOAuthTokensStore().fetchTokens()\n    this.$store.dispatch('getKnownDomains')\n  },\n  components: {\n    TabSwitcher,\n    BlockList,\n    MuteList,\n    DomainMuteList,\n    BlockCard,\n    MuteCard,\n    DomainMuteCard,\n    ProgressButton,\n    Autosuggest,\n    Checkbox\n  },\n  computed: {\n    knownDomains () {\n      return this.$store.state.instance.knownDomains\n    },\n    user () {\n      return this.$store.state.users.currentUser\n    }\n  },\n  methods: {\n    importFollows (file) {\n      return this.$store.state.api.backendInteractor.importFollows({ file })\n        .then((status) => {\n          if (!status) {\n            throw new Error('failed')\n          }\n        })\n    },\n    importBlocks (file) {\n      return this.$store.state.api.backendInteractor.importBlocks({ file })\n        .then((status) => {\n          if (!status) {\n            throw new Error('failed')\n          }\n        })\n    },\n    generateExportableUsersContent (users) {\n      // Get addresses\n      return users.map((user) => {\n        // check is it's a local user\n        if (user && user.is_local) {\n          // append the instance address\n          return user.screen_name + '@' + location.hostname\n        }\n        return user.screen_name\n      }).join('\\n')\n    },\n    activateTab (tabName) {\n      this.activeTab = tabName\n    },\n    filterUnblockedUsers (userIds) {\n      return reject(userIds, (userId) => {\n        const relationship = this.$store.getters.relationship(this.userId)\n        return relationship.blocking || userId === this.user.id\n      })\n    },\n    filterUnMutedUsers (userIds) {\n      return reject(userIds, (userId) => {\n        const relationship = this.$store.getters.relationship(this.userId)\n        return relationship.muting || userId === this.user.id\n      })\n    },\n    queryUserIds (query) {\n      return this.$store.dispatch('searchUsers', { query })\n        .then((users) => map(users, 'id'))\n    },\n    blockUsers (ids) {\n      return this.$store.dispatch('blockUsers', ids)\n    },\n    unblockUsers (ids) {\n      return this.$store.dispatch('unblockUsers', ids)\n    },\n    muteUsers (ids) {\n      return this.$store.dispatch('muteUsers', ids)\n    },\n    unmuteUsers (ids) {\n      return this.$store.dispatch('unmuteUsers', ids)\n    },\n    filterUnMutedDomains (urls) {\n      return urls.filter(url => !this.user.domainMutes.includes(url))\n    },\n    queryKnownDomains (query) {\n      return new Promise((resolve) => {\n        resolve(this.knownDomains.filter(url => url.toLowerCase().includes(query)))\n      })\n    },\n    unmuteDomains (domains) {\n      return this.$store.dispatch('unmuteDomains', domains)\n    }\n  }\n}\n\nexport default MutesAndBlocks\n","<template>\n  <tab-switcher\n    :scrollable-tabs=\"true\"\n    class=\"mutes-and-blocks-tab\"\n  >\n    <div :label=\"$t('settings.blocks_tab')\">\n      <div class=\"usersearch-wrapper\">\n        <Autosuggest\n          :filter=\"filterUnblockedUsers\"\n          :query=\"queryUserIds\"\n          :placeholder=\"$t('settings.search_user_to_block')\"\n        >\n          <template #default=\"row\">\n            <BlockCard\n              :user-id=\"row.item\"\n            />\n          </template>\n        </Autosuggest>\n      </div>\n      <BlockList\n        :refresh=\"true\"\n        :get-key=\"i => i\"\n      >\n        <template #header=\"{selected}\">\n          <div class=\"bulk-actions\">\n            <ProgressButton\n              v-if=\"selected.length > 0\"\n              class=\"btn button-default bulk-action-button\"\n              :click=\"() => blockUsers(selected)\"\n            >\n              {{ $t('user_card.block') }}\n              <template #progress>\n                {{ $t('user_card.block_progress') }}\n              </template>\n            </ProgressButton>\n            <ProgressButton\n              v-if=\"selected.length > 0\"\n              class=\"btn button-default\"\n              :click=\"() => unblockUsers(selected)\"\n            >\n              {{ $t('user_card.unblock') }}\n              <template #progress>\n                {{ $t('user_card.unblock_progress') }}\n              </template>\n            </ProgressButton>\n          </div>\n        </template>\n        <template #item=\"{item}\">\n          <BlockCard :user-id=\"item\" />\n        </template>\n        <template #empty>\n          {{ $t('settings.no_blocks') }}\n        </template>\n      </BlockList>\n    </div>\n\n    <div :label=\"$t('settings.mutes_tab')\">\n      <tab-switcher>\n        <div :label=\"$t('settings.user_mutes')\">\n          <div class=\"usersearch-wrapper\">\n            <Autosuggest\n              :filter=\"filterUnMutedUsers\"\n              :query=\"queryUserIds\"\n              :placeholder=\"$t('settings.search_user_to_mute')\"\n            >\n              <template #default=\"row\">\n                <MuteCard\n                  :user-id=\"row.item\"\n                />\n              </template>\n            </Autosuggest>\n          </div>\n          <MuteList\n            :refresh=\"true\"\n            :get-key=\"i => i\"\n          >\n            <template #header=\"{selected}\">\n              <div class=\"bulk-actions\">\n                <ProgressButton\n                  v-if=\"selected.length > 0\"\n                  class=\"btn button-default\"\n                  :click=\"() => muteUsers(selected)\"\n                >\n                  {{ $t('user_card.mute') }}\n                  <template #progress>\n                    {{ $t('user_card.mute_progress') }}\n                  </template>\n                </ProgressButton>\n                <ProgressButton\n                  v-if=\"selected.length > 0\"\n                  class=\"btn button-default\"\n                  :click=\"() => unmuteUsers(selected)\"\n                >\n                  {{ $t('user_card.unmute') }}\n                  <template #progress>\n                    {{ $t('user_card.unmute_progress') }}\n                  </template>\n                </ProgressButton>\n              </div>\n            </template>\n            <template #item=\"{item}\">\n              <MuteCard :user-id=\"item\" />\n            </template>\n            <template #empty>\n              {{ $t('settings.no_mutes') }}\n            </template>\n          </MuteList>\n        </div>\n\n        <div :label=\"$t('settings.domain_mutes')\">\n          <div class=\"domain-mute-form\">\n            <Autosuggest\n              :filter=\"filterUnMutedDomains\"\n              :query=\"queryKnownDomains\"\n              :placeholder=\"$t('settings.type_domains_to_mute')\"\n            >\n              <template #default=\"row\">\n                <DomainMuteCard\n                  :domain=\"row.item\"\n                />\n              </template>\n            </Autosuggest>\n          </div>\n          <DomainMuteList\n            :refresh=\"true\"\n            :get-key=\"i => i\"\n          >\n            <template #header=\"{selected}\">\n              <div class=\"bulk-actions\">\n                <ProgressButton\n                  v-if=\"selected.length > 0\"\n                  class=\"btn button-default\"\n                  :click=\"() => unmuteDomains(selected)\"\n                >\n                  {{ $t('domain_mute_card.unmute') }}\n                  <template #progress>\n                    {{ $t('domain_mute_card.unmute_progress') }}\n                  </template>\n                </ProgressButton>\n              </div>\n            </template>\n            <template #item=\"{item}\">\n              <DomainMuteCard :domain=\"item\" />\n            </template>\n            <template #empty>\n              {{ $t('settings.no_mutes') }}\n            </template>\n          </DomainMuteList>\n        </div>\n      </tab-switcher>\n    </div>\n  </tab-switcher>\n</template>\n\n<script src=\"./mutes_and_blocks_tab.js\"></script>\n<style lang=\"scss\" src=\"./mutes_and_blocks_tab.scss\"></style>\n","import BooleanSetting from '../helpers/boolean_setting.vue'\nimport SharedComputedObject from '../helpers/shared_computed_object.js'\n\nconst NotificationsTab = {\n  data () {\n    return {\n      activeTab: 'profile',\n      notificationSettings: this.$store.state.users.currentUser.notification_settings,\n      newDomainToMute: ''\n    }\n  },\n  components: {\n    BooleanSetting\n  },\n  computed: {\n    user () {\n      return this.$store.state.users.currentUser\n    },\n    canReceiveReports () {\n      if (!this.user) { return false }\n      return this.user.privileges.includes('reports_manage_reports')\n    },\n    ...SharedComputedObject()\n  },\n  methods: {\n    updateNotificationSettings () {\n      this.$store.state.api.backendInteractor\n        .updateNotificationSettings({ settings: this.notificationSettings })\n    }\n  }\n}\n\nexport default NotificationsTab\n","<template>\n  <div :label=\"$t('settings.notifications')\">\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.notification_setting_annoyance') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <BooleanSetting path=\"closingDrawerMarksAsSeen\">\n            {{ $t('settings.notification_setting_drawer_marks_as_seen') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"ignoreInactionableSeen\">\n            {{ $t('settings.notification_setting_ignore_inactionable_seen') }}\n          </BooleanSetting>\n          <div>\n            <small>\n              {{ $t('settings.notification_setting_ignore_inactionable_seen_tip') }}\n            </small>\n          </div>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"unseenAtTop\"\n            expert=\"1\"\n          >\n            {{ $t('settings.notification_setting_unseen_at_top') }}\n          </BooleanSetting>\n        </li>\n      </ul>\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.notification_setting_filters') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <BooleanSetting\n            source=\"profile\"\n            path=\"blockNotificationsFromStrangers\"\n          >\n            {{ $t('settings.notification_setting_block_from_strangers') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <h3> {{ $t('settings.notification_visibility') }}</h3>\n          <p v-if=\"expertLevel > 0\">\n            {{ $t('settings.notification_setting_filters_chrome_push') }}\n          </p>\n          <ul class=\"setting-list two-column\">\n            <li>\n              <h4> {{ $t('settings.notification_visibility_mentions') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.mentions\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.mentions\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <h4> {{ $t('settings.notification_visibility_statuses') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.statuses\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.statuses\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <h4> {{ $t('settings.notification_visibility_likes') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.likes\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.likes\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <h4> {{ $t('settings.notification_visibility_repeats') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.repeats\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.repeats\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <h4> {{ $t('settings.notification_visibility_emoji_reactions') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.emojiReactions\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.emojiReactions\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <h4> {{ $t('settings.notification_visibility_follows') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.follows\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.follows\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <h4> {{ $t('settings.notification_visibility_follow_requests') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.followRequest\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.followRequest\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <h4> {{ $t('settings.notification_visibility_moves') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.moves\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.moves\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <h4> {{ $t('settings.notification_visibility_polls') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.polls\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.polls\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li v-if=\"canReceiveReports\">\n              <h4> {{ $t('settings.notification_visibility_reports') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.reports\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.reports\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <BooleanSetting path=\"showExtraNotifications\">\n            {{ $t('settings.notification_show_extra') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <ul class=\"setting-list suboptions\">\n            <li>\n              <BooleanSetting\n                path=\"showChatsInExtraNotifications\"\n                :disabled=\"!mergedConfig.showExtraNotifications\"\n              >\n                {{ $t('settings.notification_extra_chats') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting\n                path=\"showAnnouncementsInExtraNotifications\"\n                :disabled=\"!mergedConfig.showExtraNotifications\"\n              >\n                {{ $t('settings.notification_extra_announcements') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting\n                path=\"showFollowRequestsInExtraNotifications\"\n                :disabled=\"!mergedConfig.showExtraNotifications\"\n              >\n                {{ $t('settings.notification_extra_follow_requests') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting\n                path=\"showExtraNotificationsTip\"\n                :disabled=\"!mergedConfig.showExtraNotifications\"\n              >\n                {{ $t('settings.notification_extra_tip') }}\n              </BooleanSetting>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n\n    <div\n      v-if=\"expertLevel > 0\"\n      class=\"setting-item\"\n    >\n      <h2>{{ $t('settings.notification_setting_privacy') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <BooleanSetting\n            path=\"webPushNotifications\"\n            expert=\"1\"\n          >\n            {{ $t('settings.enable_web_push_notifications') }}\n          </BooleanSetting>\n          <ul class=\"setting-list suboptions\">\n            <li>\n              <BooleanSetting\n                path=\"webPushAlwaysShowNotifications\"\n                :disabled=\"!mergedConfig.webPushNotifications\"\n              >\n                {{ $t('settings.enable_web_push_always_show') }}\n              </BooleanSetting>\n              <div :class=\"{ faint: !mergedConfig.webPushNotifications }\">\n                <small>\n                  {{ $t('settings.enable_web_push_always_show_tip') }}\n                </small>\n              </div>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <BooleanSetting\n            source=\"profile\"\n            path=\"webPushHideContents\"\n            expert=\"1\"\n          >\n            {{ $t('settings.notification_setting_hide_notification_contents') }}\n          </BooleanSetting>\n        </li>\n      </ul>\n    </div>\n    <div class=\"setting-item\">\n      <p>{{ $t('settings.notification_mutes') }}</p>\n      <p>{{ $t('settings.notification_blocks') }}</p>\n    </div>\n  </div>\n</template>\n\n<script src=\"./notifications_tab.js\"></script>\n<!-- <style lang=\"scss\" src=\"./profile.scss\"></style> -->\n","import Select from 'src/components/select/select.vue'\nimport Setting from './setting.js'\n\nexport const allCssUnits = ['cm', 'mm', 'in', 'px', 'pt', 'pc', 'em', 'ex', 'ch', 'rem', 'vw', 'vh', 'vmin', 'vmax', '%']\nexport const defaultHorizontalUnits = ['px', 'rem', 'vw']\nexport const defaultVerticalUnits = ['px', 'rem', 'vh']\n\nexport default {\n  ...Setting,\n  components: {\n    ...Setting.components,\n    Select\n  },\n  props: {\n    ...Setting.props,\n    min: Number,\n    units: {\n      type: Array,\n      default: () => allCssUnits\n    },\n    unitSet: {\n      type: String,\n      default: 'none'\n    },\n    step: {\n      type: Number,\n      default: 1\n    },\n    resetDefault: {\n      type: Object,\n      default: null\n    }\n  },\n  computed: {\n    ...Setting.computed,\n    stateUnit () {\n      return typeof this.state === 'string' ? this.state.replace(/[0-9,.]+/, '') : ''\n    },\n    stateValue () {\n      return typeof this.state === 'string' ? this.state.replace(/[^0-9,.]+/, '') : ''\n    }\n  },\n  methods: {\n    ...Setting.methods,\n    getUnitString (value) {\n      if (this.unitSet === 'none') return value\n      return this.$t(['settings', 'units', this.unitSet, value].join('.'))\n    },\n    updateValue (e) {\n      this.configSink(this.path, parseFloat(e.target.value) + this.stateUnit)\n    },\n    updateUnit (e) {\n      let value = this.stateValue\n      const newUnit = e.target.value\n      if (this.resetDefault) {\n        const replaceValue = this.resetDefault[newUnit]\n        if (replaceValue != null) {\n          value = replaceValue\n        }\n      }\n      this.configSink(this.path, value + newUnit)\n    }\n  }\n}\n","<template>\n  <span\n    v-if=\"matchesExpertLevel\"\n    class=\"UnitSetting\"\n  >\n    <label\n      :for=\"path\"\n      class=\"size-label\"\n    >\n      <slot />\n    </label>\n    {{ ' ' }}\n    <span class=\"no-break\">\n      <input\n        :id=\"path\"\n        class=\"input number-input\"\n        type=\"number\"\n        :step=\"step\"\n        :disabled=\"disabled\"\n        :min=\"min || 0\"\n        :value=\"stateValue\"\n        @change=\"updateValue\"\n      >\n      <Select\n        :id=\"path\"\n        :model-value=\"stateUnit\"\n        :disabled=\"disabled\"\n        class=\"unit-input unstyled\"\n        @change=\"updateUnit\"\n      >\n        <option\n          v-for=\"option in units\"\n          :key=\"option\"\n          :value=\"option\"\n        >\n          {{ getUnitString(option) }}\n        </option>\n      </Select>\n    </span>\n    {{ ' ' }}\n    <ModifiedIndicator\n      :changed=\"isChanged\"\n      :onclick=\"reset\"\n    />\n  </span>\n</template>\n\n<script src=\"./unit_setting.js\"></script>\n\n<style lang=\"scss\">\n.UnitSetting {\n  .no-break {\n    display: inline-block;\n  }\n\n  .number-input {\n    max-width: 6.5em;\n    text-align: right;\n  }\n\n  .unit-input,\n  .unit-input select {\n    min-width: 4em;\n    width: auto;\n  }\n}\n\n</style>\n","<template>\n  <span class=\"HelpIndicator\">\n    <Popover\n      trigger=\"click\"\n      :trigger-attrs=\"{ 'aria-label': $t('settings.setting_changed') }\"\n    >\n      <template #trigger>\n        &nbsp;\n        <FAIcon icon=\"circle-question\" />\n      </template>\n      <template #content>\n        <div class=\"help-tooltip\">\n          <slot />\n        </div>\n      </template>\n    </Popover>\n  </span>\n</template>\n\n<script>\nimport Popover from 'src/components/popover/popover.vue'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faCircleQuestion } from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faCircleQuestion\n)\n\nexport default {\n  components: { Popover }\n}\n</script>\n\n<style lang=\"scss\">\n.HelpIndicator {\n  display: inline-block;\n  position: relative;\n}\n\n.help-tooltip {\n  margin: 0.5em 1em;\n  min-width: 10em;\n  max-width: 30vw;\n  text-align: center;\n}\n</style>\n","import { cloneDeep } from 'lodash'\nimport { mapState, mapActions } from 'pinia'\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { useServerSideStorageStore } from 'src/stores/serverSideStorage'\nimport { useInterfaceStore } from 'src/stores/interface'\n\nimport {\n  newImporter,\n  newExporter\n} from 'src/services/export_import/export_import.js'\n\nimport BooleanSetting from '../helpers/boolean_setting.vue'\nimport ChoiceSetting from '../helpers/choice_setting.vue'\nimport UnitSetting from '../helpers/unit_setting.vue'\nimport IntegerSetting from '../helpers/integer_setting.vue'\nimport HelpIndicator from '../helpers/help_indicator.vue'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport Select from 'src/components/select/select.vue'\n\nimport SharedComputedObject from '../helpers/shared_computed_object.js'\n\nconst SUPPORTED_TYPES = new Set(['word', 'regexp', 'user', 'user_regexp'])\n\nconst FilteringTab = {\n  data () {\n    return {\n      replyVisibilityOptions: ['all', 'following', 'self'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.reply_visibility_${mode}`)\n      })),\n      muteFiltersDraftObject: cloneDeep(useServerSideStorageStore().prefsStorage.simple.muteFilters),\n      muteFiltersDraftDirty: Object.fromEntries(\n        Object.entries(\n          useServerSideStorageStore().prefsStorage.simple.muteFilters\n        ).map(([k]) => [k, false])\n      ),\n      exportedFilter: null,\n      filterImporter: newImporter({\n        validator (parsed) {\n          if (Array.isArray(parsed)) return false\n          if (!SUPPORTED_TYPES.has(parsed.type)) return false\n          return true\n        },\n        onImport: (data) => {\n          const {\n            enabled = true,\n            expires = null,\n            hide = false,\n            name = '',\n            value = ''\n          } = data\n\n          this.createFilter({\n            enabled,\n            expires,\n            hide,\n            name,\n            value\n          })\n        },\n        onImportFailure (result) {\n          console.error('Failure importing filter:', result)\n          useInterfaceStore()\n            .pushGlobalNotice({\n              messageKey: 'settings.filter.import_failure',\n              level: 'error'\n            })\n        }\n      }),\n      filterExporter: newExporter({\n        filename: 'pleromafe_mute-filter',\n        getExportedObject: () => this.exportedFilter\n      })\n    }\n  },\n  components: {\n    BooleanSetting,\n    ChoiceSetting,\n    UnitSetting,\n    IntegerSetting,\n    Checkbox,\n    Select,\n    HelpIndicator\n  },\n  computed: {\n    ...SharedComputedObject(),\n    ...mapState(\n      useServerSideStorageStore,\n      {\n        muteFilters: store => Object.entries(store.prefsStorage.simple.muteFilters),\n        muteFiltersObject: store => store.prefsStorage.simple.muteFilters\n      }\n    ),\n    muteFiltersDraft () {\n      return Object.entries(this.muteFiltersDraftObject)\n    },\n    muteFiltersExpired () {\n      const now = Date.now()\n      return Object\n        .entries(this.muteFiltersDraftObject)\n        .filter(([, { expires }]) => expires != null && expires <= now)\n    }\n  },\n  methods: {\n    ...mapActions(useServerSideStorageStore, ['setPreference', 'unsetPreference', 'pushServerSideStorage']),\n    getDatetimeLocal (timestamp) {\n      const date = new Date(timestamp)\n      let fmt = new Intl.NumberFormat(\"en-US\", {minimumIntegerDigits: 2})\n      const datetime = [\n        date.getFullYear(),\n        '-',\n        fmt.format(date.getMonth() + 1),\n        '-',\n        fmt.format(date.getDate()),\n        'T',\n        fmt.format(date.getHours()),\n        ':',\n        fmt.format(date.getMinutes())\n      ].join('')\n      return datetime\n    },\n    checkRegexValid (id) {\n      const filter = this.muteFiltersObject[id]\n      if (filter.type !== 'regexp') return true\n      if (filter.type !== 'user_regexp') return true\n      const { value } = filter\n      let valid = true\n      try {\n        new RegExp(value)\n      } catch {\n        valid = false\n        console.error('Invalid RegExp: ' + value)\n      }\n      return valid\n    },\n    createFilter (filter = {\n      type: 'word',\n      value: '',\n      name: 'New Filter',\n      enabled: true,\n      expires: null,\n      hide: false,\n    }) {\n      const newId = uuidv4()\n\n      filter.order = this.muteFilters.length + 2\n      this.muteFiltersDraftObject[newId] = filter\n      this.setPreference({ path: 'simple.muteFilters.' + newId , value: filter })\n      this.pushServerSideStorage()\n    },\n    exportFilter(id) {\n      this.exportedFilter = { ...this.muteFiltersDraftObject[id] }\n      delete this.exportedFilter.order\n      this.filterExporter.exportData()\n    },\n    importFilter() {\n      this.filterImporter.importData()\n    },\n    copyFilter (id) {\n      const filter = { ...this.muteFiltersDraftObject[id] }\n      const newId = uuidv4()\n\n      this.muteFiltersDraftObject[newId] = filter\n      this.setPreference({ path: 'simple.muteFilters.' + newId , value: filter })\n      this.pushServerSideStorage()\n    },\n    deleteFilter (id) {\n      delete this.muteFiltersDraftObject[id]\n      this.unsetPreference({ path: 'simple.muteFilters.' + id , value: null })\n      this.pushServerSideStorage()\n    },\n    purgeExpiredFilters () {\n      this.muteFiltersExpired.forEach(([id]) => {\n        console.log(id)\n        delete this.muteFiltersDraftObject[id]\n        this.unsetPreference({ path: 'simple.muteFilters.' + id , value: null })\n      })\n      this.pushServerSideStorage()\n    },\n    updateFilter(id, field, value) {\n      const filter = { ...this.muteFiltersDraftObject[id] }\n      if (field === 'expires-never') {\n        if (!value) {\n          const offset = 1000 * 60 * 60 * 24 * 14 // 2 weeks\n          const date = Date.now() + offset\n          filter.expires = date\n        } else {\n          filter.expires = null\n        }\n      } else if (field === 'expires') {\n        const parsed = Date.parse(value)\n        filter.expires = parsed.valueOf()\n      } else {\n        filter[field] = value\n      }\n      this.muteFiltersDraftObject[id] = filter\n      this.muteFiltersDraftDirty[id] = true\n    },\n    saveFilter(id) {\n      this.setPreference({ path: 'simple.muteFilters.' + id , value: this.muteFiltersDraftObject[id] })\n      this.pushServerSideStorage()\n      this.muteFiltersDraftDirty[id] = false\n    },\n  },\n  // Updating nested properties\n  watch: {\n    replyVisibility () {\n      this.$store.dispatch('queueFlushAll')\n    }\n  }\n}\n\nexport default FilteringTab\n","<template>\n  <div\n    :label=\"$t('settings.filtering')\"\n    class=\"filtering-tab\"\n  >\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.filter.clutter') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <ChoiceSetting\n            v-if=\"user\"\n            id=\"replyVisibility\"\n            path=\"replyVisibility\"\n            :options=\"replyVisibilityOptions\"\n          >\n            {{ $t('settings.replies_in_timeline') }}\n          </ChoiceSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            expert=\"1\"\n            path=\"hidePostStats\"\n          >\n            {{ $t('settings.hide_post_stats') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            expert=\"1\"\n            path=\"hideUserStats\"\n          >\n            {{ $t('settings.hide_user_stats') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"hideBotIndication\">\n            {{ $t('settings.hide_actor_type_indication') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"hideScrobbles\">\n            {{ $t('settings.hide_scrobbles') }}\n          </BooleanSetting>\n          <ul class=\"setting-list suboptions\">\n            <li>\n              <UnitSetting\n                key=\"hideScrobblesAfter\"\n                path=\"hideScrobblesAfter\"\n                :units=\"['m', 'h', 'd']\"\n                unit-set=\"time\"\n                expert=\"1\"\n              >\n                {{ $t('settings.hide_scrobbles_after') }}\n              </UnitSetting>\n            </li>\n          </ul>\n        </li>\n        <h3>{{ $t('settings.attachments') }}</h3>\n        <li>\n          <IntegerSetting\n            path=\"maxThumbnails\"\n            expert=\"1\"\n            :min=\"0\"\n          >\n            {{ $t('settings.max_thumbnails') }}\n          </IntegerSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"hideAttachments\">\n            {{ $t('settings.hide_attachments_in_tl') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"hideAttachmentsInConv\">\n            {{ $t('settings.hide_attachments_in_convo') }}\n          </BooleanSetting>\n        </li>\n      </ul>\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.filter.mute_filter') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <BooleanSetting path=\"hideFilteredStatuses\">\n            {{ $t('settings.hide_muted_statuses') }}\n          </BooleanSetting>\n          <ul class=\"setting-list suboptions\">\n            <li>\n              <BooleanSetting\n                parent-path=\"hideFilteredStatuses\"\n                :parent-invert=\"true\"\n                path=\"hideWordFilteredPosts\"\n                expert=\"1\"\n              >\n                {{ $t('settings.hide_filtered_statuses') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting\n                v-if=\"user\"\n                parent-path=\"hideFilteredStatuses\"\n                :parent-invert=\"true\"\n                path=\"hideMutedThreads\"\n              >\n                {{ $t('settings.hide_muted_threads') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting\n                v-if=\"user\"\n                parent-path=\"hideFilteredStatuses\"\n                :parent-invert=\"true\"\n                path=\"hideMutedPosts\"\n              >\n                {{ $t('settings.hide_muted_posts') }}\n              </BooleanSetting>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <BooleanSetting path=\"muteBotStatuses\">\n            {{ $t('settings.mute_bot_posts') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"muteSensitiveStatuses\">\n            {{ $t('settings.mute_sensitive_posts') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <h3>{{ $t('settings.filter.custom_filters') }}</h3>\n          <p class=\"muteFiltersActions\">\n            <span class=\"total\">\n              {{ $t('settings.filter.total_count', { count: muteFiltersDraft.length }) }}\n            </span>\n            <button\n              class=\"add-button button-default\"\n              type=\"button\"\n              @click=\"createFilter()\"\n            >\n              {{ $t('settings.filter.new') }}\n            </button>\n            <button\n              class=\"add-button button-default\"\n              type=\"button\"\n              @click=\"importFilter()\"\n            >\n              {{ $t('settings.filter.import') }}\n            </button>\n          </p>\n          <div class=\"muteFilterContainer\">\n            <div\n              v-for=\"filter in muteFiltersDraft\"\n              :key=\"filter[0]\"\n              class=\"mute-filter\"\n              :style=\"{ order: filter[1].order }\"\n            >\n              <div class=\"filter-name\">\n                <label\n                  :for=\"'filterName' + filter[0]\"\n                >\n                  {{ $t('settings.filter.name') }}\n                </label>\n                {{ ' ' }}\n                <input\n                  :id=\"'filterName' + filter[0]\"\n                  class=\"input\"\n                  :value=\"filter[1].name\"\n                  @input=\"updateFilter(filter[0], 'name', $event.target.value)\"\n                >\n                <span\n                  v-if=\"filter[1].expires !== null && Date.now() > filter[1].expires\"\n                  class=\"alert neutral\"\n                >\n                  {{ $t('settings.filter.expired') }}\n                </span>\n              </div>\n              <div class=\"filter-enabled\">\n                <Checkbox\n                  :id=\"'filterHide' + filter[0]\"\n                  :model-value=\"filter[1].hide\"\n                  :name=\"'filterHide' + filter[0]\"\n                  @update:model-value=\"updateFilter(filter[0], 'hide', $event)\"\n                >\n                  {{ $t('settings.filter.hide') }}\n                </Checkbox>\n                {{ ' ' }}\n                <Checkbox\n                  :id=\"'filterEnabled' + filter[0]\"\n                  :model-value=\"filter[1].enabled\"\n                  :name=\"'filterEnabled' + filter[0]\"\n                  @update:model-value=\"updateFilter(filter[0], 'enabled', $event)\"\n                >\n                  {{ $t('settings.enabled') }}\n                </Checkbox>\n              </div>\n              <div class=\"filter-type filter-field\">\n                <label :for=\"'filterType' + filter[0]\">\n                  <HelpIndicator>\n                    <p>\n                      {{ $t('settings.filter.help.word') }}\n                    </p>\n                    <p>\n                      {{ $t('settings.filter.help.user') }}\n                    </p>\n                    <i18n-t\n                      keypath=\"settings.filter.help.regexp\"\n                      tag=\"p\"\n                    >\n                      <template #link>\n                        <a\n                          :href=\"$t('settings.filter.help.regexp_url')\"\n                          target=\"_blank\"\n                        >\n                          {{ $t('settings.filter.help.regexp_link') }}\n                        </a>\n                      </template>\n                    </i18n-t>\n                  </HelpIndicator>\n                  {{ $t('settings.filter.type') }}\n                </label>\n                <Select\n                  :id=\"'filterType' + filter[0]\"\n                  class=\"filter-field-value\"\n                  :model-value=\"filter[1].type\"\n                  @update:model-value=\"updateFilter(filter[0], 'type', $event)\"\n                >\n                  <option value=\"word\">\n                    {{ $t('settings.filter.plain') }}\n                  </option>\n                  <option value=\"regexp\">\n                    {{ $t('settings.filter.regexp') }}\n                  </option>\n                  <option value=\"user\">\n                    {{ $t('settings.filter.user') }}\n                  </option>\n                  <option value=\"user_regexp\">\n                    {{ $t('settings.filter.user_regexp') }}\n                  </option>\n                </Select>\n              </div>\n              <div class=\"filter-value filter-field\">\n                <label\n                  :for=\"'filterValue' + filter[0]\"\n                >\n                  {{ $t('settings.filter.value') }}\n                </label>\n                {{ ' ' }}\n                <input\n                  :id=\"'filterValue' + filter[0]\"\n                  class=\"input filter-field-value\"\n                  :value=\"filter[1].value\"\n                  @input=\"updateFilter(filter[0], 'value', $event.target.value)\"\n                >\n              </div>\n              <div class=\"filter-expires filter-field\">\n                <label\n                  :for=\"'filterExpires' + filter[0]\"\n                >\n                  {{ $t('settings.filter.expires') }}\n                </label>\n                {{ ' ' }}\n                <div class=\"filter-field-value\">\n                  <input\n                    :id=\"'filterExpires' + filter[0]\"\n                    class=\"input\"\n                    :class=\"{ disabled: filter[1].expires === null }\"\n                    type=\"datetime-local\"\n                    :disabled=\"filter[1].expires === null\"\n                    :value=\"filter[1].expires ? getDatetimeLocal(filter[1].expires) : null\"\n                    @input=\"updateFilter(filter[0], 'expires', $event.target.value)\"\n                  >\n                  {{ ' ' }}\n                  <Checkbox\n                    :id=\"'filterExpiresNever' + filter[0]\"\n                    :model-value=\"filter[1].expires === null\"\n                    :name=\"'filterExpiresNever' + filter[0]\"\n                    class=\"input-inset input-boolean never\"\n                    @update:model-value=\"updateFilter(filter[0], 'expires-never', $event)\"\n                  >\n                    {{ $t('settings.filter.never_expires') }}\n                  </Checkbox>\n                </div>\n              </div>\n              <div\n                v-if=\"!checkRegexValid(filter[0])\"\n                class=\"alert error\"\n              >\n                {{ $t('settings.filter.regexp_error') }}\n              </div>\n              <div class=\"filter-buttons\">\n                <button\n                  class=\"delete-button button-default -danger\"\n                  type=\"button\"\n                  @click=\"deleteFilter(filter[0])\"\n                >\n                  {{ $t('settings.filter.delete') }}\n                </button>\n                <button\n                  class=\"export-button button-default\"\n                  type=\"button\"\n                  @click=\"exportFilter(filter[0])\"\n                >\n                  {{ $t('settings.filter.export') }}\n                </button>\n                <button\n                  class=\"copy-button button-default\"\n                  type=\"button\"\n                  @click=\"copyFilter(filter[0])\"\n                >\n                  {{ $t('settings.filter.copy') }}\n                </button>\n                <button\n                  class=\"save-button button-default\"\n                  :class=\"{ disabled: !muteFiltersDraftDirty[filter[0]] }\"\n                  :disabled=\"!muteFiltersDraftDirty[filter[0]]\"\n                  type=\"button\"\n                  @click=\"saveFilter(filter[0])\"\n                >\n                  {{ $t('settings.filter.save') }}\n                </button>\n              </div>\n            </div>\n          </div>\n          <p class=\"muteFiltersActionsBottom\">\n            <span class=\"total\">\n              {{ $t('settings.filter.expired_count', { count: muteFiltersExpired.length }) }}\n            </span>\n            <button\n              class=\"add-button button-default\"\n              type=\"button\"\n              :class=\"{ disabled: muteFiltersExpired.length === 0 }\"\n              :disabled=\"muteFiltersExpired.length === 0\"\n              @click=\"purgeExpiredFilters()\"\n            >\n              {{ $t('settings.filter.purge_expired') }}\n            </button>\n          </p>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n<script src=\"./filtering_tab.js\"></script>\n<style src=\"./filtering_tab.scss\"></style>\n","export default {\n  props: {\n    backupCodes: {\n      type: Object,\n      default: () => ({\n        inProgress: false,\n        codes: []\n      })\n    }\n  },\n  data: () => ({}),\n  computed: {\n    inProgress () { return this.backupCodes.inProgress },\n    ready () { return this.backupCodes.codes.length > 0 },\n    displayTitle () { return this.inProgress || this.ready }\n  }\n}\n","<template>\n  <div class=\"mfa-backup-codes\">\n    <h4 v-if=\"displayTitle\">\n      {{ $t('settings.mfa.recovery_codes') }}\n    </h4>\n    <i v-if=\"inProgress\">{{ $t('settings.mfa.waiting_a_recovery_codes') }}</i>\n    <template v-if=\"ready\">\n      <p class=\"alert warning\">\n        {{ $t('settings.mfa.recovery_codes_warning') }}\n      </p>\n      <ul class=\"backup-codes\">\n        <li\n          v-for=\"code in backupCodes.codes\"\n          :key=\"code\"\n        >\n          {{ code }}\n        </li>\n      </ul>\n    </template>\n  </div>\n</template>\n<script src=\"./mfa_backup_codes.js\"></script>\n<style lang=\"scss\">\n.mfa-backup-codes {\n  .warning {\n    color: var(--cOrange);\n  }\n\n  .backup-codes {\n    font-family: var(--monoFont);\n  }\n}\n</style>\n","const Confirm = {\n  props: ['disabled'],\n  data: () => ({}),\n  methods: {\n    confirm () { this.$emit('confirm') },\n    cancel () { this.$emit('cancel') }\n  }\n}\nexport default Confirm\n","<template>\n  <div>\n    <slot />\n    <button\n      class=\"btn button-default\"\n      :disabled=\"disabled\"\n      @click=\"confirm\"\n    >\n      {{ $t('general.confirm') }}\n    </button>\n    <button\n      class=\"btn button-default\"\n      :disabled=\"disabled\"\n      @click=\"cancel\"\n    >\n      {{ $t('general.cancel') }}\n    </button>\n  </div>\n</template>\n\n<script src=\"./confirm.js\">\n</script>\n","import Confirm from './confirm.vue'\nimport { mapState } from 'vuex'\n\nexport default {\n  props: ['settings'],\n  data: () => ({\n    error: false,\n    currentPassword: '',\n    deactivate: false,\n    inProgress: false // progress peform request to disable otp method\n  }),\n  components: {\n    confirm: Confirm\n  },\n  computed: {\n    isActivated () {\n      return this.settings.totp\n    },\n    ...mapState({\n      backendInteractor: (state) => state.api.backendInteractor\n    })\n  },\n  methods: {\n    doActivate () {\n      this.$emit('activate')\n    },\n    cancelDeactivate () { this.deactivate = false },\n    doDeactivate () {\n      this.error = null\n      this.deactivate = true\n    },\n    confirmDeactivate () { // confirm deactivate TOTP method\n      this.error = null\n      this.inProgress = true\n      this.backendInteractor.mfaDisableOTP({\n        password: this.currentPassword\n      })\n        .then((res) => {\n          this.inProgress = false\n          if (res.error) {\n            this.error = res.error\n            return\n          }\n          this.deactivate = false\n          this.$emit('deactivate')\n        })\n    }\n  }\n}\n","<template>\n  <div>\n    <div class=\"method-item\">\n      <strong>{{ $t('settings.mfa.otp') }}</strong>\n      <button\n        v-if=\"!isActivated\"\n        class=\"btn button-default\"\n        @click=\"doActivate\"\n      >\n        {{ $t('general.enable') }}\n      </button>\n\n      <button\n        v-if=\"isActivated\"\n        class=\"btn button-default\"\n        :disabled=\"deactivate\"\n        @click=\"doDeactivate\"\n      >\n        {{ $t('general.disable') }}\n      </button>\n    </div>\n\n    <confirm\n      v-if=\"deactivate\"\n      :disabled=\"inProgress\"\n      @confirm=\"confirmDeactivate\"\n      @cancel=\"cancelDeactivate\"\n    >\n      {{ $t('settings.enter_current_password_to_confirm') }}:\n      <input\n        v-model=\"currentPassword\"\n        type=\"password\"\n        class=\"input\"\n      >\n    </confirm>\n    <div\n      v-if=\"error\"\n      class=\"alert error\"\n    >\n      {{ error }}\n    </div>\n  </div>\n</template>\n<script src=\"./mfa_totp.js\"></script>\n","// can-promise has a crash in some versions of react native that dont have\n// standard global objects\n// https://github.com/soldair/node-qrcode/issues/157\n\nmodule.exports = function () {\n  return typeof Promise === 'function' && Promise.prototype && Promise.prototype.then\n}\n","let toSJISFunction\nconst CODEWORDS_COUNT = [\n  0, // Not used\n  26, 44, 70, 100, 134, 172, 196, 242, 292, 346,\n  404, 466, 532, 581, 655, 733, 815, 901, 991, 1085,\n  1156, 1258, 1364, 1474, 1588, 1706, 1828, 1921, 2051, 2185,\n  2323, 2465, 2611, 2761, 2876, 3034, 3196, 3362, 3532, 3706\n]\n\n/**\n * Returns the QR Code size for the specified version\n *\n * @param  {Number} version QR Code version\n * @return {Number}         size of QR code\n */\nexports.getSymbolSize = function getSymbolSize (version) {\n  if (!version) throw new Error('\"version\" cannot be null or undefined')\n  if (version < 1 || version > 40) throw new Error('\"version\" should be in range from 1 to 40')\n  return version * 4 + 17\n}\n\n/**\n * Returns the total number of codewords used to store data and EC information.\n *\n * @param  {Number} version QR Code version\n * @return {Number}         Data length in bits\n */\nexports.getSymbolTotalCodewords = function getSymbolTotalCodewords (version) {\n  return CODEWORDS_COUNT[version]\n}\n\n/**\n * Encode data with Bose-Chaudhuri-Hocquenghem\n *\n * @param  {Number} data Value to encode\n * @return {Number}      Encoded value\n */\nexports.getBCHDigit = function (data) {\n  let digit = 0\n\n  while (data !== 0) {\n    digit++\n    data >>>= 1\n  }\n\n  return digit\n}\n\nexports.setToSJISFunction = function setToSJISFunction (f) {\n  if (typeof f !== 'function') {\n    throw new Error('\"toSJISFunc\" is not a valid function.')\n  }\n\n  toSJISFunction = f\n}\n\nexports.isKanjiModeEnabled = function () {\n  return typeof toSJISFunction !== 'undefined'\n}\n\nexports.toSJIS = function toSJIS (kanji) {\n  return toSJISFunction(kanji)\n}\n","exports.L = { bit: 1 }\nexports.M = { bit: 0 }\nexports.Q = { bit: 3 }\nexports.H = { bit: 2 }\n\nfunction fromString (string) {\n  if (typeof string !== 'string') {\n    throw new Error('Param is not a string')\n  }\n\n  const lcStr = string.toLowerCase()\n\n  switch (lcStr) {\n    case 'l':\n    case 'low':\n      return exports.L\n\n    case 'm':\n    case 'medium':\n      return exports.M\n\n    case 'q':\n    case 'quartile':\n      return exports.Q\n\n    case 'h':\n    case 'high':\n      return exports.H\n\n    default:\n      throw new Error('Unknown EC Level: ' + string)\n  }\n}\n\nexports.isValid = function isValid (level) {\n  return level && typeof level.bit !== 'undefined' &&\n    level.bit >= 0 && level.bit < 4\n}\n\nexports.from = function from (value, defaultValue) {\n  if (exports.isValid(value)) {\n    return value\n  }\n\n  try {\n    return fromString(value)\n  } catch (e) {\n    return defaultValue\n  }\n}\n","function BitBuffer () {\n  this.buffer = []\n  this.length = 0\n}\n\nBitBuffer.prototype = {\n\n  get: function (index) {\n    const bufIndex = Math.floor(index / 8)\n    return ((this.buffer[bufIndex] >>> (7 - index % 8)) & 1) === 1\n  },\n\n  put: function (num, length) {\n    for (let i = 0; i < length; i++) {\n      this.putBit(((num >>> (length - i - 1)) & 1) === 1)\n    }\n  },\n\n  getLengthInBits: function () {\n    return this.length\n  },\n\n  putBit: function (bit) {\n    const bufIndex = Math.floor(this.length / 8)\n    if (this.buffer.length <= bufIndex) {\n      this.buffer.push(0)\n    }\n\n    if (bit) {\n      this.buffer[bufIndex] |= (0x80 >>> (this.length % 8))\n    }\n\n    this.length++\n  }\n}\n\nmodule.exports = BitBuffer\n","/**\n * Helper class to handle QR Code symbol modules\n *\n * @param {Number} size Symbol size\n */\nfunction BitMatrix (size) {\n  if (!size || size < 1) {\n    throw new Error('BitMatrix size must be defined and greater than 0')\n  }\n\n  this.size = size\n  this.data = new Uint8Array(size * size)\n  this.reservedBit = new Uint8Array(size * size)\n}\n\n/**\n * Set bit value at specified location\n * If reserved flag is set, this bit will be ignored during masking process\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n * @param {Boolean} reserved\n */\nBitMatrix.prototype.set = function (row, col, value, reserved) {\n  const index = row * this.size + col\n  this.data[index] = value\n  if (reserved) this.reservedBit[index] = true\n}\n\n/**\n * Returns bit value at specified location\n *\n * @param  {Number}  row\n * @param  {Number}  col\n * @return {Boolean}\n */\nBitMatrix.prototype.get = function (row, col) {\n  return this.data[row * this.size + col]\n}\n\n/**\n * Applies xor operator at specified location\n * (used during masking process)\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n */\nBitMatrix.prototype.xor = function (row, col, value) {\n  this.data[row * this.size + col] ^= value\n}\n\n/**\n * Check if bit at specified location is reserved\n *\n * @param {Number}   row\n * @param {Number}   col\n * @return {Boolean}\n */\nBitMatrix.prototype.isReserved = function (row, col) {\n  return this.reservedBit[row * this.size + col]\n}\n\nmodule.exports = BitMatrix\n","/**\n * Alignment pattern are fixed reference pattern in defined positions\n * in a matrix symbology, which enables the decode software to re-synchronise\n * the coordinate mapping of the image modules in the event of moderate amounts\n * of distortion of the image.\n *\n * Alignment patterns are present only in QR Code symbols of version 2 or larger\n * and their number depends on the symbol version.\n */\n\nconst getSymbolSize = require('./utils').getSymbolSize\n\n/**\n * Calculate the row/column coordinates of the center module of each alignment pattern\n * for the specified QR Code version.\n *\n * The alignment patterns are positioned symmetrically on either side of the diagonal\n * running from the top left corner of the symbol to the bottom right corner.\n *\n * Since positions are simmetrical only half of the coordinates are returned.\n * Each item of the array will represent in turn the x and y coordinate.\n * @see {@link getPositions}\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinate\n */\nexports.getRowColCoords = function getRowColCoords (version) {\n  if (version === 1) return []\n\n  const posCount = Math.floor(version / 7) + 2\n  const size = getSymbolSize(version)\n  const intervals = size === 145 ? 26 : Math.ceil((size - 13) / (2 * posCount - 2)) * 2\n  const positions = [size - 7] // Last coord is always (size - 7)\n\n  for (let i = 1; i < posCount - 1; i++) {\n    positions[i] = positions[i - 1] - intervals\n  }\n\n  positions.push(6) // First coord is always 6\n\n  return positions.reverse()\n}\n\n/**\n * Returns an array containing the positions of each alignment pattern.\n * Each array's element represent the center point of the pattern as (x, y) coordinates\n *\n * Coordinates are calculated expanding the row/column coordinates returned by {@link getRowColCoords}\n * and filtering out the items that overlaps with finder pattern\n *\n * @example\n * For a Version 7 symbol {@link getRowColCoords} returns values 6, 22 and 38.\n * The alignment patterns, therefore, are to be centered on (row, column)\n * positions (6,22), (22,6), (22,22), (22,38), (38,22), (38,38).\n * Note that the coordinates (6,6), (6,38), (38,6) are occupied by finder patterns\n * and are not therefore used for alignment patterns.\n *\n * let pos = getPositions(7)\n * // [[6,22], [22,6], [22,22], [22,38], [38,22], [38,38]]\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinates\n */\nexports.getPositions = function getPositions (version) {\n  const coords = []\n  const pos = exports.getRowColCoords(version)\n  const posLength = pos.length\n\n  for (let i = 0; i < posLength; i++) {\n    for (let j = 0; j < posLength; j++) {\n      // Skip if position is occupied by finder patterns\n      if ((i === 0 && j === 0) || // top-left\n          (i === 0 && j === posLength - 1) || // bottom-left\n          (i === posLength - 1 && j === 0)) { // top-right\n        continue\n      }\n\n      coords.push([pos[i], pos[j]])\n    }\n  }\n\n  return coords\n}\n","const getSymbolSize = require('./utils').getSymbolSize\nconst FINDER_PATTERN_SIZE = 7\n\n/**\n * Returns an array containing the positions of each finder pattern.\n * Each array's element represent the top-left point of the pattern as (x, y) coordinates\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinates\n */\nexports.getPositions = function getPositions (version) {\n  const size = getSymbolSize(version)\n\n  return [\n    // top-left\n    [0, 0],\n    // top-right\n    [size - FINDER_PATTERN_SIZE, 0],\n    // bottom-left\n    [0, size - FINDER_PATTERN_SIZE]\n  ]\n}\n","/**\n * Data mask pattern reference\n * @type {Object}\n */\nexports.Patterns = {\n  PATTERN000: 0,\n  PATTERN001: 1,\n  PATTERN010: 2,\n  PATTERN011: 3,\n  PATTERN100: 4,\n  PATTERN101: 5,\n  PATTERN110: 6,\n  PATTERN111: 7\n}\n\n/**\n * Weighted penalty scores for the undesirable features\n * @type {Object}\n */\nconst PenaltyScores = {\n  N1: 3,\n  N2: 3,\n  N3: 40,\n  N4: 10\n}\n\n/**\n * Check if mask pattern value is valid\n *\n * @param  {Number}  mask    Mask pattern\n * @return {Boolean}         true if valid, false otherwise\n */\nexports.isValid = function isValid (mask) {\n  return mask != null && mask !== '' && !isNaN(mask) && mask >= 0 && mask <= 7\n}\n\n/**\n * Returns mask pattern from a value.\n * If value is not valid, returns undefined\n *\n * @param  {Number|String} value        Mask pattern value\n * @return {Number}                     Valid mask pattern or undefined\n */\nexports.from = function from (value) {\n  return exports.isValid(value) ? parseInt(value, 10) : undefined\n}\n\n/**\n* Find adjacent modules in row/column with the same color\n* and assign a penalty value.\n*\n* Points: N1 + i\n* i is the amount by which the number of adjacent modules of the same color exceeds 5\n*/\nexports.getPenaltyN1 = function getPenaltyN1 (data) {\n  const size = data.size\n  let points = 0\n  let sameCountCol = 0\n  let sameCountRow = 0\n  let lastCol = null\n  let lastRow = null\n\n  for (let row = 0; row < size; row++) {\n    sameCountCol = sameCountRow = 0\n    lastCol = lastRow = null\n\n    for (let col = 0; col < size; col++) {\n      let module = data.get(row, col)\n      if (module === lastCol) {\n        sameCountCol++\n      } else {\n        if (sameCountCol >= 5) points += PenaltyScores.N1 + (sameCountCol - 5)\n        lastCol = module\n        sameCountCol = 1\n      }\n\n      module = data.get(col, row)\n      if (module === lastRow) {\n        sameCountRow++\n      } else {\n        if (sameCountRow >= 5) points += PenaltyScores.N1 + (sameCountRow - 5)\n        lastRow = module\n        sameCountRow = 1\n      }\n    }\n\n    if (sameCountCol >= 5) points += PenaltyScores.N1 + (sameCountCol - 5)\n    if (sameCountRow >= 5) points += PenaltyScores.N1 + (sameCountRow - 5)\n  }\n\n  return points\n}\n\n/**\n * Find 2x2 blocks with the same color and assign a penalty value\n *\n * Points: N2 * (m - 1) * (n - 1)\n */\nexports.getPenaltyN2 = function getPenaltyN2 (data) {\n  const size = data.size\n  let points = 0\n\n  for (let row = 0; row < size - 1; row++) {\n    for (let col = 0; col < size - 1; col++) {\n      const last = data.get(row, col) +\n        data.get(row, col + 1) +\n        data.get(row + 1, col) +\n        data.get(row + 1, col + 1)\n\n      if (last === 4 || last === 0) points++\n    }\n  }\n\n  return points * PenaltyScores.N2\n}\n\n/**\n * Find 1:1:3:1:1 ratio (dark:light:dark:light:dark) pattern in row/column,\n * preceded or followed by light area 4 modules wide\n *\n * Points: N3 * number of pattern found\n */\nexports.getPenaltyN3 = function getPenaltyN3 (data) {\n  const size = data.size\n  let points = 0\n  let bitsCol = 0\n  let bitsRow = 0\n\n  for (let row = 0; row < size; row++) {\n    bitsCol = bitsRow = 0\n    for (let col = 0; col < size; col++) {\n      bitsCol = ((bitsCol << 1) & 0x7FF) | data.get(row, col)\n      if (col >= 10 && (bitsCol === 0x5D0 || bitsCol === 0x05D)) points++\n\n      bitsRow = ((bitsRow << 1) & 0x7FF) | data.get(col, row)\n      if (col >= 10 && (bitsRow === 0x5D0 || bitsRow === 0x05D)) points++\n    }\n  }\n\n  return points * PenaltyScores.N3\n}\n\n/**\n * Calculate proportion of dark modules in entire symbol\n *\n * Points: N4 * k\n *\n * k is the rating of the deviation of the proportion of dark modules\n * in the symbol from 50% in steps of 5%\n */\nexports.getPenaltyN4 = function getPenaltyN4 (data) {\n  let darkCount = 0\n  const modulesCount = data.data.length\n\n  for (let i = 0; i < modulesCount; i++) darkCount += data.data[i]\n\n  const k = Math.abs(Math.ceil((darkCount * 100 / modulesCount) / 5) - 10)\n\n  return k * PenaltyScores.N4\n}\n\n/**\n * Return mask value at given position\n *\n * @param  {Number} maskPattern Pattern reference value\n * @param  {Number} i           Row\n * @param  {Number} j           Column\n * @return {Boolean}            Mask value\n */\nfunction getMaskAt (maskPattern, i, j) {\n  switch (maskPattern) {\n    case exports.Patterns.PATTERN000: return (i + j) % 2 === 0\n    case exports.Patterns.PATTERN001: return i % 2 === 0\n    case exports.Patterns.PATTERN010: return j % 3 === 0\n    case exports.Patterns.PATTERN011: return (i + j) % 3 === 0\n    case exports.Patterns.PATTERN100: return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 === 0\n    case exports.Patterns.PATTERN101: return (i * j) % 2 + (i * j) % 3 === 0\n    case exports.Patterns.PATTERN110: return ((i * j) % 2 + (i * j) % 3) % 2 === 0\n    case exports.Patterns.PATTERN111: return ((i * j) % 3 + (i + j) % 2) % 2 === 0\n\n    default: throw new Error('bad maskPattern:' + maskPattern)\n  }\n}\n\n/**\n * Apply a mask pattern to a BitMatrix\n *\n * @param  {Number}    pattern Pattern reference number\n * @param  {BitMatrix} data    BitMatrix data\n */\nexports.applyMask = function applyMask (pattern, data) {\n  const size = data.size\n\n  for (let col = 0; col < size; col++) {\n    for (let row = 0; row < size; row++) {\n      if (data.isReserved(row, col)) continue\n      data.xor(row, col, getMaskAt(pattern, row, col))\n    }\n  }\n}\n\n/**\n * Returns the best mask pattern for data\n *\n * @param  {BitMatrix} data\n * @return {Number} Mask pattern reference number\n */\nexports.getBestMask = function getBestMask (data, setupFormatFunc) {\n  const numPatterns = Object.keys(exports.Patterns).length\n  let bestPattern = 0\n  let lowerPenalty = Infinity\n\n  for (let p = 0; p < numPatterns; p++) {\n    setupFormatFunc(p)\n    exports.applyMask(p, data)\n\n    // Calculate penalty\n    const penalty =\n      exports.getPenaltyN1(data) +\n      exports.getPenaltyN2(data) +\n      exports.getPenaltyN3(data) +\n      exports.getPenaltyN4(data)\n\n    // Undo previously applied mask\n    exports.applyMask(p, data)\n\n    if (penalty < lowerPenalty) {\n      lowerPenalty = penalty\n      bestPattern = p\n    }\n  }\n\n  return bestPattern\n}\n","const ECLevel = require('./error-correction-level')\r\n\r\nconst EC_BLOCKS_TABLE = [\r\n// L  M  Q  H\r\n  1, 1, 1, 1,\r\n  1, 1, 1, 1,\r\n  1, 1, 2, 2,\r\n  1, 2, 2, 4,\r\n  1, 2, 4, 4,\r\n  2, 4, 4, 4,\r\n  2, 4, 6, 5,\r\n  2, 4, 6, 6,\r\n  2, 5, 8, 8,\r\n  4, 5, 8, 8,\r\n  4, 5, 8, 11,\r\n  4, 8, 10, 11,\r\n  4, 9, 12, 16,\r\n  4, 9, 16, 16,\r\n  6, 10, 12, 18,\r\n  6, 10, 17, 16,\r\n  6, 11, 16, 19,\r\n  6, 13, 18, 21,\r\n  7, 14, 21, 25,\r\n  8, 16, 20, 25,\r\n  8, 17, 23, 25,\r\n  9, 17, 23, 34,\r\n  9, 18, 25, 30,\r\n  10, 20, 27, 32,\r\n  12, 21, 29, 35,\r\n  12, 23, 34, 37,\r\n  12, 25, 34, 40,\r\n  13, 26, 35, 42,\r\n  14, 28, 38, 45,\r\n  15, 29, 40, 48,\r\n  16, 31, 43, 51,\r\n  17, 33, 45, 54,\r\n  18, 35, 48, 57,\r\n  19, 37, 51, 60,\r\n  19, 38, 53, 63,\r\n  20, 40, 56, 66,\r\n  21, 43, 59, 70,\r\n  22, 45, 62, 74,\r\n  24, 47, 65, 77,\r\n  25, 49, 68, 81\r\n]\r\n\r\nconst EC_CODEWORDS_TABLE = [\r\n// L  M  Q  H\r\n  7, 10, 13, 17,\r\n  10, 16, 22, 28,\r\n  15, 26, 36, 44,\r\n  20, 36, 52, 64,\r\n  26, 48, 72, 88,\r\n  36, 64, 96, 112,\r\n  40, 72, 108, 130,\r\n  48, 88, 132, 156,\r\n  60, 110, 160, 192,\r\n  72, 130, 192, 224,\r\n  80, 150, 224, 264,\r\n  96, 176, 260, 308,\r\n  104, 198, 288, 352,\r\n  120, 216, 320, 384,\r\n  132, 240, 360, 432,\r\n  144, 280, 408, 480,\r\n  168, 308, 448, 532,\r\n  180, 338, 504, 588,\r\n  196, 364, 546, 650,\r\n  224, 416, 600, 700,\r\n  224, 442, 644, 750,\r\n  252, 476, 690, 816,\r\n  270, 504, 750, 900,\r\n  300, 560, 810, 960,\r\n  312, 588, 870, 1050,\r\n  336, 644, 952, 1110,\r\n  360, 700, 1020, 1200,\r\n  390, 728, 1050, 1260,\r\n  420, 784, 1140, 1350,\r\n  450, 812, 1200, 1440,\r\n  480, 868, 1290, 1530,\r\n  510, 924, 1350, 1620,\r\n  540, 980, 1440, 1710,\r\n  570, 1036, 1530, 1800,\r\n  570, 1064, 1590, 1890,\r\n  600, 1120, 1680, 1980,\r\n  630, 1204, 1770, 2100,\r\n  660, 1260, 1860, 2220,\r\n  720, 1316, 1950, 2310,\r\n  750, 1372, 2040, 2430\r\n]\r\n\r\n/**\r\n * Returns the number of error correction block that the QR Code should contain\r\n * for the specified version and error correction level.\r\n *\r\n * @param  {Number} version              QR Code version\r\n * @param  {Number} errorCorrectionLevel Error correction level\r\n * @return {Number}                      Number of error correction blocks\r\n */\r\nexports.getBlocksCount = function getBlocksCount (version, errorCorrectionLevel) {\r\n  switch (errorCorrectionLevel) {\r\n    case ECLevel.L:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 0]\r\n    case ECLevel.M:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 1]\r\n    case ECLevel.Q:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 2]\r\n    case ECLevel.H:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 3]\r\n    default:\r\n      return undefined\r\n  }\r\n}\r\n\r\n/**\r\n * Returns the number of error correction codewords to use for the specified\r\n * version and error correction level.\r\n *\r\n * @param  {Number} version              QR Code version\r\n * @param  {Number} errorCorrectionLevel Error correction level\r\n * @return {Number}                      Number of error correction codewords\r\n */\r\nexports.getTotalCodewordsCount = function getTotalCodewordsCount (version, errorCorrectionLevel) {\r\n  switch (errorCorrectionLevel) {\r\n    case ECLevel.L:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 0]\r\n    case ECLevel.M:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 1]\r\n    case ECLevel.Q:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 2]\r\n    case ECLevel.H:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 3]\r\n    default:\r\n      return undefined\r\n  }\r\n}\r\n","const EXP_TABLE = new Uint8Array(512)\nconst LOG_TABLE = new Uint8Array(256)\n/**\n * Precompute the log and anti-log tables for faster computation later\n *\n * For each possible value in the galois field 2^8, we will pre-compute\n * the logarithm and anti-logarithm (exponential) of this value\n *\n * ref {@link https://en.wikiversity.org/wiki/Reed%E2%80%93Solomon_codes_for_coders#Introduction_to_mathematical_fields}\n */\n;(function initTables () {\n  let x = 1\n  for (let i = 0; i < 255; i++) {\n    EXP_TABLE[i] = x\n    LOG_TABLE[x] = i\n\n    x <<= 1 // multiply by 2\n\n    // The QR code specification says to use byte-wise modulo 100011101 arithmetic.\n    // This means that when a number is 256 or larger, it should be XORed with 0x11D.\n    if (x & 0x100) { // similar to x >= 256, but a lot faster (because 0x100 == 256)\n      x ^= 0x11D\n    }\n  }\n\n  // Optimization: double the size of the anti-log table so that we don't need to mod 255 to\n  // stay inside the bounds (because we will mainly use this table for the multiplication of\n  // two GF numbers, no more).\n  // @see {@link mul}\n  for (let i = 255; i < 512; i++) {\n    EXP_TABLE[i] = EXP_TABLE[i - 255]\n  }\n}())\n\n/**\n * Returns log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\nexports.log = function log (n) {\n  if (n < 1) throw new Error('log(' + n + ')')\n  return LOG_TABLE[n]\n}\n\n/**\n * Returns anti-log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\nexports.exp = function exp (n) {\n  return EXP_TABLE[n]\n}\n\n/**\n * Multiplies two number inside Galois Field\n *\n * @param  {Number} x\n * @param  {Number} y\n * @return {Number}\n */\nexports.mul = function mul (x, y) {\n  if (x === 0 || y === 0) return 0\n\n  // should be EXP_TABLE[(LOG_TABLE[x] + LOG_TABLE[y]) % 255] if EXP_TABLE wasn't oversized\n  // @see {@link initTables}\n  return EXP_TABLE[LOG_TABLE[x] + LOG_TABLE[y]]\n}\n","const GF = require('./galois-field')\n\n/**\n * Multiplies two polynomials inside Galois Field\n *\n * @param  {Uint8Array} p1 Polynomial\n * @param  {Uint8Array} p2 Polynomial\n * @return {Uint8Array}    Product of p1 and p2\n */\nexports.mul = function mul (p1, p2) {\n  const coeff = new Uint8Array(p1.length + p2.length - 1)\n\n  for (let i = 0; i < p1.length; i++) {\n    for (let j = 0; j < p2.length; j++) {\n      coeff[i + j] ^= GF.mul(p1[i], p2[j])\n    }\n  }\n\n  return coeff\n}\n\n/**\n * Calculate the remainder of polynomials division\n *\n * @param  {Uint8Array} divident Polynomial\n * @param  {Uint8Array} divisor  Polynomial\n * @return {Uint8Array}          Remainder\n */\nexports.mod = function mod (divident, divisor) {\n  let result = new Uint8Array(divident)\n\n  while ((result.length - divisor.length) >= 0) {\n    const coeff = result[0]\n\n    for (let i = 0; i < divisor.length; i++) {\n      result[i] ^= GF.mul(divisor[i], coeff)\n    }\n\n    // remove all zeros from buffer head\n    let offset = 0\n    while (offset < result.length && result[offset] === 0) offset++\n    result = result.slice(offset)\n  }\n\n  return result\n}\n\n/**\n * Generate an irreducible generator polynomial of specified degree\n * (used by Reed-Solomon encoder)\n *\n * @param  {Number} degree Degree of the generator polynomial\n * @return {Uint8Array}    Buffer containing polynomial coefficients\n */\nexports.generateECPolynomial = function generateECPolynomial (degree) {\n  let poly = new Uint8Array([1])\n  for (let i = 0; i < degree; i++) {\n    poly = exports.mul(poly, new Uint8Array([1, GF.exp(i)]))\n  }\n\n  return poly\n}\n","const Polynomial = require('./polynomial')\n\nfunction ReedSolomonEncoder (degree) {\n  this.genPoly = undefined\n  this.degree = degree\n\n  if (this.degree) this.initialize(this.degree)\n}\n\n/**\n * Initialize the encoder.\n * The input param should correspond to the number of error correction codewords.\n *\n * @param  {Number} degree\n */\nReedSolomonEncoder.prototype.initialize = function initialize (degree) {\n  // create an irreducible generator polynomial\n  this.degree = degree\n  this.genPoly = Polynomial.generateECPolynomial(this.degree)\n}\n\n/**\n * Encodes a chunk of data\n *\n * @param  {Uint8Array} data Buffer containing input data\n * @return {Uint8Array}      Buffer containing encoded data\n */\nReedSolomonEncoder.prototype.encode = function encode (data) {\n  if (!this.genPoly) {\n    throw new Error('Encoder not initialized')\n  }\n\n  // Calculate EC for this data block\n  // extends data size to data+genPoly size\n  const paddedData = new Uint8Array(data.length + this.degree)\n  paddedData.set(data)\n\n  // The error correction codewords are the remainder after dividing the data codewords\n  // by a generator polynomial\n  const remainder = Polynomial.mod(paddedData, this.genPoly)\n\n  // return EC data blocks (last n byte, where n is the degree of genPoly)\n  // If coefficients number in remainder are less than genPoly degree,\n  // pad with 0s to the left to reach the needed number of coefficients\n  const start = this.degree - remainder.length\n  if (start > 0) {\n    const buff = new Uint8Array(this.degree)\n    buff.set(remainder, start)\n\n    return buff\n  }\n\n  return remainder\n}\n\nmodule.exports = ReedSolomonEncoder\n","/**\n * Check if QR Code version is valid\n *\n * @param  {Number}  version QR Code version\n * @return {Boolean}         true if valid version, false otherwise\n */\nexports.isValid = function isValid (version) {\n  return !isNaN(version) && version >= 1 && version <= 40\n}\n","const numeric = '[0-9]+'\nconst alphanumeric = '[A-Z $%*+\\\\-./:]+'\nlet kanji = '(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|' +\n  '[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|' +\n  '[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|' +\n  '[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+'\nkanji = kanji.replace(/u/g, '\\\\u')\n\nconst byte = '(?:(?![A-Z0-9 $%*+\\\\-./:]|' + kanji + ')(?:.|[\\r\\n]))+'\n\nexports.KANJI = new RegExp(kanji, 'g')\nexports.BYTE_KANJI = new RegExp('[^A-Z0-9 $%*+\\\\-./:]+', 'g')\nexports.BYTE = new RegExp(byte, 'g')\nexports.NUMERIC = new RegExp(numeric, 'g')\nexports.ALPHANUMERIC = new RegExp(alphanumeric, 'g')\n\nconst TEST_KANJI = new RegExp('^' + kanji + '$')\nconst TEST_NUMERIC = new RegExp('^' + numeric + '$')\nconst TEST_ALPHANUMERIC = new RegExp('^[A-Z0-9 $%*+\\\\-./:]+$')\n\nexports.testKanji = function testKanji (str) {\n  return TEST_KANJI.test(str)\n}\n\nexports.testNumeric = function testNumeric (str) {\n  return TEST_NUMERIC.test(str)\n}\n\nexports.testAlphanumeric = function testAlphanumeric (str) {\n  return TEST_ALPHANUMERIC.test(str)\n}\n","const VersionCheck = require('./version-check')\nconst Regex = require('./regex')\n\n/**\n * Numeric mode encodes data from the decimal digit set (0 - 9)\n * (byte values 30HEX to 39HEX).\n * Normally, 3 data characters are represented by 10 bits.\n *\n * @type {Object}\n */\nexports.NUMERIC = {\n  id: 'Numeric',\n  bit: 1 << 0,\n  ccBits: [10, 12, 14]\n}\n\n/**\n * Alphanumeric mode encodes data from a set of 45 characters,\n * i.e. 10 numeric digits (0 - 9),\n *      26 alphabetic characters (A - Z),\n *   and 9 symbols (SP, $, %, *, +, -, ., /, :).\n * Normally, two input characters are represented by 11 bits.\n *\n * @type {Object}\n */\nexports.ALPHANUMERIC = {\n  id: 'Alphanumeric',\n  bit: 1 << 1,\n  ccBits: [9, 11, 13]\n}\n\n/**\n * In byte mode, data is encoded at 8 bits per character.\n *\n * @type {Object}\n */\nexports.BYTE = {\n  id: 'Byte',\n  bit: 1 << 2,\n  ccBits: [8, 16, 16]\n}\n\n/**\n * The Kanji mode efficiently encodes Kanji characters in accordance with\n * the Shift JIS system based on JIS X 0208.\n * The Shift JIS values are shifted from the JIS X 0208 values.\n * JIS X 0208 gives details of the shift coded representation.\n * Each two-byte character value is compacted to a 13-bit binary codeword.\n *\n * @type {Object}\n */\nexports.KANJI = {\n  id: 'Kanji',\n  bit: 1 << 3,\n  ccBits: [8, 10, 12]\n}\n\n/**\n * Mixed mode will contain a sequences of data in a combination of any of\n * the modes described above\n *\n * @type {Object}\n */\nexports.MIXED = {\n  bit: -1\n}\n\n/**\n * Returns the number of bits needed to store the data length\n * according to QR Code specifications.\n *\n * @param  {Mode}   mode    Data mode\n * @param  {Number} version QR Code version\n * @return {Number}         Number of bits\n */\nexports.getCharCountIndicator = function getCharCountIndicator (mode, version) {\n  if (!mode.ccBits) throw new Error('Invalid mode: ' + mode)\n\n  if (!VersionCheck.isValid(version)) {\n    throw new Error('Invalid version: ' + version)\n  }\n\n  if (version >= 1 && version < 10) return mode.ccBits[0]\n  else if (version < 27) return mode.ccBits[1]\n  return mode.ccBits[2]\n}\n\n/**\n * Returns the most efficient mode to store the specified data\n *\n * @param  {String} dataStr Input data string\n * @return {Mode}           Best mode\n */\nexports.getBestModeForData = function getBestModeForData (dataStr) {\n  if (Regex.testNumeric(dataStr)) return exports.NUMERIC\n  else if (Regex.testAlphanumeric(dataStr)) return exports.ALPHANUMERIC\n  else if (Regex.testKanji(dataStr)) return exports.KANJI\n  else return exports.BYTE\n}\n\n/**\n * Return mode name as string\n *\n * @param {Mode} mode Mode object\n * @returns {String}  Mode name\n */\nexports.toString = function toString (mode) {\n  if (mode && mode.id) return mode.id\n  throw new Error('Invalid mode')\n}\n\n/**\n * Check if input param is a valid mode object\n *\n * @param   {Mode}    mode Mode object\n * @returns {Boolean} True if valid mode, false otherwise\n */\nexports.isValid = function isValid (mode) {\n  return mode && mode.bit && mode.ccBits\n}\n\n/**\n * Get mode object from its name\n *\n * @param   {String} string Mode name\n * @returns {Mode}          Mode object\n */\nfunction fromString (string) {\n  if (typeof string !== 'string') {\n    throw new Error('Param is not a string')\n  }\n\n  const lcStr = string.toLowerCase()\n\n  switch (lcStr) {\n    case 'numeric':\n      return exports.NUMERIC\n    case 'alphanumeric':\n      return exports.ALPHANUMERIC\n    case 'kanji':\n      return exports.KANJI\n    case 'byte':\n      return exports.BYTE\n    default:\n      throw new Error('Unknown mode: ' + string)\n  }\n}\n\n/**\n * Returns mode from a value.\n * If value is not a valid mode, returns defaultValue\n *\n * @param  {Mode|String} value        Encoding mode\n * @param  {Mode}        defaultValue Fallback value\n * @return {Mode}                     Encoding mode\n */\nexports.from = function from (value, defaultValue) {\n  if (exports.isValid(value)) {\n    return value\n  }\n\n  try {\n    return fromString(value)\n  } catch (e) {\n    return defaultValue\n  }\n}\n","const Utils = require('./utils')\nconst ECCode = require('./error-correction-code')\nconst ECLevel = require('./error-correction-level')\nconst Mode = require('./mode')\nconst VersionCheck = require('./version-check')\n\n// Generator polynomial used to encode version information\nconst G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0)\nconst G18_BCH = Utils.getBCHDigit(G18)\n\nfunction getBestVersionForDataLength (mode, length, errorCorrectionLevel) {\n  for (let currentVersion = 1; currentVersion <= 40; currentVersion++) {\n    if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, mode)) {\n      return currentVersion\n    }\n  }\n\n  return undefined\n}\n\nfunction getReservedBitsCount (mode, version) {\n  // Character count indicator + mode indicator bits\n  return Mode.getCharCountIndicator(mode, version) + 4\n}\n\nfunction getTotalBitsFromDataArray (segments, version) {\n  let totalBits = 0\n\n  segments.forEach(function (data) {\n    const reservedBits = getReservedBitsCount(data.mode, version)\n    totalBits += reservedBits + data.getBitsLength()\n  })\n\n  return totalBits\n}\n\nfunction getBestVersionForMixedData (segments, errorCorrectionLevel) {\n  for (let currentVersion = 1; currentVersion <= 40; currentVersion++) {\n    const length = getTotalBitsFromDataArray(segments, currentVersion)\n    if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, Mode.MIXED)) {\n      return currentVersion\n    }\n  }\n\n  return undefined\n}\n\n/**\n * Returns version number from a value.\n * If value is not a valid version, returns defaultValue\n *\n * @param  {Number|String} value        QR Code version\n * @param  {Number}        defaultValue Fallback value\n * @return {Number}                     QR Code version number\n */\nexports.from = function from (value, defaultValue) {\n  if (VersionCheck.isValid(value)) {\n    return parseInt(value, 10)\n  }\n\n  return defaultValue\n}\n\n/**\n * Returns how much data can be stored with the specified QR code version\n * and error correction level\n *\n * @param  {Number} version              QR Code version (1-40)\n * @param  {Number} errorCorrectionLevel Error correction level\n * @param  {Mode}   mode                 Data mode\n * @return {Number}                      Quantity of storable data\n */\nexports.getCapacity = function getCapacity (version, errorCorrectionLevel, mode) {\n  if (!VersionCheck.isValid(version)) {\n    throw new Error('Invalid QR Code version')\n  }\n\n  // Use Byte mode as default\n  if (typeof mode === 'undefined') mode = Mode.BYTE\n\n  // Total codewords for this QR code version (Data + Error correction)\n  const totalCodewords = Utils.getSymbolTotalCodewords(version)\n\n  // Total number of error correction codewords\n  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel)\n\n  // Total number of data codewords\n  const dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8\n\n  if (mode === Mode.MIXED) return dataTotalCodewordsBits\n\n  const usableBits = dataTotalCodewordsBits - getReservedBitsCount(mode, version)\n\n  // Return max number of storable codewords\n  switch (mode) {\n    case Mode.NUMERIC:\n      return Math.floor((usableBits / 10) * 3)\n\n    case Mode.ALPHANUMERIC:\n      return Math.floor((usableBits / 11) * 2)\n\n    case Mode.KANJI:\n      return Math.floor(usableBits / 13)\n\n    case Mode.BYTE:\n    default:\n      return Math.floor(usableBits / 8)\n  }\n}\n\n/**\n * Returns the minimum version needed to contain the amount of data\n *\n * @param  {Segment} data                    Segment of data\n * @param  {Number} [errorCorrectionLevel=H] Error correction level\n * @param  {Mode} mode                       Data mode\n * @return {Number}                          QR Code version\n */\nexports.getBestVersionForData = function getBestVersionForData (data, errorCorrectionLevel) {\n  let seg\n\n  const ecl = ECLevel.from(errorCorrectionLevel, ECLevel.M)\n\n  if (Array.isArray(data)) {\n    if (data.length > 1) {\n      return getBestVersionForMixedData(data, ecl)\n    }\n\n    if (data.length === 0) {\n      return 1\n    }\n\n    seg = data[0]\n  } else {\n    seg = data\n  }\n\n  return getBestVersionForDataLength(seg.mode, seg.getLength(), ecl)\n}\n\n/**\n * Returns version information with relative error correction bits\n *\n * The version information is included in QR Code symbols of version 7 or larger.\n * It consists of an 18-bit sequence containing 6 data bits,\n * with 12 error correction bits calculated using the (18, 6) Golay code.\n *\n * @param  {Number} version QR Code version\n * @return {Number}         Encoded version info bits\n */\nexports.getEncodedBits = function getEncodedBits (version) {\n  if (!VersionCheck.isValid(version) || version < 7) {\n    throw new Error('Invalid QR Code version')\n  }\n\n  let d = version << 12\n\n  while (Utils.getBCHDigit(d) - G18_BCH >= 0) {\n    d ^= (G18 << (Utils.getBCHDigit(d) - G18_BCH))\n  }\n\n  return (version << 12) | d\n}\n","const Utils = require('./utils')\n\nconst G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0)\nconst G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1)\nconst G15_BCH = Utils.getBCHDigit(G15)\n\n/**\n * Returns format information with relative error correction bits\n *\n * The format information is a 15-bit sequence containing 5 data bits,\n * with 10 error correction bits calculated using the (15, 5) BCH code.\n *\n * @param  {Number} errorCorrectionLevel Error correction level\n * @param  {Number} mask                 Mask pattern\n * @return {Number}                      Encoded format information bits\n */\nexports.getEncodedBits = function getEncodedBits (errorCorrectionLevel, mask) {\n  const data = ((errorCorrectionLevel.bit << 3) | mask)\n  let d = data << 10\n\n  while (Utils.getBCHDigit(d) - G15_BCH >= 0) {\n    d ^= (G15 << (Utils.getBCHDigit(d) - G15_BCH))\n  }\n\n  // xor final data with mask pattern in order to ensure that\n  // no combination of Error Correction Level and data mask pattern\n  // will result in an all-zero data string\n  return ((data << 10) | d) ^ G15_MASK\n}\n","const Mode = require('./mode')\n\nfunction NumericData (data) {\n  this.mode = Mode.NUMERIC\n  this.data = data.toString()\n}\n\nNumericData.getBitsLength = function getBitsLength (length) {\n  return 10 * Math.floor(length / 3) + ((length % 3) ? ((length % 3) * 3 + 1) : 0)\n}\n\nNumericData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nNumericData.prototype.getBitsLength = function getBitsLength () {\n  return NumericData.getBitsLength(this.data.length)\n}\n\nNumericData.prototype.write = function write (bitBuffer) {\n  let i, group, value\n\n  // The input data string is divided into groups of three digits,\n  // and each group is converted to its 10-bit binary equivalent.\n  for (i = 0; i + 3 <= this.data.length; i += 3) {\n    group = this.data.substr(i, 3)\n    value = parseInt(group, 10)\n\n    bitBuffer.put(value, 10)\n  }\n\n  // If the number of input digits is not an exact multiple of three,\n  // the final one or two digits are converted to 4 or 7 bits respectively.\n  const remainingNum = this.data.length - i\n  if (remainingNum > 0) {\n    group = this.data.substr(i)\n    value = parseInt(group, 10)\n\n    bitBuffer.put(value, remainingNum * 3 + 1)\n  }\n}\n\nmodule.exports = NumericData\n","const Mode = require('./mode')\n\n/**\n * Array of characters available in alphanumeric mode\n *\n * As per QR Code specification, to each character\n * is assigned a value from 0 to 44 which in this case coincides\n * with the array index\n *\n * @type {Array}\n */\nconst ALPHA_NUM_CHARS = [\n  '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',\n  'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M',\n  'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z',\n  ' ', '$', '%', '*', '+', '-', '.', '/', ':'\n]\n\nfunction AlphanumericData (data) {\n  this.mode = Mode.ALPHANUMERIC\n  this.data = data\n}\n\nAlphanumericData.getBitsLength = function getBitsLength (length) {\n  return 11 * Math.floor(length / 2) + 6 * (length % 2)\n}\n\nAlphanumericData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nAlphanumericData.prototype.getBitsLength = function getBitsLength () {\n  return AlphanumericData.getBitsLength(this.data.length)\n}\n\nAlphanumericData.prototype.write = function write (bitBuffer) {\n  let i\n\n  // Input data characters are divided into groups of two characters\n  // and encoded as 11-bit binary codes.\n  for (i = 0; i + 2 <= this.data.length; i += 2) {\n    // The character value of the first character is multiplied by 45\n    let value = ALPHA_NUM_CHARS.indexOf(this.data[i]) * 45\n\n    // The character value of the second digit is added to the product\n    value += ALPHA_NUM_CHARS.indexOf(this.data[i + 1])\n\n    // The sum is then stored as 11-bit binary number\n    bitBuffer.put(value, 11)\n  }\n\n  // If the number of input data characters is not a multiple of two,\n  // the character value of the final character is encoded as a 6-bit binary number.\n  if (this.data.length % 2) {\n    bitBuffer.put(ALPHA_NUM_CHARS.indexOf(this.data[i]), 6)\n  }\n}\n\nmodule.exports = AlphanumericData\n","const Mode = require('./mode')\n\nfunction ByteData (data) {\n  this.mode = Mode.BYTE\n  if (typeof (data) === 'string') {\n    this.data = new TextEncoder().encode(data)\n  } else {\n    this.data = new Uint8Array(data)\n  }\n}\n\nByteData.getBitsLength = function getBitsLength (length) {\n  return length * 8\n}\n\nByteData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nByteData.prototype.getBitsLength = function getBitsLength () {\n  return ByteData.getBitsLength(this.data.length)\n}\n\nByteData.prototype.write = function (bitBuffer) {\n  for (let i = 0, l = this.data.length; i < l; i++) {\n    bitBuffer.put(this.data[i], 8)\n  }\n}\n\nmodule.exports = ByteData\n","const Mode = require('./mode')\nconst Utils = require('./utils')\n\nfunction KanjiData (data) {\n  this.mode = Mode.KANJI\n  this.data = data\n}\n\nKanjiData.getBitsLength = function getBitsLength (length) {\n  return length * 13\n}\n\nKanjiData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nKanjiData.prototype.getBitsLength = function getBitsLength () {\n  return KanjiData.getBitsLength(this.data.length)\n}\n\nKanjiData.prototype.write = function (bitBuffer) {\n  let i\n\n  // In the Shift JIS system, Kanji characters are represented by a two byte combination.\n  // These byte values are shifted from the JIS X 0208 values.\n  // JIS X 0208 gives details of the shift coded representation.\n  for (i = 0; i < this.data.length; i++) {\n    let value = Utils.toSJIS(this.data[i])\n\n    // For characters with Shift JIS values from 0x8140 to 0x9FFC:\n    if (value >= 0x8140 && value <= 0x9FFC) {\n      // Subtract 0x8140 from Shift JIS value\n      value -= 0x8140\n\n    // For characters with Shift JIS values from 0xE040 to 0xEBBF\n    } else if (value >= 0xE040 && value <= 0xEBBF) {\n      // Subtract 0xC140 from Shift JIS value\n      value -= 0xC140\n    } else {\n      throw new Error(\n        'Invalid SJIS character: ' + this.data[i] + '\\n' +\n        'Make sure your charset is UTF-8')\n    }\n\n    // Multiply most significant byte of result by 0xC0\n    // and add least significant byte to product\n    value = (((value >>> 8) & 0xff) * 0xC0) + (value & 0xff)\n\n    // Convert result to a 13-bit binary string\n    bitBuffer.put(value, 13)\n  }\n}\n\nmodule.exports = KanjiData\n","'use strict';\n\n/******************************************************************************\n * Created 2008-08-19.\n *\n * Dijkstra path-finding functions. Adapted from the Dijkstar Python project.\n *\n * Copyright (C) 2008\n *   Wyatt Baldwin <self@wyattbaldwin.com>\n *   All rights reserved\n *\n * Licensed under the MIT license.\n *\n *   http://www.opensource.org/licenses/mit-license.php\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *****************************************************************************/\nvar dijkstra = {\n  single_source_shortest_paths: function(graph, s, d) {\n    // Predecessor map for each node that has been encountered.\n    // node ID => predecessor node ID\n    var predecessors = {};\n\n    // Costs of shortest paths from s to all nodes encountered.\n    // node ID => cost\n    var costs = {};\n    costs[s] = 0;\n\n    // Costs of shortest paths from s to all nodes encountered; differs from\n    // `costs` in that it provides easy access to the node that currently has\n    // the known shortest path from s.\n    // XXX: Do we actually need both `costs` and `open`?\n    var open = dijkstra.PriorityQueue.make();\n    open.push(s, 0);\n\n    var closest,\n        u, v,\n        cost_of_s_to_u,\n        adjacent_nodes,\n        cost_of_e,\n        cost_of_s_to_u_plus_cost_of_e,\n        cost_of_s_to_v,\n        first_visit;\n    while (!open.empty()) {\n      // In the nodes remaining in graph that have a known cost from s,\n      // find the node, u, that currently has the shortest path from s.\n      closest = open.pop();\n      u = closest.value;\n      cost_of_s_to_u = closest.cost;\n\n      // Get nodes adjacent to u...\n      adjacent_nodes = graph[u] || {};\n\n      // ...and explore the edges that connect u to those nodes, updating\n      // the cost of the shortest paths to any or all of those nodes as\n      // necessary. v is the node across the current edge from u.\n      for (v in adjacent_nodes) {\n        if (adjacent_nodes.hasOwnProperty(v)) {\n          // Get the cost of the edge running from u to v.\n          cost_of_e = adjacent_nodes[v];\n\n          // Cost of s to u plus the cost of u to v across e--this is *a*\n          // cost from s to v that may or may not be less than the current\n          // known cost to v.\n          cost_of_s_to_u_plus_cost_of_e = cost_of_s_to_u + cost_of_e;\n\n          // If we haven't visited v yet OR if the current known cost from s to\n          // v is greater than the new cost we just found (cost of s to u plus\n          // cost of u to v across e), update v's cost in the cost list and\n          // update v's predecessor in the predecessor list (it's now u).\n          cost_of_s_to_v = costs[v];\n          first_visit = (typeof costs[v] === 'undefined');\n          if (first_visit || cost_of_s_to_v > cost_of_s_to_u_plus_cost_of_e) {\n            costs[v] = cost_of_s_to_u_plus_cost_of_e;\n            open.push(v, cost_of_s_to_u_plus_cost_of_e);\n            predecessors[v] = u;\n          }\n        }\n      }\n    }\n\n    if (typeof d !== 'undefined' && typeof costs[d] === 'undefined') {\n      var msg = ['Could not find a path from ', s, ' to ', d, '.'].join('');\n      throw new Error(msg);\n    }\n\n    return predecessors;\n  },\n\n  extract_shortest_path_from_predecessor_list: function(predecessors, d) {\n    var nodes = [];\n    var u = d;\n    var predecessor;\n    while (u) {\n      nodes.push(u);\n      predecessor = predecessors[u];\n      u = predecessors[u];\n    }\n    nodes.reverse();\n    return nodes;\n  },\n\n  find_path: function(graph, s, d) {\n    var predecessors = dijkstra.single_source_shortest_paths(graph, s, d);\n    return dijkstra.extract_shortest_path_from_predecessor_list(\n      predecessors, d);\n  },\n\n  /**\n   * A very naive priority queue implementation.\n   */\n  PriorityQueue: {\n    make: function (opts) {\n      var T = dijkstra.PriorityQueue,\n          t = {},\n          key;\n      opts = opts || {};\n      for (key in T) {\n        if (T.hasOwnProperty(key)) {\n          t[key] = T[key];\n        }\n      }\n      t.queue = [];\n      t.sorter = opts.sorter || T.default_sorter;\n      return t;\n    },\n\n    default_sorter: function (a, b) {\n      return a.cost - b.cost;\n    },\n\n    /**\n     * Add a new item to the queue and ensure the highest priority element\n     * is at the front of the queue.\n     */\n    push: function (value, cost) {\n      var item = {value: value, cost: cost};\n      this.queue.push(item);\n      this.queue.sort(this.sorter);\n    },\n\n    /**\n     * Return the highest priority element in the queue.\n     */\n    pop: function () {\n      return this.queue.shift();\n    },\n\n    empty: function () {\n      return this.queue.length === 0;\n    }\n  }\n};\n\n\n// node.js module exports\nif (typeof module !== 'undefined') {\n  module.exports = dijkstra;\n}\n","const Mode = require('./mode')\nconst NumericData = require('./numeric-data')\nconst AlphanumericData = require('./alphanumeric-data')\nconst ByteData = require('./byte-data')\nconst KanjiData = require('./kanji-data')\nconst Regex = require('./regex')\nconst Utils = require('./utils')\nconst dijkstra = require('dijkstrajs')\n\n/**\n * Returns UTF8 byte length\n *\n * @param  {String} str Input string\n * @return {Number}     Number of byte\n */\nfunction getStringByteLength (str) {\n  return unescape(encodeURIComponent(str)).length\n}\n\n/**\n * Get a list of segments of the specified mode\n * from a string\n *\n * @param  {Mode}   mode Segment mode\n * @param  {String} str  String to process\n * @return {Array}       Array of object with segments data\n */\nfunction getSegments (regex, mode, str) {\n  const segments = []\n  let result\n\n  while ((result = regex.exec(str)) !== null) {\n    segments.push({\n      data: result[0],\n      index: result.index,\n      mode: mode,\n      length: result[0].length\n    })\n  }\n\n  return segments\n}\n\n/**\n * Extracts a series of segments with the appropriate\n * modes from a string\n *\n * @param  {String} dataStr Input string\n * @return {Array}          Array of object with segments data\n */\nfunction getSegmentsFromString (dataStr) {\n  const numSegs = getSegments(Regex.NUMERIC, Mode.NUMERIC, dataStr)\n  const alphaNumSegs = getSegments(Regex.ALPHANUMERIC, Mode.ALPHANUMERIC, dataStr)\n  let byteSegs\n  let kanjiSegs\n\n  if (Utils.isKanjiModeEnabled()) {\n    byteSegs = getSegments(Regex.BYTE, Mode.BYTE, dataStr)\n    kanjiSegs = getSegments(Regex.KANJI, Mode.KANJI, dataStr)\n  } else {\n    byteSegs = getSegments(Regex.BYTE_KANJI, Mode.BYTE, dataStr)\n    kanjiSegs = []\n  }\n\n  const segs = numSegs.concat(alphaNumSegs, byteSegs, kanjiSegs)\n\n  return segs\n    .sort(function (s1, s2) {\n      return s1.index - s2.index\n    })\n    .map(function (obj) {\n      return {\n        data: obj.data,\n        mode: obj.mode,\n        length: obj.length\n      }\n    })\n}\n\n/**\n * Returns how many bits are needed to encode a string of\n * specified length with the specified mode\n *\n * @param  {Number} length String length\n * @param  {Mode} mode     Segment mode\n * @return {Number}        Bit length\n */\nfunction getSegmentBitsLength (length, mode) {\n  switch (mode) {\n    case Mode.NUMERIC:\n      return NumericData.getBitsLength(length)\n    case Mode.ALPHANUMERIC:\n      return AlphanumericData.getBitsLength(length)\n    case Mode.KANJI:\n      return KanjiData.getBitsLength(length)\n    case Mode.BYTE:\n      return ByteData.getBitsLength(length)\n  }\n}\n\n/**\n * Merges adjacent segments which have the same mode\n *\n * @param  {Array} segs Array of object with segments data\n * @return {Array}      Array of object with segments data\n */\nfunction mergeSegments (segs) {\n  return segs.reduce(function (acc, curr) {\n    const prevSeg = acc.length - 1 >= 0 ? acc[acc.length - 1] : null\n    if (prevSeg && prevSeg.mode === curr.mode) {\n      acc[acc.length - 1].data += curr.data\n      return acc\n    }\n\n    acc.push(curr)\n    return acc\n  }, [])\n}\n\n/**\n * Generates a list of all possible nodes combination which\n * will be used to build a segments graph.\n *\n * Nodes are divided by groups. Each group will contain a list of all the modes\n * in which is possible to encode the given text.\n *\n * For example the text '12345' can be encoded as Numeric, Alphanumeric or Byte.\n * The group for '12345' will contain then 3 objects, one for each\n * possible encoding mode.\n *\n * Each node represents a possible segment.\n *\n * @param  {Array} segs Array of object with segments data\n * @return {Array}      Array of object with segments data\n */\nfunction buildNodes (segs) {\n  const nodes = []\n  for (let i = 0; i < segs.length; i++) {\n    const seg = segs[i]\n\n    switch (seg.mode) {\n      case Mode.NUMERIC:\n        nodes.push([seg,\n          { data: seg.data, mode: Mode.ALPHANUMERIC, length: seg.length },\n          { data: seg.data, mode: Mode.BYTE, length: seg.length }\n        ])\n        break\n      case Mode.ALPHANUMERIC:\n        nodes.push([seg,\n          { data: seg.data, mode: Mode.BYTE, length: seg.length }\n        ])\n        break\n      case Mode.KANJI:\n        nodes.push([seg,\n          { data: seg.data, mode: Mode.BYTE, length: getStringByteLength(seg.data) }\n        ])\n        break\n      case Mode.BYTE:\n        nodes.push([\n          { data: seg.data, mode: Mode.BYTE, length: getStringByteLength(seg.data) }\n        ])\n    }\n  }\n\n  return nodes\n}\n\n/**\n * Builds a graph from a list of nodes.\n * All segments in each node group will be connected with all the segments of\n * the next group and so on.\n *\n * At each connection will be assigned a weight depending on the\n * segment's byte length.\n *\n * @param  {Array} nodes    Array of object with segments data\n * @param  {Number} version QR Code version\n * @return {Object}         Graph of all possible segments\n */\nfunction buildGraph (nodes, version) {\n  const table = {}\n  const graph = { start: {} }\n  let prevNodeIds = ['start']\n\n  for (let i = 0; i < nodes.length; i++) {\n    const nodeGroup = nodes[i]\n    const currentNodeIds = []\n\n    for (let j = 0; j < nodeGroup.length; j++) {\n      const node = nodeGroup[j]\n      const key = '' + i + j\n\n      currentNodeIds.push(key)\n      table[key] = { node: node, lastCount: 0 }\n      graph[key] = {}\n\n      for (let n = 0; n < prevNodeIds.length; n++) {\n        const prevNodeId = prevNodeIds[n]\n\n        if (table[prevNodeId] && table[prevNodeId].node.mode === node.mode) {\n          graph[prevNodeId][key] =\n            getSegmentBitsLength(table[prevNodeId].lastCount + node.length, node.mode) -\n            getSegmentBitsLength(table[prevNodeId].lastCount, node.mode)\n\n          table[prevNodeId].lastCount += node.length\n        } else {\n          if (table[prevNodeId]) table[prevNodeId].lastCount = node.length\n\n          graph[prevNodeId][key] = getSegmentBitsLength(node.length, node.mode) +\n            4 + Mode.getCharCountIndicator(node.mode, version) // switch cost\n        }\n      }\n    }\n\n    prevNodeIds = currentNodeIds\n  }\n\n  for (let n = 0; n < prevNodeIds.length; n++) {\n    graph[prevNodeIds[n]].end = 0\n  }\n\n  return { map: graph, table: table }\n}\n\n/**\n * Builds a segment from a specified data and mode.\n * If a mode is not specified, the more suitable will be used.\n *\n * @param  {String} data             Input data\n * @param  {Mode | String} modesHint Data mode\n * @return {Segment}                 Segment\n */\nfunction buildSingleSegment (data, modesHint) {\n  let mode\n  const bestMode = Mode.getBestModeForData(data)\n\n  mode = Mode.from(modesHint, bestMode)\n\n  // Make sure data can be encoded\n  if (mode !== Mode.BYTE && mode.bit < bestMode.bit) {\n    throw new Error('\"' + data + '\"' +\n      ' cannot be encoded with mode ' + Mode.toString(mode) +\n      '.\\n Suggested mode is: ' + Mode.toString(bestMode))\n  }\n\n  // Use Mode.BYTE if Kanji support is disabled\n  if (mode === Mode.KANJI && !Utils.isKanjiModeEnabled()) {\n    mode = Mode.BYTE\n  }\n\n  switch (mode) {\n    case Mode.NUMERIC:\n      return new NumericData(data)\n\n    case Mode.ALPHANUMERIC:\n      return new AlphanumericData(data)\n\n    case Mode.KANJI:\n      return new KanjiData(data)\n\n    case Mode.BYTE:\n      return new ByteData(data)\n  }\n}\n\n/**\n * Builds a list of segments from an array.\n * Array can contain Strings or Objects with segment's info.\n *\n * For each item which is a string, will be generated a segment with the given\n * string and the more appropriate encoding mode.\n *\n * For each item which is an object, will be generated a segment with the given\n * data and mode.\n * Objects must contain at least the property \"data\".\n * If property \"mode\" is not present, the more suitable mode will be used.\n *\n * @param  {Array} array Array of objects with segments data\n * @return {Array}       Array of Segments\n */\nexports.fromArray = function fromArray (array) {\n  return array.reduce(function (acc, seg) {\n    if (typeof seg === 'string') {\n      acc.push(buildSingleSegment(seg, null))\n    } else if (seg.data) {\n      acc.push(buildSingleSegment(seg.data, seg.mode))\n    }\n\n    return acc\n  }, [])\n}\n\n/**\n * Builds an optimized sequence of segments from a string,\n * which will produce the shortest possible bitstream.\n *\n * @param  {String} data    Input string\n * @param  {Number} version QR Code version\n * @return {Array}          Array of segments\n */\nexports.fromString = function fromString (data, version) {\n  const segs = getSegmentsFromString(data, Utils.isKanjiModeEnabled())\n\n  const nodes = buildNodes(segs)\n  const graph = buildGraph(nodes, version)\n  const path = dijkstra.find_path(graph.map, 'start', 'end')\n\n  const optimizedSegs = []\n  for (let i = 1; i < path.length - 1; i++) {\n    optimizedSegs.push(graph.table[path[i]].node)\n  }\n\n  return exports.fromArray(mergeSegments(optimizedSegs))\n}\n\n/**\n * Splits a string in various segments with the modes which\n * best represent their content.\n * The produced segments are far from being optimized.\n * The output of this function is only used to estimate a QR Code version\n * which may contain the data.\n *\n * @param  {string} data Input string\n * @return {Array}       Array of segments\n */\nexports.rawSplit = function rawSplit (data) {\n  return exports.fromArray(\n    getSegmentsFromString(data, Utils.isKanjiModeEnabled())\n  )\n}\n","const Utils = require('./utils')\nconst ECLevel = require('./error-correction-level')\nconst BitBuffer = require('./bit-buffer')\nconst BitMatrix = require('./bit-matrix')\nconst AlignmentPattern = require('./alignment-pattern')\nconst FinderPattern = require('./finder-pattern')\nconst MaskPattern = require('./mask-pattern')\nconst ECCode = require('./error-correction-code')\nconst ReedSolomonEncoder = require('./reed-solomon-encoder')\nconst Version = require('./version')\nconst FormatInfo = require('./format-info')\nconst Mode = require('./mode')\nconst Segments = require('./segments')\n\n/**\n * QRCode for JavaScript\n *\n * modified by Ryan Day for nodejs support\n * Copyright (c) 2011 Ryan Day\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n*/\n\n/**\n * Add finder patterns bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupFinderPattern (matrix, version) {\n  const size = matrix.size\n  const pos = FinderPattern.getPositions(version)\n\n  for (let i = 0; i < pos.length; i++) {\n    const row = pos[i][0]\n    const col = pos[i][1]\n\n    for (let r = -1; r <= 7; r++) {\n      if (row + r <= -1 || size <= row + r) continue\n\n      for (let c = -1; c <= 7; c++) {\n        if (col + c <= -1 || size <= col + c) continue\n\n        if ((r >= 0 && r <= 6 && (c === 0 || c === 6)) ||\n          (c >= 0 && c <= 6 && (r === 0 || r === 6)) ||\n          (r >= 2 && r <= 4 && c >= 2 && c <= 4)) {\n          matrix.set(row + r, col + c, true, true)\n        } else {\n          matrix.set(row + r, col + c, false, true)\n        }\n      }\n    }\n  }\n}\n\n/**\n * Add timing pattern bits to matrix\n *\n * Note: this function must be called before {@link setupAlignmentPattern}\n *\n * @param  {BitMatrix} matrix Modules matrix\n */\nfunction setupTimingPattern (matrix) {\n  const size = matrix.size\n\n  for (let r = 8; r < size - 8; r++) {\n    const value = r % 2 === 0\n    matrix.set(r, 6, value, true)\n    matrix.set(6, r, value, true)\n  }\n}\n\n/**\n * Add alignment patterns bits to matrix\n *\n * Note: this function must be called after {@link setupTimingPattern}\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupAlignmentPattern (matrix, version) {\n  const pos = AlignmentPattern.getPositions(version)\n\n  for (let i = 0; i < pos.length; i++) {\n    const row = pos[i][0]\n    const col = pos[i][1]\n\n    for (let r = -2; r <= 2; r++) {\n      for (let c = -2; c <= 2; c++) {\n        if (r === -2 || r === 2 || c === -2 || c === 2 ||\n          (r === 0 && c === 0)) {\n          matrix.set(row + r, col + c, true, true)\n        } else {\n          matrix.set(row + r, col + c, false, true)\n        }\n      }\n    }\n  }\n}\n\n/**\n * Add version info bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupVersionInfo (matrix, version) {\n  const size = matrix.size\n  const bits = Version.getEncodedBits(version)\n  let row, col, mod\n\n  for (let i = 0; i < 18; i++) {\n    row = Math.floor(i / 3)\n    col = i % 3 + size - 8 - 3\n    mod = ((bits >> i) & 1) === 1\n\n    matrix.set(row, col, mod, true)\n    matrix.set(col, row, mod, true)\n  }\n}\n\n/**\n * Add format info bits to matrix\n *\n * @param  {BitMatrix} matrix               Modules matrix\n * @param  {ErrorCorrectionLevel}    errorCorrectionLevel Error correction level\n * @param  {Number}    maskPattern          Mask pattern reference value\n */\nfunction setupFormatInfo (matrix, errorCorrectionLevel, maskPattern) {\n  const size = matrix.size\n  const bits = FormatInfo.getEncodedBits(errorCorrectionLevel, maskPattern)\n  let i, mod\n\n  for (i = 0; i < 15; i++) {\n    mod = ((bits >> i) & 1) === 1\n\n    // vertical\n    if (i < 6) {\n      matrix.set(i, 8, mod, true)\n    } else if (i < 8) {\n      matrix.set(i + 1, 8, mod, true)\n    } else {\n      matrix.set(size - 15 + i, 8, mod, true)\n    }\n\n    // horizontal\n    if (i < 8) {\n      matrix.set(8, size - i - 1, mod, true)\n    } else if (i < 9) {\n      matrix.set(8, 15 - i - 1 + 1, mod, true)\n    } else {\n      matrix.set(8, 15 - i - 1, mod, true)\n    }\n  }\n\n  // fixed module\n  matrix.set(size - 8, 8, 1, true)\n}\n\n/**\n * Add encoded data bits to matrix\n *\n * @param  {BitMatrix}  matrix Modules matrix\n * @param  {Uint8Array} data   Data codewords\n */\nfunction setupData (matrix, data) {\n  const size = matrix.size\n  let inc = -1\n  let row = size - 1\n  let bitIndex = 7\n  let byteIndex = 0\n\n  for (let col = size - 1; col > 0; col -= 2) {\n    if (col === 6) col--\n\n    while (true) {\n      for (let c = 0; c < 2; c++) {\n        if (!matrix.isReserved(row, col - c)) {\n          let dark = false\n\n          if (byteIndex < data.length) {\n            dark = (((data[byteIndex] >>> bitIndex) & 1) === 1)\n          }\n\n          matrix.set(row, col - c, dark)\n          bitIndex--\n\n          if (bitIndex === -1) {\n            byteIndex++\n            bitIndex = 7\n          }\n        }\n      }\n\n      row += inc\n\n      if (row < 0 || size <= row) {\n        row -= inc\n        inc = -inc\n        break\n      }\n    }\n  }\n}\n\n/**\n * Create encoded codewords from data input\n *\n * @param  {Number}   version              QR Code version\n * @param  {ErrorCorrectionLevel}   errorCorrectionLevel Error correction level\n * @param  {ByteData} data                 Data input\n * @return {Uint8Array}                    Buffer containing encoded codewords\n */\nfunction createData (version, errorCorrectionLevel, segments) {\n  // Prepare data buffer\n  const buffer = new BitBuffer()\n\n  segments.forEach(function (data) {\n    // prefix data with mode indicator (4 bits)\n    buffer.put(data.mode.bit, 4)\n\n    // Prefix data with character count indicator.\n    // The character count indicator is a string of bits that represents the\n    // number of characters that are being encoded.\n    // The character count indicator must be placed after the mode indicator\n    // and must be a certain number of bits long, depending on the QR version\n    // and data mode\n    // @see {@link Mode.getCharCountIndicator}.\n    buffer.put(data.getLength(), Mode.getCharCountIndicator(data.mode, version))\n\n    // add binary data sequence to buffer\n    data.write(buffer)\n  })\n\n  // Calculate required number of bits\n  const totalCodewords = Utils.getSymbolTotalCodewords(version)\n  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel)\n  const dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8\n\n  // Add a terminator.\n  // If the bit string is shorter than the total number of required bits,\n  // a terminator of up to four 0s must be added to the right side of the string.\n  // If the bit string is more than four bits shorter than the required number of bits,\n  // add four 0s to the end.\n  if (buffer.getLengthInBits() + 4 <= dataTotalCodewordsBits) {\n    buffer.put(0, 4)\n  }\n\n  // If the bit string is fewer than four bits shorter, add only the number of 0s that\n  // are needed to reach the required number of bits.\n\n  // After adding the terminator, if the number of bits in the string is not a multiple of 8,\n  // pad the string on the right with 0s to make the string's length a multiple of 8.\n  while (buffer.getLengthInBits() % 8 !== 0) {\n    buffer.putBit(0)\n  }\n\n  // Add pad bytes if the string is still shorter than the total number of required bits.\n  // Extend the buffer to fill the data capacity of the symbol corresponding to\n  // the Version and Error Correction Level by adding the Pad Codewords 11101100 (0xEC)\n  // and 00010001 (0x11) alternately.\n  const remainingByte = (dataTotalCodewordsBits - buffer.getLengthInBits()) / 8\n  for (let i = 0; i < remainingByte; i++) {\n    buffer.put(i % 2 ? 0x11 : 0xEC, 8)\n  }\n\n  return createCodewords(buffer, version, errorCorrectionLevel)\n}\n\n/**\n * Encode input data with Reed-Solomon and return codewords with\n * relative error correction bits\n *\n * @param  {BitBuffer} bitBuffer            Data to encode\n * @param  {Number}    version              QR Code version\n * @param  {ErrorCorrectionLevel} errorCorrectionLevel Error correction level\n * @return {Uint8Array}                     Buffer containing encoded codewords\n */\nfunction createCodewords (bitBuffer, version, errorCorrectionLevel) {\n  // Total codewords for this QR code version (Data + Error correction)\n  const totalCodewords = Utils.getSymbolTotalCodewords(version)\n\n  // Total number of error correction codewords\n  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel)\n\n  // Total number of data codewords\n  const dataTotalCodewords = totalCodewords - ecTotalCodewords\n\n  // Total number of blocks\n  const ecTotalBlocks = ECCode.getBlocksCount(version, errorCorrectionLevel)\n\n  // Calculate how many blocks each group should contain\n  const blocksInGroup2 = totalCodewords % ecTotalBlocks\n  const blocksInGroup1 = ecTotalBlocks - blocksInGroup2\n\n  const totalCodewordsInGroup1 = Math.floor(totalCodewords / ecTotalBlocks)\n\n  const dataCodewordsInGroup1 = Math.floor(dataTotalCodewords / ecTotalBlocks)\n  const dataCodewordsInGroup2 = dataCodewordsInGroup1 + 1\n\n  // Number of EC codewords is the same for both groups\n  const ecCount = totalCodewordsInGroup1 - dataCodewordsInGroup1\n\n  // Initialize a Reed-Solomon encoder with a generator polynomial of degree ecCount\n  const rs = new ReedSolomonEncoder(ecCount)\n\n  let offset = 0\n  const dcData = new Array(ecTotalBlocks)\n  const ecData = new Array(ecTotalBlocks)\n  let maxDataSize = 0\n  const buffer = new Uint8Array(bitBuffer.buffer)\n\n  // Divide the buffer into the required number of blocks\n  for (let b = 0; b < ecTotalBlocks; b++) {\n    const dataSize = b < blocksInGroup1 ? dataCodewordsInGroup1 : dataCodewordsInGroup2\n\n    // extract a block of data from buffer\n    dcData[b] = buffer.slice(offset, offset + dataSize)\n\n    // Calculate EC codewords for this data block\n    ecData[b] = rs.encode(dcData[b])\n\n    offset += dataSize\n    maxDataSize = Math.max(maxDataSize, dataSize)\n  }\n\n  // Create final data\n  // Interleave the data and error correction codewords from each block\n  const data = new Uint8Array(totalCodewords)\n  let index = 0\n  let i, r\n\n  // Add data codewords\n  for (i = 0; i < maxDataSize; i++) {\n    for (r = 0; r < ecTotalBlocks; r++) {\n      if (i < dcData[r].length) {\n        data[index++] = dcData[r][i]\n      }\n    }\n  }\n\n  // Apped EC codewords\n  for (i = 0; i < ecCount; i++) {\n    for (r = 0; r < ecTotalBlocks; r++) {\n      data[index++] = ecData[r][i]\n    }\n  }\n\n  return data\n}\n\n/**\n * Build QR Code symbol\n *\n * @param  {String} data                 Input string\n * @param  {Number} version              QR Code version\n * @param  {ErrorCorretionLevel} errorCorrectionLevel Error level\n * @param  {MaskPattern} maskPattern     Mask pattern\n * @return {Object}                      Object containing symbol data\n */\nfunction createSymbol (data, version, errorCorrectionLevel, maskPattern) {\n  let segments\n\n  if (Array.isArray(data)) {\n    segments = Segments.fromArray(data)\n  } else if (typeof data === 'string') {\n    let estimatedVersion = version\n\n    if (!estimatedVersion) {\n      const rawSegments = Segments.rawSplit(data)\n\n      // Estimate best version that can contain raw splitted segments\n      estimatedVersion = Version.getBestVersionForData(rawSegments, errorCorrectionLevel)\n    }\n\n    // Build optimized segments\n    // If estimated version is undefined, try with the highest version\n    segments = Segments.fromString(data, estimatedVersion || 40)\n  } else {\n    throw new Error('Invalid data')\n  }\n\n  // Get the min version that can contain data\n  const bestVersion = Version.getBestVersionForData(segments, errorCorrectionLevel)\n\n  // If no version is found, data cannot be stored\n  if (!bestVersion) {\n    throw new Error('The amount of data is too big to be stored in a QR Code')\n  }\n\n  // If not specified, use min version as default\n  if (!version) {\n    version = bestVersion\n\n  // Check if the specified version can contain the data\n  } else if (version < bestVersion) {\n    throw new Error('\\n' +\n      'The chosen QR Code version cannot contain this amount of data.\\n' +\n      'Minimum version required to store current data is: ' + bestVersion + '.\\n'\n    )\n  }\n\n  const dataBits = createData(version, errorCorrectionLevel, segments)\n\n  // Allocate matrix buffer\n  const moduleCount = Utils.getSymbolSize(version)\n  const modules = new BitMatrix(moduleCount)\n\n  // Add function modules\n  setupFinderPattern(modules, version)\n  setupTimingPattern(modules)\n  setupAlignmentPattern(modules, version)\n\n  // Add temporary dummy bits for format info just to set them as reserved.\n  // This is needed to prevent these bits from being masked by {@link MaskPattern.applyMask}\n  // since the masking operation must be performed only on the encoding region.\n  // These blocks will be replaced with correct values later in code.\n  setupFormatInfo(modules, errorCorrectionLevel, 0)\n\n  if (version >= 7) {\n    setupVersionInfo(modules, version)\n  }\n\n  // Add data codewords\n  setupData(modules, dataBits)\n\n  if (isNaN(maskPattern)) {\n    // Find best mask pattern\n    maskPattern = MaskPattern.getBestMask(modules,\n      setupFormatInfo.bind(null, modules, errorCorrectionLevel))\n  }\n\n  // Apply mask pattern\n  MaskPattern.applyMask(maskPattern, modules)\n\n  // Replace format info bits with correct values\n  setupFormatInfo(modules, errorCorrectionLevel, maskPattern)\n\n  return {\n    modules: modules,\n    version: version,\n    errorCorrectionLevel: errorCorrectionLevel,\n    maskPattern: maskPattern,\n    segments: segments\n  }\n}\n\n/**\n * QR Code\n *\n * @param {String | Array} data                 Input data\n * @param {Object} options                      Optional configurations\n * @param {Number} options.version              QR Code version\n * @param {String} options.errorCorrectionLevel Error correction level\n * @param {Function} options.toSJISFunc         Helper func to convert utf8 to sjis\n */\nexports.create = function create (data, options) {\n  if (typeof data === 'undefined' || data === '') {\n    throw new Error('No input text')\n  }\n\n  let errorCorrectionLevel = ECLevel.M\n  let version\n  let mask\n\n  if (typeof options !== 'undefined') {\n    // Use higher error correction level as default\n    errorCorrectionLevel = ECLevel.from(options.errorCorrectionLevel, ECLevel.M)\n    version = Version.from(options.version)\n    mask = MaskPattern.from(options.maskPattern)\n\n    if (options.toSJISFunc) {\n      Utils.setToSJISFunction(options.toSJISFunc)\n    }\n  }\n\n  return createSymbol(data, version, errorCorrectionLevel, mask)\n}\n","function hex2rgba (hex) {\n  if (typeof hex === 'number') {\n    hex = hex.toString()\n  }\n\n  if (typeof hex !== 'string') {\n    throw new Error('Color should be defined as hex string')\n  }\n\n  let hexCode = hex.slice().replace('#', '').split('')\n  if (hexCode.length < 3 || hexCode.length === 5 || hexCode.length > 8) {\n    throw new Error('Invalid hex color: ' + hex)\n  }\n\n  // Convert from short to long form (fff -> ffffff)\n  if (hexCode.length === 3 || hexCode.length === 4) {\n    hexCode = Array.prototype.concat.apply([], hexCode.map(function (c) {\n      return [c, c]\n    }))\n  }\n\n  // Add default alpha value\n  if (hexCode.length === 6) hexCode.push('F', 'F')\n\n  const hexValue = parseInt(hexCode.join(''), 16)\n\n  return {\n    r: (hexValue >> 24) & 255,\n    g: (hexValue >> 16) & 255,\n    b: (hexValue >> 8) & 255,\n    a: hexValue & 255,\n    hex: '#' + hexCode.slice(0, 6).join('')\n  }\n}\n\nexports.getOptions = function getOptions (options) {\n  if (!options) options = {}\n  if (!options.color) options.color = {}\n\n  const margin = typeof options.margin === 'undefined' ||\n    options.margin === null ||\n    options.margin < 0\n    ? 4\n    : options.margin\n\n  const width = options.width && options.width >= 21 ? options.width : undefined\n  const scale = options.scale || 4\n\n  return {\n    width: width,\n    scale: width ? 4 : scale,\n    margin: margin,\n    color: {\n      dark: hex2rgba(options.color.dark || '#000000ff'),\n      light: hex2rgba(options.color.light || '#ffffffff')\n    },\n    type: options.type,\n    rendererOpts: options.rendererOpts || {}\n  }\n}\n\nexports.getScale = function getScale (qrSize, opts) {\n  return opts.width && opts.width >= qrSize + opts.margin * 2\n    ? opts.width / (qrSize + opts.margin * 2)\n    : opts.scale\n}\n\nexports.getImageWidth = function getImageWidth (qrSize, opts) {\n  const scale = exports.getScale(qrSize, opts)\n  return Math.floor((qrSize + opts.margin * 2) * scale)\n}\n\nexports.qrToImageData = function qrToImageData (imgData, qr, opts) {\n  const size = qr.modules.size\n  const data = qr.modules.data\n  const scale = exports.getScale(size, opts)\n  const symbolSize = Math.floor((size + opts.margin * 2) * scale)\n  const scaledMargin = opts.margin * scale\n  const palette = [opts.color.light, opts.color.dark]\n\n  for (let i = 0; i < symbolSize; i++) {\n    for (let j = 0; j < symbolSize; j++) {\n      let posDst = (i * symbolSize + j) * 4\n      let pxColor = opts.color.light\n\n      if (i >= scaledMargin && j >= scaledMargin &&\n        i < symbolSize - scaledMargin && j < symbolSize - scaledMargin) {\n        const iSrc = Math.floor((i - scaledMargin) / scale)\n        const jSrc = Math.floor((j - scaledMargin) / scale)\n        pxColor = palette[data[iSrc * size + jSrc] ? 1 : 0]\n      }\n\n      imgData[posDst++] = pxColor.r\n      imgData[posDst++] = pxColor.g\n      imgData[posDst++] = pxColor.b\n      imgData[posDst] = pxColor.a\n    }\n  }\n}\n","const Utils = require('./utils')\n\nfunction clearCanvas (ctx, canvas, size) {\n  ctx.clearRect(0, 0, canvas.width, canvas.height)\n\n  if (!canvas.style) canvas.style = {}\n  canvas.height = size\n  canvas.width = size\n  canvas.style.height = size + 'px'\n  canvas.style.width = size + 'px'\n}\n\nfunction getCanvasElement () {\n  try {\n    return document.createElement('canvas')\n  } catch (e) {\n    throw new Error('You need to specify a canvas element')\n  }\n}\n\nexports.render = function render (qrData, canvas, options) {\n  let opts = options\n  let canvasEl = canvas\n\n  if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {\n    opts = canvas\n    canvas = undefined\n  }\n\n  if (!canvas) {\n    canvasEl = getCanvasElement()\n  }\n\n  opts = Utils.getOptions(opts)\n  const size = Utils.getImageWidth(qrData.modules.size, opts)\n\n  const ctx = canvasEl.getContext('2d')\n  const image = ctx.createImageData(size, size)\n  Utils.qrToImageData(image.data, qrData, opts)\n\n  clearCanvas(ctx, canvasEl, size)\n  ctx.putImageData(image, 0, 0)\n\n  return canvasEl\n}\n\nexports.renderToDataURL = function renderToDataURL (qrData, canvas, options) {\n  let opts = options\n\n  if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {\n    opts = canvas\n    canvas = undefined\n  }\n\n  if (!opts) opts = {}\n\n  const canvasEl = exports.render(qrData, canvas, opts)\n\n  const type = opts.type || 'image/png'\n  const rendererOpts = opts.rendererOpts || {}\n\n  return canvasEl.toDataURL(type, rendererOpts.quality)\n}\n","const Utils = require('./utils')\n\nfunction getColorAttrib (color, attrib) {\n  const alpha = color.a / 255\n  const str = attrib + '=\"' + color.hex + '\"'\n\n  return alpha < 1\n    ? str + ' ' + attrib + '-opacity=\"' + alpha.toFixed(2).slice(1) + '\"'\n    : str\n}\n\nfunction svgCmd (cmd, x, y) {\n  let str = cmd + x\n  if (typeof y !== 'undefined') str += ' ' + y\n\n  return str\n}\n\nfunction qrToPath (data, size, margin) {\n  let path = ''\n  let moveBy = 0\n  let newRow = false\n  let lineLength = 0\n\n  for (let i = 0; i < data.length; i++) {\n    const col = Math.floor(i % size)\n    const row = Math.floor(i / size)\n\n    if (!col && !newRow) newRow = true\n\n    if (data[i]) {\n      lineLength++\n\n      if (!(i > 0 && col > 0 && data[i - 1])) {\n        path += newRow\n          ? svgCmd('M', col + margin, 0.5 + row + margin)\n          : svgCmd('m', moveBy, 0)\n\n        moveBy = 0\n        newRow = false\n      }\n\n      if (!(col + 1 < size && data[i + 1])) {\n        path += svgCmd('h', lineLength)\n        lineLength = 0\n      }\n    } else {\n      moveBy++\n    }\n  }\n\n  return path\n}\n\nexports.render = function render (qrData, options, cb) {\n  const opts = Utils.getOptions(options)\n  const size = qrData.modules.size\n  const data = qrData.modules.data\n  const qrcodesize = size + opts.margin * 2\n\n  const bg = !opts.color.light.a\n    ? ''\n    : '<path ' + getColorAttrib(opts.color.light, 'fill') +\n      ' d=\"M0 0h' + qrcodesize + 'v' + qrcodesize + 'H0z\"/>'\n\n  const path =\n    '<path ' + getColorAttrib(opts.color.dark, 'stroke') +\n    ' d=\"' + qrToPath(data, size, opts.margin) + '\"/>'\n\n  const viewBox = 'viewBox=\"' + '0 0 ' + qrcodesize + ' ' + qrcodesize + '\"'\n\n  const width = !opts.width ? '' : 'width=\"' + opts.width + '\" height=\"' + opts.width + '\" '\n\n  const svgTag = '<svg xmlns=\"http://www.w3.org/2000/svg\" ' + width + viewBox + ' shape-rendering=\"crispEdges\">' + bg + path + '</svg>\\n'\n\n  if (typeof cb === 'function') {\n    cb(null, svgTag)\n  }\n\n  return svgTag\n}\n","\nconst canPromise = require('./can-promise')\n\nconst QRCode = require('./core/qrcode')\nconst CanvasRenderer = require('./renderer/canvas')\nconst SvgRenderer = require('./renderer/svg-tag.js')\n\nfunction renderCanvas (renderFunc, canvas, text, opts, cb) {\n  const args = [].slice.call(arguments, 1)\n  const argsNum = args.length\n  const isLastArgCb = typeof args[argsNum - 1] === 'function'\n\n  if (!isLastArgCb && !canPromise()) {\n    throw new Error('Callback required as last argument')\n  }\n\n  if (isLastArgCb) {\n    if (argsNum < 2) {\n      throw new Error('Too few arguments provided')\n    }\n\n    if (argsNum === 2) {\n      cb = text\n      text = canvas\n      canvas = opts = undefined\n    } else if (argsNum === 3) {\n      if (canvas.getContext && typeof cb === 'undefined') {\n        cb = opts\n        opts = undefined\n      } else {\n        cb = opts\n        opts = text\n        text = canvas\n        canvas = undefined\n      }\n    }\n  } else {\n    if (argsNum < 1) {\n      throw new Error('Too few arguments provided')\n    }\n\n    if (argsNum === 1) {\n      text = canvas\n      canvas = opts = undefined\n    } else if (argsNum === 2 && !canvas.getContext) {\n      opts = text\n      text = canvas\n      canvas = undefined\n    }\n\n    return new Promise(function (resolve, reject) {\n      try {\n        const data = QRCode.create(text, opts)\n        resolve(renderFunc(data, canvas, opts))\n      } catch (e) {\n        reject(e)\n      }\n    })\n  }\n\n  try {\n    const data = QRCode.create(text, opts)\n    cb(null, renderFunc(data, canvas, opts))\n  } catch (e) {\n    cb(e)\n  }\n}\n\nexports.create = QRCode.create\nexports.toCanvas = renderCanvas.bind(null, CanvasRenderer.render)\nexports.toDataURL = renderCanvas.bind(null, CanvasRenderer.renderToDataURL)\n\n// only svg for now.\nexports.toString = renderCanvas.bind(null, function (data, _, opts) {\n  return SvgRenderer.render(data, opts)\n})\n","/*! vue-qrcode v2.0.0 | (c) 2018-present Chen Fengyuan | MIT */\nimport { defineComponent, h } from 'vue';\nimport { toString, toDataURL, toCanvas } from 'qrcode';\n\nconst EVENT_READY = 'ready';\r\nvar index = defineComponent({\r\n    name: 'VueQrcode',\r\n    props: {\r\n        /**\r\n         * The value of the QR code.\r\n         */\r\n        value: {\r\n            type: String,\r\n            default: undefined,\r\n        },\r\n        /**\r\n         * The options for the QR code generator.\r\n         * {@link https://github.com/soldair/node-qrcode#qr-code-options}\r\n         */\r\n        options: {\r\n            type: Object,\r\n            default: undefined,\r\n        },\r\n        /**\r\n         * The tag name of the component's root element.\r\n         */\r\n        tag: {\r\n            type: String,\r\n            default: 'canvas',\r\n        },\r\n    },\r\n    emits: [EVENT_READY],\r\n    watch: {\r\n        $props: {\r\n            deep: true,\r\n            immediate: true,\r\n            /**\r\n             * Update the QR code when props changed.\r\n             */\r\n            handler() {\r\n                if (this.$el) {\r\n                    this.generate();\r\n                }\r\n            },\r\n        },\r\n    },\r\n    mounted() {\r\n        this.generate();\r\n    },\r\n    methods: {\r\n        /**\r\n         * Generate QR code.\r\n         */\r\n        generate() {\r\n            const options = this.options || {};\r\n            const value = String(this.value);\r\n            const done = () => {\r\n                this.$emit(EVENT_READY, this.$el);\r\n            };\r\n            switch (this.tag) {\r\n                case 'canvas':\r\n                    toCanvas(this.$el, value, options, (error) => {\r\n                        if (error) {\r\n                            throw error;\r\n                        }\r\n                        done();\r\n                    });\r\n                    break;\r\n                case 'img':\r\n                    toDataURL(value, options, (error, url) => {\r\n                        if (error) {\r\n                            throw error;\r\n                        }\r\n                        this.$el.src = url;\r\n                        this.$el.onload = done;\r\n                    });\r\n                    break;\r\n                case 'svg':\r\n                    toString(value, options, (error, string) => {\r\n                        if (error) {\r\n                            throw error;\r\n                        }\r\n                        const div = document.createElement('div');\r\n                        div.innerHTML = string;\r\n                        const svg = div.querySelector('svg');\r\n                        if (svg) {\r\n                            const { attributes, childNodes } = svg;\r\n                            Object.keys(attributes).forEach((key) => {\r\n                                const attribute = attributes[Number(key)];\r\n                                this.$el.setAttribute(attribute.name, attribute.value);\r\n                            });\r\n                            Object.keys(childNodes).forEach((key) => {\r\n                                const childNode = childNodes[Number(key)];\r\n                                this.$el.appendChild(childNode.cloneNode(true));\r\n                            });\r\n                            done();\r\n                        }\r\n                    });\r\n                    break;\r\n            }\r\n        },\r\n    },\r\n    render() {\r\n        return h(this.tag, this.$slots.default);\r\n    },\r\n});\n\nexport { index as default };\n","import RecoveryCodes from './mfa_backup_codes.vue'\nimport TOTP from './mfa_totp.vue'\nimport Confirm from './confirm.vue'\nimport VueQrcode from '@chenfengyuan/vue-qrcode'\nimport { mapState } from 'vuex'\n\nconst Mfa = {\n  data: () => ({\n    settings: { // current settings of MFA\n      available: false,\n      enabled: false,\n      totp: false\n    },\n    setupState: { // setup mfa\n      state: '', // state of setup. '' -> 'getBackupCodes' -> 'setupOTP' -> 'complete'\n      setupOTPState: '' // state of setup otp. '' -> 'prepare' -> 'confirm' -> 'complete'\n    },\n    backupCodes: {\n      getNewCodes: false,\n      inProgress: false, //  progress of fetch codes\n      codes: []\n    },\n    otpSettings: { // pre-setup setting of OTP. secret key, qrcode url.\n      provisioning_uri: '',\n      key: ''\n    },\n    currentPassword: null,\n    otpConfirmToken: null,\n    error: null,\n    readyInit: false\n  }),\n  components: {\n    'recovery-codes': RecoveryCodes,\n    'totp-item': TOTP,\n    qrcode: VueQrcode,\n    confirm: Confirm\n  },\n  computed: {\n    canSetupOTP () {\n      return (\n        (this.setupInProgress && this.backupCodesPrepared) ||\n          this.settings.enabled\n      ) && !this.settings.totp && !this.setupOTPInProgress\n    },\n    setupInProgress () {\n      return this.setupState.state !== '' && this.setupState.state !== 'complete'\n    },\n    setupOTPInProgress () {\n      return this.setupState.state === 'setupOTP' && !this.completedOTP\n    },\n    prepareOTP () {\n      return this.setupState.setupOTPState === 'prepare'\n    },\n    confirmOTP () {\n      return this.setupState.setupOTPState === 'confirm'\n    },\n    completedOTP () {\n      return this.setupState.setupOTPState === 'completed'\n    },\n    backupCodesPrepared () {\n      return !this.backupCodes.inProgress && this.backupCodes.codes.length > 0\n    },\n    confirmNewBackupCodes () {\n      return this.backupCodes.getNewCodes\n    },\n    ...mapState({\n      backendInteractor: (state) => state.api.backendInteractor\n    })\n  },\n\n  methods: {\n    activateOTP () {\n      if (!this.settings.enabled) {\n        this.setupState.state = 'getBackupcodes'\n        this.fetchBackupCodes()\n      }\n    },\n    fetchBackupCodes () {\n      this.backupCodes.inProgress = true\n      this.backupCodes.codes = []\n\n      return this.backendInteractor.generateMfaBackupCodes()\n        .then((res) => {\n          this.backupCodes.codes = res.codes\n          this.backupCodes.inProgress = false\n        })\n    },\n    getBackupCodes () { // get a new backup codes\n      this.backupCodes.getNewCodes = true\n    },\n    confirmBackupCodes () { // confirm getting new backup codes\n      this.fetchBackupCodes().then(() => {\n        this.backupCodes.getNewCodes = false\n      })\n    },\n    cancelBackupCodes () { // cancel confirm form of new backup codes\n      this.backupCodes.getNewCodes = false\n    },\n\n    // Setup OTP\n    setupOTP () { // prepare setup OTP\n      this.setupState.state = 'setupOTP'\n      this.setupState.setupOTPState = 'prepare'\n      this.backendInteractor.mfaSetupOTP()\n        .then((res) => {\n          this.otpSettings = res\n          this.setupState.setupOTPState = 'confirm'\n        })\n    },\n    doConfirmOTP () { // handler confirm enable OTP\n      this.error = null\n      this.backendInteractor.mfaConfirmOTP({\n        token: this.otpConfirmToken,\n        password: this.currentPassword\n      })\n        .then((res) => {\n          if (res.error) {\n            this.error = res.error\n            return\n          }\n          this.completeSetup()\n        })\n    },\n\n    completeSetup () {\n      this.setupState.setupOTPState = 'complete'\n      this.setupState.state = 'complete'\n      this.currentPassword = null\n      this.error = null\n      this.fetchSettings()\n    },\n    cancelSetup () { // cancel setup\n      this.setupState.setupOTPState = ''\n      this.setupState.state = ''\n      this.currentPassword = null\n      this.error = null\n    },\n    // end Setup OTP\n\n    // fetch settings from server\n    async fetchSettings () {\n      const result = await this.backendInteractor.settingsMFA()\n      if (result.error) return\n      this.settings = result.settings\n      this.settings.available = true\n      return result\n    }\n  },\n  mounted () {\n    this.fetchSettings().then(() => {\n      this.readyInit = true\n    })\n  }\n}\nexport default Mfa\n","<template>\n  <div\n    v-if=\"readyInit && settings.available\"\n    class=\"setting-item mfa-settings\"\n  >\n    <div class=\"mfa-heading\">\n      <h2>{{ $t('settings.mfa.title') }}</h2>\n    </div>\n\n    <div>\n      <div\n        v-if=\"!setupInProgress\"\n        class=\"setting-item\"\n      >\n        <!-- Enabled methods -->\n        <h3>{{ $t('settings.mfa.authentication_methods') }}</h3>\n        <totp-item\n          :settings=\"settings\"\n          @deactivate=\"fetchSettings\"\n          @activate=\"activateOTP\"\n        />\n        <br>\n\n        <div v-if=\"settings.enabled\">\n          <!-- backup codes block-->\n          <recovery-codes\n            v-if=\"!confirmNewBackupCodes\"\n            :backup-codes=\"backupCodes\"\n          />\n          <button\n            v-if=\"!confirmNewBackupCodes\"\n            class=\"btn button-default\"\n            @click=\"getBackupCodes\"\n          >\n            {{ $t('settings.mfa.generate_new_recovery_codes') }}\n          </button>\n\n          <div v-if=\"confirmNewBackupCodes\">\n            <confirm\n              :disabled=\"backupCodes.inProgress\"\n              @confirm=\"confirmBackupCodes\"\n              @cancel=\"cancelBackupCodes\"\n            >\n              <p class=\"warning\">\n                {{ $t('settings.mfa.warning_of_generate_new_codes') }}\n              </p>\n            </confirm>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"setupInProgress\">\n        <!-- setup block-->\n\n        <h3>{{ $t('settings.mfa.setup_otp') }}</h3>\n\n        <recovery-codes\n          v-if=\"!setupOTPInProgress\"\n          :backup-codes=\"backupCodes\"\n        />\n\n        <button\n          v-if=\"canSetupOTP\"\n          class=\"btn button-default\"\n          @click=\"cancelSetup\"\n        >\n          {{ $t('general.cancel') }}\n        </button>\n\n        <button\n          v-if=\"canSetupOTP\"\n          class=\"btn button-default\"\n          @click=\"setupOTP\"\n        >\n          {{ $t('settings.mfa.setup_otp') }}\n        </button>\n\n        <template v-if=\"setupOTPInProgress\">\n          <i v-if=\"prepareOTP\">{{ $t('settings.mfa.wait_pre_setup_otp') }}</i>\n\n          <div v-if=\"confirmOTP\">\n            <div class=\"setup-otp\">\n              <div class=\"qr-code\">\n                <h4>{{ $t('settings.mfa.scan.title') }}</h4>\n                <p>{{ $t('settings.mfa.scan.desc') }}</p>\n                <qrcode\n                  :value=\"otpSettings.provisioning_uri\"\n                  :options=\"{ width: 200 }\"\n                />\n                <p>\n                  {{ $t('settings.mfa.scan.secret_code') }}:\n                  {{ otpSettings.key }}\n                </p>\n              </div>\n\n              <div class=\"verify\">\n                <h4>{{ $t('general.verify') }}</h4>\n                <p>{{ $t('settings.mfa.verify.desc') }}</p>\n                <input\n                  v-model=\"otpConfirmToken\"\n                  type=\"text\"\n                  class=\"input\"\n                >\n\n                <p>{{ $t('settings.enter_current_password_to_confirm') }}:</p>\n                <input\n                  v-model=\"currentPassword\"\n                  type=\"password\"\n                  class=\"input\"\n                >\n                <div class=\"confirm-otp-actions\">\n                  <button\n                    class=\"btn button-default\"\n                    @click=\"doConfirmOTP\"\n                  >\n                    {{ $t('settings.mfa.confirm_and_enable') }}\n                  </button>\n                  <button\n                    class=\"btn button-default\"\n                    @click=\"cancelSetup\"\n                  >\n                    {{ $t('general.cancel') }}\n                  </button>\n                </div>\n                <div\n                  v-if=\"error\"\n                  class=\"alert error\"\n                >\n                  {{ error }}\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script src=\"./mfa.js\"></script>\n<style lang=\"scss\">\n.mfa-settings {\n  .mfa-heading,\n  .method-item {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    align-items: baseline;\n  }\n\n  .warning {\n    color: var(--cOrange);\n  }\n\n  .setup-otp {\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n\n    .qr-code {\n      flex: 1;\n      padding-right: 10px;\n    }\n    .verify { flex: 1; }\n    .error { margin: 4px 0 0; }\n\n    .confirm-otp-actions {\n      button {\n        width: 15em;\n        margin-top: 5px;\n      }\n    }\n  }\n}\n</style>\n","import ProgressButton from 'src/components/progress_button/progress_button.vue'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport Mfa from './mfa.vue'\nimport localeService from 'src/services/locale/locale.service.js'\nimport { useOAuthTokensStore } from 'src/stores/oauth_tokens'\n\nconst SecurityTab = {\n  data () {\n    return {\n      newEmail: '',\n      changeEmailError: false,\n      changeEmailPassword: '',\n      changedEmail: false,\n      deletingAccount: false,\n      deleteAccountConfirmPasswordInput: '',\n      deleteAccountError: false,\n      changePasswordInputs: ['', '', ''],\n      changedPassword: false,\n      changePasswordError: false,\n      moveAccountTarget: '',\n      moveAccountPassword: '',\n      movedAccount: false,\n      moveAccountError: false,\n      aliases: [],\n      listAliasesError: false,\n      addAliasTarget: '',\n      addedAlias: false,\n      addAliasError: false\n    }\n  },\n  created () {\n    useOAuthTokensStore().fetchTokens()\n    this.fetchAliases()\n  },\n  components: {\n    ProgressButton,\n    Mfa,\n    Checkbox\n  },\n  computed: {\n    user () {\n      return this.$store.state.users.currentUser\n    },\n    pleromaBackend () {\n      return this.$store.state.instance.pleromaBackend\n    },\n    oauthTokens () {\n      return useOAuthTokensStore().tokens.map(oauthToken => {\n        return {\n          id: oauthToken.id,\n          appName: oauthToken.app_name,\n          validUntil: new Date(oauthToken.valid_until).toLocaleDateString(localeService.internalToBrowserLocale(this.$i18n.locale))\n        }\n      })\n    }\n  },\n  methods: {\n    confirmDelete () {\n      this.deletingAccount = true\n    },\n    deleteAccount () {\n      this.$store.state.api.backendInteractor.deleteAccount({ password: this.deleteAccountConfirmPasswordInput })\n        .then((res) => {\n          if (res.status === 'success') {\n            this.$store.dispatch('logout')\n            this.$router.push({ name: 'root' })\n          } else {\n            this.deleteAccountError = res.error\n          }\n        })\n    },\n    changePassword () {\n      const params = {\n        password: this.changePasswordInputs[0],\n        newPassword: this.changePasswordInputs[1],\n        newPasswordConfirmation: this.changePasswordInputs[2]\n      }\n      this.$store.state.api.backendInteractor.changePassword(params)\n        .then((res) => {\n          if (res.status === 'success') {\n            this.changedPassword = true\n            this.changePasswordError = false\n            this.logout()\n          } else {\n            this.changedPassword = false\n            this.changePasswordError = res.error\n          }\n        })\n    },\n    changeEmail () {\n      const params = {\n        email: this.newEmail,\n        password: this.changeEmailPassword\n      }\n      this.$store.state.api.backendInteractor.changeEmail(params)\n        .then((res) => {\n          if (res.status === 'success') {\n            this.changedEmail = true\n            this.changeEmailError = false\n          } else {\n            this.changedEmail = false\n            this.changeEmailError = res.error\n          }\n        })\n    },\n    moveAccount () {\n      const params = {\n        targetAccount: this.moveAccountTarget,\n        password: this.moveAccountPassword\n      }\n      this.$store.state.api.backendInteractor.moveAccount(params)\n        .then((res) => {\n          if (res.status === 'success') {\n            this.movedAccount = true\n            this.moveAccountError = false\n          } else {\n            this.movedAccount = false\n            this.moveAccountError = res.error\n          }\n        })\n    },\n    removeAlias (alias) {\n      this.$store.state.api.backendInteractor.deleteAlias({ alias })\n        .then(() => this.fetchAliases())\n    },\n    addAlias () {\n      this.$store.state.api.backendInteractor.addAlias({ alias: this.addAliasTarget })\n        .then(() => {\n          this.addedAlias = true\n          this.addAliasError = false\n          this.addAliasTarget = ''\n        })\n        .catch((error) => {\n          this.addedAlias = false\n          this.addAliasError = error\n        })\n        .then(() => this.fetchAliases())\n    },\n    fetchAliases () {\n      this.$store.state.api.backendInteractor.listAliases()\n        .then((res) => {\n          this.aliases = res.aliases\n          this.listAliasesError = false\n        })\n        .catch((error) => {\n          this.listAliasesError = error.error\n        })\n    },\n    logout () {\n      this.$store.dispatch('logout')\n      this.$router.replace('/')\n    },\n    revokeToken (id) {\n      if (window.confirm(`${this.$i18n.t('settings.revoke_token')}?`)) {\n        useOAuthTokensStore().revokeToken(id)\n      }\n    }\n  }\n}\n\nexport default SecurityTab\n","<template>\n  <div :label=\"$t('settings.security_tab')\">\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.change_email') }}</h2>\n      <div>\n        <p>{{ $t('settings.new_email') }}</p>\n        <input\n          v-model=\"newEmail\"\n          type=\"email\"\n          autocomplete=\"email\"\n          class=\"input\"\n        >\n      </div>\n      <div>\n        <p>{{ $t('settings.current_password') }}</p>\n        <input\n          v-model=\"changeEmailPassword\"\n          type=\"password\"\n          autocomplete=\"current-password\"\n          class=\"input\"\n        >\n      </div>\n      <button\n        class=\"btn button-default\"\n        @click=\"changeEmail\"\n      >\n        {{ $t('settings.save') }}\n      </button>\n      <p v-if=\"changedEmail\">\n        {{ $t('settings.changed_email') }}\n      </p>\n      <template v-if=\"changeEmailError !== false\">\n        <p>{{ $t('settings.change_email_error') }}</p>\n        <p>{{ changeEmailError }}</p>\n      </template>\n    </div>\n\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.change_password') }}</h2>\n      <div>\n        <p>{{ $t('settings.current_password') }}</p>\n        <input\n          v-model=\"changePasswordInputs[0]\"\n          type=\"password\"\n          class=\"input\"\n        >\n      </div>\n      <div>\n        <p>{{ $t('settings.new_password') }}</p>\n        <input\n          v-model=\"changePasswordInputs[1]\"\n          type=\"password\"\n          class=\"input\"\n        >\n      </div>\n      <div>\n        <p>{{ $t('settings.confirm_new_password') }}</p>\n        <input\n          v-model=\"changePasswordInputs[2]\"\n          type=\"password\"\n          class=\"input\"\n        >\n      </div>\n      <button\n        class=\"btn button-default\"\n        @click=\"changePassword\"\n      >\n        {{ $t('settings.save') }}\n      </button>\n      <p v-if=\"changedPassword\">\n        {{ $t('settings.changed_password') }}\n      </p>\n      <p v-else-if=\"changePasswordError !== false\">\n        {{ $t('settings.change_password_error') }}\n      </p>\n      <p v-if=\"changePasswordError\">\n        {{ changePasswordError }}\n      </p>\n    </div>\n\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.oauth_tokens') }}</h2>\n      <table class=\"oauth-tokens\">\n        <thead>\n          <tr>\n            <th>{{ $t('settings.app_name') }}</th>\n            <th>{{ $t('settings.valid_until') }}</th>\n            <th />\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"oauthToken in oauthTokens\"\n            :key=\"oauthToken.id\"\n          >\n            <td>{{ oauthToken.appName }}</td>\n            <td>{{ oauthToken.validUntil }}</td>\n            <td class=\"actions\">\n              <button\n                class=\"btn button-default\"\n                @click=\"revokeToken(oauthToken.id)\"\n              >\n                {{ $t('settings.revoke_token') }}\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <mfa />\n\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.account_alias') }}</h2>\n      <table>\n        <thead>\n          <tr>\n            <th>{{ $t('settings.account_alias_table_head') }}</th>\n            <th />\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"alias in aliases\"\n            :key=\"alias\"\n          >\n            <td>{{ alias }}</td>\n            <td class=\"actions\">\n              <button\n                class=\"btn button-default\"\n                @click=\"removeAlias(alias)\"\n              >\n                {{ $t('settings.remove_alias') }}\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div\n        v-if=\"listAliasesError\"\n        class=\"alert error\"\n      >\n        {{ $t('settings.list_aliases_error', { error }) }}\n        <FAIcon\n          class=\"fa-scale-110 fa-old-padding\"\n          icon=\"times\"\n          :title=\"$t('settings.hide_list_aliases_error_action')\"\n          @click=\"listAliasesError = false\"\n        />\n      </div>\n      <div>\n        <i18n-t\n          scope=\"global\"\n          keypath=\"settings.new_alias_target\"\n          tag=\"p\"\n        >\n          <code\n            place=\"example\"\n          >\n            foo@example.org\n          </code>\n        </i18n-t>\n        <input\n          v-model=\"addAliasTarget\"\n          class=\"input\"\n        >\n      </div>\n      <button\n        class=\"btn button-default\"\n        @click=\"addAlias\"\n      >\n        {{ $t('settings.save') }}\n      </button>\n      <p v-if=\"addedAlias\">\n        {{ $t('settings.added_alias') }}\n      </p>\n      <template v-if=\"addAliasError !== false\">\n        <p>{{ $t('settings.add_alias_error', { error: addAliasError }) }}</p>\n      </template>\n    </div>\n\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.move_account') }}</h2>\n      <p>{{ $t('settings.move_account_notes') }}</p>\n      <div>\n        <i18n-t\n          keypath=\"settings.move_account_target\"\n          tag=\"p\"\n          scope=\"global\"\n        >\n          <template #example>\n            <code>\n              foo@example.org\n            </code>\n          </template>\n        </i18n-t>\n        <input\n          v-model=\"moveAccountTarget\"\n          class=\"input\"\n        >\n      </div>\n      <div>\n        <p>{{ $t('settings.current_password') }}</p>\n        <input\n          v-model=\"moveAccountPassword\"\n          type=\"password\"\n          autocomplete=\"current-password\"\n          class=\"input\"\n        >\n      </div>\n      <button\n        class=\"btn button-default\"\n        @click=\"moveAccount\"\n      >\n        {{ $t('settings.save') }}\n      </button>\n      <p v-if=\"movedAccount\">\n        {{ $t('settings.moved_account') }}\n      </p>\n      <template v-if=\"moveAccountError !== false\">\n        <p>{{ $t('settings.move_account_error', { error: moveAccountError }) }}</p>\n      </template>\n    </div>\n\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.delete_account') }}</h2>\n      <p v-if=\"!deletingAccount\">\n        {{ $t('settings.delete_account_description') }}\n      </p>\n      <div v-if=\"deletingAccount\">\n        <p>{{ $t('settings.delete_account_instructions') }}</p>\n        <p>{{ $t('login.password') }}</p>\n        <input\n          v-model=\"deleteAccountConfirmPasswordInput\"\n          type=\"password\"\n          class=\"input\"\n        >\n        <button\n          class=\"btn button-default\"\n          @click=\"deleteAccount\"\n        >\n          {{ $t('settings.delete_account') }}\n        </button>\n      </div>\n      <p v-if=\"deleteAccountError !== false\">\n        {{ $t('settings.delete_account_error') }}\n      </p>\n      <p v-if=\"deleteAccountError\">\n        {{ deleteAccountError }}\n      </p>\n      <button\n        v-if=\"!deletingAccount\"\n        class=\"btn button-default\"\n        @click=\"confirmDelete\"\n      >\n        {{ $t('settings.delete_account') }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<script src=\"./security_tab.js\"></script>\n<!-- <style lang=\"scss\" src=\"./profile.scss\"></style> -->\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = basePropertyOf;\n","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map HTML entities to characters. */\nvar htmlUnescapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\"\n};\n\n/**\n * Used by `_.unescape` to convert HTML entities to characters.\n *\n * @private\n * @param {string} chr The matched character to unescape.\n * @returns {string} Returns the unescaped character.\n */\nvar unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\nmodule.exports = unescapeHtmlChar;\n","var toString = require('./toString'),\n    unescapeHtmlChar = require('./_unescapeHtmlChar');\n\n/** Used to match HTML entities and HTML characters. */\nvar reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n    reHasEscapedHtml = RegExp(reEscapedHtml.source);\n\n/**\n * The inverse of `_.escape`; this method converts the HTML entities\n * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n * their corresponding characters.\n *\n * **Note:** No other HTML entities are unescaped. To unescape additional\n * HTML entities use a third-party library like [_he_](https://mths.be/he).\n *\n * @static\n * @memberOf _\n * @since 0.6.0\n * @category String\n * @param {string} [string=''] The string to unescape.\n * @returns {string} Returns the unescaped string.\n * @example\n *\n * _.unescape('fred, barney, &amp; pebbles');\n * // => 'fred, barney, & pebbles'\n */\nfunction unescape(string) {\n  string = toString(string);\n  return (string && reHasEscapedHtml.test(string))\n    ? string.replace(reEscapedHtml, unescapeHtmlChar)\n    : string;\n}\n\nmodule.exports = unescape;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignMergeValue;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nmodule.exports = safeGet;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","var assignMergeValue = require('./_assignMergeValue'),\n    cloneBuffer = require('./_cloneBuffer'),\n    cloneTypedArray = require('./_cloneTypedArray'),\n    copyArray = require('./_copyArray'),\n    initCloneObject = require('./_initCloneObject'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    safeGet = require('./_safeGet'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n","var Stack = require('./_Stack'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseFor = require('./_baseFor'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isObject = require('./isObject'),\n    keysIn = require('./keysIn'),\n    safeGet = require('./_safeGet');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nmodule.exports = baseMerge;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nmodule.exports = merge;\n","const IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nconst WINDOW = IS_BROWSER ? window : {};\nconst IS_TOUCH_DEVICE = IS_BROWSER ? 'ontouchstart' in WINDOW.document.documentElement : false;\nconst HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\nconst NAMESPACE = 'cropper';\nconst CROPPER_CANVAS = `${NAMESPACE}-canvas`;\nconst CROPPER_CROSSHAIR = `${NAMESPACE}-crosshair`;\nconst CROPPER_GIRD = `${NAMESPACE}-grid`;\nconst CROPPER_HANDLE = `${NAMESPACE}-handle`;\nconst CROPPER_IMAGE = `${NAMESPACE}-image`;\nconst CROPPER_SELECTION = `${NAMESPACE}-selection`;\nconst CROPPER_SHADE = `${NAMESPACE}-shade`;\nconst CROPPER_VIEWER = `${NAMESPACE}-viewer`;\n// Actions\nconst ACTION_SELECT = 'select';\nconst ACTION_MOVE = 'move';\nconst ACTION_SCALE = 'scale';\nconst ACTION_ROTATE = 'rotate';\nconst ACTION_TRANSFORM = 'transform';\nconst ACTION_NONE = 'none';\nconst ACTION_RESIZE_NORTH = 'n-resize';\nconst ACTION_RESIZE_EAST = 'e-resize';\nconst ACTION_RESIZE_SOUTH = 's-resize';\nconst ACTION_RESIZE_WEST = 'w-resize';\nconst ACTION_RESIZE_NORTHEAST = 'ne-resize';\nconst ACTION_RESIZE_NORTHWEST = 'nw-resize';\nconst ACTION_RESIZE_SOUTHEAST = 'se-resize';\nconst ACTION_RESIZE_SOUTHWEST = 'sw-resize';\n// Attributes\nconst ATTRIBUTE_ACTION = 'action';\n// Native events\nconst EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\nconst EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\nconst EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\nconst EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\nconst EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\nconst EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\nconst EVENT_ERROR = 'error';\nconst EVENT_KEYDOWN = 'keydown';\nconst EVENT_LOAD = 'load';\nconst EVENT_RESIZE = 'resize';\nconst EVENT_WHEEL = 'wheel';\n// Custom events\nconst EVENT_ACTION = 'action';\nconst EVENT_ACTION_END = 'actionend';\nconst EVENT_ACTION_MOVE = 'actionmove';\nconst EVENT_ACTION_START = 'actionstart';\nconst EVENT_CHANGE = 'change';\nconst EVENT_TRANSFORM = 'transform';\n\n/**\n * Check if the given value is a string.\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the given value is a string, else `false`.\n */\nfunction isString(value) {\n    return typeof value === 'string';\n}\n/**\n * Check if the given value is not a number.\n */\nconst isNaN = Number.isNaN || WINDOW.isNaN;\n/**\n * Check if the given value is a number.\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n */\nfunction isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n}\n/**\n * Check if the given value is a positive number.\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n */\nfunction isPositiveNumber(value) {\n    return isNumber(value) && value > 0 && value < Infinity;\n}\n/**\n * Check if the given value is undefined.\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n */\nfunction isUndefined(value) {\n    return typeof value === 'undefined';\n}\n/**\n * Check if the given value is an object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n */\nfunction isObject(value) {\n    return typeof value === 'object' && value !== null;\n}\nconst { hasOwnProperty } = Object.prototype;\n/**\n * Check if the given value is a plain object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n */\nfunction isPlainObject(value) {\n    if (!isObject(value)) {\n        return false;\n    }\n    try {\n        const { constructor } = value;\n        const { prototype } = constructor;\n        return constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n    }\n    catch (error) {\n        return false;\n    }\n}\n/**\n * Check if the given value is a function.\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n */\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\n/**\n * Check if the given node is an element.\n * @param {*} node The node to check.\n * @returns {boolean} Returns `true` if the given node is an element; otherwise, `false`.\n */\nfunction isElement(node) {\n    return typeof node === 'object' && node !== null && node.nodeType === 1;\n}\nconst REGEXP_CAMEL_CASE = /([a-z\\d])([A-Z])/g;\n/**\n * Transform the given string from camelCase to kebab-case.\n * @param {string} value The value to transform.\n * @returns {string} Returns the transformed value.\n */\nfunction toKebabCase(value) {\n    return String(value).replace(REGEXP_CAMEL_CASE, '$1-$2').toLowerCase();\n}\nconst REGEXP_KEBAB_CASE = /-[A-z\\d]/g;\n/**\n * Transform the given string from kebab-case to camelCase.\n * @param {string} value The value to transform.\n * @returns {string} Returns the transformed value.\n */\nfunction toCamelCase(value) {\n    return value.replace(REGEXP_KEBAB_CASE, (substring) => substring.slice(1).toUpperCase());\n}\nconst REGEXP_SPACES = /\\s\\s*/;\n/**\n * Remove event listener from the event target.\n * {@link https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/removeEventListener}\n * @param {EventTarget} target The target of the event.\n * @param {string} types The types of the event.\n * @param {EventListenerOrEventListenerObject} listener The listener of the event.\n * @param {EventListenerOptions} [options] The options specify characteristics about the event listener.\n */\nfunction off(target, types, listener, options) {\n    types.trim().split(REGEXP_SPACES).forEach((type) => {\n        target.removeEventListener(type, listener, options);\n    });\n}\n/**\n * Add event listener to the event target.\n * {@link https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener}\n * @param {EventTarget} target The target of the event.\n * @param {string} types The types of the event.\n * @param {EventListenerOrEventListenerObject} listener The listener of the event.\n * @param {AddEventListenerOptions} [options] The options specify characteristics about the event listener.\n */\nfunction on(target, types, listener, options) {\n    types.trim().split(REGEXP_SPACES).forEach((type) => {\n        target.addEventListener(type, listener, options);\n    });\n}\n/**\n * Add once event listener to the event target.\n * @param {EventTarget} target The target of the event.\n * @param {string} types The types of the event.\n * @param {EventListenerOrEventListenerObject} listener The listener of the event.\n * @param {AddEventListenerOptions} [options] The options specify characteristics about the event listener.\n */\nfunction once(target, types, listener, options) {\n    on(target, types, listener, Object.assign(Object.assign({}, options), { once: true }));\n}\nconst defaultEventOptions = {\n    bubbles: true,\n    cancelable: true,\n    composed: true,\n};\n/**\n * Dispatch event on the event target.\n * {@link https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/dispatchEvent}\n * @param {EventTarget} target The target of the event.\n * @param {string} type The name of the event.\n * @param {*} [detail] The data passed when initializing the event.\n * @param {CustomEventInit} [options] The other event options.\n * @returns {boolean} Returns the result value.\n */\nfunction emit(target, type, detail, options) {\n    return target.dispatchEvent(new CustomEvent(type, Object.assign(Object.assign(Object.assign({}, defaultEventOptions), { detail }), options)));\n}\nconst resolvedPromise = Promise.resolve();\n/**\n * Defers the callback to be executed after the next DOM update cycle.\n * @param {*} [context] The `this` context.\n * @param {Function} [callback] The callback to execute after the next DOM update cycle.\n * @returns {Promise} A promise that resolves to nothing.\n */\nfunction nextTick(context, callback) {\n    return callback\n        ? resolvedPromise.then(context ? callback.bind(context) : callback)\n        : resolvedPromise;\n}\n/**\n * Get the offset base on the document.\n * @param {Element} element The target element.\n * @returns {object} The offset data.\n */\nfunction getOffset(element) {\n    const { documentElement } = element.ownerDocument;\n    const box = element.getBoundingClientRect();\n    return {\n        left: box.left + (WINDOW.pageXOffset - documentElement.clientLeft),\n        top: box.top + (WINDOW.pageYOffset - documentElement.clientTop),\n    };\n}\nconst REGEXP_ANGLE_UNIT = /deg|g?rad|turn$/i;\n/**\n * Convert an angle to a radian number.\n * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/angle}\n * @param {number|string} angle The angle to convert.\n * @returns {number} Returns the radian number.\n */\nfunction toAngleInRadian(angle) {\n    const value = parseFloat(angle) || 0;\n    if (value !== 0) {\n        const [unit = 'rad'] = String(angle).match(REGEXP_ANGLE_UNIT) || [];\n        switch (unit.toLowerCase()) {\n            case 'deg':\n                return (value / 360) * (Math.PI * 2);\n            case 'grad':\n                return (value / 400) * (Math.PI * 2);\n            case 'turn':\n                return value * (Math.PI * 2);\n        }\n    }\n    return value;\n}\nconst SIZE_ADJUSTMENT_TYPE_CONTAIN = 'contain';\nconst SIZE_ADJUSTMENT_TYPE_COVER = 'cover';\n/**\n * Get the max sizes in a rectangle under the given aspect ratio.\n * @param {object} data The original sizes.\n * @param {string} [type] The adjust type.\n * @returns {object} Returns the result sizes.\n */\nfunction getAdjustedSizes(data, type = SIZE_ADJUSTMENT_TYPE_CONTAIN) {\n    const { aspectRatio } = data;\n    let { width, height } = data;\n    const isValidWidth = isPositiveNumber(width);\n    const isValidHeight = isPositiveNumber(height);\n    if (isValidWidth && isValidHeight) {\n        const adjustedWidth = height * aspectRatio;\n        if ((type === SIZE_ADJUSTMENT_TYPE_CONTAIN && adjustedWidth > width)\n            || (type === SIZE_ADJUSTMENT_TYPE_COVER && adjustedWidth < width)) {\n            height = width / aspectRatio;\n        }\n        else {\n            width = height * aspectRatio;\n        }\n    }\n    else if (isValidWidth) {\n        height = width / aspectRatio;\n    }\n    else if (isValidHeight) {\n        width = height * aspectRatio;\n    }\n    return {\n        width,\n        height,\n    };\n}\n/**\n * Multiply multiple matrices.\n * @param {Array} matrix The first matrix.\n * @param {Array} args The rest matrices.\n * @returns {Array} Returns the result matrix.\n */\nfunction multiplyMatrices(matrix, ...args) {\n    if (args.length === 0) {\n        return matrix;\n    }\n    const [a1, b1, c1, d1, e1, f1] = matrix;\n    const [a2, b2, c2, d2, e2, f2] = args[0];\n    // ┌ a1 c1 e1 ┐   ┌ a2 c2 e2 ┐\n    // │ b1 d1 f1 │ × │ b2 d2 f2 │\n    // └ 0  0  1  ┘   └ 0  0  1  ┘\n    matrix = [\n        a1 * a2 + c1 * b2 /* + e1 * 0 */,\n        b1 * a2 + d1 * b2 /* + f1 * 0 */,\n        a1 * c2 + c1 * d2 /* + e1 * 0 */,\n        b1 * c2 + d1 * d2 /* + f1 * 0 */,\n        a1 * e2 + c1 * f2 + e1 /* * 1 */,\n        b1 * e2 + d1 * f2 + f1 /* * 1 */,\n    ];\n    return multiplyMatrices(matrix, ...args.slice(1));\n}\n\nexport { ACTION_MOVE, ACTION_NONE, ACTION_RESIZE_EAST, ACTION_RESIZE_NORTH, ACTION_RESIZE_NORTHEAST, ACTION_RESIZE_NORTHWEST, ACTION_RESIZE_SOUTH, ACTION_RESIZE_SOUTHEAST, ACTION_RESIZE_SOUTHWEST, ACTION_RESIZE_WEST, ACTION_ROTATE, ACTION_SCALE, ACTION_SELECT, ACTION_TRANSFORM, ATTRIBUTE_ACTION, CROPPER_CANVAS, CROPPER_CROSSHAIR, CROPPER_GIRD, CROPPER_HANDLE, CROPPER_IMAGE, CROPPER_SELECTION, CROPPER_SHADE, CROPPER_VIEWER, EVENT_ACTION, EVENT_ACTION_END, EVENT_ACTION_MOVE, EVENT_ACTION_START, EVENT_CHANGE, EVENT_ERROR, EVENT_KEYDOWN, EVENT_LOAD, EVENT_POINTER_DOWN, EVENT_POINTER_MOVE, EVENT_POINTER_UP, EVENT_RESIZE, EVENT_TOUCH_END, EVENT_TOUCH_MOVE, EVENT_TOUCH_START, EVENT_TRANSFORM, EVENT_WHEEL, HAS_POINTER_EVENT, IS_BROWSER, IS_TOUCH_DEVICE, NAMESPACE, WINDOW, emit, getAdjustedSizes, getOffset, isElement, isFunction, isNaN, isNumber, isObject, isPlainObject, isPositiveNumber, isString, isUndefined, multiplyMatrices, nextTick, off, on, once, toAngleInRadian, toCamelCase, toKebabCase };\n","import { WINDOW, toCamelCase, toKebabCase, isNaN, isUndefined, isNumber, emit, nextTick, isObject, IS_BROWSER } from '@cropper/utils';\n\nvar style = `:host([hidden]){display:none!important}`;\n\nconst REGEXP_SUFFIX = /left|top|width|height/i;\nconst DEFAULT_SHADOW_ROOT_MODE = 'open';\nconst shadowRoots = new WeakMap();\nconst styleSheets = new WeakMap();\nconst tagNames = new Map();\nconst supportsAdoptedStyleSheets = WINDOW.document && Array.isArray(WINDOW.document.adoptedStyleSheets) && 'replaceSync' in WINDOW.CSSStyleSheet.prototype;\nclass CropperElement extends HTMLElement {\n    get $sharedStyle() {\n        return `${this.themeColor ? `:host{--theme-color: ${this.themeColor};}` : ''}${style}`;\n    }\n    constructor() {\n        var _a, _b;\n        super();\n        this.shadowRootMode = DEFAULT_SHADOW_ROOT_MODE;\n        this.slottable = true;\n        const name = (_b = (_a = Object.getPrototypeOf(this)) === null || _a === void 0 ? void 0 : _a.constructor) === null || _b === void 0 ? void 0 : _b.$name;\n        if (name) {\n            tagNames.set(name, this.tagName.toLowerCase());\n        }\n    }\n    static get observedAttributes() {\n        return [\n            'shadow-root-mode',\n            'slottable',\n            'theme-color',\n        ];\n    }\n    // Convert attribute to property\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (Object.is(newValue, oldValue)) {\n            return;\n        }\n        const propertyName = toCamelCase(name);\n        const oldPropertyValue = this[propertyName];\n        let newPropertyValue = newValue;\n        switch (typeof oldPropertyValue) {\n            case 'boolean':\n                newPropertyValue = newValue !== null && newValue !== 'false';\n                break;\n            case 'number':\n                newPropertyValue = Number(newValue);\n                break;\n        }\n        this[propertyName] = newPropertyValue;\n        switch (name) {\n            case 'theme-color': {\n                const styleSheet = styleSheets.get(this);\n                const styles = this.$sharedStyle;\n                if (styleSheet && styles) {\n                    if (supportsAdoptedStyleSheets) {\n                        styleSheet.replaceSync(styles);\n                    }\n                    else {\n                        styleSheet.textContent = styles;\n                    }\n                }\n                break;\n            }\n        }\n    }\n    // Convert property to attribute\n    $propertyChangedCallback(name, oldValue, newValue) {\n        if (Object.is(newValue, oldValue)) {\n            return;\n        }\n        name = toKebabCase(name);\n        switch (typeof newValue) {\n            case 'boolean':\n                if (newValue === true) {\n                    if (!this.hasAttribute(name)) {\n                        this.setAttribute(name, '');\n                    }\n                }\n                else {\n                    this.removeAttribute(name);\n                }\n                break;\n            case 'number':\n                if (isNaN(newValue)) {\n                    newValue = '';\n                }\n                else {\n                    newValue = String(newValue);\n                }\n            // Fall through\n            // case 'string':\n            // eslint-disable-next-line no-fallthrough\n            default:\n                if (newValue) {\n                    if (this.getAttribute(name) !== newValue) {\n                        this.setAttribute(name, newValue);\n                    }\n                }\n                else {\n                    this.removeAttribute(name);\n                }\n        }\n    }\n    connectedCallback() {\n        // Observe properties after observed attributes\n        Object.getPrototypeOf(this).constructor.observedAttributes.forEach((attribute) => {\n            const property = toCamelCase(attribute);\n            let value = this[property];\n            if (!isUndefined(value)) {\n                this.$propertyChangedCallback(property, undefined, value);\n            }\n            Object.defineProperty(this, property, {\n                enumerable: true,\n                configurable: true,\n                get() {\n                    return value;\n                },\n                set(newValue) {\n                    const oldValue = value;\n                    value = newValue;\n                    this.$propertyChangedCallback(property, oldValue, newValue);\n                },\n            });\n        });\n        const shadow = this.attachShadow({\n            mode: this.shadowRootMode || DEFAULT_SHADOW_ROOT_MODE,\n        });\n        if (!this.shadowRoot) {\n            shadowRoots.set(this, shadow);\n        }\n        styleSheets.set(this, this.$addStyles(this.$sharedStyle));\n        if (this.$style) {\n            this.$addStyles(this.$style);\n        }\n        if (this.$template) {\n            const template = document.createElement('template');\n            template.innerHTML = this.$template;\n            shadow.appendChild(template.content);\n        }\n        if (this.slottable) {\n            const slot = document.createElement('slot');\n            shadow.appendChild(slot);\n        }\n    }\n    disconnectedCallback() {\n        if (styleSheets.has(this)) {\n            styleSheets.delete(this);\n        }\n        if (shadowRoots.has(this)) {\n            shadowRoots.delete(this);\n        }\n    }\n    // eslint-disable-next-line class-methods-use-this\n    $getTagNameOf(name) {\n        var _a;\n        return (_a = tagNames.get(name)) !== null && _a !== void 0 ? _a : name;\n    }\n    $setStyles(properties) {\n        Object.keys(properties).forEach((property) => {\n            let value = properties[property];\n            if (isNumber(value)) {\n                if (value !== 0 && REGEXP_SUFFIX.test(property)) {\n                    value = `${value}px`;\n                }\n                else {\n                    value = String(value);\n                }\n            }\n            this.style[property] = value;\n        });\n        return this;\n    }\n    /**\n     * Outputs the shadow root of the element.\n     * @returns {ShadowRoot} Returns the shadow root.\n     */\n    $getShadowRoot() {\n        return this.shadowRoot || shadowRoots.get(this);\n    }\n    /**\n     * Adds styles to the shadow root.\n     * @param {string} styles The styles to add.\n     * @returns {CSSStyleSheet|HTMLStyleElement} Returns the generated style sheet.\n     */\n    $addStyles(styles) {\n        let styleSheet;\n        const shadow = this.$getShadowRoot();\n        if (supportsAdoptedStyleSheets) {\n            styleSheet = new CSSStyleSheet();\n            styleSheet.replaceSync(styles);\n            shadow.adoptedStyleSheets = shadow.adoptedStyleSheets.concat(styleSheet);\n        }\n        else {\n            styleSheet = document.createElement('style');\n            styleSheet.textContent = styles;\n            shadow.appendChild(styleSheet);\n        }\n        return styleSheet;\n    }\n    /**\n     * Dispatches an event at the element.\n     * @param {string} type The name of the event.\n     * @param {*} [detail] The data passed when initializing the event.\n     * @param {CustomEventInit} [options] The other event options.\n     * @returns {boolean} Returns the result value.\n     */\n    $emit(type, detail, options) {\n        return emit(this, type, detail, options);\n    }\n    /**\n     * Defers the callback to be executed after the next DOM update cycle.\n     * @param {Function} [callback] The callback to execute after the next DOM update cycle.\n     * @returns {Promise} A promise that resolves to nothing.\n     */\n    $nextTick(callback) {\n        return nextTick(this, callback);\n    }\n    /**\n     * Defines the constructor as a new custom element.\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/CustomElementRegistry/define}\n     * @param {string|object} [name] The element name.\n     * @param {object} [options] The element definition options.\n     */\n    static $define(name, options) {\n        if (isObject(name)) {\n            options = name;\n            name = '';\n        }\n        if (!name) {\n            name = this.$name || this.name;\n        }\n        name = toKebabCase(name);\n        if (IS_BROWSER && WINDOW.customElements && !WINDOW.customElements.get(name)) {\n            customElements.define(name, this, options);\n        }\n    }\n}\nCropperElement.$version = '2.0.0';\n\nexport { CropperElement as default };\n","import CropperElement from '@cropper/element';\nimport { CROPPER_CANVAS, ACTION_NONE, on, EVENT_POINTER_DOWN, EVENT_POINTER_MOVE, EVENT_POINTER_UP, EVENT_WHEEL, off, isNumber, isElement, ATTRIBUTE_ACTION, EVENT_ACTION_START, EVENT_ACTION_MOVE, ACTION_TRANSFORM, EVENT_ACTION, EVENT_ACTION_END, ACTION_SCALE, isString, isPlainObject, isPositiveNumber, getAdjustedSizes, CROPPER_IMAGE, isFunction, ACTION_ROTATE } from '@cropper/utils';\n\nvar style = `:host{display:block;min-height:100px;min-width:200px;overflow:hidden;position:relative;touch-action:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host([background]){background-color:#fff;background-image:repeating-linear-gradient(45deg,#ccc 25%,transparent 0,transparent 75%,#ccc 0,#ccc),repeating-linear-gradient(45deg,#ccc 25%,transparent 0,transparent 75%,#ccc 0,#ccc);background-image:repeating-conic-gradient(#ccc 0 25%,#fff 0 50%);background-position:0 0,.5rem .5rem;background-size:1rem 1rem}:host([disabled]){pointer-events:none}:host([disabled]):after{bottom:0;content:\"\";cursor:not-allowed;display:block;left:0;pointer-events:none;position:absolute;right:0;top:0}`;\n\nclass CropperCanvas extends CropperElement {\n    constructor() {\n        super(...arguments);\n        this.$onPointerDown = null;\n        this.$onPointerMove = null;\n        this.$onPointerUp = null;\n        this.$onWheel = null;\n        this.$wheeling = false;\n        this.$pointers = new Map();\n        this.$style = style;\n        this.$action = ACTION_NONE;\n        this.background = false;\n        this.disabled = false;\n        this.scaleStep = 0.1;\n        this.themeColor = '#39f';\n    }\n    static get observedAttributes() {\n        return super.observedAttributes.concat([\n            'background',\n            'disabled',\n            'scale-step',\n        ]);\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        if (!this.disabled) {\n            this.$bind();\n        }\n    }\n    disconnectedCallback() {\n        if (!this.disabled) {\n            this.$unbind();\n        }\n        super.disconnectedCallback();\n    }\n    $propertyChangedCallback(name, oldValue, newValue) {\n        if (Object.is(newValue, oldValue)) {\n            return;\n        }\n        super.$propertyChangedCallback(name, oldValue, newValue);\n        switch (name) {\n            case 'disabled':\n                if (newValue) {\n                    this.$unbind();\n                }\n                else {\n                    this.$bind();\n                }\n                break;\n        }\n    }\n    $bind() {\n        if (!this.$onPointerDown) {\n            this.$onPointerDown = this.$handlePointerDown.bind(this);\n            on(this, EVENT_POINTER_DOWN, this.$onPointerDown);\n        }\n        if (!this.$onPointerMove) {\n            this.$onPointerMove = this.$handlePointerMove.bind(this);\n            on(this.ownerDocument, EVENT_POINTER_MOVE, this.$onPointerMove);\n        }\n        if (!this.$onPointerUp) {\n            this.$onPointerUp = this.$handlePointerUp.bind(this);\n            on(this.ownerDocument, EVENT_POINTER_UP, this.$onPointerUp);\n        }\n        if (!this.$onWheel) {\n            this.$onWheel = this.$handleWheel.bind(this);\n            on(this, EVENT_WHEEL, this.$onWheel, {\n                passive: false,\n                capture: true,\n            });\n        }\n    }\n    $unbind() {\n        if (this.$onPointerDown) {\n            off(this, EVENT_POINTER_DOWN, this.$onPointerDown);\n            this.$onPointerDown = null;\n        }\n        if (this.$onPointerMove) {\n            off(this.ownerDocument, EVENT_POINTER_MOVE, this.$onPointerMove);\n            this.$onPointerMove = null;\n        }\n        if (this.$onPointerUp) {\n            off(this.ownerDocument, EVENT_POINTER_UP, this.$onPointerUp);\n            this.$onPointerUp = null;\n        }\n        if (this.$onWheel) {\n            off(this, EVENT_WHEEL, this.$onWheel, {\n                capture: true,\n            });\n            this.$onWheel = null;\n        }\n    }\n    $handlePointerDown(event) {\n        const { buttons, button, type } = event;\n        if (this.disabled || (\n        // Handle pointer or mouse event, and ignore touch event\n        ((type === 'pointerdown' && event.pointerType === 'mouse') || type === 'mousedown') && (\n        // No primary button (Usually the left button)\n        (isNumber(buttons) && buttons !== 1) || (isNumber(button) && button !== 0)\n            // Open context menu\n            || event.ctrlKey))) {\n            return;\n        }\n        const { $pointers } = this;\n        let action = '';\n        if (event.changedTouches) {\n            Array.from(event.changedTouches).forEach(({ identifier, pageX, pageY, }) => {\n                $pointers.set(identifier, {\n                    startX: pageX,\n                    startY: pageY,\n                    endX: pageX,\n                    endY: pageY,\n                });\n            });\n        }\n        else {\n            const { pointerId = 0, pageX, pageY } = event;\n            $pointers.set(pointerId, {\n                startX: pageX,\n                startY: pageY,\n                endX: pageX,\n                endY: pageY,\n            });\n        }\n        if ($pointers.size > 1) {\n            action = ACTION_TRANSFORM;\n        }\n        else if (isElement(event.target)) {\n            action = event.target.action || event.target.getAttribute(ATTRIBUTE_ACTION) || '';\n        }\n        if (this.$emit(EVENT_ACTION_START, {\n            action,\n            relatedEvent: event,\n        }) === false) {\n            return;\n        }\n        // Prevent page zooming in the browsers for iOS.\n        event.preventDefault();\n        this.$action = action;\n        this.style.willChange = 'transform';\n    }\n    $handlePointerMove(event) {\n        const { $action, $pointers } = this;\n        if (this.disabled || $action === ACTION_NONE || $pointers.size === 0) {\n            return;\n        }\n        if (this.$emit(EVENT_ACTION_MOVE, {\n            action: $action,\n            relatedEvent: event,\n        }) === false) {\n            return;\n        }\n        // Prevent page scrolling.\n        event.preventDefault();\n        if (event.changedTouches) {\n            Array.from(event.changedTouches).forEach(({ identifier, pageX, pageY, }) => {\n                const pointer = $pointers.get(identifier);\n                if (pointer) {\n                    Object.assign(pointer, {\n                        endX: pageX,\n                        endY: pageY,\n                    });\n                }\n            });\n        }\n        else {\n            const { pointerId = 0, pageX, pageY } = event;\n            const pointer = $pointers.get(pointerId);\n            if (pointer) {\n                Object.assign(pointer, {\n                    endX: pageX,\n                    endY: pageY,\n                });\n            }\n        }\n        const detail = {\n            action: $action,\n            relatedEvent: event,\n        };\n        if ($action === ACTION_TRANSFORM) {\n            const pointers2 = new Map($pointers);\n            let maxRotateRate = 0;\n            let maxScaleRate = 0;\n            let rotate = 0;\n            let scale = 0;\n            let centerX = event.pageX;\n            let centerY = event.pageY;\n            $pointers.forEach((pointer, pointerId) => {\n                pointers2.delete(pointerId);\n                pointers2.forEach((pointer2) => {\n                    let x1 = pointer2.startX - pointer.startX;\n                    let y1 = pointer2.startY - pointer.startY;\n                    let x2 = pointer2.endX - pointer.endX;\n                    let y2 = pointer2.endY - pointer.endY;\n                    let z1 = 0;\n                    let z2 = 0;\n                    let a1 = 0;\n                    let a2 = 0;\n                    if (x1 === 0) {\n                        if (y1 < 0) {\n                            a1 = Math.PI * 2;\n                        }\n                        else if (y1 > 0) {\n                            a1 = Math.PI;\n                        }\n                    }\n                    else if (x1 > 0) {\n                        a1 = (Math.PI / 2) + Math.atan(y1 / x1);\n                    }\n                    else if (x1 < 0) {\n                        a1 = (Math.PI * 1.5) + Math.atan(y1 / x1);\n                    }\n                    if (x2 === 0) {\n                        if (y2 < 0) {\n                            a2 = Math.PI * 2;\n                        }\n                        else if (y2 > 0) {\n                            a2 = Math.PI;\n                        }\n                    }\n                    else if (x2 > 0) {\n                        a2 = (Math.PI / 2) + Math.atan(y2 / x2);\n                    }\n                    else if (x2 < 0) {\n                        a2 = (Math.PI * 1.5) + Math.atan(y2 / x2);\n                    }\n                    if (a2 > 0 || a1 > 0) {\n                        const rotateRate = a2 - a1;\n                        const absRotateRate = Math.abs(rotateRate);\n                        if (absRotateRate > maxRotateRate) {\n                            maxRotateRate = absRotateRate;\n                            rotate = rotateRate;\n                            centerX = (pointer.startX + pointer2.startX) / 2;\n                            centerY = (pointer.startY + pointer2.startY) / 2;\n                        }\n                    }\n                    x1 = Math.abs(x1);\n                    y1 = Math.abs(y1);\n                    x2 = Math.abs(x2);\n                    y2 = Math.abs(y2);\n                    if (x1 > 0 && y1 > 0) {\n                        z1 = Math.sqrt((x1 * x1) + (y1 * y1));\n                    }\n                    else if (x1 > 0) {\n                        z1 = x1;\n                    }\n                    else if (y1 > 0) {\n                        z1 = y1;\n                    }\n                    if (x2 > 0 && y2 > 0) {\n                        z2 = Math.sqrt((x2 * x2) + (y2 * y2));\n                    }\n                    else if (x2 > 0) {\n                        z2 = x2;\n                    }\n                    else if (y2 > 0) {\n                        z2 = y2;\n                    }\n                    if (z1 > 0 && z2 > 0) {\n                        const scaleRate = (z2 - z1) / z1;\n                        const absScaleRate = Math.abs(scaleRate);\n                        if (absScaleRate > maxScaleRate) {\n                            maxScaleRate = absScaleRate;\n                            scale = scaleRate;\n                            centerX = (pointer.startX + pointer2.startX) / 2;\n                            centerY = (pointer.startY + pointer2.startY) / 2;\n                        }\n                    }\n                });\n            });\n            const rotatable = maxRotateRate > 0;\n            const scalable = maxScaleRate > 0;\n            if (rotatable && scalable) {\n                detail.rotate = rotate;\n                detail.scale = scale;\n                detail.centerX = centerX;\n                detail.centerY = centerY;\n            }\n            else if (rotatable) {\n                detail.action = ACTION_ROTATE;\n                detail.rotate = rotate;\n                detail.centerX = centerX;\n                detail.centerY = centerY;\n            }\n            else if (scalable) {\n                detail.action = ACTION_SCALE;\n                detail.scale = scale;\n                detail.centerX = centerX;\n                detail.centerY = centerY;\n            }\n            else {\n                detail.action = ACTION_NONE;\n            }\n        }\n        else {\n            const [pointer] = Array.from($pointers.values());\n            Object.assign(detail, pointer);\n        }\n        // Override the starting coordinate\n        $pointers.forEach((pointer) => {\n            pointer.startX = pointer.endX;\n            pointer.startY = pointer.endY;\n        });\n        if (detail.action !== ACTION_NONE) {\n            this.$emit(EVENT_ACTION, detail, {\n                cancelable: false,\n            });\n        }\n    }\n    $handlePointerUp(event) {\n        const { $action, $pointers } = this;\n        if (this.disabled || $action === ACTION_NONE) {\n            return;\n        }\n        if (this.$emit(EVENT_ACTION_END, {\n            action: $action,\n            relatedEvent: event,\n        }) === false) {\n            return;\n        }\n        event.preventDefault();\n        if (event.changedTouches) {\n            Array.from(event.changedTouches).forEach(({ identifier, }) => {\n                $pointers.delete(identifier);\n            });\n        }\n        else {\n            const { pointerId = 0 } = event;\n            $pointers.delete(pointerId);\n        }\n        if ($pointers.size === 0) {\n            this.style.willChange = '';\n            this.$action = ACTION_NONE;\n        }\n    }\n    $handleWheel(event) {\n        if (this.disabled) {\n            return;\n        }\n        event.preventDefault();\n        // Limit wheel speed to prevent zoom too fast (#21)\n        if (this.$wheeling) {\n            return;\n        }\n        this.$wheeling = true;\n        // Debounce by 50ms\n        setTimeout(() => {\n            this.$wheeling = false;\n        }, 50);\n        const delta = event.deltaY > 0 ? -1 : 1;\n        const scale = delta * this.scaleStep;\n        this.$emit(EVENT_ACTION, {\n            action: ACTION_SCALE,\n            scale,\n            relatedEvent: event,\n        }, {\n            cancelable: false,\n        });\n    }\n    /**\n     * Changes the current action to a new one.\n     * @param {string} action The new action.\n     * @returns {CropperCanvas} Returns `this` for chaining.\n     */\n    $setAction(action) {\n        if (isString(action)) {\n            this.$action = action;\n        }\n        return this;\n    }\n    /**\n     * Generates a real canvas element, with the image draw into if there is one.\n     * @param {object} [options] The available options.\n     * @param {number} [options.width] The width of the canvas.\n     * @param {number} [options.height] The height of the canvas.\n     * @param {Function} [options.beforeDraw] The function called before drawing the image onto the canvas.\n     * @returns {Promise} Returns a promise that resolves to the generated canvas element.\n     */\n    $toCanvas(options) {\n        return new Promise((resolve, reject) => {\n            if (!this.isConnected) {\n                reject(new Error('The current element is not connected to the DOM.'));\n                return;\n            }\n            const canvas = document.createElement('canvas');\n            let width = this.offsetWidth;\n            let height = this.offsetHeight;\n            let scale = 1;\n            if (isPlainObject(options)\n                && (isPositiveNumber(options.width) || isPositiveNumber(options.height))) {\n                ({ width, height } = getAdjustedSizes({\n                    aspectRatio: width / height,\n                    width: options.width,\n                    height: options.height,\n                }));\n                scale = width / this.offsetWidth;\n            }\n            canvas.width = width;\n            canvas.height = height;\n            const cropperImage = this.querySelector(this.$getTagNameOf(CROPPER_IMAGE));\n            if (!cropperImage) {\n                resolve(canvas);\n                return;\n            }\n            cropperImage.$ready().then((image) => {\n                const context = canvas.getContext('2d');\n                if (context) {\n                    const [a, b, c, d, e, f] = cropperImage.$getTransform();\n                    let newE = e;\n                    let newF = f;\n                    let destWidth = image.naturalWidth;\n                    let destHeight = image.naturalHeight;\n                    if (scale !== 1) {\n                        newE *= scale;\n                        newF *= scale;\n                        destWidth *= scale;\n                        destHeight *= scale;\n                    }\n                    const centerX = destWidth / 2;\n                    const centerY = destHeight / 2;\n                    context.fillStyle = 'transparent';\n                    context.fillRect(0, 0, width, height);\n                    if (isPlainObject(options) && isFunction(options.beforeDraw)) {\n                        options.beforeDraw.call(this, context, canvas);\n                    }\n                    context.save();\n                    // Move the transform origin to the center of the image.\n                    // https://developer.mozilla.org/en-US/docs/Web/CSS/transform-origin\n                    context.translate(centerX, centerY);\n                    context.transform(a, b, c, d, newE, newF);\n                    // Reset the transform origin to the top-left of the image.\n                    context.translate(-centerX, -centerY);\n                    context.drawImage(image, 0, 0, destWidth, destHeight);\n                    context.restore();\n                }\n                resolve(canvas);\n            }).catch(reject);\n        });\n    }\n}\nCropperCanvas.$name = CROPPER_CANVAS;\nCropperCanvas.$version = '2.0.0';\n\nexport { CropperCanvas as default };\n","import CropperElement from '@cropper/element';\nimport { CROPPER_IMAGE, CROPPER_CANVAS, on, EVENT_ACTION_START, EVENT_ACTION_END, EVENT_ACTION, EVENT_LOAD, off, ACTION_TRANSFORM, ACTION_ROTATE, ACTION_SCALE, ACTION_NONE, CROPPER_SELECTION, ACTION_MOVE, once, EVENT_ERROR, isFunction, isNumber, toAngleInRadian, multiplyMatrices, EVENT_TRANSFORM } from '@cropper/utils';\n\nvar style = `:host{display:inline-block}img{display:block;height:100%;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}`;\n\nconst canvasCache = new WeakMap();\nconst NATIVE_ATTRIBUTES = [\n    'alt',\n    'crossorigin',\n    'decoding',\n    'importance',\n    'loading',\n    'referrerpolicy',\n    'sizes',\n    'src',\n    'srcset',\n];\nclass CropperImage extends CropperElement {\n    constructor() {\n        super(...arguments);\n        this.$matrix = [1, 0, 0, 1, 0, 0];\n        this.$onLoad = null;\n        this.$onCanvasAction = null;\n        this.$onCanvasActionEnd = null;\n        this.$onCanvasActionStart = null;\n        this.$actionStartTarget = null;\n        this.$style = style;\n        this.$image = new Image();\n        this.initialCenterSize = 'contain';\n        this.rotatable = false;\n        this.scalable = false;\n        this.skewable = false;\n        this.slottable = false;\n        this.translatable = false;\n    }\n    set $canvas(element) {\n        canvasCache.set(this, element);\n    }\n    get $canvas() {\n        return canvasCache.get(this);\n    }\n    static get observedAttributes() {\n        return super.observedAttributes.concat(NATIVE_ATTRIBUTES, [\n            'initial-center-size',\n            'rotatable',\n            'scalable',\n            'skewable',\n            'translatable',\n        ]);\n    }\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (Object.is(newValue, oldValue)) {\n            return;\n        }\n        super.attributeChangedCallback(name, oldValue, newValue);\n        // Inherits the native attributes\n        if (NATIVE_ATTRIBUTES.includes(name)) {\n            this.$image.setAttribute(name, newValue);\n        }\n    }\n    $propertyChangedCallback(name, oldValue, newValue) {\n        if (Object.is(newValue, oldValue)) {\n            return;\n        }\n        super.$propertyChangedCallback(name, oldValue, newValue);\n        switch (name) {\n            case 'initialCenterSize':\n                this.$nextTick(() => {\n                    this.$center(newValue);\n                });\n                break;\n        }\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        const { $image } = this;\n        const $canvas = this.closest(this.$getTagNameOf(CROPPER_CANVAS));\n        if ($canvas) {\n            this.$canvas = $canvas;\n            this.$setStyles({\n                // Make it a block element to avoid side effects (#1074).\n                display: 'block',\n                position: 'absolute',\n            });\n            this.$onCanvasActionStart = (event) => {\n                var _a, _b;\n                this.$actionStartTarget = (_b = (_a = event.detail) === null || _a === void 0 ? void 0 : _a.relatedEvent) === null || _b === void 0 ? void 0 : _b.target;\n            };\n            this.$onCanvasActionEnd = () => {\n                this.$actionStartTarget = null;\n            };\n            this.$onCanvasAction = this.$handleAction.bind(this);\n            on($canvas, EVENT_ACTION_START, this.$onCanvasActionStart);\n            on($canvas, EVENT_ACTION_END, this.$onCanvasActionEnd);\n            on($canvas, EVENT_ACTION, this.$onCanvasAction);\n        }\n        this.$onLoad = this.$handleLoad.bind(this);\n        on($image, EVENT_LOAD, this.$onLoad);\n        this.$getShadowRoot().appendChild($image);\n    }\n    disconnectedCallback() {\n        const { $image, $canvas } = this;\n        if ($canvas) {\n            if (this.$onCanvasActionStart) {\n                off($canvas, EVENT_ACTION_START, this.$onCanvasActionStart);\n                this.$onCanvasActionStart = null;\n            }\n            if (this.$onCanvasActionEnd) {\n                off($canvas, EVENT_ACTION_END, this.$onCanvasActionEnd);\n                this.$onCanvasActionEnd = null;\n            }\n            if (this.$onCanvasAction) {\n                off($canvas, EVENT_ACTION, this.$onCanvasAction);\n                this.$onCanvasAction = null;\n            }\n        }\n        if ($image && this.$onLoad) {\n            off($image, EVENT_LOAD, this.$onLoad);\n            this.$onLoad = null;\n        }\n        this.$getShadowRoot().removeChild($image);\n        super.disconnectedCallback();\n    }\n    $handleLoad() {\n        const { $image } = this;\n        this.$setStyles({\n            width: $image.naturalWidth,\n            height: $image.naturalHeight,\n        });\n        if (this.$canvas) {\n            this.$center(this.initialCenterSize);\n        }\n    }\n    $handleAction(event) {\n        if (this.hidden || !(this.rotatable || this.scalable || this.translatable)) {\n            return;\n        }\n        const { $canvas } = this;\n        const { detail } = event;\n        if (detail) {\n            const { relatedEvent } = detail;\n            let { action } = detail;\n            if (action === ACTION_TRANSFORM && (!this.rotatable || !this.scalable)) {\n                if (this.rotatable) {\n                    action = ACTION_ROTATE;\n                }\n                else if (this.scalable) {\n                    action = ACTION_SCALE;\n                }\n                else {\n                    action = ACTION_NONE;\n                }\n            }\n            switch (action) {\n                case ACTION_MOVE:\n                    if (this.translatable) {\n                        let $selection = null;\n                        if (relatedEvent) {\n                            $selection = relatedEvent.target.closest(this.$getTagNameOf(CROPPER_SELECTION));\n                        }\n                        if (!$selection) {\n                            $selection = $canvas.querySelector(this.$getTagNameOf(CROPPER_SELECTION));\n                        }\n                        if ($selection && $selection.multiple && !$selection.active) {\n                            $selection = $canvas.querySelector(`${this.$getTagNameOf(CROPPER_SELECTION)}[active]`);\n                        }\n                        if (!$selection || $selection.hidden || !$selection.movable || $selection.dynamic\n                            || !(this.$actionStartTarget && $selection.contains(this.$actionStartTarget))) {\n                            this.$move(detail.endX - detail.startX, detail.endY - detail.startY);\n                        }\n                    }\n                    break;\n                case ACTION_ROTATE:\n                    if (this.rotatable) {\n                        if (relatedEvent) {\n                            const { x, y } = this.getBoundingClientRect();\n                            this.$rotate(detail.rotate, relatedEvent.clientX - x, relatedEvent.clientY - y);\n                        }\n                        else {\n                            this.$rotate(detail.rotate);\n                        }\n                    }\n                    break;\n                case ACTION_SCALE:\n                    if (this.scalable) {\n                        if (relatedEvent) {\n                            const $selection = relatedEvent.target.closest(this.$getTagNameOf(CROPPER_SELECTION));\n                            if (!$selection\n                                || !$selection.zoomable\n                                || ($selection.zoomable && $selection.dynamic)) {\n                                const { x, y } = this.getBoundingClientRect();\n                                this.$zoom(detail.scale, relatedEvent.clientX - x, relatedEvent.clientY - y);\n                            }\n                        }\n                        else {\n                            this.$zoom(detail.scale);\n                        }\n                    }\n                    break;\n                case ACTION_TRANSFORM:\n                    if (this.rotatable && this.scalable) {\n                        const { rotate } = detail;\n                        let { scale } = detail;\n                        if (scale < 0) {\n                            scale = 1 / (1 - scale);\n                        }\n                        else {\n                            scale += 1;\n                        }\n                        const cos = Math.cos(rotate);\n                        const sin = Math.sin(rotate);\n                        const [scaleX, skewY, skewX, scaleY] = [\n                            cos * scale,\n                            sin * scale,\n                            -sin * scale,\n                            cos * scale,\n                        ];\n                        if (relatedEvent) {\n                            const clientRect = this.getBoundingClientRect();\n                            const x = relatedEvent.clientX - clientRect.x;\n                            const y = relatedEvent.clientY - clientRect.y;\n                            const [a, b, c, d] = this.$matrix;\n                            const originX = clientRect.width / 2;\n                            const originY = clientRect.height / 2;\n                            const moveX = x - originX;\n                            const moveY = y - originY;\n                            const translateX = ((moveX * d) - (c * moveY)) / ((a * d) - (c * b));\n                            const translateY = ((moveY * a) - (b * moveX)) / ((a * d) - (c * b));\n                            /**\n                             * Equals to\n                             * this.$rotate(rotate, x, y);\n                             * this.$scale(scale, x, y);\n                             */\n                            this.$transform(scaleX, skewY, skewX, scaleY, translateX * (1 - scaleX) + translateY * skewX, translateY * (1 - scaleY) + translateX * skewY);\n                        }\n                        else {\n                            /**\n                             * Equals to\n                             * this.$rotate(rotate);\n                             * this.$scale(scale);\n                             */\n                            this.$transform(scaleX, skewY, skewX, scaleY, 0, 0);\n                        }\n                    }\n                    break;\n            }\n        }\n    }\n    /**\n     * Defers the callback to execute after successfully loading the image.\n     * @param {Function} [callback] The callback to execute after successfully loading the image.\n     * @returns {Promise} Returns a promise that resolves to the image element.\n     */\n    $ready(callback) {\n        const { $image } = this;\n        const promise = new Promise((resolve, reject) => {\n            const error = new Error('Failed to load the image source');\n            if ($image.complete) {\n                if ($image.naturalWidth > 0 && $image.naturalHeight > 0) {\n                    resolve($image);\n                }\n                else {\n                    reject(error);\n                }\n            }\n            else {\n                const onLoad = () => {\n                    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n                    off($image, EVENT_ERROR, onError);\n                    resolve($image);\n                };\n                const onError = () => {\n                    off($image, EVENT_LOAD, onLoad);\n                    reject(error);\n                };\n                once($image, EVENT_LOAD, onLoad);\n                once($image, EVENT_ERROR, onError);\n            }\n        });\n        if (isFunction(callback)) {\n            promise.then((image) => {\n                callback(image);\n                return image;\n            });\n        }\n        return promise;\n    }\n    /**\n     * Aligns the image to the center of its parent element.\n     * @param {string} [size] The size of the image.\n     * @returns {CropperImage} Returns `this` for chaining.\n     */\n    $center(size) {\n        const { parentElement } = this;\n        if (!parentElement) {\n            return this;\n        }\n        const container = parentElement.getBoundingClientRect();\n        const containerWidth = container.width;\n        const containerHeight = container.height;\n        const { x, y, width, height, } = this.getBoundingClientRect();\n        const startX = x + (width / 2);\n        const startY = y + (height / 2);\n        const endX = container.x + (containerWidth / 2);\n        const endY = container.y + (containerHeight / 2);\n        this.$move(endX - startX, endY - startY);\n        if (size && (width !== containerWidth || height !== containerHeight)) {\n            const scaleX = containerWidth / width;\n            const scaleY = containerHeight / height;\n            switch (size) {\n                case 'cover':\n                    this.$scale(Math.max(scaleX, scaleY));\n                    break;\n                case 'contain':\n                    this.$scale(Math.min(scaleX, scaleY));\n                    break;\n            }\n        }\n        return this;\n    }\n    /**\n     * Moves the image.\n     * @param {number} x The moving distance in the horizontal direction.\n     * @param {number} [y] The moving distance in the vertical direction.\n     * @returns {CropperImage} Returns `this` for chaining.\n     */\n    $move(x, y = x) {\n        if (this.translatable && isNumber(x) && isNumber(y)) {\n            const [a, b, c, d] = this.$matrix;\n            const e = ((x * d) - (c * y)) / ((a * d) - (c * b));\n            const f = ((y * a) - (b * x)) / ((a * d) - (c * b));\n            this.$translate(e, f);\n        }\n        return this;\n    }\n    /**\n     * Moves the image to a specific position.\n     * @param {number} x The new position in the horizontal direction.\n     * @param {number} [y] The new position in the vertical direction.\n     * @returns {CropperImage} Returns `this` for chaining.\n     */\n    $moveTo(x, y = x) {\n        if (this.translatable && isNumber(x) && isNumber(y)) {\n            const [a, b, c, d] = this.$matrix;\n            const e = ((x * d) - (c * y)) / ((a * d) - (c * b));\n            const f = ((y * a) - (b * x)) / ((a * d) - (c * b));\n            this.$setTransform(a, b, c, d, e, f);\n        }\n        return this;\n    }\n    /**\n     * Rotates the image.\n     * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/rotate}\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/rotate}\n     * @param {number|string} angle The rotation angle (in radians).\n     * @param {number} [x] The rotation origin in the horizontal, defaults to the center of the image.\n     * @param {number} [y] The rotation origin in the vertical, defaults to the center of the image.\n     * @returns {CropperImage} Returns `this` for chaining.\n     */\n    $rotate(angle, x, y) {\n        if (this.rotatable) {\n            const radian = toAngleInRadian(angle);\n            const cos = Math.cos(radian);\n            const sin = Math.sin(radian);\n            const [scaleX, skewY, skewX, scaleY] = [cos, sin, -sin, cos];\n            if (isNumber(x) && isNumber(y)) {\n                const [a, b, c, d] = this.$matrix;\n                const { width, height } = this.getBoundingClientRect();\n                const originX = width / 2;\n                const originY = height / 2;\n                const moveX = x - originX;\n                const moveY = y - originY;\n                const translateX = ((moveX * d) - (c * moveY)) / ((a * d) - (c * b));\n                const translateY = ((moveY * a) - (b * moveX)) / ((a * d) - (c * b));\n                /**\n                 * Equals to\n                 * this.$translate(translateX, translateX);\n                 * this.$rotate(angle);\n                 * this.$translate(-translateX, -translateX);\n                 */\n                this.$transform(scaleX, skewY, skewX, scaleY, translateX * (1 - scaleX) - translateY * skewX, translateY * (1 - scaleY) - translateX * skewY);\n            }\n            else {\n                this.$transform(scaleX, skewY, skewX, scaleY, 0, 0);\n            }\n        }\n        return this;\n    }\n    /**\n     * Zooms the image.\n     * @param {number} scale The zoom factor. Positive numbers for zooming in, and negative numbers for zooming out.\n     * @param {number} [x] The zoom origin in the horizontal, defaults to the center of the image.\n     * @param {number} [y] The zoom origin in the vertical, defaults to the center of the image.\n     * @returns {CropperImage} Returns `this` for chaining.\n     */\n    $zoom(scale, x, y) {\n        if (!this.scalable || scale === 0) {\n            return this;\n        }\n        if (scale < 0) {\n            scale = 1 / (1 - scale);\n        }\n        else {\n            scale += 1;\n        }\n        if (isNumber(x) && isNumber(y)) {\n            const [a, b, c, d] = this.$matrix;\n            const { width, height } = this.getBoundingClientRect();\n            const originX = width / 2;\n            const originY = height / 2;\n            const moveX = x - originX;\n            const moveY = y - originY;\n            const translateX = ((moveX * d) - (c * moveY)) / ((a * d) - (c * b));\n            const translateY = ((moveY * a) - (b * moveX)) / ((a * d) - (c * b));\n            /**\n             * Equals to\n             * this.$translate(translateX, translateX);\n             * this.$scale(scale);\n             * this.$translate(-translateX, -translateX);\n             */\n            this.$transform(scale, 0, 0, scale, translateX * (1 - scale), translateY * (1 - scale));\n        }\n        else {\n            this.$scale(scale);\n        }\n        return this;\n    }\n    /**\n     * Scales the image.\n     * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/scale}\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/scale}\n     * @param {number} x The scaling factor in the horizontal direction.\n     * @param {number} [y] The scaling factor in the vertical direction.\n     * @returns {CropperImage} Returns `this` for chaining.\n     */\n    $scale(x, y = x) {\n        if (this.scalable) {\n            this.$transform(x, 0, 0, y, 0, 0);\n        }\n        return this;\n    }\n    /**\n     * Skews the image.\n     * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/skew}\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/transform}\n     * @param {number|string} x The skewing angle in the horizontal direction.\n     * @param {number|string} [y] The skewing angle in the vertical direction.\n     * @returns {CropperImage} Returns `this` for chaining.\n     */\n    $skew(x, y = 0) {\n        if (this.skewable) {\n            const radianX = toAngleInRadian(x);\n            const radianY = toAngleInRadian(y);\n            this.$transform(1, Math.tan(radianY), Math.tan(radianX), 1, 0, 0);\n        }\n        return this;\n    }\n    /**\n     * Translates the image.\n     * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/translate}\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/translate}\n     * @param {number} x The translating distance in the horizontal direction.\n     * @param {number} [y] The translating distance in the vertical direction.\n     * @returns {CropperImage} Returns `this` for chaining.\n     */\n    $translate(x, y = x) {\n        if (this.translatable && isNumber(x) && isNumber(y)) {\n            this.$transform(1, 0, 0, 1, x, y);\n        }\n        return this;\n    }\n    /**\n     * Transforms the image.\n     * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix}\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/transform}\n     * @param {number} a The scaling factor in the horizontal direction.\n     * @param {number} b The skewing angle in the vertical direction.\n     * @param {number} c The skewing angle in the horizontal direction.\n     * @param {number} d The scaling factor in the vertical direction.\n     * @param {number} e The translating distance in the horizontal direction.\n     * @param {number} f The translating distance in the vertical direction.\n     * @returns {CropperImage} Returns `this` for chaining.\n     */\n    $transform(a, b, c, d, e, f) {\n        if (isNumber(a)\n            && isNumber(b)\n            && isNumber(c)\n            && isNumber(d)\n            && isNumber(e)\n            && isNumber(f)) {\n            return this.$setTransform(multiplyMatrices(this.$matrix, [a, b, c, d, e, f]));\n        }\n        return this;\n    }\n    /**\n     * Resets (overrides) the current transform to the specific identity matrix.\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/setTransform}\n     * @param {number|Array} a The scaling factor in the horizontal direction.\n     * @param {number} b The skewing angle in the vertical direction.\n     * @param {number} c The skewing angle in the horizontal direction.\n     * @param {number} d The scaling factor in the vertical direction.\n     * @param {number} e The translating distance in the horizontal direction.\n     * @param {number} f The translating distance in the vertical direction.\n     * @returns {CropperImage} Returns `this` for chaining.\n     */\n    $setTransform(a, b, c, d, e, f) {\n        if (this.rotatable || this.scalable || this.skewable || this.translatable) {\n            if (Array.isArray(a)) {\n                [a, b, c, d, e, f] = a;\n            }\n            if (isNumber(a)\n                && isNumber(b)\n                && isNumber(c)\n                && isNumber(d)\n                && isNumber(e)\n                && isNumber(f)) {\n                const oldMatrix = [...this.$matrix];\n                const newMatrix = [a, b, c, d, e, f];\n                if (this.$emit(EVENT_TRANSFORM, {\n                    matrix: newMatrix,\n                    oldMatrix,\n                }) === false) {\n                    return this;\n                }\n                this.$matrix = newMatrix;\n                this.style.transform = `matrix(${newMatrix.join(', ')})`;\n            }\n        }\n        return this;\n    }\n    /**\n     * Retrieves the current transformation matrix being applied to the element.\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/getTransform}\n     * @returns {Array} Returns the readonly transformation matrix.\n     */\n    $getTransform() {\n        return this.$matrix.slice();\n    }\n    /**\n     * Resets the current transform to the initial identity matrix.\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/resetTransform}\n     * @returns {CropperImage} Returns `this` for chaining.\n     */\n    $resetTransform() {\n        return this.$setTransform([1, 0, 0, 1, 0, 0]);\n    }\n}\nCropperImage.$name = CROPPER_IMAGE;\nCropperImage.$version = '2.0.0';\n\nexport { CropperImage as default };\n","import CropperElement from '@cropper/element';\nimport { CROPPER_SHADE, CROPPER_CANVAS, CROPPER_SELECTION, ACTION_SELECT, on, EVENT_ACTION_START, EVENT_ACTION_END, EVENT_CHANGE, off, isNumber, WINDOW } from '@cropper/utils';\n\nvar style = `:host{display:block;height:0;left:0;outline:var(--theme-color) solid 1px;position:relative;top:0;width:0}:host([transparent]){outline-color:transparent}`;\n\nconst canvasCache = new WeakMap();\nclass CropperShade extends CropperElement {\n    constructor() {\n        super(...arguments);\n        this.$onCanvasChange = null;\n        this.$onCanvasActionEnd = null;\n        this.$onCanvasActionStart = null;\n        this.$style = style;\n        this.x = 0;\n        this.y = 0;\n        this.width = 0;\n        this.height = 0;\n        this.slottable = false;\n        this.themeColor = 'rgba(0, 0, 0, 0.65)';\n    }\n    set $canvas(element) {\n        canvasCache.set(this, element);\n    }\n    get $canvas() {\n        return canvasCache.get(this);\n    }\n    static get observedAttributes() {\n        return super.observedAttributes.concat([\n            'height',\n            'width',\n            'x',\n            'y',\n        ]);\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        const $canvas = this.closest(this.$getTagNameOf(CROPPER_CANVAS));\n        if ($canvas) {\n            this.$canvas = $canvas;\n            this.style.position = 'absolute';\n            const $selection = $canvas.querySelector(this.$getTagNameOf(CROPPER_SELECTION));\n            if ($selection) {\n                this.$onCanvasActionStart = (event) => {\n                    if ($selection.hidden && event.detail.action === ACTION_SELECT) {\n                        this.hidden = false;\n                    }\n                };\n                this.$onCanvasActionEnd = (event) => {\n                    if ($selection.hidden && event.detail.action === ACTION_SELECT) {\n                        this.hidden = true;\n                    }\n                };\n                this.$onCanvasChange = (event) => {\n                    const { x, y, width, height, } = event.detail;\n                    this.$change(x, y, width, height);\n                    if ($selection.hidden || (x === 0 && y === 0 && width === 0 && height === 0)) {\n                        this.hidden = true;\n                    }\n                };\n                on($canvas, EVENT_ACTION_START, this.$onCanvasActionStart);\n                on($canvas, EVENT_ACTION_END, this.$onCanvasActionEnd);\n                on($canvas, EVENT_CHANGE, this.$onCanvasChange);\n            }\n        }\n        this.$render();\n    }\n    disconnectedCallback() {\n        const { $canvas } = this;\n        if ($canvas) {\n            if (this.$onCanvasActionStart) {\n                off($canvas, EVENT_ACTION_START, this.$onCanvasActionStart);\n                this.$onCanvasActionStart = null;\n            }\n            if (this.$onCanvasActionEnd) {\n                off($canvas, EVENT_ACTION_END, this.$onCanvasActionEnd);\n                this.$onCanvasActionEnd = null;\n            }\n            if (this.$onCanvasChange) {\n                off($canvas, EVENT_CHANGE, this.$onCanvasChange);\n                this.$onCanvasChange = null;\n            }\n        }\n        super.disconnectedCallback();\n    }\n    /**\n     * Changes the position and/or size of the shade.\n     * @param {number} x The new position in the horizontal direction.\n     * @param {number} y The new position in the vertical direction.\n     * @param {number} [width] The new width.\n     * @param {number} [height] The new height.\n     * @returns {CropperShade} Returns `this` for chaining.\n     */\n    $change(x, y, width = this.width, height = this.height) {\n        if (!isNumber(x)\n            || !isNumber(y)\n            || !isNumber(width)\n            || !isNumber(height)\n            || (x === this.x && y === this.y && width === this.width && height === this.height)) {\n            return this;\n        }\n        if (this.hidden) {\n            this.hidden = false;\n        }\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        return this.$render();\n    }\n    /**\n     * Resets the shade to its initial position and size.\n     * @returns {CropperShade} Returns `this` for chaining.\n     */\n    $reset() {\n        return this.$change(0, 0, 0, 0);\n    }\n    /**\n     * Refreshes the position or size of the shade.\n     * @returns {CropperShade} Returns `this` for chaining.\n     */\n    $render() {\n        return this.$setStyles({\n            transform: `translate(${this.x}px, ${this.y}px)`,\n            width: this.width,\n            height: this.height,\n            outlineWidth: WINDOW.innerWidth,\n        });\n    }\n}\nCropperShade.$name = CROPPER_SHADE;\nCropperShade.$version = '2.0.0';\n\nexport { CropperShade as default };\n","import CropperElement from '@cropper/element';\nimport { CROPPER_HANDLE, ACTION_NONE } from '@cropper/utils';\n\nvar style = `:host{background-color:var(--theme-color);display:block}:host([action=move]),:host([action=select]){height:100%;left:0;position:absolute;top:0;width:100%}:host([action=move]){cursor:move}:host([action=select]){cursor:crosshair}:host([action$=-resize]){background-color:transparent;height:15px;position:absolute;width:15px}:host([action$=-resize]):after{background-color:var(--theme-color);content:\"\";display:block;height:5px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:5px}:host([action=n-resize]),:host([action=s-resize]){cursor:ns-resize;left:50%;transform:translateX(-50%);width:100%}:host([action=n-resize]){top:-8px}:host([action=s-resize]){bottom:-8px}:host([action=e-resize]),:host([action=w-resize]){cursor:ew-resize;height:100%;top:50%;transform:translateY(-50%)}:host([action=e-resize]){right:-8px}:host([action=w-resize]){left:-8px}:host([action=ne-resize]){cursor:nesw-resize;right:-8px;top:-8px}:host([action=nw-resize]){cursor:nwse-resize;left:-8px;top:-8px}:host([action=se-resize]){bottom:-8px;cursor:nwse-resize;right:-8px}:host([action=se-resize]):after{height:15px;width:15px}@media (pointer:coarse){:host([action=se-resize]):after{height:10px;width:10px}}@media (pointer:fine){:host([action=se-resize]):after{height:5px;width:5px}}:host([action=sw-resize]){bottom:-8px;cursor:nesw-resize;left:-8px}:host([plain]){background-color:transparent}`;\n\nclass CropperHandle extends CropperElement {\n    constructor() {\n        super(...arguments);\n        this.$onCanvasCropEnd = null;\n        this.$onCanvasCropStart = null;\n        this.$style = style;\n        this.action = ACTION_NONE;\n        this.plain = false;\n        this.slottable = false;\n        this.themeColor = 'rgba(51, 153, 255, 0.5)';\n    }\n    static get observedAttributes() {\n        return super.observedAttributes.concat([\n            'action',\n            'plain',\n        ]);\n    }\n}\nCropperHandle.$name = CROPPER_HANDLE;\nCropperHandle.$version = '2.0.0';\n\nexport { CropperHandle as default };\n","import CropperElement from '@cropper/element';\nimport { CROPPER_SELECTION, EVENT_CHANGE, on, EVENT_KEYDOWN, off, isPositiveNumber, CROPPER_CANVAS, EVENT_ACTION_START, EVENT_ACTION_END, EVENT_ACTION, getAdjustedSizes, ACTION_SELECT, ACTION_SCALE, getOffset, ACTION_MOVE, ACTION_RESIZE_NORTHWEST, ACTION_RESIZE_SOUTHWEST, ACTION_RESIZE_NORTHEAST, ACTION_RESIZE_SOUTHEAST, isNumber, isPlainObject, CROPPER_IMAGE, isFunction, ACTION_RESIZE_WEST, ACTION_RESIZE_EAST, ACTION_RESIZE_SOUTH, ACTION_RESIZE_NORTH } from '@cropper/utils';\n\nvar style = `:host{display:block;left:0;position:relative;right:0}:host([outlined]){outline:1px solid var(--theme-color)}:host([multiple]){outline:1px dashed hsla(0,0%,100%,.5)}:host([multiple]):after{bottom:0;content:\"\";cursor:pointer;display:block;left:0;position:absolute;right:0;top:0}:host([multiple][active]){outline-color:var(--theme-color);z-index:1}:host([multiple])>*{visibility:hidden}:host([multiple][active])>*{visibility:visible}:host([multiple][active]):after{display:none}`;\n\nconst canvasCache = new WeakMap();\nclass CropperSelection extends CropperElement {\n    constructor() {\n        super(...arguments);\n        this.$onCanvasAction = null;\n        this.$onCanvasActionStart = null;\n        this.$onCanvasActionEnd = null;\n        this.$onDocumentKeyDown = null;\n        this.$action = '';\n        this.$actionStartTarget = null;\n        this.$changing = false;\n        this.$style = style;\n        this.$initialSelection = {\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0,\n        };\n        this.x = 0;\n        this.y = 0;\n        this.width = 0;\n        this.height = 0;\n        this.aspectRatio = NaN;\n        this.initialAspectRatio = NaN;\n        this.initialCoverage = NaN;\n        this.active = false;\n        // Deprecated as of v2.0.0-rc.0, use `dynamic` instead.\n        this.linked = false;\n        this.dynamic = false;\n        this.movable = false;\n        this.resizable = false;\n        this.zoomable = false;\n        this.multiple = false;\n        this.keyboard = false;\n        this.outlined = false;\n        this.precise = false;\n    }\n    set $canvas(element) {\n        canvasCache.set(this, element);\n    }\n    get $canvas() {\n        return canvasCache.get(this);\n    }\n    static get observedAttributes() {\n        return super.observedAttributes.concat([\n            'active',\n            'aspect-ratio',\n            'dynamic',\n            'height',\n            'initial-aspect-ratio',\n            'initial-coverage',\n            'keyboard',\n            'linked',\n            'movable',\n            'multiple',\n            'outlined',\n            'precise',\n            'resizable',\n            'width',\n            'x',\n            'y',\n            'zoomable',\n        ]);\n    }\n    $propertyChangedCallback(name, oldValue, newValue) {\n        if (Object.is(newValue, oldValue)) {\n            return;\n        }\n        super.$propertyChangedCallback(name, oldValue, newValue);\n        switch (name) {\n            case 'x':\n            case 'y':\n            case 'width':\n            case 'height':\n                if (!this.$changing) {\n                    this.$nextTick(() => {\n                        this.$change(this.x, this.y, this.width, this.height, this.aspectRatio, true);\n                    });\n                }\n                break;\n            case 'aspectRatio':\n            case 'initialAspectRatio':\n                this.$nextTick(() => {\n                    this.$initSelection();\n                });\n                break;\n            case 'initialCoverage':\n                this.$nextTick(() => {\n                    if (isPositiveNumber(newValue) && newValue <= 1) {\n                        this.$initSelection(true, true);\n                    }\n                });\n                break;\n            case 'keyboard':\n                this.$nextTick(() => {\n                    if (this.$canvas) {\n                        if (newValue) {\n                            if (!this.$onDocumentKeyDown) {\n                                this.$onDocumentKeyDown = this.$handleKeyDown.bind(this);\n                                on(this.ownerDocument, EVENT_KEYDOWN, this.$onDocumentKeyDown);\n                            }\n                        }\n                        else if (this.$onDocumentKeyDown) {\n                            off(this.ownerDocument, EVENT_KEYDOWN, this.$onDocumentKeyDown);\n                            this.$onDocumentKeyDown = null;\n                        }\n                    }\n                });\n                break;\n            case 'multiple':\n                this.$nextTick(() => {\n                    if (this.$canvas) {\n                        const selections = this.$getSelections();\n                        if (newValue) {\n                            selections.forEach((selection) => {\n                                selection.active = false;\n                            });\n                            this.active = true;\n                            this.$emit(EVENT_CHANGE, {\n                                x: this.x,\n                                y: this.y,\n                                width: this.width,\n                                height: this.height,\n                            });\n                        }\n                        else {\n                            this.active = false;\n                            selections.slice(1).forEach((selection) => {\n                                this.$removeSelection(selection);\n                            });\n                        }\n                    }\n                });\n                break;\n            case 'precise':\n                this.$nextTick(() => {\n                    this.$change(this.x, this.y);\n                });\n                break;\n            // Backwards compatible with 2.0.0-rc\n            case 'linked':\n                if (newValue) {\n                    this.dynamic = true;\n                }\n                break;\n        }\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        const $canvas = this.closest(this.$getTagNameOf(CROPPER_CANVAS));\n        if ($canvas) {\n            this.$canvas = $canvas;\n            this.$setStyles({\n                position: 'absolute',\n                transform: `translate(${this.x}px, ${this.y}px)`,\n            });\n            if (!this.hidden) {\n                this.$render();\n            }\n            this.$initSelection(true);\n            this.$onCanvasActionStart = this.$handleActionStart.bind(this);\n            this.$onCanvasActionEnd = this.$handleActionEnd.bind(this);\n            this.$onCanvasAction = this.$handleAction.bind(this);\n            on($canvas, EVENT_ACTION_START, this.$onCanvasActionStart);\n            on($canvas, EVENT_ACTION_END, this.$onCanvasActionEnd);\n            on($canvas, EVENT_ACTION, this.$onCanvasAction);\n        }\n        else {\n            this.$render();\n        }\n    }\n    disconnectedCallback() {\n        const { $canvas } = this;\n        if ($canvas) {\n            if (this.$onCanvasActionStart) {\n                off($canvas, EVENT_ACTION_START, this.$onCanvasActionStart);\n                this.$onCanvasActionStart = null;\n            }\n            if (this.$onCanvasActionEnd) {\n                off($canvas, EVENT_ACTION_END, this.$onCanvasActionEnd);\n                this.$onCanvasActionEnd = null;\n            }\n            if (this.$onCanvasAction) {\n                off($canvas, EVENT_ACTION, this.$onCanvasAction);\n                this.$onCanvasAction = null;\n            }\n        }\n        super.disconnectedCallback();\n    }\n    $getSelections() {\n        let selections = [];\n        if (this.parentElement) {\n            selections = Array.from(this.parentElement.querySelectorAll(this.$getTagNameOf(CROPPER_SELECTION)));\n        }\n        return selections;\n    }\n    $initSelection(center = false, resize = false) {\n        const { initialCoverage, parentElement } = this;\n        if (isPositiveNumber(initialCoverage) && parentElement) {\n            const aspectRatio = this.aspectRatio || this.initialAspectRatio;\n            let width = (resize ? 0 : this.width) || parentElement.offsetWidth * initialCoverage;\n            let height = (resize ? 0 : this.height) || parentElement.offsetHeight * initialCoverage;\n            if (isPositiveNumber(aspectRatio)) {\n                ({ width, height } = getAdjustedSizes({ aspectRatio, width, height }));\n            }\n            this.$change(this.x, this.y, width, height);\n            if (center) {\n                this.$center();\n            }\n            // Overrides the initial position and size\n            this.$initialSelection = {\n                x: this.x,\n                y: this.y,\n                width: this.width,\n                height: this.height,\n            };\n        }\n    }\n    $createSelection() {\n        const newSelection = this.cloneNode(true);\n        if (this.hasAttribute('id')) {\n            newSelection.removeAttribute('id');\n        }\n        newSelection.initialCoverage = NaN;\n        this.active = false;\n        if (this.parentElement) {\n            this.parentElement.insertBefore(newSelection, this.nextSibling);\n        }\n        return newSelection;\n    }\n    $removeSelection(selection = this) {\n        if (this.parentElement) {\n            const selections = this.$getSelections();\n            if (selections.length > 1) {\n                const index = selections.indexOf(selection);\n                const activeSelection = selections[index + 1] || selections[index - 1];\n                if (activeSelection) {\n                    selection.active = false;\n                    this.parentElement.removeChild(selection);\n                    activeSelection.active = true;\n                    activeSelection.$emit(EVENT_CHANGE, {\n                        x: activeSelection.x,\n                        y: activeSelection.y,\n                        width: activeSelection.width,\n                        height: activeSelection.height,\n                    });\n                }\n            }\n            else {\n                this.$clear();\n            }\n        }\n    }\n    $handleActionStart(event) {\n        var _a, _b;\n        const relatedTarget = (_b = (_a = event.detail) === null || _a === void 0 ? void 0 : _a.relatedEvent) === null || _b === void 0 ? void 0 : _b.target;\n        this.$action = '';\n        this.$actionStartTarget = relatedTarget;\n        if (!this.hidden\n            && this.multiple\n            && !this.active\n            && relatedTarget === this\n            && this.parentElement) {\n            this.$getSelections().forEach((selection) => {\n                selection.active = false;\n            });\n            this.active = true;\n            this.$emit(EVENT_CHANGE, {\n                x: this.x,\n                y: this.y,\n                width: this.width,\n                height: this.height,\n            });\n        }\n    }\n    $handleAction(event) {\n        const { currentTarget, detail } = event;\n        if (!currentTarget || !detail) {\n            return;\n        }\n        const { relatedEvent } = detail;\n        let { action } = detail;\n        // Switching to another selection\n        if (!action && this.multiple) {\n            // Get the `action` property from the focusing in selection\n            action = this.$action || (relatedEvent === null || relatedEvent === void 0 ? void 0 : relatedEvent.target.action);\n            this.$action = action;\n        }\n        if (!action\n            || (this.hidden && action !== ACTION_SELECT)\n            || (this.multiple && !this.active && action !== ACTION_SCALE)) {\n            return;\n        }\n        const moveX = detail.endX - detail.startX;\n        const moveY = detail.endY - detail.startY;\n        const { width, height } = this;\n        let { aspectRatio } = this;\n        // Locking aspect ratio by holding shift key\n        if (!isPositiveNumber(aspectRatio) && relatedEvent.shiftKey) {\n            aspectRatio = isPositiveNumber(width) && isPositiveNumber(height) ? width / height : 1;\n        }\n        switch (action) {\n            case ACTION_SELECT:\n                if (moveX !== 0 && moveY !== 0) {\n                    const { $canvas } = this;\n                    const offset = getOffset(currentTarget);\n                    (this.multiple && !this.hidden ? this.$createSelection() : this).$change(detail.startX - offset.left, detail.startY - offset.top, Math.abs(moveX), Math.abs(moveY), aspectRatio);\n                    if (moveX < 0) {\n                        if (moveY < 0) {\n                            // ↖️\n                            action = ACTION_RESIZE_NORTHWEST;\n                        }\n                        else if (moveY > 0) {\n                            // ↙️\n                            action = ACTION_RESIZE_SOUTHWEST;\n                        }\n                    }\n                    else if (moveX > 0) {\n                        if (moveY < 0) {\n                            // ↗️\n                            action = ACTION_RESIZE_NORTHEAST;\n                        }\n                        else if (moveY > 0) {\n                            // ↘️\n                            action = ACTION_RESIZE_SOUTHEAST;\n                        }\n                    }\n                    if ($canvas) {\n                        $canvas.$action = action;\n                    }\n                }\n                break;\n            case ACTION_MOVE:\n                if (this.movable && (this.dynamic\n                    || (this.$actionStartTarget && this.contains(this.$actionStartTarget)))) {\n                    this.$move(moveX, moveY);\n                }\n                break;\n            case ACTION_SCALE:\n                if (relatedEvent && this.zoomable && (this.dynamic\n                    || this.contains(relatedEvent.target))) {\n                    const offset = getOffset(currentTarget);\n                    this.$zoom(detail.scale, relatedEvent.pageX - offset.left, relatedEvent.pageY - offset.top);\n                }\n                break;\n            default:\n                this.$resize(action, moveX, moveY, aspectRatio);\n        }\n    }\n    $handleActionEnd() {\n        this.$action = '';\n        this.$actionStartTarget = null;\n    }\n    $handleKeyDown(event) {\n        if (this.hidden\n            || !this.keyboard\n            || (this.multiple && !this.active)\n            || event.defaultPrevented) {\n            return;\n        }\n        const { activeElement } = document;\n        // Disable keyboard control when input something\n        if (activeElement && (['INPUT', 'TEXTAREA'].includes(activeElement.tagName)\n            || ['true', 'plaintext-only'].includes(activeElement.contentEditable))) {\n            return;\n        }\n        switch (event.key) {\n            case 'Backspace':\n                if (event.metaKey) {\n                    event.preventDefault();\n                    this.$removeSelection();\n                }\n                break;\n            case 'Delete':\n                event.preventDefault();\n                this.$removeSelection();\n                break;\n            // Move to the left\n            case 'ArrowLeft':\n                event.preventDefault();\n                this.$move(-1, 0);\n                break;\n            // Move to the right\n            case 'ArrowRight':\n                event.preventDefault();\n                this.$move(1, 0);\n                break;\n            // Move to the top\n            case 'ArrowUp':\n                event.preventDefault();\n                this.$move(0, -1);\n                break;\n            // Move to the bottom\n            case 'ArrowDown':\n                event.preventDefault();\n                this.$move(0, 1);\n                break;\n            case '+':\n                event.preventDefault();\n                this.$zoom(0.1);\n                break;\n            case '-':\n                event.preventDefault();\n                this.$zoom(-0.1);\n                break;\n        }\n    }\n    /**\n     * Aligns the selection to the center of its parent element.\n     * @returns {CropperSelection} Returns `this` for chaining.\n     */\n    $center() {\n        const { parentElement } = this;\n        if (!parentElement) {\n            return this;\n        }\n        const x = (parentElement.offsetWidth - this.width) / 2;\n        const y = (parentElement.offsetHeight - this.height) / 2;\n        return this.$change(x, y);\n    }\n    /**\n     * Moves the selection.\n     * @param {number} x The moving distance in the horizontal direction.\n     * @param {number} [y] The moving distance in the vertical direction.\n     * @returns {CropperSelection} Returns `this` for chaining.\n     */\n    $move(x, y = x) {\n        return this.$moveTo(this.x + x, this.y + y);\n    }\n    /**\n     * Moves the selection to a specific position.\n     * @param {number} x The new position in the horizontal direction.\n     * @param {number} [y] The new position in the vertical direction.\n     * @returns {CropperSelection} Returns `this` for chaining.\n     */\n    $moveTo(x, y = x) {\n        if (!this.movable) {\n            return this;\n        }\n        return this.$change(x, y);\n    }\n    /**\n     * Adjusts the size the selection on a specific side or corner.\n     * @param {string} action Indicates the side or corner to resize.\n     * @param {number} [offsetX] The horizontal offset of the specific side or corner.\n     * @param {number} [offsetY] The vertical offset of the specific side or corner.\n     * @param {number} [aspectRatio] The aspect ratio for computing the new size if it is necessary.\n     * @returns {CropperSelection} Returns `this` for chaining.\n     */\n    $resize(action, offsetX = 0, offsetY = 0, aspectRatio = this.aspectRatio) {\n        if (!this.resizable) {\n            return this;\n        }\n        const hasValidAspectRatio = isPositiveNumber(aspectRatio);\n        const { $canvas } = this;\n        let { x, y, width, height, } = this;\n        switch (action) {\n            case ACTION_RESIZE_NORTH:\n                y += offsetY;\n                height -= offsetY;\n                if (height < 0) {\n                    action = ACTION_RESIZE_SOUTH;\n                    height = -height;\n                    y -= height;\n                }\n                if (hasValidAspectRatio) {\n                    offsetX = offsetY * aspectRatio;\n                    x += offsetX / 2;\n                    width -= offsetX;\n                    if (width < 0) {\n                        width = -width;\n                        x -= width;\n                    }\n                }\n                break;\n            case ACTION_RESIZE_EAST:\n                width += offsetX;\n                if (width < 0) {\n                    action = ACTION_RESIZE_WEST;\n                    width = -width;\n                    x -= width;\n                }\n                if (hasValidAspectRatio) {\n                    offsetY = offsetX / aspectRatio;\n                    y -= offsetY / 2;\n                    height += offsetY;\n                    if (height < 0) {\n                        height = -height;\n                        y -= height;\n                    }\n                }\n                break;\n            case ACTION_RESIZE_SOUTH:\n                height += offsetY;\n                if (height < 0) {\n                    action = ACTION_RESIZE_NORTH;\n                    height = -height;\n                    y -= height;\n                }\n                if (hasValidAspectRatio) {\n                    offsetX = offsetY * aspectRatio;\n                    x -= offsetX / 2;\n                    width += offsetX;\n                    if (width < 0) {\n                        width = -width;\n                        x -= width;\n                    }\n                }\n                break;\n            case ACTION_RESIZE_WEST:\n                x += offsetX;\n                width -= offsetX;\n                if (width < 0) {\n                    action = ACTION_RESIZE_EAST;\n                    width = -width;\n                    x -= width;\n                }\n                if (hasValidAspectRatio) {\n                    offsetY = offsetX / aspectRatio;\n                    y += offsetY / 2;\n                    height -= offsetY;\n                    if (height < 0) {\n                        height = -height;\n                        y -= height;\n                    }\n                }\n                break;\n            case ACTION_RESIZE_NORTHEAST:\n                if (hasValidAspectRatio) {\n                    offsetY = -offsetX / aspectRatio;\n                }\n                y += offsetY;\n                height -= offsetY;\n                width += offsetX;\n                if (width < 0 && height < 0) {\n                    action = ACTION_RESIZE_SOUTHWEST;\n                    width = -width;\n                    height = -height;\n                    x -= width;\n                    y -= height;\n                }\n                else if (width < 0) {\n                    action = ACTION_RESIZE_NORTHWEST;\n                    width = -width;\n                    x -= width;\n                }\n                else if (height < 0) {\n                    action = ACTION_RESIZE_SOUTHEAST;\n                    height = -height;\n                    y -= height;\n                }\n                break;\n            case ACTION_RESIZE_NORTHWEST:\n                if (hasValidAspectRatio) {\n                    offsetY = offsetX / aspectRatio;\n                }\n                x += offsetX;\n                y += offsetY;\n                width -= offsetX;\n                height -= offsetY;\n                if (width < 0 && height < 0) {\n                    action = ACTION_RESIZE_SOUTHEAST;\n                    width = -width;\n                    height = -height;\n                    x -= width;\n                    y -= height;\n                }\n                else if (width < 0) {\n                    action = ACTION_RESIZE_NORTHEAST;\n                    width = -width;\n                    x -= width;\n                }\n                else if (height < 0) {\n                    action = ACTION_RESIZE_SOUTHWEST;\n                    height = -height;\n                    y -= height;\n                }\n                break;\n            case ACTION_RESIZE_SOUTHEAST:\n                if (hasValidAspectRatio) {\n                    offsetY = offsetX / aspectRatio;\n                }\n                width += offsetX;\n                height += offsetY;\n                if (width < 0 && height < 0) {\n                    action = ACTION_RESIZE_NORTHWEST;\n                    width = -width;\n                    height = -height;\n                    x -= width;\n                    y -= height;\n                }\n                else if (width < 0) {\n                    action = ACTION_RESIZE_SOUTHWEST;\n                    width = -width;\n                    x -= width;\n                }\n                else if (height < 0) {\n                    action = ACTION_RESIZE_NORTHEAST;\n                    height = -height;\n                    y -= height;\n                }\n                break;\n            case ACTION_RESIZE_SOUTHWEST:\n                if (hasValidAspectRatio) {\n                    offsetY = -offsetX / aspectRatio;\n                }\n                x += offsetX;\n                width -= offsetX;\n                height += offsetY;\n                if (width < 0 && height < 0) {\n                    action = ACTION_RESIZE_NORTHEAST;\n                    width = -width;\n                    height = -height;\n                    x -= width;\n                    y -= height;\n                }\n                else if (width < 0) {\n                    action = ACTION_RESIZE_SOUTHEAST;\n                    width = -width;\n                    x -= width;\n                }\n                else if (height < 0) {\n                    action = ACTION_RESIZE_NORTHWEST;\n                    height = -height;\n                    y -= height;\n                }\n                break;\n        }\n        if ($canvas) {\n            $canvas.$setAction(action);\n        }\n        return this.$change(x, y, width, height);\n    }\n    /**\n     * Zooms the selection.\n     * @param {number} scale The zoom factor. Positive numbers for zooming in, and negative numbers for zooming out.\n     * @param {number} [x] The zoom origin in the horizontal, defaults to the center of the selection.\n     * @param {number} [y] The zoom origin in the vertical, defaults to the center of the selection.\n     * @returns {CropperSelection} Returns `this` for chaining.\n     */\n    $zoom(scale, x, y) {\n        if (!this.zoomable || scale === 0) {\n            return this;\n        }\n        if (scale < 0) {\n            scale = 1 / (1 - scale);\n        }\n        else {\n            scale += 1;\n        }\n        const { width, height } = this;\n        const newWidth = width * scale;\n        const newHeight = height * scale;\n        let newX = this.x;\n        let newY = this.y;\n        if (isNumber(x) && isNumber(y)) {\n            newX -= (newWidth - width) * ((x - this.x) / width);\n            newY -= (newHeight - height) * ((y - this.y) / height);\n        }\n        else {\n            // Zoom from the center of the selection\n            newX -= (newWidth - width) / 2;\n            newY -= (newHeight - height) / 2;\n        }\n        return this.$change(newX, newY, newWidth, newHeight);\n    }\n    /**\n     * Changes the position and/or size of the selection.\n     * @param {number} x The new position in the horizontal direction.\n     * @param {number} y The new position in the vertical direction.\n     * @param {number} [width] The new width.\n     * @param {number} [height] The new height.\n     * @param {number} [aspectRatio] The new aspect ratio for this change only.\n     * @param {number} [_force] Force change.\n     * @returns {CropperSelection} Returns `this` for chaining.\n     */\n    $change(x, y, width = this.width, height = this.height, aspectRatio = this.aspectRatio, _force = false) {\n        if (this.$changing\n            || !isNumber(x)\n            || !isNumber(y)\n            || !isNumber(width)\n            || !isNumber(height)\n            || width < 0\n            || height < 0) {\n            return this;\n        }\n        if (isPositiveNumber(aspectRatio)) {\n            ({ width, height } = getAdjustedSizes({ aspectRatio, width, height }, 'cover'));\n        }\n        if (!this.precise) {\n            x = Math.round(x);\n            y = Math.round(y);\n            width = Math.round(width);\n            height = Math.round(height);\n        }\n        if (x === this.x\n            && y === this.y\n            && width === this.width\n            && height === this.height\n            && Object.is(aspectRatio, this.aspectRatio)\n            && !_force) {\n            return this;\n        }\n        if (this.hidden) {\n            this.hidden = false;\n        }\n        if (this.$emit(EVENT_CHANGE, {\n            x,\n            y,\n            width,\n            height,\n        }) === false) {\n            return this;\n        }\n        this.$changing = true;\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.$changing = false;\n        return this.$render();\n    }\n    /**\n     * Resets the selection to its initial position and size.\n     * @returns {CropperSelection} Returns `this` for chaining.\n     */\n    $reset() {\n        const { x, y, width, height, } = this.$initialSelection;\n        return this.$change(x, y, width, height);\n    }\n    /**\n     * Clears the selection.\n     * @returns {CropperSelection} Returns `this` for chaining.\n     */\n    $clear() {\n        this.$change(0, 0, 0, 0, NaN, true);\n        this.hidden = true;\n        return this;\n    }\n    /**\n     * Refreshes the position or size of the selection.\n     * @returns {CropperSelection} Returns `this` for chaining.\n     */\n    $render() {\n        return this.$setStyles({\n            transform: `translate(${this.x}px, ${this.y}px)`,\n            width: this.width,\n            height: this.height,\n        });\n    }\n    /**\n     * Generates a real canvas element, with the image (selected area only) draw into if there is one.\n     * @param {object} [options] The available options.\n     * @param {number} [options.width] The width of the canvas.\n     * @param {number} [options.height] The height of the canvas.\n     * @param {Function} [options.beforeDraw] The function called before drawing the image onto the canvas.\n     * @returns {Promise} Returns a promise that resolves to the generated canvas element.\n     */\n    $toCanvas(options) {\n        return new Promise((resolve, reject) => {\n            if (!this.isConnected) {\n                reject(new Error('The current element is not connected to the DOM.'));\n                return;\n            }\n            const canvas = document.createElement('canvas');\n            let { width, height } = this;\n            let scale = 1;\n            if (isPlainObject(options)\n                && (isPositiveNumber(options.width) || isPositiveNumber(options.height))) {\n                ({ width, height } = getAdjustedSizes({\n                    aspectRatio: width / height,\n                    width: options.width,\n                    height: options.height,\n                }));\n                scale = width / this.width;\n            }\n            canvas.width = width;\n            canvas.height = height;\n            if (!this.$canvas) {\n                resolve(canvas);\n                return;\n            }\n            const cropperImage = this.$canvas.querySelector(this.$getTagNameOf(CROPPER_IMAGE));\n            if (!cropperImage) {\n                resolve(canvas);\n                return;\n            }\n            cropperImage.$ready().then((image) => {\n                const context = canvas.getContext('2d');\n                if (context) {\n                    const [a, b, c, d, e, f] = cropperImage.$getTransform();\n                    const offsetX = -this.x;\n                    const offsetY = -this.y;\n                    const translateX = ((offsetX * d) - (c * offsetY)) / ((a * d) - (c * b));\n                    const translateY = ((offsetY * a) - (b * offsetX)) / ((a * d) - (c * b));\n                    let newE = a * translateX + c * translateY + e;\n                    let newF = b * translateX + d * translateY + f;\n                    let destWidth = image.naturalWidth;\n                    let destHeight = image.naturalHeight;\n                    if (scale !== 1) {\n                        newE *= scale;\n                        newF *= scale;\n                        destWidth *= scale;\n                        destHeight *= scale;\n                    }\n                    const centerX = destWidth / 2;\n                    const centerY = destHeight / 2;\n                    context.fillStyle = 'transparent';\n                    context.fillRect(0, 0, width, height);\n                    if (isPlainObject(options) && isFunction(options.beforeDraw)) {\n                        options.beforeDraw.call(this, context, canvas);\n                    }\n                    context.save();\n                    // Move the transform origin to the center of the image.\n                    // https://developer.mozilla.org/en-US/docs/Web/CSS/transform-origin\n                    context.translate(centerX, centerY);\n                    context.transform(a, b, c, d, newE, newF);\n                    // Move the transform origin to the top-left of the image.\n                    context.translate(-centerX, -centerY);\n                    context.drawImage(image, 0, 0, destWidth, destHeight);\n                    context.restore();\n                }\n                resolve(canvas);\n            }).catch(reject);\n        });\n    }\n}\nCropperSelection.$name = CROPPER_SELECTION;\nCropperSelection.$version = '2.0.0';\n\nexport { CropperSelection as default };\n","import CropperElement from '@cropper/element';\nimport { CROPPER_GIRD } from '@cropper/utils';\n\nvar style = `:host{display:flex;flex-direction:column;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host([bordered]){border:1px dashed var(--theme-color)}:host([covered]){bottom:0;left:0;position:absolute;right:0;top:0}:host>span{display:flex;flex:1}:host>span+span{border-top:1px dashed var(--theme-color)}:host>span>span{flex:1}:host>span>span+span{border-left:1px dashed var(--theme-color)}`;\n\nclass CropperGrid extends CropperElement {\n    constructor() {\n        super(...arguments);\n        this.$style = style;\n        this.bordered = false;\n        this.columns = 3;\n        this.covered = false;\n        this.rows = 3;\n        this.slottable = false;\n        this.themeColor = 'rgba(238, 238, 238, 0.5)';\n    }\n    static get observedAttributes() {\n        return super.observedAttributes.concat([\n            'bordered',\n            'columns',\n            'covered',\n            'rows',\n        ]);\n    }\n    $propertyChangedCallback(name, oldValue, newValue) {\n        if (Object.is(newValue, oldValue)) {\n            return;\n        }\n        super.$propertyChangedCallback(name, oldValue, newValue);\n        if (name === 'rows' || name === 'columns') {\n            this.$nextTick(() => {\n                this.$render();\n            });\n        }\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.$render();\n    }\n    $render() {\n        const shadow = this.$getShadowRoot();\n        const fragment = document.createDocumentFragment();\n        for (let i = 0; i < this.rows; i += 1) {\n            const row = document.createElement('span');\n            row.setAttribute('role', 'row');\n            for (let j = 0; j < this.columns; j += 1) {\n                const column = document.createElement('span');\n                column.setAttribute('role', 'gridcell');\n                row.appendChild(column);\n            }\n            fragment.appendChild(row);\n        }\n        if (shadow) {\n            shadow.innerHTML = '';\n            shadow.appendChild(fragment);\n        }\n    }\n}\nCropperGrid.$name = CROPPER_GIRD;\nCropperGrid.$version = '2.0.0';\n\nexport { CropperGrid as default };\n","import CropperElement from '@cropper/element';\nimport { CROPPER_CROSSHAIR } from '@cropper/utils';\n\nvar style = `:host{display:inline-block;height:1em;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;width:1em}:host:after,:host:before{background-color:var(--theme-color);content:\"\";display:block;position:absolute}:host:before{height:1px;left:0;top:50%;transform:translateY(-50%);width:100%}:host:after{height:100%;left:50%;top:0;transform:translateX(-50%);width:1px}:host([centered]){left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}`;\n\nclass CropperCrosshair extends CropperElement {\n    constructor() {\n        super(...arguments);\n        this.$style = style;\n        this.centered = false;\n        this.slottable = false;\n        this.themeColor = 'rgba(238, 238, 238, 0.5)';\n    }\n    static get observedAttributes() {\n        return super.observedAttributes.concat([\n            'centered',\n        ]);\n    }\n}\nCropperCrosshair.$name = CROPPER_CROSSHAIR;\nCropperCrosshair.$version = '2.0.0';\n\nexport { CropperCrosshair as default };\n","import CropperElement from '@cropper/element';\nimport { CROPPER_VIEWER, CROPPER_SELECTION, isElement, on, EVENT_CHANGE, CROPPER_CANVAS, CROPPER_IMAGE, EVENT_LOAD, EVENT_TRANSFORM, off } from '@cropper/utils';\n\nvar style = `:host{display:block;height:100%;overflow:hidden;position:relative;width:100%}`;\n\nconst canvasCache = new WeakMap();\nconst imageCache = new WeakMap();\nconst selectionCache = new WeakMap();\nconst sourceImageCache = new WeakMap();\nconst RESIZE_BOTH = 'both';\nconst RESIZE_HORIZONTAL = 'horizontal';\nconst RESIZE_VERTICAL = 'vertical';\nconst RESIZE_NONE = 'none';\nclass CropperViewer extends CropperElement {\n    constructor() {\n        super(...arguments);\n        this.$onSelectionChange = null;\n        this.$onSourceImageLoad = null;\n        this.$onSourceImageTransform = null;\n        this.$scale = 1;\n        this.$style = style;\n        this.resize = RESIZE_VERTICAL;\n        this.selection = '';\n        this.slottable = false;\n    }\n    set $image(element) {\n        imageCache.set(this, element);\n    }\n    get $image() {\n        return imageCache.get(this);\n    }\n    set $sourceImage(element) {\n        sourceImageCache.set(this, element);\n    }\n    get $sourceImage() {\n        return sourceImageCache.get(this);\n    }\n    set $canvas(element) {\n        canvasCache.set(this, element);\n    }\n    get $canvas() {\n        return canvasCache.get(this);\n    }\n    set $selection(element) {\n        selectionCache.set(this, element);\n    }\n    get $selection() {\n        return selectionCache.get(this);\n    }\n    static get observedAttributes() {\n        return super.observedAttributes.concat([\n            'resize',\n            'selection',\n        ]);\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        let $selection = null;\n        if (this.selection) {\n            $selection = this.ownerDocument.querySelector(this.selection);\n        }\n        else {\n            $selection = this.closest(this.$getTagNameOf(CROPPER_SELECTION));\n        }\n        if (isElement($selection)) {\n            this.$selection = $selection;\n            this.$onSelectionChange = this.$handleSelectionChange.bind(this);\n            on($selection, EVENT_CHANGE, this.$onSelectionChange);\n            const $canvas = $selection.closest(this.$getTagNameOf(CROPPER_CANVAS));\n            if ($canvas) {\n                this.$canvas = $canvas;\n                const $sourceImage = $canvas.querySelector(this.$getTagNameOf(CROPPER_IMAGE));\n                if ($sourceImage) {\n                    this.$sourceImage = $sourceImage;\n                    this.$image = $sourceImage.cloneNode(true);\n                    this.$getShadowRoot().appendChild(this.$image);\n                    this.$onSourceImageLoad = this.$handleSourceImageLoad.bind(this);\n                    this.$onSourceImageTransform = this.$handleSourceImageTransform.bind(this);\n                    on($sourceImage.$image, EVENT_LOAD, this.$onSourceImageLoad);\n                    on($sourceImage, EVENT_TRANSFORM, this.$onSourceImageTransform);\n                }\n            }\n            this.$render();\n        }\n    }\n    disconnectedCallback() {\n        const { $selection, $sourceImage } = this;\n        if ($selection && this.$onSelectionChange) {\n            off($selection, EVENT_CHANGE, this.$onSelectionChange);\n            this.$onSelectionChange = null;\n        }\n        if ($sourceImage && this.$onSourceImageLoad) {\n            off($sourceImage.$image, EVENT_LOAD, this.$onSourceImageLoad);\n            this.$onSourceImageLoad = null;\n        }\n        if ($sourceImage && this.$onSourceImageTransform) {\n            off($sourceImage, EVENT_TRANSFORM, this.$onSourceImageTransform);\n            this.$onSourceImageTransform = null;\n        }\n        super.disconnectedCallback();\n    }\n    $handleSelectionChange(event) {\n        this.$render(event.detail);\n    }\n    $handleSourceImageLoad() {\n        const { $image, $sourceImage } = this;\n        const oldSrc = $image.getAttribute('src');\n        const newSrc = $sourceImage.getAttribute('src');\n        if (newSrc && newSrc !== oldSrc) {\n            $image.setAttribute('src', newSrc);\n            $image.$ready(() => {\n                setTimeout(() => {\n                    this.$render();\n                }, 50);\n            });\n        }\n    }\n    $handleSourceImageTransform(event) {\n        this.$render(undefined, event.detail.matrix);\n    }\n    $render(selection, matrix) {\n        const { $canvas, $selection } = this;\n        if (!selection && !$selection.hidden) {\n            selection = $selection;\n        }\n        if (!selection || (selection.x === 0\n            && selection.y === 0\n            && selection.width === 0\n            && selection.height === 0)) {\n            selection = {\n                x: 0,\n                y: 0,\n                width: $canvas.offsetWidth,\n                height: $canvas.offsetHeight,\n            };\n        }\n        const { x, y, width, height, } = selection;\n        const styles = {};\n        const { clientWidth, clientHeight } = this;\n        let newWidth = clientWidth;\n        let newHeight = clientHeight;\n        let scale = NaN;\n        switch (this.resize) {\n            case RESIZE_BOTH:\n                scale = 1;\n                newWidth = width;\n                newHeight = height;\n                styles.width = width;\n                styles.height = height;\n                break;\n            case RESIZE_HORIZONTAL:\n                scale = height > 0 ? clientHeight / height : 0;\n                newWidth = width * scale;\n                styles.width = newWidth;\n                break;\n            case RESIZE_VERTICAL:\n                scale = width > 0 ? clientWidth / width : 0;\n                newHeight = height * scale;\n                styles.height = newHeight;\n                break;\n            case RESIZE_NONE:\n            default:\n                if (clientWidth > 0) {\n                    scale = width > 0 ? clientWidth / width : 0;\n                }\n                else if (clientHeight > 0) {\n                    scale = height > 0 ? clientHeight / height : 0;\n                }\n        }\n        this.$scale = scale;\n        this.$setStyles(styles);\n        if (this.$sourceImage) {\n            this.$transformImageByOffset(matrix !== null && matrix !== void 0 ? matrix : this.$sourceImage.$getTransform(), -x, -y);\n        }\n    }\n    $transformImageByOffset(matrix, x, y) {\n        const { $image, $scale, $sourceImage, } = this;\n        if ($sourceImage && $image && $scale >= 0) {\n            const [a, b, c, d, e, f] = matrix;\n            const translateX = ((x * d) - (c * y)) / ((a * d) - (c * b));\n            const translateY = ((y * a) - (b * x)) / ((a * d) - (c * b));\n            const newE = a * translateX + c * translateY + e;\n            const newF = b * translateX + d * translateY + f;\n            $image.$ready((image) => {\n                this.$setStyles.call($image, {\n                    width: image.naturalWidth * $scale,\n                    height: image.naturalHeight * $scale,\n                });\n            });\n            $image.$setTransform(a, b, c, d, newE * $scale, newF * $scale);\n        }\n    }\n}\nCropperViewer.$name = CROPPER_VIEWER;\nCropperViewer.$version = '2.0.0';\n\nexport { RESIZE_BOTH, RESIZE_HORIZONTAL, RESIZE_NONE, RESIZE_VERTICAL, CropperViewer as default };\n","/*! Cropper.js v2.0.0 | (c) 2015-present Chen Fengyuan | MIT */\nimport { isString, isElement, CROPPER_IMAGE, CROPPER_CANVAS, CROPPER_SELECTION } from '@cropper/utils';\nexport * from '@cropper/utils';\nimport { CropperCanvas, CropperCrosshair, CropperGrid, CropperHandle, CropperImage, CropperSelection, CropperShade, CropperViewer } from '@cropper/elements';\nexport * from '@cropper/elements';\n\nvar DEFAULT_TEMPLATE = ('<cropper-canvas background>'\n    + '<cropper-image rotatable scalable skewable translatable></cropper-image>'\n    + '<cropper-shade hidden></cropper-shade>'\n    + '<cropper-handle action=\"select\" plain></cropper-handle>'\n    + '<cropper-selection initial-coverage=\"0.5\" movable resizable>'\n    + '<cropper-grid role=\"grid\" bordered covered></cropper-grid>'\n    + '<cropper-crosshair centered></cropper-crosshair>'\n    + '<cropper-handle action=\"move\" theme-color=\"rgba(255, 255, 255, 0.35)\"></cropper-handle>'\n    + '<cropper-handle action=\"n-resize\"></cropper-handle>'\n    + '<cropper-handle action=\"e-resize\"></cropper-handle>'\n    + '<cropper-handle action=\"s-resize\"></cropper-handle>'\n    + '<cropper-handle action=\"w-resize\"></cropper-handle>'\n    + '<cropper-handle action=\"ne-resize\"></cropper-handle>'\n    + '<cropper-handle action=\"nw-resize\"></cropper-handle>'\n    + '<cropper-handle action=\"se-resize\"></cropper-handle>'\n    + '<cropper-handle action=\"sw-resize\"></cropper-handle>'\n    + '</cropper-selection>'\n    + '</cropper-canvas>');\n\nconst REGEXP_ALLOWED_ELEMENTS = /^img|canvas$/;\nconst REGEXP_BLOCKED_TAGS = /<(\\/?(?:script|style)[^>]*)>/gi;\nconst DEFAULT_OPTIONS = {\n    template: DEFAULT_TEMPLATE,\n};\nCropperCanvas.$define();\nCropperCrosshair.$define();\nCropperGrid.$define();\nCropperHandle.$define();\nCropperImage.$define();\nCropperSelection.$define();\nCropperShade.$define();\nCropperViewer.$define();\nclass Cropper {\n    constructor(element, options) {\n        this.options = DEFAULT_OPTIONS;\n        if (isString(element)) {\n            element = document.querySelector(element);\n        }\n        if (!isElement(element) || !REGEXP_ALLOWED_ELEMENTS.test(element.localName)) {\n            throw new Error('The first argument is required and must be an <img> or <canvas> element.');\n        }\n        this.element = element;\n        options = Object.assign(Object.assign({}, DEFAULT_OPTIONS), options);\n        this.options = options;\n        const { ownerDocument } = element;\n        let { container } = options;\n        if (container) {\n            if (isString(container)) {\n                container = ownerDocument.querySelector(container);\n            }\n            if (!isElement(container)) {\n                throw new Error('The `container` option must be an element or a valid selector.');\n            }\n        }\n        if (!isElement(container)) {\n            if (element.parentElement) {\n                container = element.parentElement;\n            }\n            else {\n                container = ownerDocument.body;\n            }\n        }\n        this.container = container;\n        const tagName = element.localName;\n        let src = '';\n        if (tagName === 'img') {\n            ({ src } = element);\n        }\n        else if (tagName === 'canvas' && window.HTMLCanvasElement) {\n            src = element.toDataURL();\n        }\n        const { template } = options;\n        if (template && isString(template)) {\n            const templateElement = document.createElement('template');\n            const documentFragment = document.createDocumentFragment();\n            templateElement.innerHTML = template.replace(REGEXP_BLOCKED_TAGS, '&lt;$1&gt;');\n            documentFragment.appendChild(templateElement.content);\n            Array.from(documentFragment.querySelectorAll(CROPPER_IMAGE)).forEach((image) => {\n                image.setAttribute('src', src);\n                image.setAttribute('alt', element.alt || 'The image to crop');\n            });\n            if (element.parentElement) {\n                element.style.display = 'none';\n                container.insertBefore(documentFragment, element.nextSibling);\n            }\n            else {\n                container.appendChild(documentFragment);\n            }\n        }\n    }\n    getCropperCanvas() {\n        return this.container.querySelector(CROPPER_CANVAS);\n    }\n    getCropperImage() {\n        return this.container.querySelector(CROPPER_IMAGE);\n    }\n    getCropperSelection() {\n        return this.container.querySelector(CROPPER_SELECTION);\n    }\n    getCropperSelections() {\n        return this.container.querySelectorAll(CROPPER_SELECTION);\n    }\n}\nCropper.version = '2.0.0';\n\nexport { DEFAULT_TEMPLATE, Cropper as default };\n","import 'cropperjs' // This adds all of the cropperjs's components into DOM\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faCircleNotch\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faCircleNotch\n)\n\nconst ImageCropper = {\n  props: {\n    trigger: {\n      type: [String, window.Element],\n      required: true\n    },\n    submitHandler: {\n      type: Function,\n      required: true\n    },\n    mimes: {\n      type: String,\n      default: 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon'\n    },\n    saveButtonLabel: {\n      type: String\n    },\n    saveWithoutCroppingButtonlabel: {\n      type: String\n    },\n    cancelButtonLabel: {\n      type: String\n    }\n  },\n  data () {\n    return {\n      dataUrl: undefined,\n      filename: undefined,\n      submitting: false\n    }\n  },\n  computed: {\n    saveText () {\n      return this.saveButtonLabel || this.$t('image_cropper.save')\n    },\n    saveWithoutCroppingText () {\n      return this.saveWithoutCroppingButtonlabel || this.$t('image_cropper.save_without_cropping')\n    },\n    cancelText () {\n      return this.cancelButtonLabel || this.$t('image_cropper.cancel')\n    }\n  },\n  methods: {\n    destroy () {\n      this.$refs.input.value = ''\n      this.dataUrl = undefined\n      this.$emit('close')\n    },\n    submit (cropping = true) {\n      this.submitting = true\n\n      let cropperPromise\n      if (cropping) {\n        cropperPromise = this.$refs.cropperSelection.$toCanvas()\n      } else {\n        cropperPromise = Promise.resolve()\n      }\n      cropperPromise.then(canvas => {\n        this.submitHandler(canvas, this.file)\n            .then(() => this.destroy())\n            .finally(() => {\n              this.submitting = false\n            })\n      })\n    },\n    pickImage () {\n      this.$refs.input.click()\n    },\n    getTriggerDOM () {\n      return typeof this.trigger === 'object' ? this.trigger : document.querySelector(this.trigger)\n    },\n    readFile () {\n      const fileInput = this.$refs.input\n      if (fileInput.files != null && fileInput.files[0] != null) {\n        this.file = fileInput.files[0]\n        const reader = new window.FileReader()\n        reader.onload = (e) => {\n          this.dataUrl = e.target.result\n          this.$emit('open')\n        }\n        reader.readAsDataURL(this.file)\n        this.$emit('changed', this.file, reader)\n      }\n    },\n    inSelection(selection, maxSelection) {\n      return (\n        selection.x >= maxSelection.x\n        && selection.y >= maxSelection.y\n        && (selection.x + selection.width) <= (maxSelection.x + maxSelection.width)\n        && (selection.y + selection.height) <= (maxSelection.y + maxSelection.height)\n      )\n    },\n    onCropperSelectionChange(event) {\n      const cropperCanvas = this.$refs.cropperCanvas\n      const cropperCanvasRect = cropperCanvas.getBoundingClientRect()\n      const selection = event.detail\n      const maxSelection = {\n        x: 0,\n        y: 0,\n        width: cropperCanvasRect.width,\n        height: cropperCanvasRect.height,\n      }\n\n      if (!this.inSelection(selection, maxSelection)) {\n        event.preventDefault();\n      }\n    }\n  },\n  mounted () {\n    // listen for click event on trigger\n    const trigger = this.getTriggerDOM()\n    if (!trigger) {\n      this.$emit('error', 'No image make trigger found.', 'user')\n    } else {\n      trigger.addEventListener('click', this.pickImage)\n    }\n    // listen for input file changes\n    const fileInput = this.$refs.input\n    fileInput.addEventListener('change', this.readFile)\n  },\n  beforeUnmount: function () {\n    // remove the event listeners\n    const trigger = this.getTriggerDOM()\n    if (trigger) {\n      trigger.removeEventListener('click', this.pickImage)\n    }\n    const fileInput = this.$refs.input\n    fileInput.removeEventListener('change', this.readFile)\n  }\n}\n\nexport default ImageCropper\n","<template>\n  <div class=\"image-cropper\">\n    <div v-if=\"dataUrl\">\n      <cropper-canvas\n        ref=\"cropperCanvas\"\n        background\n        class=\"image-cropper-canvas\"\n        height=\"25em\"\n      >\n        <cropper-image\n          ref=\"cropperImage\"\n          :src=\"dataUrl\"\n          alt=\"Picture\"\n          class=\"image-cropper-image\"\n          translatable\n          scalable\n        />\n        <cropper-shade hidden />\n        <cropper-handle\n          action=\"select\"\n          plain\n        />\n        <cropper-selection\n          ref=\"cropperSelection\"\n          initial-coverage=\"1\"\n          aspect-ratio=\"1\"\n          movable\n          resizable\n          @change=\"onCropperSelectionChange\"\n        >\n          <cropper-grid\n            role=\"grid\"\n            covered\n          />\n          <cropper-crosshair centered />\n          <cropper-handle\n            action=\"move\"\n            theme-color=\"rgba(255, 255, 255, 0.35)\"\n          />\n          <cropper-handle action=\"n-resize\" />\n          <cropper-handle action=\"e-resize\" />\n          <cropper-handle action=\"s-resize\" />\n          <cropper-handle action=\"w-resize\" />\n          <cropper-handle action=\"ne-resize\" />\n          <cropper-handle action=\"nw-resize\" />\n          <cropper-handle action=\"se-resize\" />\n          <cropper-handle action=\"sw-resize\" />\n        </cropper-selection>\n      </cropper-canvas>\n      <div class=\"image-cropper-buttons-wrapper\">\n        <button\n          class=\"button-default btn\"\n          type=\"button\"\n          :disabled=\"submitting\"\n          @click=\"submit()\"\n          v-text=\"saveText\"\n        />\n        <button\n          class=\"button-default btn\"\n          type=\"button\"\n          :disabled=\"submitting\"\n          @click=\"destroy\"\n          v-text=\"cancelText\"\n        />\n        <button\n          class=\"button-default btn\"\n          type=\"button\"\n          :disabled=\"submitting\"\n          @click=\"submit(false)\"\n          v-text=\"saveWithoutCroppingText\"\n        />\n        <FAIcon\n          v-if=\"submitting\"\n          spin\n          icon=\"circle-notch\"\n        />\n      </div>\n    </div>\n    <input\n      ref=\"input\"\n      type=\"file\"\n      class=\"input image-cropper-img-input\"\n      :accept=\"mimes\"\n    >\n  </div>\n</template>\n\n<script src=\"./image_cropper.js\"></script>\n\n<style lang=\"scss\">\n.image-cropper {\n  &-img-input {\n    display: none;\n  }\n\n  &-canvas {\n    height: 25em;\n    width: 25em;\n  }\n\n  &-buttons-wrapper {\n    display: grid;\n    grid-gap: 0.5em;\n    grid-template-columns: 1fr 1fr 1fr;\n\n    button {\n      margin-top: 1em;\n    }\n  }\n}\n</style>\n","import unescape from 'lodash/unescape'\nimport merge from 'lodash/merge'\nimport ImageCropper from 'src/components/image_cropper/image_cropper.vue'\nimport ScopeSelector from 'src/components/scope_selector/scope_selector.vue'\nimport fileSizeFormatService from 'src/components/../services/file_size_format/file_size_format.js'\nimport ProgressButton from 'src/components/progress_button/progress_button.vue'\nimport EmojiInput from 'src/components/emoji_input/emoji_input.vue'\nimport suggestor from 'src/components/emoji_input/suggestor.js'\nimport Autosuggest from 'src/components/autosuggest/autosuggest.vue'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport InterfaceLanguageSwitcher from 'src/components/interface_language_switcher/interface_language_switcher.vue'\nimport Select from 'src/components/select/select.vue'\nimport BooleanSetting from '../helpers/boolean_setting.vue'\nimport SharedComputedObject from '../helpers/shared_computed_object.js'\nimport localeService from 'src/services/locale/locale.service.js'\nimport { propsToNative } from 'src/services/attributes_helper/attributes_helper.service.js'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faTimes,\n  faPlus,\n  faCircleNotch\n} from '@fortawesome/free-solid-svg-icons'\nimport { useInterfaceStore } from 'src/stores/interface'\n\nlibrary.add(\n  faTimes,\n  faPlus,\n  faCircleNotch\n)\n\nconst ProfileTab = {\n  data () {\n    return {\n      newName: this.$store.state.users.currentUser.name_unescaped,\n      newBio: unescape(this.$store.state.users.currentUser.description),\n      newLocked: this.$store.state.users.currentUser.locked,\n      newBirthday: this.$store.state.users.currentUser.birthday,\n      showBirthday: this.$store.state.users.currentUser.show_birthday,\n      newFields: this.$store.state.users.currentUser.fields.map(field => ({ name: field.name, value: field.value })),\n      showRole: this.$store.state.users.currentUser.show_role,\n      role: this.$store.state.users.currentUser.role,\n      bot: this.$store.state.users.currentUser.bot,\n      actorType: this.$store.state.users.currentUser.actor_type,\n      pickAvatarBtnVisible: true,\n      bannerUploading: false,\n      backgroundUploading: false,\n      banner: null,\n      bannerPreview: null,\n      background: null,\n      backgroundPreview: null,\n      emailLanguage: this.$store.state.users.currentUser.language || ['']\n    }\n  },\n  components: {\n    ScopeSelector,\n    ImageCropper,\n    EmojiInput,\n    Autosuggest,\n    ProgressButton,\n    Checkbox,\n    BooleanSetting,\n    InterfaceLanguageSwitcher,\n    Select\n  },\n  computed: {\n    user () {\n      return this.$store.state.users.currentUser\n    },\n    ...SharedComputedObject(),\n    emojiUserSuggestor () {\n      return suggestor({\n        emoji: [\n          ...this.$store.getters.standardEmojiList,\n          ...this.$store.state.instance.customEmoji\n        ],\n        store: this.$store\n      })\n    },\n    emojiSuggestor () {\n      return suggestor({\n        emoji: [\n          ...this.$store.getters.standardEmojiList,\n          ...this.$store.state.instance.customEmoji\n        ]\n      })\n    },\n    userSuggestor () {\n      return suggestor({ store: this.$store })\n    },\n    fieldsLimits () {\n      return this.$store.state.instance.fieldsLimits\n    },\n    maxFields () {\n      return this.fieldsLimits ? this.fieldsLimits.maxFields : 0\n    },\n    defaultAvatar () {\n      return this.$store.state.instance.server + this.$store.state.instance.defaultAvatar\n    },\n    defaultBanner () {\n      return this.$store.state.instance.server + this.$store.state.instance.defaultBanner\n    },\n    isDefaultAvatar () {\n      const baseAvatar = this.$store.state.instance.defaultAvatar\n      return !(this.$store.state.users.currentUser.profile_image_url) ||\n      this.$store.state.users.currentUser.profile_image_url.includes(baseAvatar)\n    },\n    isDefaultBanner () {\n      const baseBanner = this.$store.state.instance.defaultBanner\n      return !(this.$store.state.users.currentUser.cover_photo) ||\n      this.$store.state.users.currentUser.cover_photo.includes(baseBanner)\n    },\n    isDefaultBackground () {\n      return !(this.$store.state.users.currentUser.background_image)\n    },\n    avatarImgSrc () {\n      const src = this.$store.state.users.currentUser.profile_image_url_original\n      return (!src) ? this.defaultAvatar : src\n    },\n    bannerImgSrc () {\n      const src = this.$store.state.users.currentUser.cover_photo\n      return (!src) ? this.defaultBanner : src\n    },\n    groupActorAvailable () {\n      return this.$store.state.instance.groupActorAvailable\n    },\n    availableActorTypes () {\n      return this.groupActorAvailable ? ['Person', 'Service', 'Group'] : ['Person', 'Service']\n    }\n  },\n  methods: {\n    updateProfile () {\n      const params = {\n        note: this.newBio,\n        locked: this.newLocked,\n\n        // Backend notation.\n        display_name: this.newName,\n        fields_attributes: this.newFields.filter(el => el != null),\n        actor_type: this.actorType,\n        show_role: this.showRole,\n        birthday: this.newBirthday || '',\n        show_birthday: this.showBirthday\n      }\n\n      if (this.emailLanguage) {\n        params.language = localeService.internalToBackendLocaleMulti(this.emailLanguage)\n      }\n\n      this.$store.state.api.backendInteractor\n        .updateProfile({ params })\n        .then((user) => {\n          this.newFields.splice(user.fields.length)\n          merge(this.newFields, user.fields)\n          this.$store.commit('addNewUsers', [user])\n          this.$store.commit('setCurrentUser', user)\n        })\n    },\n    changeVis (visibility) {\n      this.newDefaultScope = visibility\n    },\n    addField () {\n      if (this.newFields.length < this.maxFields) {\n        this.newFields.push({ name: '', value: '' })\n        return true\n      }\n      return false\n    },\n    deleteField (index) {\n      this.newFields.splice(index, 1)\n    },\n    uploadFile (slot, e) {\n      const file = e.target.files[0]\n      if (!file) { return }\n      if (file.size > this.$store.state.instance[slot + 'limit']) {\n        const filesize = fileSizeFormatService.fileSizeFormat(file.size)\n        const allowedsize = fileSizeFormatService.fileSizeFormat(this.$store.state.instance[slot + 'limit'])\n        useInterfaceStore().pushGlobalNotice({\n          messageKey: 'upload.error.message',\n          messageArgs: [\n            this.$t('upload.error.file_too_big', {\n              filesize: filesize.num,\n              filesizeunit: filesize.unit,\n              allowedsize: allowedsize.num,\n              allowedsizeunit: allowedsize.unit\n            })\n          ],\n          level: 'error'\n        })\n        return\n      }\n\n      const reader = new FileReader()\n      reader.onload = ({ target }) => {\n        const img = target.result\n        this[slot + 'Preview'] = img\n        this[slot] = file\n      }\n      reader.readAsDataURL(file)\n    },\n    resetAvatar () {\n      const confirmed = window.confirm(this.$t('settings.reset_avatar_confirm'))\n      if (confirmed) {\n        this.submitAvatar(undefined, '')\n      }\n    },\n    resetBanner () {\n      const confirmed = window.confirm(this.$t('settings.reset_banner_confirm'))\n      if (confirmed) {\n        this.submitBanner('')\n      }\n    },\n    resetBackground () {\n      const confirmed = window.confirm(this.$t('settings.reset_background_confirm'))\n      if (confirmed) {\n        this.submitBackground('')\n      }\n    },\n    submitAvatar (canvas, file) {\n      const that = this\n      return new Promise((resolve, reject) => {\n        function updateAvatar (avatar, avatarName) {\n          that.$store.state.api.backendInteractor.updateProfileImages({ avatar, avatarName })\n            .then((user) => {\n              that.$store.commit('addNewUsers', [user])\n              that.$store.commit('setCurrentUser', user)\n              resolve()\n            })\n            .catch((error) => {\n              that.displayUploadError(error)\n              reject(error)\n            })\n        }\n\n        if (canvas) {\n          canvas.toBlob((data) => updateAvatar(data, file.name), file.type)\n        } else {\n          updateAvatar(file, file.name)\n        }\n      })\n    },\n    submitBanner (banner) {\n      if (!this.bannerPreview && banner !== '') { return }\n\n      this.bannerUploading = true\n      this.$store.state.api.backendInteractor.updateProfileImages({ banner })\n        .then((user) => {\n          this.$store.commit('addNewUsers', [user])\n          this.$store.commit('setCurrentUser', user)\n          this.bannerPreview = null\n        })\n        .catch(this.displayUploadError)\n        .finally(() => { this.bannerUploading = false })\n    },\n    submitBackground (background) {\n      if (!this.backgroundPreview && background !== '') { return }\n\n      this.backgroundUploading = true\n      this.$store.state.api.backendInteractor.updateProfileImages({ background })\n        .then((data) => {\n          this.$store.commit('addNewUsers', [data])\n          this.$store.commit('setCurrentUser', data)\n          this.backgroundPreview = null\n        })\n        .catch(this.displayUploadError)\n        .finally(() => { this.backgroundUploading = false })\n    },\n    displayUploadError (error) {\n      useInterfaceStore().pushGlobalNotice({\n        messageKey: 'upload.error.message',\n        messageArgs: [error.message],\n        level: 'error'\n      })\n    },\n    propsToNative (props) {\n      return propsToNative(props)\n    }\n  }\n}\n\nexport default ProfileTab\n","<template>\n  <div class=\"profile-tab\">\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.name_bio') }}</h2>\n      <p>{{ $t('settings.name') }}</p>\n      <EmojiInput\n        v-model=\"newName\"\n        enable-emoji-picker\n        :suggest=\"emojiSuggestor\"\n      >\n        <template #default=\"inputProps\">\n          <input\n            id=\"username\"\n            v-model=\"newName\"\n            class=\"input name-changer\"\n            v-bind=\"propsToNative(inputProps)\"\n          >\n        </template>\n      </EmojiInput>\n      <p>{{ $t('settings.bio') }}</p>\n      <EmojiInput\n        v-model=\"newBio\"\n        enable-emoji-picker\n        :suggest=\"emojiUserSuggestor\"\n      >\n        <template #default=\"inputProps\">\n          <textarea\n            v-model=\"newBio\"\n            class=\"input bio resize-height\"\n            v-bind=\"propsToNative(inputProps)\"\n          />\n        </template>\n      </EmojiInput>\n      <p v-if=\"role === 'admin' || role === 'moderator'\">\n        <Checkbox v-model=\"showRole\">\n          <template v-if=\"role === 'admin'\">\n            {{ $t('settings.show_admin_badge') }}\n          </template>\n          <template v-if=\"role === 'moderator'\">\n            {{ $t('settings.show_moderator_badge') }}\n          </template>\n        </Checkbox>\n      </p>\n      <div>\n        <p>{{ $t('settings.birthday.label') }}</p>\n        <input\n          id=\"birthday\"\n          v-model=\"newBirthday\"\n          type=\"date\"\n          class=\"input birthday-input\"\n        >\n        <Checkbox v-model=\"showBirthday\">\n          {{ $t('settings.birthday.show_birthday') }}\n        </Checkbox>\n      </div>\n      <div v-if=\"maxFields > 0\">\n        <p>{{ $t('settings.profile_fields.label') }}</p>\n        <div\n          v-for=\"(_, i) in newFields\"\n          :key=\"i\"\n          class=\"profile-fields\"\n        >\n          <EmojiInput\n            v-model=\"newFields[i].name\"\n            enable-emoji-picker\n            hide-emoji-button\n            :suggest=\"userSuggestor\"\n          >\n            <template #default=\"inputProps\">\n              <input\n                v-model=\"newFields[i].name\"\n                :placeholder=\"$t('settings.profile_fields.name')\"\n                v-bind=\"propsToNative(inputProps)\"\n                class=\"input\"\n              >\n            </template>\n          </EmojiInput>\n          <EmojiInput\n            v-model=\"newFields[i].value\"\n            enable-emoji-picker\n            hide-emoji-button\n            :suggest=\"userSuggestor\"\n          >\n            <template #default=\"inputProps\">\n              <input\n                v-model=\"newFields[i].value\"\n                :placeholder=\"$t('settings.profile_fields.value')\"\n                v-bind=\"propsToNative(inputProps)\"\n                class=\"input\"\n              >\n            </template>\n          </EmojiInput>\n          <button\n            class=\"delete-field button-unstyled -hover-highlight\"\n            @click=\"deleteField(i)\"\n          >\n            <!-- TODO something is wrong with v-show here -->\n            <FAIcon\n              v-if=\"newFields.length > 1\"\n              icon=\"times\"\n            />\n          </button>\n        </div>\n        <button\n          v-if=\"newFields.length < maxFields\"\n          class=\"add-field faint button-unstyled -hover-highlight\"\n          @click=\"addField\"\n        >\n          <FAIcon icon=\"plus\" />\n          {{ $t(\"settings.profile_fields.add_field\") }}\n        </button>\n      </div>\n      <p>\n        <label>\n          {{ $t('settings.actor_type') }}\n          <Select v-model=\"actorType\">\n            <option\n              v-for=\"option in availableActorTypes\"\n              :key=\"option\"\n              :value=\"option\"\n            >\n              {{ $t('settings.actor_type_' + option) }}\n            </option>\n          </Select>\n        </label>\n      </p>\n      <div v-if=\"groupActorAvailable\">\n        <small>\n          {{ $t('settings.actor_type_description') }}\n        </small>\n      </div>\n      <p>\n        <interface-language-switcher\n          :prompt-text=\"$t('settings.email_language')\"\n          :language=\"emailLanguage\"\n          :set-language=\"val => emailLanguage = val\"\n        />\n      </p>\n      <button\n        :disabled=\"newName && newName.length === 0\"\n        class=\"btn button-default\"\n        @click=\"updateProfile\"\n      >\n        {{ $t('settings.save') }}\n      </button>\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.avatar') }}</h2>\n      <p class=\"visibility-notice\">\n        {{ $t('settings.avatar_size_instruction') }}\n      </p>\n      <div class=\"current-avatar-container\">\n        <img\n          :src=\"user.profile_image_url_original\"\n          class=\"current-avatar\"\n        >\n        <button\n          v-if=\"!isDefaultAvatar && pickAvatarBtnVisible\"\n          :title=\"$t('settings.reset_avatar')\"\n          class=\"button-unstyled reset-button\"\n          @click=\"resetAvatar\"\n        >\n          <FAIcon\n            icon=\"times\"\n            type=\"button\"\n          />\n        </button>\n      </div>\n      <p>{{ $t('settings.set_new_avatar') }}</p>\n      <button\n        v-show=\"pickAvatarBtnVisible\"\n        id=\"pick-avatar\"\n        class=\"button-default btn\"\n        type=\"button\"\n      >\n        {{ $t('settings.upload_a_photo') }}\n      </button>\n      <image-cropper\n        trigger=\"#pick-avatar\"\n        :submit-handler=\"submitAvatar\"\n        @open=\"pickAvatarBtnVisible=false\"\n        @close=\"pickAvatarBtnVisible=true\"\n      />\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.profile_banner') }}</h2>\n      <div class=\"banner-background-preview\">\n        <img :src=\"user.cover_photo\">\n        <button\n          v-if=\"!isDefaultBanner\"\n          class=\"button-unstyled reset-button\"\n          :title=\"$t('settings.reset_profile_banner')\"\n          @click=\"resetBanner\"\n        >\n          <FAIcon\n            icon=\"times\"\n            type=\"button\"\n          />\n        </button>\n      </div>\n      <p>{{ $t('settings.set_new_profile_banner') }}</p>\n      <img\n        v-if=\"bannerPreview\"\n        class=\"banner-background-preview\"\n        :src=\"bannerPreview\"\n      >\n      <div>\n        <input\n          type=\"file\"\n          class=\"input\"\n          @change=\"uploadFile('banner', $event)\"\n        >\n      </div>\n      <FAIcon\n        v-if=\"bannerUploading\"\n        class=\"uploading\"\n        spin\n        icon=\"circle-notch\"\n      />\n      <button\n        v-else-if=\"bannerPreview\"\n        class=\"btn button-default\"\n        @click=\"submitBanner(banner)\"\n      >\n        {{ $t('settings.save') }}\n      </button>\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.profile_background') }}</h2>\n      <div class=\"banner-background-preview\">\n        <img :src=\"user.background_image\">\n        <button\n          v-if=\"!isDefaultBackground\"\n          class=\"button-unstyled reset-button\"\n          :title=\"$t('settings.reset_profile_background')\"\n          @click=\"resetBackground\"\n        >\n          <FAIcon\n            icon=\"times\"\n            type=\"button\"\n          />\n        </button>\n      </div>\n      <p>{{ $t('settings.set_new_profile_background') }}</p>\n      <img\n        v-if=\"backgroundPreview\"\n        class=\"banner-background-preview\"\n        :src=\"backgroundPreview\"\n      >\n      <div>\n        <input\n          type=\"file\"\n          class=\"input\"\n          @change=\"uploadFile('background', $event)\"\n        >\n      </div>\n      <FAIcon\n        v-if=\"backgroundUploading\"\n        class=\"uploading\"\n        spin\n        icon=\"circle-notch\"\n      />\n      <button\n        v-else-if=\"backgroundPreview\"\n        class=\"btn button-default\"\n        @click=\"submitBackground(background)\"\n      >\n        {{ $t('settings.save') }}\n      </button>\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.account_privacy') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <BooleanSetting\n            source=\"profile\"\n            path=\"locked\"\n          >\n            {{ $t('settings.lock_account_description') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            source=\"profile\"\n            path=\"discoverable\"\n          >\n            {{ $t('settings.discoverable') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            source=\"profile\"\n            path=\"allowFollowingMove\"\n          >\n            {{ $t('settings.allow_following_move') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            source=\"profile\"\n            path=\"hideFavorites\"\n          >\n            {{ $t('settings.hide_favorites_description') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            source=\"profile\"\n            path=\"hideFollowers\"\n          >\n            {{ $t('settings.hide_followers_description') }}\n          </BooleanSetting>\n          <ul class=\"setting-list suboptions\">\n            <li>\n              <BooleanSetting\n                source=\"profile\"\n                path=\"hideFollowersCount\"\n                parent-path=\"hideFollowers\"\n              >\n                {{ $t('settings.hide_followers_count_description') }}\n              </BooleanSetting>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <BooleanSetting\n            source=\"profile\"\n            path=\"hideFollows\"\n          >\n            {{ $t('settings.hide_follows_description') }}\n          </BooleanSetting>\n          <ul class=\"setting-list suboptions\">\n            <li>\n              <BooleanSetting\n                source=\"profile\"\n                path=\"hideFollowsCount\"\n                parent-path=\"hideFollows\"\n              >\n                {{ $t('settings.hide_follows_count_description') }}\n              </BooleanSetting>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script src=\"./profile_tab.js\"></script>\n<style lang=\"scss\" src=\"./profile_tab.scss\"></style>\n","<template>\n  <NumberSetting\n    v-bind=\"$attrs\"\n  >\n    <slot />\n  </NumberSetting>\n</template>\n\n<script>\nimport NumberSetting from './number_setting.vue'\nexport default {\n  components: {\n    NumberSetting\n  }\n}\n</script>\n","import BooleanSetting from '../helpers/boolean_setting.vue'\nimport ChoiceSetting from '../helpers/choice_setting.vue'\nimport ScopeSelector from 'src/components/scope_selector/scope_selector.vue'\nimport IntegerSetting from '../helpers/integer_setting.vue'\nimport FloatSetting from '../helpers/float_setting.vue'\nimport UnitSetting from '../helpers/unit_setting.vue'\nimport InterfaceLanguageSwitcher from 'src/components/interface_language_switcher/interface_language_switcher.vue'\n\nimport SharedComputedObject from '../helpers/shared_computed_object.js'\nimport ProfileSettingIndicator from '../helpers/profile_setting_indicator.vue'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faGlobe\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faGlobe\n)\n\nconst GeneralTab = {\n  data () {\n    return {\n      subjectLineOptions: ['email', 'noop', 'masto'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.subject_line_${mode === 'masto' ? 'mastodon' : mode}`)\n      })),\n      conversationDisplayOptions: ['tree', 'linear'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.conversation_display_${mode}`)\n      })),\n      absoluteTime12hOptions: ['24h', '12h'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.absolute_time_format_12h_${mode}`)\n      })),\n      conversationOtherRepliesButtonOptions: ['below', 'inside'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.conversation_other_replies_button_${mode}`)\n      })),\n      mentionLinkDisplayOptions: ['short', 'full_for_remote', 'full'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.mention_link_display_${mode}`)\n      })),\n      userPopoverAvatarActionOptions: ['close', 'zoom', 'open'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.user_popover_avatar_action_${mode}`)\n      })),\n      unsavedPostActionOptions: ['save', 'discard', 'confirm'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.unsaved_post_action_${mode}`)\n      })),\n      loopSilentAvailable:\n      // Firefox\n      Object.getOwnPropertyDescriptor(HTMLVideoElement.prototype, 'mozHasAudio') ||\n      // Chrome-likes\n      Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype, 'webkitAudioDecodedByteCount') ||\n      // Future spec, still not supported in Nightly 63 as of 08/2018\n      Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype, 'audioTracks')\n    }\n  },\n  components: {\n    BooleanSetting,\n    ChoiceSetting,\n    IntegerSetting,\n    FloatSetting,\n    UnitSetting,\n    InterfaceLanguageSwitcher,\n    ScopeSelector,\n    ProfileSettingIndicator\n  },\n  computed: {\n    postFormats () {\n      return this.$store.state.instance.postFormats || []\n    },\n    postContentOptions () {\n      return this.postFormats.map(format => ({\n        key: format,\n        value: format,\n        label: this.$t(`post_status.content_type[\"${format}\"]`)\n      }))\n    },\n    language: {\n      get: function () { return this.$store.getters.mergedConfig.interfaceLanguage },\n      set: function (val) {\n        this.$store.dispatch('setOption', { name: 'interfaceLanguage', value: val })\n      }\n    },\n    instanceShoutboxPresent () { return this.$store.state.instance.shoutAvailable },\n    instanceSpecificPanelPresent () { return this.$store.state.instance.showInstanceSpecificPanel },\n    ...SharedComputedObject()\n  },\n  methods: {\n    changeDefaultScope (value) {\n      this.$store.dispatch('setProfileOption', { name: 'defaultScope', value })\n    }\n  }\n}\n\nexport default GeneralTab\n","<template>\n  <div :label=\"$t('settings.general')\">\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.interface') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <interface-language-switcher\n            :prompt-text=\"$t('settings.interfaceLanguage')\"\n            :language=\"language\"\n            :set-language=\"val => language = val\"\n          />\n        </li>\n        <li v-if=\"instanceSpecificPanelPresent\">\n          <BooleanSetting path=\"hideISP\">\n            {{ $t('settings.hide_isp') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"stopGifs\">\n            {{ $t('settings.stop_gifs') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"streaming\">\n            {{ $t('settings.streaming') }}\n          </BooleanSetting>\n          <ul class=\"setting-list suboptions\">\n            <li>\n              <BooleanSetting\n                path=\"pauseOnUnfocused\"\n                parent-path=\"streaming\"\n              >\n                {{ $t('settings.pause_on_unfocused') }}\n              </BooleanSetting>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"useStreamingApi\"\n            expert=\"1\"\n          >\n            {{ $t('settings.useStreamingApi') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"virtualScrolling\"\n            expert=\"1\"\n          >\n            {{ $t('settings.virtual_scrolling') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <ChoiceSetting\n            id=\"userPopoverAvatarAction\"\n            path=\"userPopoverAvatarAction\"\n            :options=\"userPopoverAvatarActionOptions\"\n            expert=\"1\"\n          >\n            {{ $t('settings.user_popover_avatar_action') }}\n          </ChoiceSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"userPopoverOverlay\"\n            expert=\"1\"\n          >\n            {{ $t('settings.user_popover_avatar_overlay') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"alwaysShowNewPostButton\"\n            expert=\"1\"\n          >\n            {{ $t('settings.always_show_post_button') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"autohideFloatingPostButton\"\n            expert=\"1\"\n          >\n            {{ $t('settings.autohide_floating_post_button') }}\n          </BooleanSetting>\n        </li>\n        <li v-if=\"instanceShoutboxPresent\">\n          <BooleanSetting\n            path=\"hideShoutbox\"\n            expert=\"1\"\n          >\n            {{ $t('settings.hide_shoutbox') }}\n          </BooleanSetting>\n        </li>\n        <li class=\"select-multiple\">\n          <span class=\"label\">{{ $t('settings.confirm_dialogs') }}</span>\n          <ul class=\"option-list\">\n            <li>\n              <BooleanSetting path=\"modalOnRepeat\">\n                {{ $t('settings.confirm_dialogs_repeat') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnUnfollow\">\n                {{ $t('settings.confirm_dialogs_unfollow') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnBlock\">\n                {{ $t('settings.confirm_dialogs_block') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnMute\">\n                {{ $t('settings.confirm_dialogs_mute') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnMuteConversation\">\n                {{ $t('settings.confirm_dialogs_mute_conversation') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnMuteDomain\">\n                {{ $t('settings.confirm_dialogs_mute_domain') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnDelete\">\n                {{ $t('settings.confirm_dialogs_delete') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnLogout\">\n                {{ $t('settings.confirm_dialogs_logout') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnApproveFollow\">\n                {{ $t('settings.confirm_dialogs_approve_follow') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnDenyFollow\">\n                {{ $t('settings.confirm_dialogs_deny_follow') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnRemoveUserFromFollowers\">\n                {{ $t('settings.confirm_dialogs_remove_follower') }}\n              </BooleanSetting>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.post_look_feel') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <ChoiceSetting\n            id=\"conversationDisplay\"\n            path=\"conversationDisplay\"\n            :options=\"conversationDisplayOptions\"\n          >\n            {{ $t('settings.conversation_display') }}\n          </ChoiceSetting>\n        </li>\n        <ul\n          v-if=\"mergedConfig.conversationDisplay !== 'linear'\"\n          class=\"setting-list suboptions\"\n        >\n          <li>\n            <BooleanSetting path=\"conversationTreeAdvanced\">\n              {{ $t('settings.tree_advanced') }}\n            </BooleanSetting>\n          </li>\n          <li>\n            <BooleanSetting\n              path=\"conversationTreeFadeAncestors\"\n              :expert=\"1\"\n            >\n              {{ $t('settings.tree_fade_ancestors') }}\n            </BooleanSetting>\n          </li>\n          <li>\n            <IntegerSetting\n              path=\"maxDepthInThread\"\n              :min=\"3\"\n              :expert=\"1\"\n            >\n              {{ $t('settings.max_depth_in_thread') }}\n            </IntegerSetting>\n          </li>\n          <li>\n            <ChoiceSetting\n              id=\"conversationOtherRepliesButton\"\n              path=\"conversationOtherRepliesButton\"\n              :options=\"conversationOtherRepliesButtonOptions\"\n              :expert=\"1\"\n            >\n              {{ $t('settings.conversation_other_replies_button') }}\n            </ChoiceSetting>\n          </li>\n        </ul>\n        <li>\n          <BooleanSetting path=\"collapseMessageWithSubject\">\n            {{ $t('settings.collapse_subject') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"emojiReactionsOnTimeline\"\n            expert=\"1\"\n          >\n            {{ $t('settings.emoji_reactions_on_timeline') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            v-if=\"user\"\n            source=\"profile\"\n            path=\"stripRichContent\"\n            expert=\"1\"\n          >\n            {{ $t('settings.no_rich_text_description') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"useAbsoluteTimeFormat\"\n            expert=\"1\"\n          >\n            {{ $t('settings.absolute_time_format') }}\n          </BooleanSetting>\n        </li>\n        <ul\n          v-if=\"mergedConfig.useAbsoluteTimeFormat\"\n          class=\"setting-list suboptions\"\n        >\n          <li>\n            <UnitSetting\n              path=\"absoluteTimeFormatMinAge\"\n              unit-set=\"time\"\n              :units=\"['s', 'm', 'h', 'd']\"\n              :min=\"0\"\n            >\n              {{ $t('settings.absolute_time_format_min_age') }}\n            </UnitSetting>\n          </li>\n          <li>\n            <ChoiceSetting\n              id=\"absoluteTime12h\"\n              path=\"absoluteTime12h\"\n              :options=\"absoluteTime12hOptions\"\n              :expert=\"1\"\n            >\n              {{ $t('settings.absolute_time_format_12h') }}\n            </ChoiceSetting>\n          </li>\n        </ul>\n        <h3>{{ $t('settings.attachments') }}</h3>\n        <li>\n          <BooleanSetting\n            path=\"imageCompression\"\n            expert=\"1\"\n          >\n            {{ $t('settings.image_compression') }}\n          </BooleanSetting>\n        </li>\n        <ul class=\"setting-list suboptions\">\n          <li>\n            <BooleanSetting\n              path=\"alwaysUseJpeg\"\n              expert=\"1\"\n              parent-path=\"imageCompression\"\n            >\n              {{ $t('settings.always_use_jpeg') }}\n            </BooleanSetting>\n          </li>\n        </ul>\n        <li>\n          <BooleanSetting\n            path=\"useContainFit\"\n            expert=\"1\"\n          >\n            {{ $t('settings.use_contain_fit') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"hideNsfw\">\n            {{ $t('settings.nsfw_clickthrough') }}\n          </BooleanSetting>\n        </li>\n        <ul class=\"setting-list suboptions\">\n          <li>\n            <BooleanSetting\n              path=\"preloadImage\"\n              expert=\"1\"\n              parent-path=\"hideNsfw\"\n            >\n              {{ $t('settings.preload_images') }}\n            </BooleanSetting>\n          </li>\n          <li>\n            <BooleanSetting\n              path=\"useOneClickNsfw\"\n              expert=\"1\"\n              parent-path=\"hideNsfw\"\n            >\n              {{ $t('settings.use_one_click_nsfw') }}\n            </BooleanSetting>\n          </li>\n        </ul>\n        <li>\n          <BooleanSetting\n            path=\"loopVideo\"\n            expert=\"1\"\n          >\n            {{ $t('settings.loop_video') }}\n          </BooleanSetting>\n          <ul class=\"setting-list suboptions\">\n            <li>\n              <BooleanSetting\n                path=\"loopVideoSilentOnly\"\n                expert=\"1\"\n                parent-path=\"loopVideo\"\n                :disabled=\"!loopSilentAvailable\"\n              >\n                {{ $t('settings.loop_video_silent_only') }}\n              </BooleanSetting>\n              <div\n                v-if=\"!loopSilentAvailable\"\n                class=\"unavailable\"\n              >\n                <FAIcon icon=\"globe\" />! {{ $t('settings.limited_availability') }}\n              </div>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"playVideosInModal\"\n            expert=\"1\"\n          >\n            {{ $t('settings.play_videos_in_modal') }}\n          </BooleanSetting>\n        </li>\n        <h3>{{ $t('settings.mention_links') }}</h3>\n        <li>\n          <ChoiceSetting\n            id=\"mentionLinkDisplay\"\n            path=\"mentionLinkDisplay\"\n            :options=\"mentionLinkDisplayOptions\"\n          >\n            {{ $t('settings.mention_link_display') }}\n          </ChoiceSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"mentionLinkShowTooltip\"\n            expert=\"1\"\n          >\n            {{ $t('settings.mention_link_use_tooltip') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"mentionLinkShowAvatar\">\n            {{ $t('settings.mention_link_show_avatar') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"mentionLinkFadeDomain\"\n            expert=\"1\"\n          >\n            {{ $t('settings.mention_link_fade_domain') }}\n          </BooleanSetting>\n        </li>\n        <li v-if=\"user\">\n          <BooleanSetting\n            path=\"mentionLinkBoldenYou\"\n            expert=\"1\"\n          >\n            {{ $t('settings.mention_link_bolden_you') }}\n          </BooleanSetting>\n        </li>\n        <h3 v-if=\"expertLevel > 0\">\n          {{ $t('settings.fun') }}\n        </h3>\n        <li>\n          <BooleanSetting\n            path=\"greentext\"\n            expert=\"1\"\n          >\n            {{ $t('settings.greentext') }}\n          </BooleanSetting>\n        </li>\n        <li v-if=\"user\">\n          <BooleanSetting\n            path=\"mentionLinkShowYous\"\n            expert=\"1\"\n          >\n            {{ $t('settings.show_yous') }}\n          </BooleanSetting>\n        </li>\n      </ul>\n    </div>\n\n    <div\n      v-if=\"user\"\n      class=\"setting-item\"\n    >\n      <h2>{{ $t('settings.composing') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <label for=\"default-vis\">\n            {{ $t('settings.default_vis') }} <ProfileSettingIndicator :is-profile=\"true\" />\n            <ScopeSelector\n              class=\"scope-selector\"\n              :show-all=\"true\"\n              :user-default=\"$store.state.profileConfig.defaultScope\"\n              :initial-scope=\"$store.state.profileConfig.defaultScope\"\n              :on-scope-change=\"changeDefaultScope\"\n            />\n          </label>\n        </li>\n        <li>\n          <!-- <BooleanSetting source=\"profile\" path=\"defaultNSFW\"> -->\n          <BooleanSetting path=\"sensitiveByDefault\">\n            {{ $t('settings.sensitive_by_default') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"scopeCopy\"\n            expert=\"1\"\n          >\n            {{ $t('settings.scope_copy') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"alwaysShowSubjectInput\"\n            expert=\"1\"\n          >\n            {{ $t('settings.subject_input_always_show') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <ChoiceSetting\n            id=\"subjectLineBehavior\"\n            path=\"subjectLineBehavior\"\n            :options=\"subjectLineOptions\"\n            expert=\"1\"\n          >\n            {{ $t('settings.subject_line_behavior') }}\n          </ChoiceSetting>\n        </li>\n        <li v-if=\"postFormats.length > 0\">\n          <ChoiceSetting\n            id=\"postContentType\"\n            path=\"postContentType\"\n            :options=\"postContentOptions\"\n          >\n            {{ $t('settings.post_status_content_type') }}\n          </ChoiceSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"minimalScopesMode\"\n            expert=\"1\"\n          >\n            {{ $t('settings.minimal_scopes_mode') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"padEmoji\"\n            expert=\"1\"\n          >\n            {{ $t('settings.pad_emoji') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"autocompleteSelect\"\n            expert=\"1\"\n          >\n            {{ $t('settings.autocomplete_select_first') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"autoSaveDraft\"\n          >\n            {{ $t('settings.auto_save_draft') }}\n          </BooleanSetting>\n        </li>\n        <li v-if=\"!mergedConfig.autoSaveDraft\">\n          <ChoiceSetting\n            id=\"unsavedPostAction\"\n            path=\"unsavedPostAction\"\n            :options=\"unsavedPostActionOptions\"\n          >\n            {{ $t('settings.unsaved_post_action') }}\n          </ChoiceSetting>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script src=\"./general_tab.js\"></script>\n","import Select from 'src/components/select/select.vue'\nimport Setting from './setting.js'\n\nexport const allCssUnits = ['cm', 'mm', 'in', 'px', 'pt', 'pc', 'em', 'ex', 'ch', 'rem', 'vw', 'vh', 'vmin', 'vmax', '%']\nexport const defaultHorizontalUnits = ['px', 'rem', 'vw']\nexport const defaultVerticalUnits = ['px', 'rem', 'vh']\n\nexport default {\n  ...Setting,\n  components: {\n    ...Setting.components,\n    Select\n  },\n  props: {\n    ...Setting.props,\n    min: Number,\n    units: {\n      type: Array,\n      default: () => allCssUnits\n    },\n    unitSet: {\n      type: String,\n      default: 'none'\n    },\n    step: {\n      type: Number,\n      default: 1\n    },\n    resetDefault: {\n      type: Object,\n      default: null\n    }\n  },\n  computed: {\n    ...Setting.computed,\n    stateUnit () {\n      return typeof this.state === 'string' ? this.state.replace(/[0-9,.]+/, '') : ''\n    },\n    stateValue () {\n      return typeof this.state === 'string' ? this.state.replace(/[^0-9,.]+/, '') : ''\n    }\n  },\n  methods: {\n    ...Setting.methods,\n    getUnitString (value) {\n      if (this.unitSet === 'none') return value\n      return this.$t(['settings', 'units', this.unitSet, value].join('.'))\n    },\n    updateValue (e) {\n      this.configSink(this.path, parseFloat(e.target.value) + this.stateUnit)\n    },\n    updateUnit (e) {\n      let value = this.stateValue\n      const newUnit = e.target.value\n      if (this.resetDefault) {\n        const replaceValue = this.resetDefault[newUnit]\n        if (replaceValue != null) {\n          value = replaceValue\n        }\n      }\n      this.configSink(this.path, value + newUnit)\n    }\n  }\n}\n","<template>\n  <div\n    class=\"color-input style-control\"\n    :class=\"{ disabled: !present || disabled }\"\n  >\n    <label\n      :for=\"name\"\n      class=\"label\"\n      :class=\"{ faint: !present || disabled }\"\n    >\n      {{ label }}\n    </label>\n    <Checkbox\n      v-if=\"typeof fallback !== 'undefined' && showOptionalCheckbox && !hideOptionalCheckbox\"\n      :model-value=\"present\"\n      :disabled=\"disabled\"\n      class=\"opt\"\n      @update:model-value=\"updateValue(typeof modelValue === 'undefined' ? fallback : undefined)\"\n    />\n    <div\n      class=\"input color-input-field\"\n      :class=\"{ disabled: !present || disabled }\"\n    >\n      <input\n        :id=\"name + '-t'\"\n        class=\"textColor unstyled\"\n        :class=\"{ disabled: !present || disabled }\"\n        type=\"text\"\n        :value=\"modelValue || fallback\"\n        :disabled=\"!present || disabled\"\n        @input=\"updateValue($event.target.value)\"\n      >\n      <div\n        v-if=\"validColor\"\n        class=\"validIndicator\"\n        :style=\"{backgroundColor: modelValue || fallback}\"\n      />\n      <div\n        v-else-if=\"transparentColor\"\n        class=\"transparentIndicator\"\n      />\n      <div\n        v-else-if=\"computedColor\"\n        class=\"computedIndicator\"\n        :style=\"{backgroundColor: fallback}\"\n      />\n      <div\n        v-else\n        class=\"invalidIndicator\"\n      />\n      <label class=\"nativeColor\">\n        <FAIcon icon=\"eye-dropper\" />\n        <input\n          :id=\"name\"\n          class=\"unstyled\"\n          type=\"color\"\n          :value=\"modelValue || fallback\"\n          :disabled=\"!present || disabled\"\n          :class=\"{ disabled: !present || disabled }\"\n          @input=\"updateValue($event.target.value)\"\n        >\n      </label>\n    </div>\n  </div>\n</template>\n<script>\nimport Checkbox from '../checkbox/checkbox.vue'\nimport { hex2rgb } from '../../services/color_convert/color_convert.js'\nimport { throttle } from 'lodash'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faEyeDropper\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faEyeDropper\n)\n\nexport default {\n  components: {\n    Checkbox\n  },\n  props: {\n    // Name of color, used for identifying\n    name: {\n      required: true,\n      type: String\n    },\n    // Readable label\n    label: {\n      required: true,\n      type: String\n    },\n    // Color value, should be required but vue cannot tell the difference\n    // between \"property missing\" and \"property set to undefined\"\n    modelValue: {\n      required: false,\n      type: String,\n      default: undefined\n    },\n    // Color fallback to use when value is not defeind\n    fallback: {\n      required: false,\n      type: String,\n      default: undefined\n    },\n    // Disable the control\n    disabled: {\n      required: false,\n      type: Boolean,\n      default: false\n    },\n    // Show \"optional\" tickbox, for when value might become mandatory\n    showOptionalCheckbox: {\n      required: false,\n      type: Boolean,\n      default: true\n    },\n    // Force \"optional\" tickbox to hide\n    hideOptionalCheckbox: {\n      required: false,\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['update:modelValue'],\n  computed: {\n    present () {\n      return typeof this.modelValue !== 'undefined'\n    },\n    validColor () {\n      return hex2rgb(this.modelValue || this.fallback)\n    },\n    transparentColor () {\n      return this.modelValue === 'transparent'\n    },\n    computedColor () {\n      return this.modelValue && (this.modelValue.startsWith('--') || this.modelValue.startsWith('$'))\n    }\n  },\n  methods: {\n    updateValue: throttle(function (value) {\n      this.$emit('update:modelValue', value)\n    }, 100)\n  }\n}\n</script>\n<style lang=\"scss\" src=\"./color_input.scss\"></style>\n","<template>\n  <div\n    class=\"PaletteEditor\"\n    :class=\"{ '-compact': compact, '-apply': apply }\"\n  >\n    <ColorInput\n      v-for=\"key in paletteKeys\"\n      :key=\"key\"\n      :name=\"key\"\n      :model-value=\"props.modelValue[key]\"\n      :fallback=\"fallback(key)\"\n      :label=\"$t('settings.style.themes3.palette.' + key)\"\n      @update:model-value=\"value => updatePalette(key, value)\"\n    />\n    <button\n      class=\"btn button-default palette-import-button\"\n      @click=\"importPalette\"\n    >\n      <FAIcon icon=\"file-import\" />\n      {{ $t('settings.style.themes3.palette.import') }}\n    </button>\n    <button\n      class=\"btn button-default palette-export-button\"\n      @click=\"exportPalette\"\n    >\n      <FAIcon icon=\"file-export\" />\n      {{ $t('settings.style.themes3.palette.export') }}\n    </button>\n    <button\n      v-if=\"apply\"\n      class=\"btn button-default palette-apply-button\"\n      :disabled=\"disabled\"\n      :class=\"{ disabled }\"\n      @click=\"applyPalette\"\n    >\n      {{ $t('settings.style.themes3.palette.apply') }}\n    </button>\n  </div>\n</template>\n\n<script setup>\nimport ColorInput from 'src/components/color_input/color_input.vue'\nimport {\n  newImporter,\n  newExporter\n} from 'src/services/export_import/export_import.js'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faFileImport,\n  faFileExport\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faFileImport,\n  faFileExport\n)\n\nconst paletteKeys = [\n  'bg',\n  'fg',\n  'text',\n  'link',\n  'accent',\n  'cRed',\n  'cBlue',\n  'cGreen',\n  'cOrange',\n  'wallpaper'\n]\n\nconst props = defineProps(['modelValue', 'compact', 'apply', 'disabled'])\nconst emit = defineEmits(['update:modelValue', 'applyPalette'])\nconst getExportedObject = () => paletteKeys.reduce((acc, key) => {\n  const value = props.modelValue[key]\n  if (value == null) {\n    return acc\n  } else {\n    return { ...acc, [key]: props.modelValue[key] }\n  }\n}, {})\n\nconst paletteExporter = newExporter({\n  filename: 'pleroma_palette',\n  extension: 'json',\n  getExportedObject\n})\nconst paletteImporter = newImporter({\n  accept: '.json',\n  onImport (parsed) {\n    emit('update:modelValue', parsed)\n  }\n})\n\nconst exportPalette = () => {\n  paletteExporter.exportData()\n}\n\nconst importPalette = () => {\n  paletteImporter.importData()\n}\n\nconst applyPalette = () => {\n  emit('applyPalette', getExportedObject())\n}\n\nconst fallback = (key) => {\n  if (key === 'accent') {\n    return props.modelValue.link\n  }\n  if (key === 'link') {\n    return props.modelValue.accent\n  }\n  if (key.startsWith('extra')) {\n    return '#FF00FF'\n  }\n  if (key.startsWith('wallpaper')) {\n    return '#008080'\n  }\n}\n\nconst updatePalette = (paletteKey, value) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    [paletteKey]: value\n  })\n}\n</script>\n\n<style lang=\"scss\">\n.PaletteEditor {\n  display: grid;\n  justify-content: space-around;\n  grid-template-columns: repeat(4, 1fr);\n  grid-template-rows: repeat(5, 1fr) auto;\n  grid-gap: 0.5em;\n  align-items: baseline;\n\n  .palette-import-button {\n    grid-column: 1 / span 2;\n  }\n\n  .palette-export-button {\n    grid-column: 3 / span 2;\n  }\n\n  .palette-apply-button {\n    grid-column: 1 / span 2;\n  }\n\n  .color-input.style-control {\n    margin: 0;\n  }\n\n  &.-compact {\n    grid-template-columns: repeat(2, 1fr);\n    grid-template-rows: repeat(5, 1fr) auto;\n\n    .palette-import-button {\n      grid-column: 1;\n    }\n\n    .palette-export-button {\n      grid-column: 2;\n    }\n\n    &.-apply {\n      grid-template-rows: repeat(5, 1fr) auto auto;\n\n      .palette-apply-button {\n        grid-column: 1 / span 2;\n      }\n    }\n\n    .-mobile & {\n      grid-template-columns: 1fr;\n      grid-template-rows: repeat(10, 1fr) auto;\n\n      .palette-import-button {\n        grid-column: 1;\n      }\n\n      .palette-export-button {\n        grid-column: 1;\n      }\n\n      &.-apply {\n        .palette-apply-button {\n          grid-column: 1;\n        }\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"theme-preview-container\">\n    <div class=\"underlay underlay-preview\" />\n    <div class=\"panel dummy\">\n      <div class=\"panel-heading\">\n        <h1 class=\"title\">\n          {{ $t('settings.style.preview.header') }}\n          <span class=\"badge -notification\">\n            99\n          </span>\n        </h1>\n        <span class=\"faint\">\n          {{ $t('settings.style.preview.header_faint') }}\n        </span>\n        <span class=\"alert error\">\n          {{ $t('settings.style.preview.error') }}\n        </span>\n        <button class=\"btn button-default\">\n          {{ $t('settings.style.preview.button') }}\n        </button>\n      </div>\n      <div class=\"panel-body theme-preview-content\">\n        <div class=\"post\">\n          <div class=\"avatar still-image\">\n            ( ͡° ͜ʖ ͡°)\n          </div>\n          <div class=\"content\">\n            <h4>\n              {{ $t('settings.style.preview.content') }}\n            </h4>\n\n            <i18n-t\n              scope=\"global\"\n              keypath=\"settings.style.preview.text\"\n            >\n              <code style=\"font-family: var(--postCodeFont);\">\n                {{ $t('settings.style.preview.mono') }}\n              </code>\n              <a style=\"color: var(--link);\">\n                {{ $t('settings.style.preview.link') }}\n              </a>\n            </i18n-t>\n\n            <div class=\"icons\">\n              <FAIcon\n                fixed-width\n                style=\"color: var(--cBlue);\"\n                class=\"fa-scale-110 fa-old-padding\"\n                icon=\"reply\"\n              />\n              <FAIcon\n                fixed-width\n                style=\"color: var(--cGreen);\"\n                class=\"fa-scale-110 fa-old-padding\"\n                icon=\"retweet\"\n              />\n              <FAIcon\n                fixed-width\n                style=\"color: var(--cOrange);\"\n                class=\"fa-scale-110 fa-old-padding\"\n                icon=\"star\"\n              />\n              <FAIcon\n                fixed-width\n                style=\"color: var(--cRed);\"\n                class=\"fa-scale-110 fa-old-padding\"\n                icon=\"times\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div class=\"after-post\">\n          <div class=\"avatar-alt\">\n            :^)\n          </div>\n          <div class=\"content\">\n            <i18n-t\n              keypath=\"settings.style.preview.fine_print\"\n              tag=\"span\"\n              class=\"faint\"\n              scope=\"global\"\n            >\n              <a style=\"color: var(--linkFaint);\">\n                {{ $t('settings.style.preview.faint_link') }}\n              </a>\n            </i18n-t>\n          </div>\n        </div>\n        <div class=\"separator\" />\n\n        <span class=\"alert error\">\n          {{ $t('settings.style.preview.error') }}\n        </span>\n        <input\n          :value=\"$t('settings.style.preview.input')\"\n          type=\"text\"\n          class=\"input\"\n        >\n\n        <div class=\"actions\">\n          <Checkbox>\n            {{ $t('settings.style.preview.checkbox') }}\n          </Checkbox>\n          <button class=\"btn button-default\">\n            {{ $t('settings.style.preview.button') }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faTimes,\n  faStar,\n  faRetweet,\n  faReply\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faTimes,\n  faStar,\n  faRetweet,\n  faReply\n)\n\nexport default {\n  components: {\n    Checkbox\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.theme-preview-container {\n  position: relative;\n  border-top: 1px dashed;\n  border-bottom: 1px dashed;\n  border-color: var(--border);\n  margin: 1em 0;\n  padding: 1em;\n  background-color: var(--wallpaper);\n  background-image: var(--body-background-image);\n  background-size: cover;\n  background-position: 50% 50%;\n\n  .theme-preview-content {\n    padding: 20px;\n  }\n\n  .dummy {\n    .post {\n      font-family: var(--postFont);\n      display: flex;\n\n      .content {\n        flex: 1;\n\n        h4 {\n          margin-bottom: 0.25em;\n        }\n\n        .icons {\n          margin-top: 0.5em;\n          display: flex;\n\n          i {\n            margin-right: 1em;\n          }\n        }\n      }\n    }\n\n    .after-post {\n      margin-top: 1em;\n      display: flex;\n      align-items: center;\n    }\n\n    .avatar,\n    .avatar-alt {\n      background:\n        linear-gradient(\n          135deg,\n          #b8e1fc 0%,\n          #a9d2f3 10%,\n          #90bae4 25%,\n          #90bcea 37%,\n          #90bff0 50%,\n          #6ba8e5 51%,\n          #a2daf5 83%,\n          #bdf3fd 100%\n        );\n      color: black;\n      font-family: sans-serif;\n      text-align: center;\n      margin-right: 1em;\n    }\n\n    .avatar-alt {\n      flex: 0 auto;\n      margin-left: 28px;\n      font-size: 12px;\n      min-width: 20px;\n      min-height: 20px;\n      line-height: 20px;\n    }\n\n    .avatar {\n      flex: 0 auto;\n      width: 48px;\n      height: 48px;\n      font-size: 14px;\n      line-height: 48px;\n    }\n\n    .actions {\n      display: flex;\n      align-items: baseline;\n\n      .checkbox {\n        margin-right: 1em;\n        flex: 1;\n      }\n    }\n\n    .separator {\n      margin: 1em;\n      border-bottom: 1px solid;\n      border-color: var(--border);\n    }\n\n    .btn {\n      min-width: 3em;\n    }\n  }\n\n  .underlay-preview {\n    position: absolute;\n    inset: 0 10px;\n  }\n}\n </style>\n","import Select from '../select/select.vue'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport Popover from 'src/components/popover/popover.vue'\nimport { useInterfaceStore } from 'src/stores/interface'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faExclamationTriangle,\n  faKeyboard,\n  faFont\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faExclamationTriangle,\n  faKeyboard,\n  faFont\n)\n\nexport default {\n  components: {\n    Select,\n    Checkbox,\n    Popover\n  },\n  props: [\n    'name', 'label', 'modelValue', 'fallback', 'options', 'no-inherit'\n  ],\n  mounted () {\n    useInterfaceStore().queryLocalFonts()\n  },\n  emits: ['update:modelValue'],\n  data () {\n    return {\n      manualEntry: false,\n      availableOptions: [\n        this.noInherit ? '' : 'inherit',\n        'serif',\n        'sans-serif',\n        'monospace',\n        ...(this.options || [])\n      ].filter(_ => _)\n    }\n  },\n  methods: {\n    toggleManualEntry () {\n      this.manualEntry = !this.manualEntry\n    }\n  },\n  computed: {\n    present () {\n      return typeof this.modelValue !== 'undefined'\n    },\n    localFontsList () {\n      return useInterfaceStore().localFonts\n    },\n    localFontsSize () {\n      return useInterfaceStore().localFonts?.length\n    }\n  }\n}\n","<template>\n  <div class=\"font-control\">\n    <label\n      :id=\"name + '-label'\"\n      :for=\"manualEntry ? name : name + '-font-switcher'\"\n      class=\"label\"\n    >\n      {{ $t('settings.style.themes3.font.label', { label }) }}\n    </label>\n    {{ ' ' }}\n    <Checkbox\n      v-if=\"typeof fallback !== 'undefined'\"\n      :id=\"name + '-o'\"\n      class=\"font-checkbox\"\n      :model-value=\"present\"\n      @change=\"$emit('update:modelValue', typeof modelValue === 'undefined' ? fallback : undefined)\"\n    >\n      {{ $t('settings.style.themes3.define') }}\n    </Checkbox>\n    <div\n      v-if=\"modelValue?.family\"\n      class=\"font-input\"\n    >\n      <label\n        v-if=\"manualEntry\"\n        :id=\"name + '-label'\"\n        :for=\"manualEntry ? name : name + '-font-switcher'\"\n        class=\"label\"\n      >\n        <i18n-t\n          keypath=\"settings.style.themes3.font.entry\"\n          tag=\"span\"\n          scope=\"global\"\n        >\n          <template #fontFamily>\n            <code>font-family</code>\n          </template>\n        </i18n-t>\n      </label>\n      <label\n        v-else\n        :id=\"name + '-label'\"\n        :for=\"manualEntry ? name : name + '-font-switcher'\"\n        class=\"label\"\n      >\n        {{ $t('settings.style.themes3.font.select') }}\n      </label>\n      {{ ' ' }}\n      <span\n        v-if=\"manualEntry\"\n        class=\"btn-group\"\n      >\n        <button\n          class=\"btn button-default\"\n          :title=\"$t('settings.style.themes3.font.lookup_local_fonts')\"\n          @click=\"toggleManualEntry\"\n        >\n          <FAIcon\n            fixed-width\n            icon=\"font\"\n          />\n        </button>\n        <input\n          :id=\"name\"\n          :model-value=\"modelValue.family\"\n          class=\"input custom-font\"\n          type=\"text\"\n          @update:modelValue=\"$emit('update:modelValue', { ...(modelValue || {}), family: $event.target.value })\"\n        >\n      </span>\n      <span\n        v-else\n        class=\"btn-group\"\n      >\n        <button\n          class=\"btn button-default\"\n          :title=\"$t('settings.style.themes3.font.enter_manually')\"\n          @click=\"toggleManualEntry\"\n        >\n          <FAIcon\n            fixed-width\n            icon=\"keyboard\"\n          />\n        </button>\n        <Select\n          :id=\"name + '-local-font-switcher'\"\n          :model-value=\"modelValue?.family\"\n          class=\"custom-font\"\n          @update:model-value=\"v => $emit('update:modelValue', { ...(modelValue || {}), family: v })\"\n        >\n          <optgroup\n            :label=\"$t('settings.style.themes3.font.group-builtin')\"\n          >\n            <option\n              v-for=\"option in availableOptions\"\n              :key=\"option\"\n              :value=\"option\"\n              :style=\"{ fontFamily: option === 'inherit' ? null : option }\"\n            >\n              {{ $t('settings.style.themes3.font.builtin.' + option) }}\n            </option>\n          </optgroup>\n          <optgroup\n            v-if=\"localFontsSize > 0\"\n            :label=\"$t('settings.style.themes3.font.group-local')\"\n          >\n            <option\n              v-for=\"option in localFontsList\"\n              :key=\"option\"\n              :value=\"option\"\n              :style=\"{ fontFamily: option }\"\n            >\n              {{ option }}\n            </option>\n          </optgroup>\n          <optgroup\n            v-else\n            :label=\"$t('settings.style.themes3.font.group-local')\"\n          >\n            <option disabled>\n              {{ $t('settings.style.themes3.font.local-unavailable1') }}\n            </option>\n            <option disabled>\n              {{ $t('settings.style.themes3.font.local-unavailable2') }}\n            </option>\n          </optgroup>\n        </Select>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script src=\"./font_control.js\"></script>\n\n<style lang=\"scss\">\n.font-control {\n  .custom-font {\n    min-width: 20em;\n    max-width: 20em;\n  }\n\n  .font-input {\n    margin-left: 2em;\n    margin-top: 0.5em;\n  }\n\n  .font-checkbox {\n    margin-left: 1em;\n  }\n}\n\n.invalid-tooltip {\n  margin: 0.5em 1em;\n  min-width: 10em;\n  text-align: center;\n}\n</style>\n","import BooleanSetting from '../helpers/boolean_setting.vue'\nimport ChoiceSetting from '../helpers/choice_setting.vue'\nimport IntegerSetting from '../helpers/integer_setting.vue'\nimport FloatSetting from '../helpers/float_setting.vue'\nimport UnitSetting from '../helpers/unit_setting.vue'\nimport { defaultHorizontalUnits } from '../helpers/unit_setting.js'\nimport PaletteEditor from 'src/components/palette_editor/palette_editor.vue'\nimport Preview from './theme_tab/theme_preview.vue'\nimport FontControl from 'src/components/font_control/font_control.vue'\n\nimport { newImporter } from 'src/services/export_import/export_import.js'\nimport { convertTheme2To3 } from 'src/services/theme_data/theme2_to_theme3.js'\nimport { init } from 'src/services/theme_data/theme_data_3.service.js'\nimport {\n  getCssRules,\n  getScopedVersion\n} from 'src/services/theme_data/css_utils.js'\nimport { deserialize } from 'src/services/theme_data/iss_deserializer.js'\n\nimport SharedComputedObject from '../helpers/shared_computed_object.js'\nimport ProfileSettingIndicator from '../helpers/profile_setting_indicator.vue'\n\nimport { mapActions } from 'pinia'\nimport { useInterfaceStore, normalizeThemeData } from 'src/stores/interface'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faGlobe\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faGlobe\n)\n\nconst AppearanceTab = {\n  data () {\n    return {\n      availableThemesV3: [],\n      availableThemesV2: [],\n      bundledPalettes: [],\n      compilationCache: {},\n      fileImporter: newImporter({\n        accept: '.json, .iss',\n        validator: this.importValidator,\n        onImport: this.onImport,\n        parser: this.importParser,\n        onImportFailure: this.onImportFailure\n      }),\n      palettesKeys: [\n        'bg',\n        'fg',\n        'link',\n        'text',\n        'cRed',\n        'cGreen',\n        'cBlue',\n        'cOrange'\n      ],\n      userPalette: {},\n      intersectionObserver: null,\n      thirdColumnModeOptions: ['none', 'notifications', 'postform'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.third_column_mode_${mode}`)\n      })),\n      forcedRoundnessOptions: ['disabled', 'sharp', 'nonsharp', 'round'].map((mode, i) => ({\n        key: mode,\n        value: i - 1,\n        label: this.$t(`settings.style.themes3.hacks.forced_roundness_mode_${mode}`)\n      })),\n      underlayOverrideModes: ['none', 'opaque', 'transparent'].map((mode) => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.style.themes3.hacks.underlay_override_mode_${mode}`)\n      }))\n    }\n  },\n  components: {\n    BooleanSetting,\n    ChoiceSetting,\n    IntegerSetting,\n    FloatSetting,\n    UnitSetting,\n    ProfileSettingIndicator,\n    FontControl,\n    Preview,\n    PaletteEditor\n  },\n  mounted () {\n    useInterfaceStore().getThemeData()\n\n    const updateIndex = (resource) => {\n      const capitalizedResource = resource[0].toUpperCase() + resource.slice(1)\n      const currentIndex = this.$store.state.instance[`${resource}sIndex`]\n\n      let promise\n      if (currentIndex) {\n        promise = Promise.resolve(currentIndex)\n      } else {\n        promise = useInterfaceStore()[`fetch${capitalizedResource}sIndex`]()\n      }\n\n      return promise.then(index => {\n        return Object\n          .entries(index)\n          .map(([k, func]) => [k, func()])\n      })\n    }\n\n    updateIndex('style').then(styles => {\n      styles.forEach(([key, stylePromise]) => stylePromise.then(data => {\n        const meta = data.find(x => x.component === '@meta')\n        this.availableThemesV3.push({ key, data, name: meta.directives.name, version: 'v3' })\n      }))\n    })\n\n    updateIndex('theme').then(themes => {\n      themes.forEach(([key, themePromise]) => themePromise.then(data => {\n        if (!data) {\n          console.warn(`Theme with key ${key} is empty or malformed`)\n        } else if (Array.isArray(data)) {\n          console.warn(`Theme with key ${key} is a v1 theme and should be moved to static/palettes/index.json`)\n        } else if (!data.source && !data.theme) {\n          console.warn(`Theme with key ${key} is malformed`)\n        } else {\n          this.availableThemesV2.push({ key, data, name: data.name, version: 'v2' })\n        }\n      }))\n    })\n\n    this.userPalette = useInterfaceStore().paletteDataUsed || {}\n\n    updateIndex('palette').then(bundledPalettes => {\n      bundledPalettes.forEach(([key, palettePromise]) => palettePromise.then(v => {\n        let palette\n        if (Array.isArray(v)) {\n          const [\n            name,\n            bg,\n            fg,\n            text,\n            link,\n            cRed = '#FF0000',\n            cGreen = '#00FF00',\n            cBlue = '#0000FF',\n            cOrange = '#E3FF00'\n          ] = v\n          palette = { key, name, bg, fg, text, link, cRed, cBlue, cGreen, cOrange }\n        } else {\n          palette = { key, ...v }\n        }\n        if (!palette.key.startsWith('style.')) {\n          this.bundledPalettes.push(palette)\n        }\n      }))\n    })\n\n    if (window.IntersectionObserver) {\n      this.intersectionObserver = new IntersectionObserver((entries, observer) => {\n        entries.forEach(({ target, isIntersecting }) => {\n          if (!isIntersecting) return\n          const theme = this.availableStyles.find(x => x.key === target.dataset.themeKey)\n          this.$nextTick(() => {\n            if (theme) theme.ready = true\n          })\n          observer.unobserve(target)\n        })\n      }, {\n        root: this.$refs.themeList\n      })\n    }\n  },\n  updated () {\n    this.$nextTick(() => {\n      this.$refs.themeList.querySelectorAll('.theme-preview').forEach(node => {\n        this.intersectionObserver.observe(node)\n      })\n    })\n  },\n  watch: {\n    paletteDataUsed () {\n      this.userPalette = this.paletteDataUsed || {}\n    }\n  },\n  computed: {\n    switchInProgress () {\n      return useInterfaceStore().themeChangeInProgress\n    },\n    paletteDataUsed () {\n      return useInterfaceStore().paletteDataUsed\n    },\n    availableStyles () {\n      return [\n        ...this.availableThemesV3,\n        ...this.availableThemesV2\n      ]\n    },\n    availablePalettes () {\n      return [\n        ...this.bundledPalettes,\n        ...this.stylePalettes\n      ]\n    },\n    stylePalettes () {\n      const ruleset = useInterfaceStore().styleDataUsed || []\n      if (!ruleset && ruleset.length === 0) return\n      const meta = ruleset.find(x => x.component === '@meta')\n      const result = ruleset.filter(x => x.component.startsWith('@palette'))\n        .map(x => {\n          const { variant, directives } = x\n          const {\n            bg,\n            fg,\n            text,\n            link,\n            accent,\n            cRed,\n            cBlue,\n            cGreen,\n            cOrange,\n            wallpaper\n          } = directives\n\n          const result = {\n            name: `${meta.directives.name || this.$t('settings.style.themes3.palette.imported')}: ${variant}`,\n            key: `style.${variant.toLowerCase().replace(/ /g, '_')}`,\n            bg,\n            fg,\n            text,\n            link,\n            accent,\n            cRed,\n            cBlue,\n            cGreen,\n            cOrange,\n            wallpaper\n          }\n          return Object.fromEntries(Object.entries(result).filter(([, v]) => v))\n        })\n      return result\n    },\n    noIntersectionObserver () {\n      return !window.IntersectionObserver\n    },\n    horizontalUnits () {\n      return defaultHorizontalUnits\n    },\n    fontsOverride () {\n      return this.$store.getters.mergedConfig.fontsOverride\n    },\n    columns () {\n      const mode = this.$store.getters.mergedConfig.thirdColumnMode\n\n      const notif = mode === 'none' ? [] : ['notifs']\n\n      if (this.$store.getters.mergedConfig.sidebarRight || mode === 'postform') {\n        return [...notif, 'content', 'sidebar']\n      } else {\n        return ['sidebar', 'content', ...notif]\n      }\n    },\n    instanceWallpaperUsed () {\n      return this.$store.state.instance.background &&\n        !this.$store.state.users.currentUser.background_image\n    },\n    language: {\n      get: function () { return this.$store.getters.mergedConfig.interfaceLanguage },\n      set: function (val) {\n        this.$store.dispatch('setOption', { name: 'interfaceLanguage', value: val })\n      }\n    },\n    customThemeVersion () {\n      const { themeVersion } = useInterfaceStore()\n      return themeVersion\n    },\n    isCustomThemeUsed () {\n      const { customTheme, customThemeSource } = this.mergedConfig\n      return customTheme != null || customThemeSource != null\n    },\n    isCustomStyleUsed () {\n      const { styleCustomData } = this.mergedConfig\n      return styleCustomData != null\n    },\n    ...SharedComputedObject()\n  },\n  methods: {\n    updateFont (key, value) {\n      this.$store.dispatch('setOption', {\n        name: 'theme3hacks',\n        value: {\n          ...this.mergedConfig.theme3hacks,\n          fonts: {\n            ...this.mergedConfig.theme3hacks.fonts,\n            [key]: value\n          }\n        }\n      })\n    },\n    importFile () {\n      this.fileImporter.importData()\n    },\n    importParser (file, filename) {\n      if (filename.endsWith('.json')) {\n        return JSON.parse(file)\n      } else if (filename.endsWith('.iss')) {\n        return deserialize(file)\n      }\n    },\n    onImport (parsed, filename) {\n      if (filename.endsWith('.json')) {\n        useInterfaceStore().setThemeCustom(parsed.source || parsed.theme)\n      } else if (filename.endsWith('.iss')) {\n        useInterfaceStore().setStyleCustom(parsed)\n      }\n    },\n    onImportFailure (result) {\n      console.error('Failure importing theme:', result)\n      useInterfaceStore().pushGlobalNotice({ messageKey: 'settings.invalid_theme_imported', level: 'error' })\n    },\n    importValidator (parsed, filename) {\n      if (filename.endsWith('.json')) {\n        const version = parsed._pleroma_theme_version\n        return version >= 1 || version <= 2\n      } else if (filename.endsWith('.iss')) {\n        if (!Array.isArray(parsed)) return false\n        if (parsed.length < 1) return false\n        if (parsed.find(x => x.component === '@meta') == null) return false\n        return true\n      }\n    },\n    isThemeActive (key) {\n      return key === (this.mergedConfig.theme || this.$store.state.instance.theme)\n    },\n    isStyleActive (key) {\n      return key === (this.mergedConfig.style || this.$store.state.instance.style)\n    },\n    isPaletteActive (key) {\n      return key === (this.mergedConfig.palette || this.$store.state.instance.palette)\n    },\n    ...mapActions(useInterfaceStore, [\n      'setStyle',\n      'setTheme'\n    ]),\n    setPalette (name, data) {\n      useInterfaceStore().setPalette(name)\n      this.userPalette = data\n    },\n    setPaletteCustom (data) {\n      useInterfaceStore().setPaletteCustom(data)\n      this.userPalette = data\n    },\n    resetTheming () {\n      useInterfaceStore().setStyle('stock')\n    },\n    previewTheme (key, version, input) {\n      let theme3\n      if (this.compilationCache[key]) {\n        theme3 = this.compilationCache[key]\n      } else if (input) {\n        if (version === 'v2') {\n          const style = normalizeThemeData(input)\n          const theme2 = convertTheme2To3(style)\n          theme3 = init({\n            inputRuleset: theme2,\n            ultimateBackgroundColor: '#000000',\n            liteMode: true,\n            debug: true,\n            onlyNormalState: true\n          })\n        } else if (version === 'v3') {\n          const palette = input.find(x => x.component === '@palette')\n          let paletteRule\n          if (palette) {\n            const { directives } = palette\n            directives.link = directives.link || directives.accent\n            directives.accent = directives.accent || directives.link\n            paletteRule = {\n              component: 'Root',\n              directives: Object.fromEntries(\n                Object\n                  .entries(directives)\n                  .filter(([k]) => k && k !== 'name')\n                  .map(([k, v]) => ['--' + k, 'color | ' + v])\n              )\n            }\n          } else {\n            paletteRule = null\n          }\n\n          theme3 = init({\n            inputRuleset: [...input, paletteRule].filter(x => x),\n            ultimateBackgroundColor: '#000000',\n            liteMode: true,\n            debug: true,\n            onlyNormalState: true\n          })\n        }\n      } else {\n        theme3 = init({\n          inputRuleset: [],\n          ultimateBackgroundColor: '#000000',\n          liteMode: true,\n          debug: true,\n          onlyNormalState: true\n        })\n      }\n\n      if (!this.compilationCache[key]) {\n        this.compilationCache[key] = theme3\n      }\n\n      return getScopedVersion(\n        getCssRules(theme3.eager),\n        '#theme-preview-' + key\n      ).join('\\n')\n    }\n  }\n}\n\nexport default AppearanceTab\n","<template>\n  <div\n    class=\"appearance-tab\"\n    :label=\"$t('settings.general')\"\n  >\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.theme') }}</h2>\n      <ul\n        ref=\"themeList\"\n        class=\"theme-list\"\n      >\n        <button\n          class=\"button-default theme-preview\"\n          data-theme-key=\"stock\"\n          :class=\"{ toggled: isStyleActive('stock'), disabled: switchInProgress }\"\n          :disabled=\"switchInProgress\"\n          @click=\"resetTheming\"\n        >\n          <!-- eslint-disable vue/no-v-text-v-html-on-component -->\n          <!-- eslint-disable vue/no-v-html -->\n          <component\n            :is=\"'style'\"\n            v-html=\"previewTheme('stock', 'v3')\"\n          />\n          <!-- eslint-enable vue/no-v-html -->\n          <!-- eslint-enable vue/no-v-text-v-html-on-component -->\n          <preview id=\"theme-preview-stock\" />\n          <h4 class=\"theme-name\">\n            {{ $t('settings.style.stock_theme_used') }}\n            <span class=\"alert neutral version\">v3</span>\n          </h4>\n        </button>\n        <button\n          v-if=\"isCustomThemeUsed\"\n          disabled\n          class=\"button-default theme-preview toggled\"\n        >\n          <preview />\n          <h4 class=\"theme-name\">\n            {{ $t('settings.style.custom_theme_used') }}\n            <span class=\"alert neutral version\">v2</span>\n          </h4>\n        </button>\n        <button\n          v-if=\"isCustomStyleUsed\"\n          disabled\n          class=\"button-default theme-preview toggled\"\n        >\n          <preview />\n          <h4 class=\"theme-name\">\n            {{ $t('settings.style.custom_style_used') }}\n            <span class=\"alert neutral version\">v3</span>\n          </h4>\n        </button>\n        <button\n          v-for=\"style in availableStyles\"\n          :key=\"style.key\"\n          :data-theme-key=\"style.key\"\n          class=\"button-default theme-preview\"\n          :class=\"{ toggled: isThemeActive(style.key), disabled: switchInProgress }\"\n          :disabled=\"switchInProgress\"\n          @click=\"style.version === 'v2' ? setTheme(style.key) : setStyle(style.key)\"\n        >\n          <!-- eslint-disable vue/no-v-text-v-html-on-component -->\n          <!-- eslint-disable vue/no-v-html -->\n          <div v-if=\"style.ready || noIntersectionObserver\">\n            <component\n              :is=\"'style'\"\n              v-html=\"previewTheme(style.key, style.version, style.data)\"\n            />\n          </div>\n          <!-- eslint-enable vue/no-v-html -->\n          <!-- eslint-enable vue/no-v-text-v-html-on-component -->\n          <preview :id=\"'theme-preview-' + style.key\" />\n          <h4 class=\"theme-name\">\n            {{ style.name }}\n            <span class=\"alert neutral version\">{{ style.version }}</span>\n          </h4>\n        </button>\n      </ul>\n      <div class=\"import-file-container\">\n        <button\n          class=\"btn button-default\"\n          :class=\"{ disabled: switchInProgress }\"\n          :disabled=\"switchInProgress\"\n          @click=\"importFile\"\n        >\n          <FAIcon icon=\"folder-open\" />\n          {{ $t('settings.style.themes3.editor.load_style') }}\n        </button>\n      </div>\n      <div class=\"setting-item\">\n        <h2>{{ $t('settings.style.themes3.palette.label') }}</h2>\n        <div\n          v-if=\"customThemeVersion === 'v3'\"\n          class=\"palettes-container\"\n        >\n          <h4 v-if=\"stylePalettes?.length > 0\">\n            {{ $t('settings.style.themes3.palette.style') }}\n          </h4>\n          <div class=\"palettes\">\n            <button\n              v-for=\"p in stylePalettes || []\"\n              :key=\"p.name\"\n              class=\"btn button-default palette-entry\"\n              :class=\"{ toggled: isPaletteActive(p.key), disabled: switchInProgress }\"\n              :disabled=\"switchInProgress\"\n              @click=\"() => setPalette(p.key, p)\"\n            >\n              <div class=\"palette-label\">\n                <label>\n                  {{ p.name ?? $t('settings.style.themes3.palette.user') }}\n                </label>\n              </div>\n              <div class=\"palette-preview\">\n                <span\n                  v-for=\"c in palettesKeys\"\n                  :key=\"c\"\n                  class=\"palette-square\"\n                  :style=\"{ backgroundColor: p[c], border: '1px solid ' + (p[c] ?? 'var(--text)') }\"\n                />\n              </div>\n            </button>\n            <h4>{{ $t('settings.style.themes3.palette.bundled') }}</h4>\n            <button\n              v-for=\"p in bundledPalettes\"\n              :key=\"p.name\"\n              class=\"btn button-default palette-entry\"\n              :class=\"{ toggled: isPaletteActive(p.key), disabled: switchInProgress }\"\n              :disabled=\"switchInProgress\"\n              @click=\"() => setPalette(p.key, p)\"\n            >\n              <div class=\"palette-label\">\n                <label>\n                  {{ p.name }}\n                </label>\n              </div>\n              <div class=\"palette-preview\">\n                <span\n                  v-for=\"c in palettesKeys\"\n                  :key=\"c\"\n                  class=\"palette-square\"\n                  :style=\"{ backgroundColor: p[c], border: '1px solid ' + (p[c] ?? 'var(--text)') }\"\n                />\n              </div>\n            </button>\n          </div>\n        </div>\n        <div>\n          <template v-if=\"customThemeVersion === 'v3'\">\n            <h4 v-if=\"expertLevel > 0\">\n              {{ $t('settings.style.themes3.palette.user') }}\n            </h4>\n            <PaletteEditor\n              v-if=\"expertLevel > 0\"\n              v-model=\"userPalette\"\n              class=\"userPalette\"\n              :compact=\"true\"\n              :apply=\"true\"\n              :disabled=\"switchInProgress\"\n              @apply-palette=\"data => setPaletteCustom(data)\"\n            />\n          </template>\n          <template v-else-if=\"customThemeVersion === 'v2'\">\n            <div class=\"alert neutral theme-notice unsupported-theme-v2\">\n              {{ $t('settings.style.themes3.palette.v2_unsupported') }}\n            </div>\n          </template>\n        </div>\n      </div>\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.scale_and_layout') }}</h2>\n      <div class=\"alert neutral theme-notice\">\n        {{ $t(\"settings.style.appearance_tab_note\") }}\n      </div>\n      <ul class=\"setting-list\">\n        <li>\n          <UnitSetting\n            path=\"textSize\"\n            :step=\"0.1\"\n            :units=\"['px', 'rem']\"\n            :reset-default=\"{ 'px': 14, 'rem': 1 }\"\n            timed-apply-mode\n          >\n            {{ $t('settings.text_size') }}\n          </UnitSetting>\n          <div>\n            <small>\n              <i18n-t\n                scope=\"global\"\n                keypath=\"settings.text_size_tip\"\n                tag=\"span\"\n              >\n                <code>px</code>\n                <code>rem</code>\n              </i18n-t>\n              <br>\n              <i18n-t\n                scope=\"global\"\n                keypath=\"settings.text_size_tip2\"\n                tag=\"span\"\n              >\n                <code>14px</code>\n              </i18n-t>\n            </small>\n          </div>\n        </li>\n        <li>\n          <UnitSetting\n            path=\"emojiSize\"\n            :step=\"0.1\"\n            :units=\"['px', 'rem']\"\n            :reset-default=\"{ 'px': 32, 'rem': 2.2 }\"\n          >\n            {{ $t('settings.emoji_size') }}\n          </UnitSetting>\n          <ul\n            class=\"setting-list suboptions\"\n          >\n            <li>\n              <FloatSetting\n                v-if=\"user\"\n                path=\"emojiReactionsScale\"\n                expert=\"1\"\n              >\n                {{ $t('settings.emoji_reactions_scale') }}\n              </FloatSetting>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <UnitSetting\n            path=\"navbarSize\"\n            :step=\"0.1\"\n            :units=\"['px', 'rem']\"\n            :reset-default=\"{ 'px': 55, 'rem': 3.5 }\"\n          >\n            {{ $t('settings.navbar_size') }}\n          </UnitSetting>\n        </li>\n        <h3>{{ $t('settings.style.interface_font_user_override') }}</h3>\n        <li>\n          <FontControl\n            :model-value=\"mergedConfig.theme3hacks.fonts.interface\"\n            name=\"ui\"\n            :label=\"$t('settings.style.fonts.components.interface')\"\n            :fallback=\"{ family: 'sans-serif' }\"\n            no-inherit=\"1\"\n            @update:model-value=\"v => updateFont('interface', v)\"\n          />\n        </li>\n        <li>\n          <FontControl\n            v-if=\"expertLevel > 0\"\n            :model-value=\"mergedConfig.theme3hacks.fonts.input\"\n            name=\"input\"\n            :fallback=\"{ family: 'inherit' }\"\n            :label=\"$t('settings.style.fonts.components.input')\"\n            @update:model-value=\"v => updateFont('input', v)\"\n          />\n        </li>\n        <li>\n          <FontControl\n            v-if=\"expertLevel > 0\"\n            :model-value=\"mergedConfig.theme3hacks.fonts.post\"\n            name=\"post\"\n            :fallback=\"{ family: 'inherit' }\"\n            :label=\"$t('settings.style.fonts.components.post')\"\n            @update:model-value=\"v => updateFont('post', v)\"\n          />\n        </li>\n        <li>\n          <FontControl\n            v-if=\"expertLevel > 0\"\n            :model-value=\"mergedConfig.theme3hacks.fonts.monospace\"\n            name=\"postCode\"\n            :fallback=\"{ family: 'monospace' }\"\n            :label=\"$t('settings.style.fonts.components.monospace')\"\n            @update:model-value=\"v => updateFont('monospace', v)\"\n          />\n        </li>\n        <h3>{{ $t('settings.columns') }}</h3>\n        <li>\n          <UnitSetting\n            path=\"panelHeaderSize\"\n            :step=\"0.1\"\n            :units=\"['px', 'rem']\"\n            :reset-default=\"{ 'px': 52, 'rem': 3.2 }\"\n            timed-apply-mode\n          >\n            {{ $t('settings.panel_header_size') }}\n          </UnitSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"sidebarRight\">\n            {{ $t('settings.right_sidebar') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"navbarColumnStretch\">\n            {{ $t('settings.navbar_column_stretch') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <ChoiceSetting\n            v-if=\"user\"\n            id=\"thirdColumnMode\"\n            path=\"thirdColumnMode\"\n            :options=\"thirdColumnModeOptions\"\n          >\n            {{ $t('settings.third_column_mode') }}\n          </ChoiceSetting>\n        </li>\n        <li v-if=\"expertLevel > 0\">\n          {{ $t('settings.column_sizes') }}\n          <div class=\"column-settings\">\n            <UnitSetting\n              v-for=\"column in columns\"\n              :key=\"column\"\n              :path=\"column + 'ColumnWidth'\"\n              :units=\"horizontalUnits\"\n              expert=\"1\"\n            >\n              {{ $t('settings.column_sizes_' + column) }}\n            </UnitSetting>\n          </div>\n        </li>\n        <li>\n          <BooleanSetting path=\"disableStickyHeaders\">\n            {{ $t('settings.disable_sticky_headers') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"showScrollbars\">\n            {{ $t('settings.show_scrollbars') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <UnitSetting\n            path=\"themeEditorMinWidth\"\n            :units=\"['px', 'rem']\"\n            expert=\"1\"\n          >\n            {{ $t('settings.theme_editor_min_width') }}\n          </UnitSetting>\n        </li>\n      </ul>\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.visual_tweaks') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <BooleanSetting path=\"modalMobileCenter\">\n            {{ $t('settings.mobile_center_dialog') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <ChoiceSetting\n            id=\"forcedRoundness\"\n            path=\"forcedRoundness\"\n            :options=\"forcedRoundnessOptions\"\n          >\n            {{ $t('settings.style.themes3.hacks.force_interface_roundness') }}\n          </ChoiceSetting>\n        </li>\n        <li>\n          <ChoiceSetting\n            id=\"underlayOverride\"\n            path=\"theme3hacks.underlay\"\n            :options=\"underlayOverrideModes\"\n          >\n            {{ $t('settings.style.themes3.hacks.underlay_overrides') }}\n          </ChoiceSetting>\n        </li>\n        <li v-if=\"instanceWallpaperUsed\">\n          <BooleanSetting path=\"hideInstanceWallpaper\">\n            {{ $t('settings.hide_wallpaper') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"forceThemeRecompilation\"\n            :expert=\"1\"\n          >\n            {{ $t('settings.force_theme_recompilation_debug') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"themeDebug\"\n            :expert=\"1\"\n          >\n            {{ $t('settings.theme_debug') }}\n          </BooleanSetting>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script src=\"./appearance_tab.js\"></script>\n\n<style lang=\"scss\" src=\"./appearance_tab.scss\"></style>\n","const pleromaFeCommitUrl = 'https://git.pleroma.social/pleroma/pleroma-fe/commit/'\n\nconst VersionTab = {\n  data () {\n    const instance = this.$store.state.instance\n    return {\n      backendVersion: instance.backendVersion,\n      backendRepository: instance.backendRepository,\n      frontendVersion: instance.frontendVersion\n    }\n  },\n  computed: {\n    frontendVersionLink () {\n      return pleromaFeCommitUrl + this.frontendVersion\n    }\n  }\n}\n\nexport default VersionTab\n","<template>\n  <div :label=\"$t('settings.version.title')\">\n    <div class=\"setting-item\">\n      <ul class=\"setting-list\">\n        <li>\n          <p>{{ $t('settings.version.backend_version') }}</p>\n          <ul class=\"option-list\">\n            <li>\n              <a\n                :href=\"backendRepository\"\n                target=\"_blank\"\n              >{{ backendVersion }}</a>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <p>{{ $t('settings.version.frontend_version') }}</p>\n          <ul class=\"option-list\">\n            <li>\n              <a\n                :href=\"frontendVersionLink\"\n                target=\"_blank\"\n              >{{ frontendVersion }}</a>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n<script src=\"./version_tab.js\" />\n","<template>\n  <div\n    class=\"range-control style-control\"\n    :class=\"{ disabled: !present || disabled }\"\n  >\n    <label\n      :id=\"name + '-label'\"\n      :for=\"name\"\n      class=\"label\"\n    >\n      {{ label }}\n    </label>\n    <input\n      v-if=\"typeof fallback !== 'undefined'\"\n      :id=\"name + '-o'\"\n      :aria-labelledby=\"name + '-label'\"\n      class=\"input -checkbox opt visible-for-screenreader-only\"\n      type=\"checkbox\"\n      :checked=\"present\"\n      @change=\"$emit('update:modelValue', !present ? fallback : undefined)\"\n    >\n    <label\n      v-if=\"typeof fallback !== 'undefined'\"\n      class=\"opt-l\"\n      :for=\"name + '-o'\"\n      :aria-hidden=\"true\"\n    />\n    <input\n      :id=\"name\"\n      class=\"input input-number\"\n      type=\"range\"\n      :value=\"modelValue || fallback\"\n      :disabled=\"!present || disabled\"\n      :max=\"max || hardMax || 100\"\n      :min=\"min || hardMin || 0\"\n      :step=\"step || 1\"\n      @input=\"$emit('update:modelValue', $event.target.value)\"\n    >\n    <input\n      :id=\"name + '-numeric'\"\n      class=\"input input-number\"\n      type=\"number\"\n      :aria-labelledby=\"name + '-label'\"\n      :value=\"modelValue || fallback\"\n      :disabled=\"!present || disabled\"\n      :max=\"hardMax\"\n      :min=\"hardMin\"\n      :step=\"step || 1\"\n      @input=\"$emit('update:modelValue', $event.target.value)\"\n    >\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\n    'name', 'modelValue', 'fallback', 'disabled', 'label', 'max', 'min', 'step', 'hardMin', 'hardMax'\n  ],\n  emits: ['update:modelValue'],\n  computed: {\n    present () {\n      return typeof this.modelValue !== 'undefined'\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"opacity-control style-control\"\n    :class=\"{ disabled: !present || disabled }\"\n  >\n    <label\n      :for=\"name\"\n      class=\"label\"\n      :class=\"{ faint: !present || disabled }\"\n    >\n      {{ label }}\n    </label>\n    <Checkbox\n      v-if=\"typeof fallback !== 'undefined'\"\n      :model-value=\"present\"\n      :disabled=\"disabled\"\n      class=\"opt\"\n      @update:model-value=\"$emit('update:modelValue', !present ? fallback : undefined)\"\n    />\n    <input\n      :id=\"name\"\n      class=\"input input-number\"\n      type=\"number\"\n      :value=\"modelValue || fallback\"\n      :disabled=\"!present || disabled\"\n      :class=\"{ disabled: !present || disabled }\"\n      max=\"1\"\n      min=\"0\"\n      step=\".05\"\n      @input=\"$emit('update:modelValue', $event.target.value)\"\n    >\n  </div>\n</template>\n\n<script>\nimport Checkbox from '../checkbox/checkbox.vue'\nexport default {\n  components: {\n    Checkbox\n  },\n  props: [\n    'name', 'label', 'modelValue', 'fallback', 'disabled'\n  ],\n  emits: ['update:modelValue'],\n  computed: {\n    present () {\n      return typeof this.modelValue !== 'undefined'\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"SelectMotion btn-group\"\n  >\n    <button\n      class=\"btn button-default\"\n      :disabled=\"disabled\"\n      @click=\"add\"\n    >\n      <FAIcon\n        fixed-width\n        icon=\"plus\"\n      />\n    </button>\n    <button\n      class=\"btn button-default\"\n      :disabled=\"disabled || !moveUpValid\"\n      :class=\"{ disabled: disabled || !moveUpValid }\"\n      @click=\"moveUp\"\n    >\n      <FAIcon\n        fixed-width\n        icon=\"chevron-up\"\n      />\n    </button>\n    <button\n      class=\"btn button-default\"\n      :disabled=\"disabled || !moveDnValid\"\n      :class=\"{ disabled: disabled || !moveDnValid }\"\n      @click=\"moveDn\"\n    >\n      <FAIcon\n        fixed-width\n        icon=\"chevron-down\"\n      />\n    </button>\n    <button\n      class=\"btn button-default\"\n      :disabled=\"disabled || !present\"\n      :class=\"{ disabled: disabled || !present }\"\n      @click=\"del\"\n    >\n      <FAIcon\n        fixed-width\n        icon=\"times\"\n      />\n    </button>\n  </div>\n</template>\n\n<script setup>\nimport { computed, defineEmits, defineProps, nextTick } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Array,\n    required: true\n  },\n  selectedId: {\n    type: Number,\n    required: true\n  },\n  disabled: {\n    type: Boolean,\n    default: false\n  },\n  getAddValue: {\n    type: Function,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'update:selectedId'])\n\nconst moveUpValid = computed(() => {\n  return props.selectedId > 0\n})\n\nconst present = computed(() => props.modelValue[props.selectedId] != null)\n\nconst moveUp = async () => {\n  const newModel = [...props.modelValue]\n  const movable = newModel.splice(props.selectedId, 1)[0]\n  newModel.splice(props.selectedId - 1, 0, movable)\n\n  emit('update:modelValue', newModel)\n  await nextTick()\n  emit('update:selectedId', props.selectedId - 1)\n}\n\nconst moveDnValid = computed(() => {\n  return props.selectedId < props.modelValue.length - 1\n})\n\nconst moveDn = async () => {\n  const newModel = [...props.modelValue]\n  const movable = newModel.splice(props.selectedId.value, 1)[0]\n  newModel.splice(props.selectedId + 1, 0, movable)\n\n  emit('update:modelValue', newModel)\n  await nextTick()\n  emit('update:selectedId', props.selectedId + 1)\n}\n\nconst add = async () => {\n  const newModel = [...props.modelValue, props.getAddValue()]\n\n  emit('update:modelValue', newModel)\n  await nextTick()\n  emit('update:selectedId', Math.max(newModel.length - 1, 0))\n}\n\nconst del = async () => {\n  const newModel = [...props.modelValue]\n  newModel.splice(props.selectedId, 1)\n\n  emit('update:modelValue', newModel)\n  await nextTick()\n  emit('update:selectedId', newModel.length === 0 ? undefined : Math.max(props.selectedId - 1, 0))\n}\n</script>\n\n<style lang=\"scss\">\n.SelectMotion {\n  flex: 0 0 auto;\n  display: grid;\n  grid-auto-columns: 1fr;\n  grid-auto-flow: column;\n  margin-top: 0.25em;\n\n  .button-default {\n    margin: 0;\n    padding: 0;\n  }\n}\n</style>\n","<template>\n  <div\n    class=\"ComponentPreview\"\n    :class=\"{ '-shadow-controls': shadowControl }\"\n  >\n    <!-- eslint-disable vue/no-v-html vue/no-v-text-v-html-on-component -->\n    <component\n      :is=\"'style'\"\n      v-html=\"previewCss\"\n    />\n    <!-- eslint-enable vue/no-v-html vue/no-v-text-v-html-on-component -->\n    <label\n      v-show=\"shadowControl\"\n      role=\"heading\"\n      class=\"header\"\n      :class=\"{ faint: disabled }\"\n    >\n      {{ $t('settings.style.shadows.offset') }}\n    </label>\n    <label\n      v-show=\"shadowControl && !hideControls\"\n      class=\"x-shift-number\"\n    >\n      {{ $t('settings.style.shadows.offset-x') }}\n      <input\n        :value=\"shadow?.x\"\n        :disabled=\"disabled\"\n        :class=\"{ disabled }\"\n        class=\"input input-number\"\n        type=\"number\"\n        @input=\"e => updateProperty('x', e.target.value)\"\n      >\n    </label>\n    <label\n      v-show=\"shadowControl && !hideControls\"\n      class=\"y-shift-number\"\n    >\n      {{ $t('settings.style.shadows.offset-y') }}\n      <input\n        :value=\"shadow?.y\"\n        :disabled=\"disabled\"\n        :class=\"{ disabled }\"\n        class=\"input input-number\"\n        type=\"number\"\n        @input=\"e => updateProperty('y', e.target.value)\"\n      >\n    </label>\n    <input\n      v-show=\"shadowControl && !hideControls\"\n      :value=\"shadow?.x\"\n      :disabled=\"disabled\"\n      :class=\"{ disabled }\"\n      class=\"input input-range x-shift-slider\"\n      type=\"range\"\n      max=\"20\"\n      min=\"-20\"\n      @input=\"e => updateProperty('x', e.target.value)\"\n    >\n    <input\n      v-show=\"shadowControl && !hideControls\"\n      :value=\"shadow?.y\"\n      :disabled=\"disabled\"\n      :class=\"{ disabled }\"\n      class=\"input input-range y-shift-slider\"\n      type=\"range\"\n      max=\"20\"\n      min=\"-20\"\n      @input=\"e => updateProperty('y', e.target.value)\"\n    >\n    <div\n      class=\"preview-window\"\n      :class=\"{ '-light-grid': lightGrid }\"\n    >\n      <div\n        class=\"preview-block\"\n        :class=\"previewClass\"\n        :style=\"style\"\n      >\n        {{ $t('settings.style.themes3.editor.test_string') }}\n      </div>\n      <div\n        v-if=\"invalid\"\n        class=\"invalid-container\"\n      >\n        <div class=\"alert error invalid-label\">\n          {{ $t('settings.style.themes3.editor.invalid') }}\n        </div>\n      </div>\n    </div>\n    <div class=\"assists\">\n      <Checkbox\n        v-model=\"lightGrid\"\n        name=\"lightGrid\"\n        class=\"input-light-grid\"\n      >\n        {{ $t('settings.style.shadows.light_grid') }}\n      </Checkbox>\n      <div class=\"style-control\">\n        <label class=\"label\">\n          {{ $t('settings.style.shadows.zoom') }}\n        </label>\n        <input\n          v-model=\"zoom\"\n          class=\"input input-number y-shift-number\"\n          type=\"number\"\n        >\n      </div>\n      <ColorInput\n        v-if=\"!noColorControl\"\n        v-model=\"colorOverride\"\n        class=\"input-color-input\"\n        fallback=\"#606060\"\n        :label=\"$t('settings.style.shadows.color_override')\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport ColorInput from 'src/components/color_input/color_input.vue'\n\nexport default {\n  components: {\n    Checkbox,\n    ColorInput\n  },\n  props: [\n    'shadow',\n    'shadowControl',\n    'previewClass',\n    'previewStyle',\n    'previewCss',\n    'disabled',\n    'invalid',\n    'noColorControl'\n  ],\n  emits: ['update:shadow'],\n  data () {\n    return {\n      colorOverride: undefined,\n      lightGrid: false,\n      zoom: 100\n    }\n  },\n  computed: {\n    style () {\n      const result = [\n        this.previewStyle,\n        `zoom: ${this.zoom / 100}`\n      ]\n      if (this.colorOverride) result.push(`--background: ${this.colorOverride}`)\n      return result\n    },\n    hideControls () {\n      return typeof this.shadow === 'string'\n    }\n  },\n  methods: {\n    updateProperty (axis, value) {\n      this.$emit('update:shadow', { axis, value: Number(value) })\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.ComponentPreview {\n  display: grid;\n  grid-template-columns: 1em 1fr 1fr 1em;\n  grid-template-rows: 2em 1fr 1fr 1fr 1em 2em max-content;\n  grid-template-areas:\n    \"header     header     header     header \"\n    \"preview    preview    preview    y-slide\"\n    \"preview    preview    preview    y-slide\"\n    \"preview    preview    preview    y-slide\"\n    \"x-slide    x-slide    x-slide    .      \"\n    \"x-num      x-num      y-num      y-num  \"\n    \"assists    assists    assists    assists\";\n  grid-gap: 0.5em;\n\n  &:not(.-shadow-controls) {\n    grid-template-areas:\n      \"header     header     header     header \"\n      \"preview    preview    preview    y-slide\"\n      \"preview    preview    preview    y-slide\"\n      \"preview    preview    preview    y-slide\"\n      \"assists    assists    assists    assists\";\n    grid-template-rows: 2em 1fr 1fr 1fr max-content;\n  }\n\n  .header {\n    grid-area: header;\n    place-self: baseline center;\n    line-height: 2;\n  }\n\n  .invalid-container {\n    position: absolute;\n    inset: 0;\n    display: grid;\n    place-items: center center;\n    background-color: rgb(100 0 0 / 50%);\n\n    .alert {\n      padding: 0.5em 1em;\n    }\n  }\n\n  .assists {\n    grid-area: assists;\n    display: grid;\n    grid-auto-flow: row;\n    grid-auto-rows: 2em;\n    grid-gap: 0.5em;\n  }\n\n  .input-light-grid {\n    justify-self: center;\n  }\n\n  .input-number {\n    min-width: 2em;\n  }\n\n  .x-shift-number {\n    grid-area: x-num;\n    justify-self: right;\n  }\n\n  .y-shift-number {\n    grid-area: y-num;\n    justify-self: left;\n  }\n\n  .x-shift-number,\n  .y-shift-number {\n    input {\n      max-width: 4em;\n    }\n  }\n\n  .x-shift-slider {\n    grid-area: x-slide;\n    height: auto;\n    align-self: start;\n    min-width: 10em;\n  }\n\n  .y-shift-slider {\n    grid-area: y-slide;\n    writing-mode: vertical-lr;\n    justify-self: left;\n    min-height: 10em;\n  }\n\n  .x-shift-slider,\n  .y-shift-slider {\n    padding: 0;\n  }\n\n  .preview-window {\n    --__grid-color1: rgb(102 102 102);\n    --__grid-color2: rgb(153 153 153);\n    --__grid-color1-disabled: rgb(102 102 102 / 20%);\n    --__grid-color2-disabled: rgb(153 153 153 / 20%);\n\n    &.-light-grid {\n      --__grid-color1: rgb(205 205 205);\n      --__grid-color2: rgb(255 255 255);\n      --__grid-color1-disabled: rgb(205 205 205 / 20%);\n      --__grid-color2-disabled: rgb(255 255 255 / 20%);\n    }\n\n    position: relative;\n    grid-area: preview;\n    aspect-ratio: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    min-width: 10em;\n    min-height: 10em;\n    background-color: var(--__grid-color2);\n    background-image:\n      linear-gradient(45deg, var(--__grid-color1) 25%, transparent 25%),\n      linear-gradient(-45deg, var(--__grid-color1) 25%, transparent 25%),\n      linear-gradient(45deg, transparent 75%, var(--__grid-color1) 75%),\n      linear-gradient(-45deg, transparent 75%, var(--__grid-color1) 75%);\n    background-size: 20px 20px;\n    background-position: 0 0, 0 10px, 10px -10px, -10px 0;\n    border-radius: var(--roundness);\n\n    &.disabled {\n      background-color: var(--__grid-color2-disabled);\n      background-image:\n        linear-gradient(45deg, var(--__grid-color1-disabled) 25%, transparent 25%),\n        linear-gradient(-45deg, var(--__grid-color1-disabled) 25%, transparent 25%),\n        linear-gradient(45deg, transparent 75%, var(--__grid-color1-disabled) 75%),\n        linear-gradient(-45deg, transparent 75%, var(--__grid-color1-disabled) 75%);\n    }\n\n    .preview-block {\n      background: var(--background, var(--bg));\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      min-width: 33%;\n      min-height: 33%;\n      max-width: 80%;\n      max-height: 80%;\n      border-width: 0;\n      border-style: solid;\n      border-color: var(--border);\n      border-radius: var(--roundness);\n      box-shadow: var(--shadow);\n    }\n  }\n}\n</style>\n","import { unroll } from './iss_utils.js'\nimport { deserializeShadow } from './iss_deserializer.js'\n\nexport const serializeShadow = (s) => {\n  if (typeof s === 'object') {\n    const inset = s.inset ? 'inset ' : ''\n    const name = s.name ? ` #${s.name} ` : ''\n    const result = `${inset}${s.x} ${s.y} ${s.blur} ${s.spread} ${s.color} / ${s.alpha}${name}`\n    deserializeShadow(result) // Verify that output is valid and parseable\n    return result\n  } else {\n    return s\n  }\n}\n\nexport const serialize = (ruleset) => {\n  return ruleset.map((rule) => {\n    if (Object.keys(rule.directives || {}).length === 0) return false\n\n    const header = unroll(rule).reverse().map(rule => {\n      const { component } = rule\n      const newVariant = (rule.variant == null || rule.variant === 'normal') ? '' : ('.' + rule.variant)\n      const newState = (rule.state || []).filter(st => st !== 'normal')\n\n      return `${component}${newVariant}${newState.map(st => ':' + st).join('')}`\n    }).join(' ')\n\n    const content = Object.entries(rule.directives).map(([directive, value]) => {\n      if (directive.startsWith('--')) {\n        const [valType, newValue] = value.split('|') // only first one! intentional!\n        switch (valType) {\n          case 'shadow':\n            return `  ${directive}: ${valType.trim()} | ${newValue.map(serializeShadow).map(s => s.trim()).join(', ')}`\n          default:\n            return `  ${directive}: ${valType.trim()} | ${newValue.trim()}`\n        }\n      } else {\n        switch (directive) {\n          case 'shadow':\n            if (value.length > 0) {\n              return `  ${directive}: ${value.map(serializeShadow).join(', ')}`\n            } else {\n              return `  ${directive}: none`\n            }\n          default:\n            return `  ${directive}: ${value}`\n        }\n      }\n    })\n\n    return `${header} {\\n${content.join(';\\n')}\\n}`\n  }).filter(x => x).join('\\n\\n')\n}\n","import ColorInput from 'src/components/color_input/color_input.vue'\nimport OpacityInput from 'src/components/opacity_input/opacity_input.vue'\nimport Select from 'src/components/select/select.vue'\nimport SelectMotion from 'src/components/select/select_motion.vue'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport Popover from 'src/components/popover/popover.vue'\nimport ComponentPreview from 'src/components/component_preview/component_preview.vue'\nimport { rgb2hex } from 'src/services/color_convert/color_convert.js'\nimport { serializeShadow } from 'src/services/theme_data/iss_serializer.js'\nimport { deserializeShadow } from 'src/services/theme_data/iss_deserializer.js'\nimport { getCssShadow, getCssShadowFilter } from 'src/services/theme_data/css_utils.js'\nimport { findShadow, findColor } from 'src/services/theme_data/theme_data_3.service.js'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { throttle, flattenDeep } from 'lodash'\nimport {\n  faTimes,\n  faChevronDown,\n  faChevronUp,\n  faPlus\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faChevronDown,\n  faChevronUp,\n  faTimes,\n  faPlus\n)\n\nconst toModel = (input) => {\n  if (typeof input === 'object') {\n    return {\n      x: 0,\n      y: 0,\n      blur: 0,\n      spread: 0,\n      inset: false,\n      color: '#000000',\n      alpha: 1,\n      ...input\n    }\n  } else if (typeof input === 'string') {\n    return input\n  }\n}\n\nexport default {\n  props: [\n    'modelValue',\n    'fallback',\n    'separateInset',\n    'noPreview',\n    'disabled',\n    'staticVars',\n    'compact'\n  ],\n  emits: ['update:modelValue', 'subShadowSelected'],\n  data () {\n    return {\n      selectedId: 0,\n      invalid: false\n    }\n  },\n  components: {\n    ColorInput,\n    OpacityInput,\n    Select,\n    SelectMotion,\n    Checkbox,\n    Popover,\n    ComponentPreview\n  },\n  computed: {\n    cValue: {\n      get () {\n        return (this.modelValue ?? this.fallback ?? []).map(toModel)\n      },\n      set (newVal) {\n        this.$emit('update:modelValue', newVal)\n      }\n    },\n    selectedType: {\n      get () {\n        return typeof this.selected\n      },\n      set (newType) {\n        this.selected = toModel(newType === 'object' ? {} : '')\n      }\n    },\n    selected: {\n      get () {\n        const selected = this.cValue[this.selectedId]\n        if (selected && typeof selected === 'object') {\n          return { ...selected }\n        } else if (typeof selected === 'string') {\n          return selected\n        }\n        return null\n      },\n      set (value) {\n        this.cValue[this.selectedId] = toModel(value)\n        this.$emit('update:modelValue', this.cValue)\n      }\n    },\n    present () {\n      return this.selected != null && this.modelValue != null\n    },\n    shadowsAreNull () {\n      return this.modelValue == null\n    },\n    currentFallback () {\n      return this.fallback?.[this.selectedId]\n    },\n    getColorFallback () {\n      if (this.staticVars && this.selected?.color) {\n        try {\n          const computedColor = findColor(this.selected.color, { dynamicVars: {}, staticVars: this.staticVars }, true)\n          if (computedColor) return rgb2hex(computedColor)\n          return null\n        } catch (e) {\n          console.warn(e)\n          return null\n        }\n      } else {\n        return this.currentFallback?.color\n      }\n    },\n    style () {\n      try {\n        let result\n        const serialized = this.cValue.map(x => serializeShadow(x)).join(',')\n        serialized.split(/,/).map(deserializeShadow) // validate\n        const expandedShadow = flattenDeep(findShadow(this.cValue, { dynamicVars: {}, staticVars: this.staticVars }))\n        const fixedShadows = expandedShadow.map(x => ({ ...x, color: rgb2hex(x.color) }))\n\n        if (this.separateInset) {\n          result = {\n            filter: getCssShadowFilter(fixedShadows),\n            boxShadow: getCssShadow(fixedShadows, true)\n          }\n        } else {\n          result = {\n            boxShadow: getCssShadow(fixedShadows)\n          }\n        }\n        this.invalid = false\n        return result\n      } catch (e) {\n        console.error('Invalid shadow', e)\n        this.invalid = true\n      }\n    }\n  },\n  watch: {\n    selected () {\n      this.$emit('subShadowSelected', this.selectedId)\n    }\n  },\n  methods: {\n    getNewSubshadow () {\n      return toModel(this.selected)\n    },\n    onSelectChange (id) {\n      this.selectedId = id\n    },\n    getSubshadowLabel (shadow, index) {\n      if (typeof shadow === 'object') {\n        return shadow?.name ?? this.$t('settings.style.shadows.shadow_id', { value: index })\n      } else if (typeof shadow === 'string') {\n        return shadow || this.$t('settings.style.shadows.empty_expression')\n      }\n    },\n    updateProperty: throttle(function (prop, value) {\n      this.cValue[this.selectedId][prop] = value\n      if (prop === 'inset' && value === false && this.separateInset) {\n        this.cValue[this.selectedId].spread = 0\n      }\n      this.$emit('update:modelValue', this.cValue)\n    }, 100)\n  }\n}\n","<template>\n  <div\n    class=\"ShadowControl label shadow-control\"\n    :class=\"{ disabled: disabled || !present, '-no-preview': noPreview, '-compact': compact }\"\n  >\n    <ComponentPreview\n      v-if=\"!noPreview\"\n      :invalid=\"invalid\"\n      class=\"shadow-preview\"\n      :shadow-control=\"true\"\n      :shadow=\"selected\"\n      :preview-style=\"style\"\n      :disabled=\"disabled || !present\"\n      @update:shadow=\"({ axis, value }) => updateProperty(axis, value)\"\n    />\n    <div class=\"shadow-switcher\">\n      <Select\n        id=\"shadow-list\"\n        v-model=\"selectedId\"\n        class=\"shadow-list\"\n        size=\"4\"\n        :disabled=\"disabled || shadowsAreNull\"\n      >\n        <option\n          v-for=\"(shadow, index) in cValue\"\n          :key=\"index\"\n          :value=\"index\"\n          :class=\"{ '-active': index === Number(selectedId) }\"\n        >\n          {{ getSubshadowLabel(shadow, index) }}\n        </option>\n      </Select>\n      <SelectMotion\n        v-model=\"cValue\"\n        :selected-id=\"selectedId\"\n        :get-add-value=\"getNewSubshadow\"\n        :disabled=\"disabled\"\n        @update:selected-id=\"onSelectChange\"\n      />\n    </div>\n    <div class=\"shadow-tweak\">\n      <Select\n        v-model=\"selectedType\"\n        :disabled=\"disabled || !present\"\n      >\n        <option value=\"object\">\n          {{ $t('settings.style.shadows.raw') }}\n        </option>\n        <option value=\"string\">\n          {{ $t('settings.style.shadows.expression') }}\n        </option>\n      </Select>\n      <template v-if=\"selectedType === 'string'\">\n        <textarea\n          v-model=\"selected\"\n          class=\"input shadow-expression\"\n          :disabled=\"disabled || shadowsAreNull\"\n          :class=\"{disabled: disabled || shadowsAreNull}\"\n        />\n      </template>\n      <template v-else-if=\"selectedType === 'object'\">\n        <div\n          :class=\"{ disabled: disabled || !present }\"\n          class=\"name-control style-control\"\n        >\n          <label\n            for=\"name\"\n            class=\"label\"\n            :class=\"{ faint: disabled || !present }\"\n          >\n            {{ $t('settings.style.shadows.name') }}\n          </label>\n          <input\n            id=\"name\"\n            :value=\"selected?.name\"\n            :disabled=\"disabled || !present\"\n            :class=\"{ disabled: disabled || !present }\"\n            name=\"name\"\n            class=\"input input-string\"\n            @input=\"e => updateProperty('name', e.target.value)\"\n          >\n        </div>\n        <div\n          :disabled=\"disabled || !present\"\n          class=\"inset-control style-control\"\n        >\n          <Checkbox\n            id=\"inset\"\n            :value=\"selected?.inset\"\n            :disabled=\"disabled || !present\"\n            name=\"inset\"\n            class=\"input-inset input-boolean\"\n            @input=\"e => updateProperty('inset', e.target.checked)\"\n          >\n            <template #before>\n              {{ $t('settings.style.shadows.inset') }}\n            </template>\n          </Checkbox>\n        </div>\n        <div\n          :disabled=\"disabled || !present\"\n          :class=\"{ disabled: disabled || !present }\"\n          class=\"blur-control style-control\"\n        >\n          <label\n            for=\"blur\"\n            class=\"label\"\n            :class=\"{ faint: disabled || !present }\"\n          >\n            {{ $t('settings.style.shadows.blur') }}\n          </label>\n          <input\n            id=\"blur\"\n            :value=\"selected?.blur\"\n            :disabled=\"disabled || !present\"\n            :class=\"{ disabled: disabled || !present }\"\n            name=\"blur\"\n            class=\"input input-range\"\n            type=\"range\"\n            max=\"20\"\n            min=\"0\"\n            @input=\"e => updateProperty('blur', e.target.value)\"\n          >\n          <input\n            :value=\"selected?.blur\"\n            class=\"input input-number -small\"\n            :disabled=\"disabled || !present\"\n            :class=\"{ disabled: disabled || !present }\"\n            type=\"number\"\n            min=\"0\"\n            @input=\"e => updateProperty('blur', e.target.value)\"\n          >\n        </div>\n        <div\n          class=\"spread-control style-control\"\n          :class=\"{ disabled: disabled || !present || (separateInset && !selected?.inset) }\"\n        >\n          <label\n            for=\"spread\"\n            class=\"label\"\n            :class=\"{ faint: disabled || !present || (separateInset && !selected?.inset) }\"\n          >\n            {{ $t('settings.style.shadows.spread') }}\n          </label>\n          <input\n            id=\"spread\"\n            :value=\"selected?.spread\"\n            :class=\"{ disabled: disabled || !present || (separateInset && !selected?.inset) }\"\n            :disabled=\"disabled || !present || (separateInset && !selected?.inset)\"\n            name=\"spread\"\n            class=\"input input-range\"\n            type=\"range\"\n            max=\"20\"\n            min=\"-20\"\n            @input=\"e => updateProperty('spread', e.target.value)\"\n          >\n          <input\n            :value=\"selected?.spread\"\n            class=\"input input-number -small\"\n            :class=\"{ disabled: disabled || !present || (separateInset && !selected?.inset) }\"\n            :disabled=\"disabled || !present || (separateInset && !selected?.inset)\"\n            type=\"number\"\n            @input=\"e => updateProperty('spread', e.target.value)\"\n          >\n        </div>\n        <ColorInput\n          :model-value=\"selected?.color\"\n          :disabled=\"disabled || !present\"\n          :label=\"$t('settings.style.common.color')\"\n          :fallback=\"getColorFallback\"\n          :show-optional-checkbox=\"false\"\n          name=\"shadow\"\n          @update:model-value=\"e => updateProperty('color', e)\"\n        />\n        <OpacityInput\n          :model-value=\"selected?.alpha\"\n          :disabled=\"disabled || !present\"\n          @update:model-value=\"e => updateProperty('alpha', e)\"\n        />\n        <i18n-t\n          scope=\"global\"\n          keypath=\"settings.style.shadows.hintV3\"\n          :class=\"{ faint: disabled || !present }\"\n          tag=\"p\"\n        >\n          <code>--variable,mod</code>\n        </i18n-t>\n        <Popover\n          v-if=\"separateInset\"\n          trigger=\"hover\"\n        >\n          <template #trigger>\n            <div\n              class=\"inset-alert alert warning\"\n            >\n              <FAIcon icon=\"exclamation-triangle\" />\n              &nbsp;\n              {{ $t('settings.style.shadows.filter_hint.avatar_inset_short') }}\n            </div>\n          </template>\n          <template #content>\n            <div class=\"inset-tooltip tooltip\">\n              <i18n-t\n                scope=\"global\"\n                keypath=\"settings.style.shadows.filter_hint.always_drop_shadow\"\n                tag=\"p\"\n              >\n                <code>filter: drop-shadow()</code>\n              </i18n-t>\n              <p>{{ $t('settings.style.shadows.filter_hint.avatar_inset') }}</p>\n              <i18n-t\n                scope=\"global\"\n                keypath=\"settings.style.shadows.filter_hint.drop_shadow_syntax\"\n                tag=\"p\"\n              >\n                <code>drop-shadow</code>\n                <code>spread-radius</code>\n                <code>inset</code>\n              </i18n-t>\n              <i18n-t\n                scope=\"global\"\n                keypath=\"settings.style.shadows.filter_hint.inset_classic\"\n                tag=\"p\"\n              >\n                <code>box-shadow</code>\n              </i18n-t>\n              <p>{{ $t('settings.style.shadows.filter_hint.spread_zero') }}</p>\n            </div>\n          </template>\n        </Popover>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script src=\"./shadow_control.js\"></script>\n\n<style src=\"./shadow_control.scss\" lang=\"scss\"></style>\n","<template>\n  <Popover trigger=\"hover\">\n    <template #trigger>\n      <slot />\n    </template>\n    <template #content>\n      <div class=\"tooltip\">\n        {{ props.text }}\n      </div>\n    </template>\n  </Popover>\n</template>\n\n<script setup>\nimport Popover from 'src/components/popover/popover.vue'\n\nconst props = defineProps(['text'])\n</script>\n\n<style lang=\"scss\">\n.tooltip {\n  margin: 0.5em 1em;\n}\n</style>\n","<template>\n  <span\n    v-if=\"contrast\"\n    class=\"contrast-ratio\"\n  >\n    <span v-if=\"showRatio\">\n      {{ contrast.text }}\n    </span>\n    <Tooltip\n      :text=\"hint\"\n      class=\"rating\"\n    >\n      <span v-if=\"contrast.aaa\">\n        <FAIcon\n          icon=\"thumbs-up\"\n          :size=\"showRatio ? 'lg' : ''\"\n        />\n      </span>\n      <span v-if=\"!contrast.aaa && contrast.aa\">\n        <FAIcon\n          icon=\"adjust\"\n          :size=\"showRatio ? 'lg' : ''\"\n        />\n      </span>\n      <span v-if=\"!contrast.aaa && !contrast.aa\">\n        <FAIcon\n          icon=\"exclamation-triangle\"\n          :size=\"showRatio ? 'lg' : ''\"\n        />\n      </span>\n    </Tooltip>\n    <Tooltip\n      v-if=\"contrast && large\"\n      :text=\"hint_18pt\"\n      class=\"rating\"\n    >\n      <span v-if=\"contrast.laaa\">\n        <FAIcon\n          icon=\"thumbs-up\"\n          :size=\"showRatio ? 'large' : ''\"\n        />\n      </span>\n      <span v-if=\"!contrast.laaa && contrast.laa\">\n        <FAIcon\n          icon=\"adjust\"\n          :size=\"showRatio ? 'lg' : ''\"\n        />\n      </span>\n      <span v-if=\"!contrast.laaa && !contrast.laa\">\n        <FAIcon\n          icon=\"exclamation-triangle\"\n          :size=\"showRatio ? 'lg' : ''\"\n        />\n      </span>\n    </Tooltip>\n  </span>\n</template>\n\n<script>\nimport Tooltip from 'src/components/tooltip/tooltip.vue'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faAdjust,\n  faExclamationTriangle,\n  faThumbsUp\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faAdjust,\n  faExclamationTriangle,\n  faThumbsUp\n)\n\nexport default {\n  components: {\n    Tooltip\n  },\n  props: {\n    large: {\n      required: false,\n      type: Boolean,\n      default: false\n    },\n    // TODO: Make theme switcher compute theme initially so that contrast\n    // component won't be called without contrast data\n    contrast: {\n      required: false,\n      type: Object,\n      default: () => ({})\n    },\n    showRatio: {\n      required: false,\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    hint () {\n      const levelVal = this.contrast.aaa ? 'aaa' : (this.contrast.aa ? 'aa' : 'bad')\n      const level = this.$t(`settings.style.common.contrast.level.${levelVal}`)\n      const context = this.$t('settings.style.common.contrast.context.text')\n      const ratio = this.contrast.text\n      return this.$t('settings.style.common.contrast.hint', { level, context, ratio })\n    },\n    hint_18pt () {\n      const levelVal = this.contrast.laaa ? 'aaa' : (this.contrast.laa ? 'aa' : 'bad')\n      const level = this.$t(`settings.style.common.contrast.level.${levelVal}`)\n      const context = this.$t('settings.style.common.contrast.context.18pt')\n      const ratio = this.contrast.text\n      return this.$t('settings.style.common.contrast.hint', { level, context, ratio })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.contrast-ratio {\n  display: flex;\n  justify-content: flex-end;\n  align-items: baseline;\n\n  .label {\n    margin-right: 1em;\n  }\n\n  .rating {\n    display: inline-block;\n    margin-left: 0.5em;\n  }\n}\n</style>\n","import {\n  rgb2hex,\n  hex2rgb,\n  getContrastRatioLayers,\n  relativeLuminance\n} from 'src/services/color_convert/color_convert.js'\nimport {\n  newImporter,\n  newExporter\n} from 'src/services/export_import/export_import.js'\nimport {\n  SLOT_INHERITANCE\n} from 'src/services/theme_data/pleromafe.js'\nimport {\n  CURRENT_VERSION,\n  OPACITIES,\n  getLayers,\n  getOpacitySlot,\n  DEFAULT_SHADOWS,\n  generateColors,\n  generateShadows,\n  generateRadii,\n  generateFonts,\n  shadows2to3,\n  colors2to3\n} from 'src/services/theme_data/theme_data.service.js'\n\nimport { convertTheme2To3 } from 'src/services/theme_data/theme2_to_theme3.js'\nimport { init } from 'src/services/theme_data/theme_data_3.service.js'\nimport {\n  getCssRules,\n  getScopedVersion\n} from 'src/services/theme_data/css_utils.js'\n\nimport ColorInput from 'src/components/color_input/color_input.vue'\nimport RangeInput from 'src/components/range_input/range_input.vue'\nimport OpacityInput from 'src/components/opacity_input/opacity_input.vue'\nimport ShadowControl from 'src/components/shadow_control/shadow_control.vue'\nimport FontControl from 'src/components/font_control/font_control.vue'\nimport ContrastRatio from 'src/components/contrast_ratio/contrast_ratio.vue'\nimport TabSwitcher from 'src/components/tab_switcher/tab_switcher.jsx'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport Select from 'src/components/select/select.vue'\n\nimport Preview from './theme_preview.vue'\nimport { useInterfaceStore } from 'src/stores/interface'\n\n// List of color values used in v1\nconst v1OnlyNames = [\n  'bg',\n  'fg',\n  'text',\n  'link',\n  'cRed',\n  'cGreen',\n  'cBlue',\n  'cOrange'\n].map(_ => _ + 'ColorLocal')\n\nconst colorConvert = (color) => {\n  if (color.startsWith('--') || color === 'transparent') {\n    return color\n  } else {\n    return hex2rgb(color)\n  }\n}\n\nexport default {\n  data () {\n    return {\n      themeV3Preview: [],\n      themeImporter: newImporter({\n        validator: this.importValidator,\n        onImport: this.onImport,\n        onImportFailure: this.onImportFailure\n      }),\n      themeExporter: newExporter({\n        filename: 'pleroma_theme',\n        getExportedObject: () => this.exportedTheme\n      }),\n      availableStyles: [],\n      selected: '',\n      selectedTheme: this.$store.getters.mergedConfig.theme,\n      themeWarning: undefined,\n      tempImportFile: undefined,\n      engineVersion: 0,\n\n      previewTheme: {},\n\n      shadowsInvalid: true,\n      colorsInvalid: true,\n      radiiInvalid: true,\n\n      keepColor: false,\n      keepShadows: false,\n      keepOpacity: false,\n      keepRoundness: false,\n      keepFonts: false,\n\n      ...Object.keys(SLOT_INHERITANCE)\n        .map(key => [key, ''])\n        .reduce((acc, [key, val]) => ({ ...acc, [key + 'ColorLocal']: val }), {}),\n\n      ...Object.keys(OPACITIES)\n        .map(key => [key, ''])\n        .reduce((acc, [key, val]) => ({ ...acc, [key + 'OpacityLocal']: val }), {}),\n\n      shadowSelected: undefined,\n      shadowsLocal: {},\n      fontsLocal: {},\n\n      btnRadiusLocal: '',\n      inputRadiusLocal: '',\n      checkboxRadiusLocal: '',\n      panelRadiusLocal: '',\n      avatarRadiusLocal: '',\n      avatarAltRadiusLocal: '',\n      attachmentRadiusLocal: '',\n      tooltipRadiusLocal: '',\n      chatMessageRadiusLocal: ''\n    }\n  },\n  created () {\n    const currentIndex = this.$store.state.instance.themesIndex\n\n    let promise\n    if (currentIndex) {\n      promise = Promise.resolve(currentIndex)\n    } else {\n      promise = useInterfaceStore().fetchThemesIndex()\n    }\n\n    promise.then(themesIndex => {\n      Object\n        .values(themesIndex)\n        .forEach(themeFunc => {\n          themeFunc().then(themeData => themeData && this.availableStyles.push(themeData))\n        })\n    })\n  },\n  mounted () {\n    if (typeof this.shadowSelected === 'undefined') {\n      this.shadowSelected = this.shadowsAvailable[0]\n    }\n  },\n  computed: {\n    themeWarningHelp () {\n      if (!this.themeWarning) return\n      const t = this.$t\n      const pre = 'settings.style.switcher.help.'\n      const {\n        origin,\n        themeEngineVersion,\n        type,\n        noActionsPossible\n      } = this.themeWarning\n      if (origin === 'file') {\n        // Loaded v2 theme from file\n        if (themeEngineVersion === 2 && type === 'wrong_version') {\n          return t(pre + 'v2_imported')\n        }\n        if (themeEngineVersion > CURRENT_VERSION) {\n          return t(pre + 'future_version_imported') + ' ' +\n            (\n              noActionsPossible\n                ? t(pre + 'snapshot_missing')\n                : t(pre + 'snapshot_present')\n            )\n        }\n        if (themeEngineVersion < CURRENT_VERSION) {\n          return t(pre + 'future_version_imported') + ' ' +\n            (\n              noActionsPossible\n                ? t(pre + 'snapshot_missing')\n                : t(pre + 'snapshot_present')\n            )\n        }\n      } else if (origin === 'localStorage') {\n        if (type === 'snapshot_source_mismatch') {\n          return t(pre + 'snapshot_source_mismatch')\n        }\n        // FE upgraded from v2\n        if (themeEngineVersion === 2) {\n          return t(pre + 'upgraded_from_v2')\n        }\n        // Admin downgraded FE\n        if (themeEngineVersion > CURRENT_VERSION) {\n          return t(pre + 'fe_downgraded') + ' ' +\n            (\n              noActionsPossible\n                ? t(pre + 'migration_snapshot_ok')\n                : t(pre + 'migration_snapshot_gone')\n            )\n        }\n        // Admin upgraded FE\n        if (themeEngineVersion < CURRENT_VERSION) {\n          return t(pre + 'fe_upgraded') + ' ' +\n            (\n              noActionsPossible\n                ? t(pre + 'migration_snapshot_ok')\n                : t(pre + 'migration_snapshot_gone')\n            )\n        }\n      }\n    },\n    selectedVersion () {\n      return Array.isArray(this.selectedTheme) ? 1 : 2\n    },\n    currentColors () {\n      return Object.keys(SLOT_INHERITANCE)\n        .map(key => [key, this[key + 'ColorLocal']])\n        .reduce((acc, [key, val]) => ({ ...acc, [key]: val }), {})\n    },\n    currentOpacity () {\n      return Object.keys(OPACITIES)\n        .map(key => [key, this[key + 'OpacityLocal']])\n        .reduce((acc, [key, val]) => ({ ...acc, [key]: val }), {})\n    },\n    currentRadii () {\n      return {\n        btn: this.btnRadiusLocal,\n        input: this.inputRadiusLocal,\n        checkbox: this.checkboxRadiusLocal,\n        panel: this.panelRadiusLocal,\n        avatar: this.avatarRadiusLocal,\n        avatarAlt: this.avatarAltRadiusLocal,\n        tooltip: this.tooltipRadiusLocal,\n        attachment: this.attachmentRadiusLocal,\n        chatMessage: this.chatMessageRadiusLocal\n      }\n    },\n    // This needs optimization maybe\n    previewContrast () {\n      try {\n        if (!this.previewTheme.colors.bg) return {}\n        const colors = this.previewTheme.colors\n        const opacity = this.previewTheme.opacity\n        if (!colors.bg) return {}\n        const hints = (ratio) => ({\n          text: ratio.toPrecision(3) + ':1',\n          // AA level, AAA level\n          aa: ratio >= 4.5,\n          aaa: ratio >= 7,\n          // same but for 18pt+ texts\n          laa: ratio >= 3,\n          laaa: ratio >= 4.5\n        })\n        const colorsConverted = Object.entries(colors).reduce((acc, [key, value]) => ({ ...acc, [key]: colorConvert(value) }), {})\n\n        const ratios = Object.entries(SLOT_INHERITANCE).reduce((acc, [key, value]) => {\n          const slotIsBaseText = key === 'text' || key === 'link'\n          const slotIsText = slotIsBaseText || (\n            typeof value === 'object' && value !== null && value.textColor\n          )\n          if (!slotIsText) return acc\n          const { layer, variant } = slotIsBaseText ? { layer: 'bg' } : value\n          const background = variant || layer\n          const opacitySlot = getOpacitySlot(background)\n          const textColors = [\n            key,\n            ...(background === 'bg' ? ['cRed', 'cGreen', 'cBlue', 'cOrange'] : [])\n          ]\n\n          const layers = getLayers(\n            layer,\n            variant || layer,\n            opacitySlot,\n            colorsConverted,\n            opacity\n          )\n\n          // Temporary patch for null-y value errors\n          if (layers.flat().some(v => v == null)) return acc\n\n          return {\n            ...acc,\n            ...textColors.reduce((acc, textColorKey) => {\n              const newKey = slotIsBaseText\n                ? 'bg' + textColorKey[0].toUpperCase() + textColorKey.slice(1)\n                : textColorKey\n              return {\n                ...acc,\n                [newKey]: getContrastRatioLayers(\n                  colorsConverted[textColorKey],\n                  layers,\n                  colorsConverted[textColorKey]\n                )\n              }\n            }, {})\n          }\n        }, {})\n\n        return Object.entries(ratios).reduce((acc, [k, v]) => { acc[k] = hints(v); return acc }, {})\n      } catch (e) {\n        console.warn('Failure computing contrasts', e)\n        return {}\n      }\n    },\n    themeDataUsed () {\n      return useInterfaceStore().themeDataUsed\n    },\n    shadowsAvailable () {\n      return Object.keys(DEFAULT_SHADOWS).sort()\n    },\n    currentShadowOverriden: {\n      get () {\n        return !!this.currentShadow\n      },\n      set (val) {\n        if (val) {\n          this.shadowsLocal[this.shadowSelected] = (this.currentShadowFallback || [])\n            .map(s => ({\n              name: null,\n              x: 0,\n              y: 0,\n              blur: 0,\n              spread: 0,\n              inset: false,\n              color: '#000000',\n              alpha: 1,\n              ...s\n            }))\n        } else {\n          delete this.shadowsLocal[this.shadowSelected]\n        }\n      }\n    },\n    currentShadowFallback () {\n      return (this.previewTheme.shadows || {})[this.shadowSelected]\n    },\n    currentShadow: {\n      get () {\n        return this.shadowsLocal[this.shadowSelected]\n      },\n      set (v) {\n        this.shadowsLocal[this.shadowSelected] = v\n      }\n    },\n    themeValid () {\n      return !this.shadowsInvalid && !this.colorsInvalid && !this.radiiInvalid\n    },\n    exportedTheme () {\n      const saveEverything = (\n        !this.keepFonts &&\n        !this.keepShadows &&\n        !this.keepOpacity &&\n        !this.keepRoundness &&\n        !this.keepColor\n      )\n\n      const source = {\n        themeEngineVersion: CURRENT_VERSION\n      }\n\n      if (this.keepFonts || saveEverything) {\n        source.fonts = this.fontsLocal\n      }\n      if (this.keepShadows || saveEverything) {\n        source.shadows = this.shadowsLocal\n      }\n      if (this.keepOpacity || saveEverything) {\n        source.opacity = this.currentOpacity\n      }\n      if (this.keepColor || saveEverything) {\n        source.colors = this.currentColors\n      }\n      if (this.keepRoundness || saveEverything) {\n        source.radii = this.currentRadii\n      }\n\n      const theme = {\n        themeEngineVersion: CURRENT_VERSION,\n        ...this.previewTheme\n      }\n\n      return {\n        // To separate from other random JSON files and possible future source formats\n        _pleroma_theme_version: 2, theme, source\n      }\n    },\n    isActive () {\n      const tabSwitcher = this.$parent\n      return tabSwitcher ? tabSwitcher.isActive('theme') : false\n    }\n  },\n  components: {\n    ColorInput,\n    OpacityInput,\n    RangeInput,\n    ContrastRatio,\n    ShadowControl,\n    FontControl,\n    TabSwitcher,\n    Preview,\n    Checkbox,\n    Select\n  },\n  methods: {\n    loadTheme (\n      {\n        theme,\n        source,\n        _pleroma_theme_version: fileVersion\n      },\n      origin,\n      forceUseSource = false\n    ) {\n      this.dismissWarning()\n      const version = (origin === 'localStorage' && !theme.colors)\n        ? 'l1'\n        : fileVersion\n      const snapshotEngineVersion = (theme || {}).themeEngineVersion\n      const themeEngineVersion = (source || {}).themeEngineVersion || 2\n      const versionsMatch = themeEngineVersion === CURRENT_VERSION\n      const sourceSnapshotMismatch = (\n        theme !== undefined &&\n          source !== undefined &&\n          themeEngineVersion !== snapshotEngineVersion\n      )\n      // Force loading of source if user requested it or if snapshot\n      // is unavailable\n      const forcedSourceLoad = (source && forceUseSource) || !theme\n      if (!(versionsMatch && !sourceSnapshotMismatch) &&\n          !forcedSourceLoad &&\n          version !== 'l1' &&\n          origin !== 'defaults'\n      ) {\n        if (sourceSnapshotMismatch && origin === 'localStorage') {\n          this.themeWarning = {\n            origin,\n            themeEngineVersion,\n            type: 'snapshot_source_mismatch'\n          }\n        } else if (!theme) {\n          this.themeWarning = {\n            origin,\n            noActionsPossible: true,\n            themeEngineVersion,\n            type: 'no_snapshot_old_version'\n          }\n        } else if (!versionsMatch) {\n          this.themeWarning = {\n            origin,\n            noActionsPossible: !source,\n            themeEngineVersion,\n            type: 'wrong_version'\n          }\n        }\n      }\n      this.normalizeLocalState(theme, version, source, forcedSourceLoad)\n    },\n    forceLoadLocalStorage () {\n      this.loadThemeFromLocalStorage(true)\n    },\n    dismissWarning () {\n      this.themeWarning = undefined\n      this.tempImportFile = undefined\n    },\n    forceLoad () {\n      const { origin } = this.themeWarning\n      switch (origin) {\n        case 'localStorage':\n          this.loadThemeFromLocalStorage(true)\n          break\n        case 'file':\n          this.onImport(this.tempImportFile, true)\n          break\n      }\n      this.dismissWarning()\n    },\n    forceSnapshot () {\n      const { origin } = this.themeWarning\n      switch (origin) {\n        case 'localStorage':\n          this.loadThemeFromLocalStorage(false, true)\n          break\n        case 'file':\n          console.error('Forcing snapshot from file is not supported yet')\n          break\n      }\n      this.dismissWarning()\n    },\n    loadThemeFromLocalStorage (confirmLoadSource = false) {\n      const theme = this.themeDataUsed?.source\n      if (theme) {\n        this.loadTheme(\n          {\n            theme\n          },\n          'localStorage',\n          confirmLoadSource\n        )\n      }\n    },\n    setCustomTheme () {\n      useInterfaceStore().setThemeV2({\n        customTheme: {\n          ignore: true,\n          themeFileVersion: this.selectedVersion,\n          themeEngineVersion: CURRENT_VERSION,\n          ...this.previewTheme\n        },\n        customThemeSource: {\n          themeFileVersion: this.selectedVersion,\n          themeEngineVersion: CURRENT_VERSION,\n          shadows: this.shadowsLocal,\n          fonts: this.fontsLocal,\n          opacity: this.currentOpacity,\n          colors: this.currentColors,\n          radii: this.currentRadii\n        }\n      })\n    },\n    updatePreviewColors () {\n      const result = generateColors({\n        opacity: this.currentOpacity,\n        colors: this.currentColors\n      })\n      this.previewTheme.colors = result.theme.colors\n      this.previewTheme.opacity = result.theme.opacity\n    },\n    updatePreviewShadows () {\n      this.previewTheme.shadows = generateShadows(\n        {\n          shadows: this.shadowsLocal,\n          opacity: this.previewTheme.opacity,\n          themeEngineVersion: this.engineVersion\n        },\n        this.previewTheme.colors,\n        relativeLuminance(this.previewTheme.colors.bg) < 0.5 ? 1 : -1\n      ).theme.shadows\n    },\n    importTheme () { this.themeImporter.importData() },\n    exportTheme () { this.themeExporter.exportData() },\n    onImport (parsed, forceSource = false) {\n      this.tempImportFile = parsed\n      this.loadTheme(parsed, 'file', forceSource)\n    },\n    onImportFailure () {\n      useInterfaceStore().pushGlobalNotice({ messageKey: 'settings.invalid_theme_imported', level: 'error' })\n    },\n    importValidator (parsed) {\n      const version = parsed._pleroma_theme_version\n      return version >= 1 || version <= 2\n    },\n    clearAll () {\n      this.loadThemeFromLocalStorage()\n    },\n\n    // Clears all the extra stuff when loading V1 theme\n    clearV1 () {\n      Object.keys(this.$data)\n        .filter(_ => _.endsWith('ColorLocal') || _.endsWith('OpacityLocal'))\n        .filter(_ => !v1OnlyNames.includes(_))\n        .forEach(key => {\n          this.$data[key] = undefined\n        })\n    },\n\n    clearRoundness () {\n      Object.keys(this.$data)\n        .filter(_ => _.endsWith('RadiusLocal'))\n        .forEach(key => {\n          this.$data[key] = undefined\n        })\n    },\n\n    clearOpacity () {\n      Object.keys(this.$data)\n        .filter(_ => _.endsWith('OpacityLocal'))\n        .forEach(key => {\n          this.$data[key] = undefined\n        })\n    },\n\n    clearShadows () {\n      this.shadowsLocal = {}\n    },\n\n    clearFonts () {\n      this.fontsLocal = {}\n    },\n\n    /**\n     * This applies stored theme data onto form. Supports three versions of data:\n     * v3 (version >= 3) - newest version of themes which supports snapshots for better compatiblity\n     * v2 (version = 2) - newer version of themes.\n     * v1 (version = 1) - older version of themes (import from file)\n     * v1l (version = l1) - older version of theme (load from local storage)\n     * v1 and v1l differ because of way themes were stored/exported.\n     * @param {Object} theme - theme data (snapshot)\n     * @param {Number} version - version of data. 0 means try to guess based on data. \"l1\" means v1, locastorage type\n     * @param {Object} source - theme source - this will be used if compatible\n     * @param {Boolean} source - by default source won't be used if version doesn't match since it might render differently\n     *                           this allows importing source anyway\n     */\n    normalizeLocalState (theme, version = 0, source, forceSource = false) {\n      let input\n      if (typeof source !== 'undefined') {\n        if (forceSource || source?.themeEngineVersion === CURRENT_VERSION) {\n          input = source\n          version = source.themeEngineVersion\n        } else {\n          input = theme\n        }\n      } else {\n        input = theme\n      }\n\n      const radii = input.radii || input\n      const opacity = input.opacity\n      const shadows = input.shadows || {}\n      const fonts = input.fonts || {}\n      const colors = !input.themeEngineVersion\n        ? colors2to3(input.colors || input)\n        : input.colors || input\n\n      if (version === 0) {\n        if (input.version) version = input.version\n        // Old v1 naming: fg is text, btn is foreground\n        if (typeof colors.text === 'undefined' && typeof colors.fg !== 'undefined') {\n          version = 1\n        }\n        // New v2 naming: text is text, fg is foreground\n        if (typeof colors.text !== 'undefined' && typeof colors.fg !== 'undefined') {\n          version = 2\n        }\n      }\n\n      this.engineVersion = version\n\n      // Stuff that differs between V1 and V2\n      if (version === 1) {\n        this.fgColorLocal = rgb2hex(colors.btn)\n        this.textColorLocal = rgb2hex(colors.fg)\n      }\n\n      if (!this.keepColor) {\n        this.clearV1()\n        const keys = new Set(version !== 1 ? Object.keys(SLOT_INHERITANCE) : [])\n        if (version === 1 || version === 'l1') {\n          keys\n            .add('bg')\n            .add('link')\n            .add('cRed')\n            .add('cBlue')\n            .add('cGreen')\n            .add('cOrange')\n        }\n\n        keys.forEach(key => {\n          const color = colors[key]\n          const hex = rgb2hex(colors[key])\n          this[key + 'ColorLocal'] = hex === '#aN' ? color : hex\n        })\n      }\n\n      if (opacity && !this.keepOpacity) {\n        this.clearOpacity()\n        Object.entries(opacity).forEach(([k, v]) => {\n          if (typeof v === 'undefined' || v === null || Number.isNaN(v)) return\n          this[k + 'OpacityLocal'] = v\n        })\n      }\n\n      if (!this.keepRoundness) {\n        this.clearRoundness()\n        Object.entries(radii).forEach(([k, v]) => {\n          // 'Radius' is kept mostly for v1->v2 localstorage transition\n          const key = k.endsWith('Radius') ? k.split('Radius')[0] : k\n          this[key + 'RadiusLocal'] = v\n        })\n      }\n\n      if (!this.keepShadows) {\n        this.clearShadows()\n        if (version === 2) {\n          this.shadowsLocal = shadows2to3(shadows, this.previewTheme.opacity)\n        } else {\n          this.shadowsLocal = shadows\n        }\n        this.updatePreviewColors()\n        this.updatePreviewShadows()\n        this.shadowSelected = this.shadowsAvailable[0]\n      }\n\n      if (!this.keepFonts) {\n        this.clearFonts()\n        this.fontsLocal = fonts\n      }\n    },\n    updateTheme3Preview () {\n      const theme2 = convertTheme2To3(this.previewTheme)\n      const theme3 = init({\n        inputRuleset: theme2,\n        ultimateBackgroundColor: '#000000',\n        liteMode: true\n      })\n\n      this.themeV3Preview = getScopedVersion(\n        getCssRules(theme3.eager),\n        '#theme-preview'\n      ).join('\\n')\n    }\n  },\n  watch: {\n    themeDataUsed () {\n      this.loadThemeFromLocalStorage()\n    },\n    currentRadii () {\n      try {\n        this.previewTheme.radii = generateRadii({ radii: this.currentRadii }).theme.radii\n        this.radiiInvalid = false\n      } catch (e) {\n        this.radiiInvalid = true\n        console.warn(e)\n      }\n    },\n    shadowsLocal: {\n      handler () {\n        try {\n          this.updatePreviewShadows()\n          this.shadowsInvalid = false\n        } catch (e) {\n          this.shadowsInvalid = true\n          console.warn(e)\n        }\n      },\n      deep: true\n    },\n    fontsLocal: {\n      handler () {\n        try {\n          this.previewTheme.fonts = generateFonts({ fonts: this.fontsLocal }).theme.fonts\n          this.fontsInvalid = false\n        } catch (e) {\n          this.fontsInvalid = true\n          console.warn(e)\n        }\n      },\n      deep: true\n    },\n    currentColors () {\n      try {\n        this.updatePreviewColors()\n        this.colorsInvalid = false\n      } catch (e) {\n        this.colorsInvalid = true\n        console.warn(e)\n      }\n    },\n    currentOpacity () {\n      try {\n        this.updatePreviewColors()\n      } catch (e) {\n        console.warn(e)\n      }\n    },\n    selected () {\n      this.selectedTheme = Object.entries(this.availableStyles).find(([, s]) => {\n        if (Array.isArray(s)) {\n          return s[0] === this.selected\n        } else {\n          return s.name === this.selected\n        }\n      })[1]\n    },\n    selectedTheme () {\n      this.dismissWarning()\n      if (this.selectedVersion === 1) {\n        if (!this.keepRoundness) {\n          this.clearRoundness()\n        }\n\n        if (!this.keepShadows) {\n          this.clearShadows()\n        }\n\n        if (!this.keepOpacity) {\n          this.clearOpacity()\n        }\n\n        if (!this.keepColor) {\n          this.clearV1()\n\n          this.bgColorLocal = this.selectedTheme[1]\n          this.fgColorLocal = this.selectedTheme[2]\n          this.textColorLocal = this.selectedTheme[3]\n          this.linkColorLocal = this.selectedTheme[4]\n          this.cRedColorLocal = this.selectedTheme[5]\n          this.cGreenColorLocal = this.selectedTheme[6]\n          this.cBlueColorLocal = this.selectedTheme[7]\n          this.cOrangeColorLocal = this.selectedTheme[8]\n        }\n      } else if (this.selectedVersion >= 2) {\n        this.normalizeLocalState(this.selectedTheme.theme, 2, this.selectedTheme.source)\n      }\n    }\n  }\n}\n","<template>\n  <div class=\"theme-tab\">\n    <div class=\"alert warning deprecation-warning\">\n      {{ $t(\"settings.style.themes2_outdated\") }}\n    </div>\n    <div class=\"presets-container\">\n      <div class=\"save-load\">\n        <div\n          v-if=\"themeWarning\"\n          class=\"theme-warning\"\n        >\n          <div class=\"alert warning\">\n            {{ themeWarningHelp }}\n          </div>\n          <div class=\"buttons\">\n            <template v-if=\"themeWarning.type === 'snapshot_source_mismatch'\">\n              <button\n                class=\"btn button-default\"\n                @click=\"forceLoad\"\n              >\n                {{ $t('settings.style.switcher.use_source') }}\n              </button>\n              <button\n                class=\"btn button-default\"\n                @click=\"forceSnapshot\"\n              >\n                {{ $t('settings.style.switcher.use_snapshot') }}\n              </button>\n            </template>\n            <template v-else-if=\"themeWarning.noActionsPossible\">\n              <button\n                class=\"btn button-default\"\n                @click=\"dismissWarning\"\n              >\n                {{ $t('general.dismiss') }}\n              </button>\n            </template>\n            <template v-else>\n              <button\n                class=\"btn button-default\"\n                @click=\"forceLoad\"\n              >\n                {{ $t('settings.style.switcher.load_theme') }}\n              </button>\n              <button\n                class=\"btn button-default\"\n                @click=\"dismissWarning\"\n              >\n                {{ $t('settings.style.switcher.keep_as_is') }}\n              </button>\n            </template>\n          </div>\n        </div>\n        <div class=\"top\">\n          <div class=\"presets\">\n            {{ $t('settings.presets') }}\n            <label\n              for=\"preset-switcher\"\n              class=\"select\"\n            >\n              <Select\n                id=\"preset-switcher\"\n                v-model=\"selected\"\n                class=\"preset-switcher\"\n              >\n                <option\n                  v-for=\"style in availableStyles\"\n                  :key=\"style.name\"\n                  :value=\"style.name || style[0]\"\n                  :style=\"{\n                    backgroundColor: style[1] || (style.theme || style.source).colors.bg,\n                    color: style[3] || (style.theme || style.source).colors.text\n                  }\"\n                >\n                  {{ style[0] || style.name }}\n                </option>\n              </Select>\n            </label>\n          </div>\n          <div class=\"export-import\">\n            <button\n              class=\"btn button-default\"\n              @click=\"importTheme\"\n            >\n              {{ $t(&quot;settings.import_theme&quot;) }}\n            </button>\n            <button\n              class=\"btn button-default\"\n              @click=\"exportTheme\"\n            >\n              {{ $t(&quot;settings.export_theme&quot;) }}\n            </button>\n          </div>\n        </div>\n      </div>\n      <div class=\"save-load-options\">\n        <span class=\"keep-option\">\n          <Checkbox v-model=\"keepColor\">\n            {{ $t('settings.style.switcher.keep_color') }}\n          </Checkbox>\n        </span>\n        <span class=\"keep-option\">\n          <Checkbox v-model=\"keepShadows\">\n            {{ $t('settings.style.switcher.keep_shadows') }}\n          </Checkbox>\n        </span>\n        <span class=\"keep-option\">\n          <Checkbox v-model=\"keepOpacity\">\n            {{ $t('settings.style.switcher.keep_opacity') }}\n          </Checkbox>\n        </span>\n        <span class=\"keep-option\">\n          <Checkbox v-model=\"keepRoundness\">\n            {{ $t('settings.style.switcher.keep_roundness') }}\n          </Checkbox>\n        </span>\n        <span class=\"keep-option\">\n          <Checkbox v-model=\"keepFonts\">\n            {{ $t('settings.style.switcher.keep_fonts') }}\n          </Checkbox>\n        </span>\n        <p>{{ $t('settings.style.switcher.save_load_hint') }}</p>\n      </div>\n    </div>\n\n    <!-- eslint-disable vue/no-v-html vue/no-v-text-v-html-on-component -->\n    <component\n      :is=\"'style'\"\n      v-html=\"themeV3Preview\"\n    />\n    <!-- eslint-enable vue/no-v-html vue/no-v-text-v-html-on-component -->\n    <preview id=\"theme-preview\" />\n\n    <div>\n      <button\n        class=\"btn button-default\"\n        @click=\"updateTheme3Preview\"\n      >\n        {{ $t(\"settings.style.update_preview\") }}\n      </button>\n    </div>\n\n    <keep-alive>\n      <tab-switcher key=\"style-tweak\">\n        <div\n          :label=\"$t('settings.style.common_colors._tab_label')\"\n          class=\"color-container\"\n        >\n          <div class=\"tab-header\">\n            <p>{{ $t('settings.theme_help') }}</p>\n            <div class=\"tab-header-buttons\">\n              <button\n                class=\"btn button-default\"\n                @click=\"clearOpacity\"\n              >\n                {{ $t('settings.style.switcher.clear_opacity') }}\n              </button>\n              <button\n                class=\"btn button-default\"\n                @click=\"clearV1\"\n              >\n                {{ $t('settings.style.switcher.clear_all') }}\n              </button>\n            </div>\n          </div>\n          <p>{{ $t('settings.theme_help_v2_1') }}</p>\n          <h4>{{ $t('settings.style.common_colors.main') }}</h4>\n          <div class=\"color-item\">\n            <ColorInput\n              v-model=\"bgColorLocal\"\n              name=\"bgColor\"\n              :label=\"$t('settings.background')\"\n            />\n            <OpacityInput\n              v-model=\"bgOpacityLocal\"\n              name=\"bgOpacity\"\n              :fallback=\"previewTheme.opacity?.bg\"\n            />\n            <ColorInput\n              v-model=\"textColorLocal\"\n              name=\"textColor\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.bgText\" />\n            <ColorInput\n              v-model=\"accentColorLocal\"\n              name=\"accentColor\"\n              :fallback=\"previewTheme.colors?.link\"\n              :label=\"$t('settings.accent')\"\n              :show-optional-checkbox=\"typeof linkColorLocal !== 'undefined'\"\n            />\n            <ColorInput\n              v-model=\"linkColorLocal\"\n              name=\"linkColor\"\n              :fallback=\"previewTheme.colors?.accent\"\n              :label=\"$t('settings.links')\"\n              :show-optional-checkbox=\"typeof accentColorLocal !== 'undefined'\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.bgLink\" />\n          </div>\n          <div class=\"color-item\">\n            <ColorInput\n              v-model=\"fgColorLocal\"\n              name=\"fgColor\"\n              :label=\"$t('settings.foreground')\"\n            />\n            <ColorInput\n              v-model=\"fgTextColorLocal\"\n              name=\"fgTextColor\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.fgText\"\n            />\n            <ColorInput\n              v-model=\"fgLinkColorLocal\"\n              name=\"fgLinkColor\"\n              :label=\"$t('settings.links')\"\n              :fallback=\"previewTheme.colors?.fgLink\"\n            />\n            <p>{{ $t('settings.style.common_colors.foreground_hint') }}</p>\n          </div>\n          <h4>{{ $t('settings.style.common_colors.rgbo') }}</h4>\n          <div class=\"color-item\">\n            <ColorInput\n              v-model=\"cRedColorLocal\"\n              name=\"cRedColor\"\n              :label=\"$t('settings.cRed')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.bgCRed\" />\n            <ColorInput\n              v-model=\"cBlueColorLocal\"\n              name=\"cBlueColor\"\n              :label=\"$t('settings.cBlue')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.bgCBlue\" />\n          </div>\n          <div class=\"color-item\">\n            <ColorInput\n              v-model=\"cGreenColorLocal\"\n              name=\"cGreenColor\"\n              :label=\"$t('settings.cGreen')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.bgCGreen\" />\n            <ColorInput\n              v-model=\"cOrangeColorLocal\"\n              name=\"cOrangeColor\"\n              :label=\"$t('settings.cOrange')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.bgCOrange\" />\n          </div>\n          <p>{{ $t('settings.theme_help_v2_2') }}</p>\n        </div>\n\n        <div\n          :label=\"$t('settings.style.advanced_colors._tab_label')\"\n          class=\"color-container\"\n        >\n          <div class=\"tab-header\">\n            <p>{{ $t('settings.theme_help') }}</p>\n            <button\n              class=\"btn button-default\"\n              @click=\"clearOpacity\"\n            >\n              {{ $t('settings.style.switcher.clear_opacity') }}\n            </button>\n            <button\n              class=\"btn button-default\"\n              @click=\"clearV1\"\n            >\n              {{ $t('settings.style.switcher.clear_all') }}\n            </button>\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.post') }}</h4>\n            <ColorInput\n              v-model=\"postLinkColorLocal\"\n              name=\"postLinkColor\"\n              :fallback=\"previewTheme.colors?.accent\"\n              :label=\"$t('settings.links')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.postLink\" />\n            <ColorInput\n              v-model=\"postGreentextColorLocal\"\n              name=\"postGreentextColor\"\n              :fallback=\"previewTheme.colors?.cGreen\"\n              :label=\"$t('settings.greentext')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.postGreentext\" />\n            <h4>{{ $t('settings.style.advanced_colors.alert') }}</h4>\n            <ColorInput\n              v-model=\"alertErrorColorLocal\"\n              name=\"alertError\"\n              :label=\"$t('settings.style.advanced_colors.alert_error')\"\n              :fallback=\"previewTheme.colors?.alertError\"\n            />\n            <ColorInput\n              v-model=\"alertErrorTextColorLocal\"\n              name=\"alertErrorText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.alertErrorText\"\n            />\n            <ContrastRatio\n              :contrast=\"previewContrast.alertErrorText\"\n              large\n            />\n            <ColorInput\n              v-model=\"alertWarningColorLocal\"\n              name=\"alertWarning\"\n              :label=\"$t('settings.style.advanced_colors.alert_warning')\"\n              :fallback=\"previewTheme.colors?.alertWarning\"\n            />\n            <ColorInput\n              v-model=\"alertWarningTextColorLocal\"\n              name=\"alertWarningText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.alertWarningText\"\n            />\n            <ContrastRatio\n              :contrast=\"previewContrast.alertWarningText\"\n              large\n            />\n            <ColorInput\n              v-model=\"alertNeutralColorLocal\"\n              name=\"alertNeutral\"\n              :label=\"$t('settings.style.advanced_colors.alert_neutral')\"\n              :fallback=\"previewTheme.colors?.alertNeutral\"\n            />\n            <ColorInput\n              v-model=\"alertNeutralTextColorLocal\"\n              name=\"alertNeutralText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.alertNeutralText\"\n            />\n            <ContrastRatio\n              :contrast=\"previewContrast.alertNeutralText\"\n              large\n            />\n            <OpacityInput\n              v-model=\"alertOpacityLocal\"\n              name=\"alertOpacity\"\n              :fallback=\"previewTheme.opacity?.alert\"\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.badge') }}</h4>\n            <ColorInput\n              v-model=\"badgeNotificationColorLocal\"\n              name=\"badgeNotification\"\n              :label=\"$t('settings.style.advanced_colors.badge_notification')\"\n              :fallback=\"previewTheme.colors?.badgeNotification\"\n            />\n            <ColorInput\n              v-model=\"badgeNotificationTextColorLocal\"\n              name=\"badgeNotificationText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.badgeNotificationText\"\n            />\n            <ContrastRatio\n              :contrast=\"previewContrast.badgeNotificationText\"\n              large\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.panel_header') }}</h4>\n            <ColorInput\n              v-model=\"panelColorLocal\"\n              name=\"panelColor\"\n              :fallback=\"previewTheme.colors?.panel\"\n              :label=\"$t('settings.background')\"\n            />\n            <OpacityInput\n              v-model=\"panelOpacityLocal\"\n              name=\"panelOpacity\"\n              :fallback=\"previewTheme.opacity?.panel\"\n              :disabled=\"panelColorLocal === 'transparent'\"\n            />\n            <ColorInput\n              v-model=\"panelTextColorLocal\"\n              name=\"panelTextColor\"\n              :fallback=\"previewTheme.colors?.panelText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio\n              :contrast=\"previewContrast.panelText\"\n              large\n            />\n            <ColorInput\n              v-model=\"panelLinkColorLocal\"\n              name=\"panelLinkColor\"\n              :fallback=\"previewTheme.colors?.panelLink\"\n              :label=\"$t('settings.links')\"\n            />\n            <ContrastRatio\n              :contrast=\"previewContrast.panelLink\"\n              large\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.top_bar') }}</h4>\n            <ColorInput\n              v-model=\"topBarColorLocal\"\n              name=\"topBarColor\"\n              :fallback=\"previewTheme.colors?.topBar\"\n              :label=\"$t('settings.background')\"\n            />\n            <ColorInput\n              v-model=\"topBarTextColorLocal\"\n              name=\"topBarTextColor\"\n              :fallback=\"previewTheme.colors?.topBarText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.topBarText\" />\n            <ColorInput\n              v-model=\"topBarLinkColorLocal\"\n              name=\"topBarLinkColor\"\n              :fallback=\"previewTheme.colors?.topBarLink\"\n              :label=\"$t('settings.links')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.topBarLink\" />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.inputs') }}</h4>\n            <ColorInput\n              v-model=\"inputColorLocal\"\n              name=\"inputColor\"\n              :fallback=\"previewTheme.colors?.input\"\n              :label=\"$t('settings.background')\"\n            />\n            <OpacityInput\n              v-model=\"inputOpacityLocal\"\n              name=\"inputOpacity\"\n              :fallback=\"previewTheme.opacity?.input\"\n              :disabled=\"inputColorLocal === 'transparent'\"\n            />\n            <ColorInput\n              v-model=\"inputTextColorLocal\"\n              name=\"inputTextColor\"\n              :fallback=\"previewTheme.colors?.inputText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.inputText\" />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.buttons') }}</h4>\n            <ColorInput\n              v-model=\"btnColorLocal\"\n              name=\"btnColor\"\n              :fallback=\"previewTheme.colors?.btn\"\n              :label=\"$t('settings.background')\"\n            />\n            <OpacityInput\n              v-model=\"btnOpacityLocal\"\n              name=\"btnOpacity\"\n              :fallback=\"previewTheme.opacity?.btn\"\n              :disabled=\"btnColorLocal === 'transparent'\"\n            />\n            <ColorInput\n              v-model=\"btnTextColorLocal\"\n              name=\"btnTextColor\"\n              :fallback=\"previewTheme.colors?.btnText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnText\" />\n            <ColorInput\n              v-model=\"btnPanelTextColorLocal\"\n              name=\"btnPanelTextColor\"\n              :fallback=\"previewTheme.colors?.btnPanelText\"\n              :label=\"$t('settings.style.advanced_colors.panel_header')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnPanelText\" />\n            <ColorInput\n              v-model=\"btnTopBarTextColorLocal\"\n              name=\"btnTopBarTextColor\"\n              :fallback=\"previewTheme.colors?.btnTopBarText\"\n              :label=\"$t('settings.style.advanced_colors.top_bar')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnTopBarText\" />\n            <h5>{{ $t('settings.style.advanced_colors.pressed') }}</h5>\n            <ColorInput\n              v-model=\"btnPressedColorLocal\"\n              name=\"btnPressedColor\"\n              :fallback=\"previewTheme.colors?.btnPressed\"\n              :label=\"$t('settings.background')\"\n            />\n            <ColorInput\n              v-model=\"btnPressedTextColorLocal\"\n              name=\"btnPressedTextColor\"\n              :fallback=\"previewTheme.colors?.btnPressedText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnPressedText\" />\n            <ColorInput\n              v-model=\"btnPressedPanelTextColorLocal\"\n              name=\"btnPressedPanelTextColor\"\n              :fallback=\"previewTheme.colors?.btnPressedPanelText\"\n              :label=\"$t('settings.style.advanced_colors.panel_header')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnPressedPanelText\" />\n            <ColorInput\n              v-model=\"btnPressedTopBarTextColorLocal\"\n              name=\"btnPressedTopBarTextColor\"\n              :fallback=\"previewTheme.colors?.btnPressedTopBarText\"\n              :label=\"$t('settings.style.advanced_colors.top_bar')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnPressedTopBarText\" />\n            <h5>{{ $t('settings.style.advanced_colors.disabled') }}</h5>\n            <ColorInput\n              v-model=\"btnDisabledColorLocal\"\n              name=\"btnDisabledColor\"\n              :fallback=\"previewTheme.colors?.btnDisabled\"\n              :label=\"$t('settings.background')\"\n            />\n            <ColorInput\n              v-model=\"btnDisabledTextColorLocal\"\n              name=\"btnDisabledTextColor\"\n              :fallback=\"previewTheme.colors?.btnDisabledText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ColorInput\n              v-model=\"btnDisabledPanelTextColorLocal\"\n              name=\"btnDisabledPanelTextColor\"\n              :fallback=\"previewTheme.colors?.btnDisabledPanelText\"\n              :label=\"$t('settings.style.advanced_colors.panel_header')\"\n            />\n            <ColorInput\n              v-model=\"btnDisabledTopBarTextColorLocal\"\n              name=\"btnDisabledTopBarTextColor\"\n              :fallback=\"previewTheme.colors?.btnDisabledTopBarText\"\n              :label=\"$t('settings.style.advanced_colors.top_bar')\"\n            />\n            <h5>{{ $t('settings.style.advanced_colors.toggled') }}</h5>\n            <ColorInput\n              v-model=\"btnToggledColorLocal\"\n              name=\"btnToggledColor\"\n              :fallback=\"previewTheme.colors?.btnToggled\"\n              :label=\"$t('settings.background')\"\n            />\n            <ColorInput\n              v-model=\"btnToggledTextColorLocal\"\n              name=\"btnToggledTextColor\"\n              :fallback=\"previewTheme.colors?.btnToggledText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnToggledText\" />\n            <ColorInput\n              v-model=\"btnToggledPanelTextColorLocal\"\n              name=\"btnToggledPanelTextColor\"\n              :fallback=\"previewTheme.colors?.btnToggledPanelText\"\n              :label=\"$t('settings.style.advanced_colors.panel_header')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnToggledPanelText\" />\n            <ColorInput\n              v-model=\"btnToggledTopBarTextColorLocal\"\n              name=\"btnToggledTopBarTextColor\"\n              :fallback=\"previewTheme.colors?.btnToggledTopBarText\"\n              :label=\"$t('settings.style.advanced_colors.top_bar')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnToggledTopBarText\" />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.tabs') }}</h4>\n            <ColorInput\n              v-model=\"tabColorLocal\"\n              name=\"tabColor\"\n              :fallback=\"previewTheme.colors?.tab\"\n              :label=\"$t('settings.background')\"\n            />\n            <ColorInput\n              v-model=\"tabTextColorLocal\"\n              name=\"tabTextColor\"\n              :fallback=\"previewTheme.colors?.tabText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.tabText\" />\n            <ColorInput\n              v-model=\"tabActiveTextColorLocal\"\n              name=\"tabActiveTextColor\"\n              :fallback=\"previewTheme.colors?.tabActiveText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.tabActiveText\" />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.borders') }}</h4>\n            <ColorInput\n              v-model=\"borderColorLocal\"\n              name=\"borderColor\"\n              :fallback=\"previewTheme.colors?.border\"\n              :label=\"$t('settings.style.common.color')\"\n            />\n            <OpacityInput\n              v-model=\"borderOpacityLocal\"\n              name=\"borderOpacity\"\n              :fallback=\"previewTheme.opacity?.border\"\n              :disabled=\"borderColorLocal === 'transparent'\"\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.faint_text') }}</h4>\n            <ColorInput\n              v-model=\"faintColorLocal\"\n              name=\"faintColor\"\n              :fallback=\"previewTheme.colors?.faint\"\n              :label=\"$t('settings.text')\"\n            />\n            <ColorInput\n              v-model=\"faintLinkColorLocal\"\n              name=\"faintLinkColor\"\n              :fallback=\"previewTheme.colors?.faintLink\"\n              :label=\"$t('settings.links')\"\n            />\n            <ColorInput\n              v-model=\"panelFaintColorLocal\"\n              name=\"panelFaintColor\"\n              :fallback=\"previewTheme.colors?.panelFaint\"\n              :label=\"$t('settings.style.advanced_colors.panel_header')\"\n            />\n            <OpacityInput\n              v-model=\"faintOpacityLocal\"\n              name=\"faintOpacity\"\n              :fallback=\"previewTheme.opacity?.faint\"\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.underlay') }}</h4>\n            <ColorInput\n              v-model=\"underlayColorLocal\"\n              name=\"underlay\"\n              :label=\"$t('settings.style.advanced_colors.underlay')\"\n              :fallback=\"previewTheme.colors?.underlay\"\n            />\n            <OpacityInput\n              v-model=\"underlayOpacityLocal\"\n              name=\"underlayOpacity\"\n              :fallback=\"previewTheme.opacity?.underlay\"\n              :disabled=\"underlayOpacityLocal === 'transparent'\"\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.wallpaper') }}</h4>\n            <ColorInput\n              v-model=\"wallpaperColorLocal\"\n              name=\"wallpaper\"\n              :label=\"$t('settings.style.advanced_colors.wallpaper')\"\n              :fallback=\"previewTheme.colors?.wallpaper\"\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.poll') }}</h4>\n            <ColorInput\n              v-model=\"pollColorLocal\"\n              name=\"poll\"\n              :label=\"$t('settings.background')\"\n              :fallback=\"previewTheme.colors?.poll\"\n            />\n            <ColorInput\n              v-model=\"pollTextColorLocal\"\n              name=\"pollText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.pollText\"\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.icons') }}</h4>\n            <ColorInput\n              v-model=\"iconColorLocal\"\n              name=\"icon\"\n              :label=\"$t('settings.style.advanced_colors.icons')\"\n              :fallback=\"previewTheme.colors?.icon\"\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.highlight') }}</h4>\n            <ColorInput\n              v-model=\"highlightColorLocal\"\n              name=\"highlight\"\n              :label=\"$t('settings.background')\"\n              :fallback=\"previewTheme.colors?.highlight\"\n            />\n            <ColorInput\n              v-model=\"highlightTextColorLocal\"\n              name=\"highlightText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.highlightText\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.highlightText\" />\n            <ColorInput\n              v-model=\"highlightLinkColorLocal\"\n              name=\"highlightLink\"\n              :label=\"$t('settings.links')\"\n              :fallback=\"previewTheme.colors?.highlightLink\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.highlightLink\" />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.popover') }}</h4>\n            <ColorInput\n              v-model=\"popoverColorLocal\"\n              name=\"popover\"\n              :label=\"$t('settings.background')\"\n              :fallback=\"previewTheme.colors?.popover\"\n            />\n            <OpacityInput\n              v-model=\"popoverOpacityLocal\"\n              name=\"popoverOpacity\"\n              :fallback=\"previewTheme.opacity?.popover\"\n              :disabled=\"popoverOpacityLocal === 'transparent'\"\n            />\n            <ColorInput\n              v-model=\"popoverTextColorLocal\"\n              name=\"popoverText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.popoverText\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.popoverText\" />\n            <ColorInput\n              v-model=\"popoverLinkColorLocal\"\n              name=\"popoverLink\"\n              :label=\"$t('settings.links')\"\n              :fallback=\"previewTheme.colors?.popoverLink\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.popoverLink\" />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.selectedPost') }}</h4>\n            <ColorInput\n              v-model=\"selectedPostColorLocal\"\n              name=\"selectedPost\"\n              :label=\"$t('settings.background')\"\n              :fallback=\"previewTheme.colors?.selectedPost\"\n            />\n            <ColorInput\n              v-model=\"selectedPostTextColorLocal\"\n              name=\"selectedPostText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.selectedPostText\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.selectedPostText\" />\n            <ColorInput\n              v-model=\"selectedPostLinkColorLocal\"\n              name=\"selectedPostLink\"\n              :label=\"$t('settings.links')\"\n              :fallback=\"previewTheme.colors?.selectedPostLink\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.selectedPostLink\" />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.selectedMenu') }}</h4>\n            <ColorInput\n              v-model=\"selectedMenuColorLocal\"\n              name=\"selectedMenu\"\n              :label=\"$t('settings.background')\"\n              :fallback=\"previewTheme.colors?.selectedMenu\"\n            />\n            <ColorInput\n              v-model=\"selectedMenuTextColorLocal\"\n              name=\"selectedMenuText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.selectedMenuText\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.selectedMenuText\" />\n            <ColorInput\n              v-model=\"selectedMenuLinkColorLocal\"\n              name=\"selectedMenuLink\"\n              :label=\"$t('settings.links')\"\n              :fallback=\"previewTheme.colors?.selectedMenuLink\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.selectedMenuLink\" />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('chats.chats') }}</h4>\n            <ColorInput\n              v-model=\"chatBgColorLocal\"\n              name=\"chatBgColor\"\n              :fallback=\"previewTheme.colors?.bg\"\n              :label=\"$t('settings.background')\"\n            />\n            <h5>{{ $t('settings.style.advanced_colors.chat.incoming') }}</h5>\n            <ColorInput\n              v-model=\"chatMessageIncomingBgColorLocal\"\n              name=\"chatMessageIncomingBgColor\"\n              :fallback=\"previewTheme.colors?.bg\"\n              :label=\"$t('settings.background')\"\n            />\n            <ColorInput\n              v-model=\"chatMessageIncomingTextColorLocal\"\n              name=\"chatMessageIncomingTextColor\"\n              :fallback=\"previewTheme.colors?.text\"\n              :label=\"$t('settings.text')\"\n            />\n            <ColorInput\n              v-model=\"chatMessageIncomingLinkColorLocal\"\n              name=\"chatMessageIncomingLinkColor\"\n              :fallback=\"previewTheme.colors?.link\"\n              :label=\"$t('settings.links')\"\n            />\n            <ColorInput\n              v-model=\"chatMessageIncomingBorderColorLocal\"\n              name=\"chatMessageIncomingBorderLinkColor\"\n              :fallback=\"previewTheme.colors?.fg\"\n              :label=\"$t('settings.style.advanced_colors.chat.border')\"\n            />\n            <h5>{{ $t('settings.style.advanced_colors.chat.outgoing') }}</h5>\n            <ColorInput\n              v-model=\"chatMessageOutgoingBgColorLocal\"\n              name=\"chatMessageOutgoingBgColor\"\n              :fallback=\"previewTheme.colors?.bg\"\n              :label=\"$t('settings.background')\"\n            />\n            <ColorInput\n              v-model=\"chatMessageOutgoingTextColorLocal\"\n              name=\"chatMessageOutgoingTextColor\"\n              :fallback=\"previewTheme.colors?.text\"\n              :label=\"$t('settings.text')\"\n            />\n            <ColorInput\n              v-model=\"chatMessageOutgoingLinkColorLocal\"\n              name=\"chatMessageOutgoingLinkColor\"\n              :fallback=\"previewTheme.colors?.link\"\n              :label=\"$t('settings.links')\"\n            />\n            <ColorInput\n              v-model=\"chatMessageOutgoingBorderColorLocal\"\n              name=\"chatMessageOutgoingBorderLinkColor\"\n              :fallback=\"previewTheme.colors?.bg\"\n              :label=\"$t('settings.style.advanced_colors.chat.border')\"\n            />\n          </div>\n        </div>\n\n        <div\n          :label=\"$t('settings.style.radii._tab_label')\"\n          class=\"radius-container\"\n        >\n          <div class=\"tab-header\">\n            <p>{{ $t('settings.radii_help') }}</p>\n            <button\n              class=\"btn button-default\"\n              @click=\"clearRoundness\"\n            >\n              {{ $t('settings.style.switcher.clear_all') }}\n            </button>\n          </div>\n          <RangeInput\n            v-model=\"btnRadiusLocal\"\n            name=\"btnRadius\"\n            :label=\"$t('settings.btnRadius')\"\n            :fallback=\"previewTheme.radii?.btn\"\n            max=\"16\"\n            hard-min=\"0\"\n          />\n          <RangeInput\n            v-model=\"inputRadiusLocal\"\n            name=\"inputRadius\"\n            :label=\"$t('settings.inputRadius')\"\n            :fallback=\"previewTheme.radii?.input\"\n            max=\"9\"\n            hard-min=\"0\"\n          />\n          <RangeInput\n            v-model=\"checkboxRadiusLocal\"\n            name=\"checkboxRadius\"\n            :label=\"$t('settings.checkboxRadius')\"\n            :fallback=\"previewTheme.radii?.checkbox\"\n            max=\"16\"\n            hard-min=\"0\"\n          />\n          <RangeInput\n            v-model=\"panelRadiusLocal\"\n            name=\"panelRadius\"\n            :label=\"$t('settings.panelRadius')\"\n            :fallback=\"previewTheme.radii?.panel\"\n            max=\"50\"\n            hard-min=\"0\"\n          />\n          <RangeInput\n            v-model=\"avatarRadiusLocal\"\n            name=\"avatarRadius\"\n            :label=\"$t('settings.avatarRadius')\"\n            :fallback=\"previewTheme.radii?.avatar\"\n            max=\"28\"\n            hard-min=\"0\"\n          />\n          <RangeInput\n            v-model=\"avatarAltRadiusLocal\"\n            name=\"avatarAltRadius\"\n            :label=\"$t('settings.avatarAltRadius')\"\n            :fallback=\"previewTheme.radii?.avatarAlt\"\n            max=\"28\"\n            hard-min=\"0\"\n          />\n          <RangeInput\n            v-model=\"attachmentRadiusLocal\"\n            name=\"attachmentRadius\"\n            :label=\"$t('settings.attachmentRadius')\"\n            :fallback=\"previewTheme.radii?.attachment\"\n            max=\"50\"\n            hard-min=\"0\"\n          />\n          <RangeInput\n            v-model=\"tooltipRadiusLocal\"\n            name=\"tooltipRadius\"\n            :label=\"$t('settings.tooltipRadius')\"\n            :fallback=\"previewTheme.radii?.tooltip\"\n            max=\"50\"\n            hard-min=\"0\"\n          />\n          <RangeInput\n            v-model=\"chatMessageRadiusLocal\"\n            name=\"chatMessageRadius\"\n            :label=\"$t('settings.chatMessageRadius')\"\n            :fallback=\"previewTheme.radii?.chatMessage || 2\"\n            max=\"50\"\n            hard-min=\"0\"\n          />\n        </div>\n\n        <div\n          :label=\"$t('settings.style.shadows._tab_label')\"\n          class=\"shadow-container\"\n        >\n          <div class=\"tab-header shadow-selector\">\n            <div class=\"select-container\">\n              {{ $t('settings.style.shadows.component') }}\n              {{ ' ' }}\n              <Select\n                id=\"shadow-switcher\"\n                v-model=\"shadowSelected\"\n                class=\"shadow-switcher\"\n              >\n                <option\n                  v-for=\"shadow in shadowsAvailable\"\n                  :key=\"shadow\"\n                  :value=\"shadow\"\n                >\n                  {{ $t('settings.style.shadows.components.' + shadow) }}\n                </option>\n              </Select>\n            </div>\n            <div class=\"override\">\n              <Checkbox\n                id=\"override\"\n                v-model=\"currentShadowOverriden\"\n                name=\"override\"\n                class=\"input-override\"\n              >\n                {{ $t('settings.style.shadows.override') }}\n              </Checkbox>\n            </div>\n            <button\n              class=\"btn button-default\"\n              @click=\"clearShadows\"\n            >\n              {{ $t('settings.style.switcher.clear_all') }}\n            </button>\n          </div>\n          <ShadowControl\n            v-model=\"currentShadow\"\n            :separate-inset=\"shadowSelected === 'avatar' || shadowSelected === 'avatarStatus'\"\n            :fallback=\"currentShadowFallback\"\n            :static-vars=\"previewTheme.colors\"\n            :compact=\"true\"\n          />\n        </div>\n        <div\n          :label=\"$t('settings.style.fonts._tab_label')\"\n          class=\"fonts-container\"\n        >\n          <div class=\"tab-header\">\n            <p>{{ $t('settings.style.fonts.help') }}</p>\n            <button\n              class=\"btn button-default\"\n              @click=\"clearFonts\"\n            >\n              {{ $t('settings.style.switcher.clear_all') }}\n            </button>\n          </div>\n          <FontControl\n            v-model=\"fontsLocal.interface\"\n            name=\"ui\"\n            :label=\"$t('settings.style.fonts.components.interface')\"\n            :fallback=\"previewTheme.fonts?.interface\"\n            no-inherit=\"1\"\n          />\n          <FontControl\n            v-model=\"fontsLocal.input\"\n            name=\"input\"\n            :label=\"$t('settings.style.fonts.components.input')\"\n            :fallback=\"previewTheme.fonts?.input\"\n          />\n          <FontControl\n            v-model=\"fontsLocal.post\"\n            name=\"post\"\n            :label=\"$t('settings.style.fonts.components.post')\"\n            :fallback=\"previewTheme.fonts?.post\"\n          />\n          <FontControl\n            v-model=\"fontsLocal.postCode\"\n            name=\"postCode\"\n            :label=\"$t('settings.style.fonts.components.postCode')\"\n            :fallback=\"previewTheme.fonts?.postCode\"\n          />\n        </div>\n      </tab-switcher>\n    </keep-alive>\n\n    <teleport\n      v-if=\"isActive\"\n      to=\"#unscrolled-content\"\n    >\n      <div class=\"apply-container\">\n        <button\n          class=\"btn button-default submit\"\n          :disabled=\"!themeValid\"\n          @click=\"setCustomTheme\"\n        >\n          {{ $t('general.apply') }}\n        </button>\n        <button\n          class=\"btn button-default\"\n          @click=\"clearAll\"\n        >\n          {{ $t('settings.style.switcher.reset') }}\n        </button>\n      </div>\n    </teleport>\n  </div>\n</template>\n\n<script src=\"./theme_tab.js\"></script>\n\n<style src=\"./theme_tab.scss\" lang=\"scss\"></style>\n","<template>\n  <div\n    class=\"roundness-control style-control\"\n    :class=\"{ disabled: !present || disabled }\"\n  >\n    <label\n      :for=\"name\"\n      class=\"label\"\n      :class=\"{ faint: !present || disabled }\"\n    >\n      {{ label }}\n    </label>\n    <Checkbox\n      v-if=\"typeof fallback !== 'undefined'\"\n      :model-value=\"present\"\n      :disabled=\"disabled\"\n      class=\"opt\"\n      @update:model-value=\"$emit('update:modelValue', !present ? fallback : undefined)\"\n    />\n    <input\n      :id=\"name\"\n      class=\"input input-number\"\n      type=\"number\"\n      :value=\"modelValue || fallback\"\n      :disabled=\"!present || disabled\"\n      :class=\"{ disabled: !present || disabled }\"\n      max=\"999\"\n      min=\"0\"\n      step=\"1\"\n      @input=\"$emit('update:modelValue', $event.target.value)\"\n    >\n  </div>\n</template>\n\n<script>\nimport Checkbox from '../checkbox/checkbox.vue'\nexport default {\n  components: {\n    Checkbox\n  },\n  props: [\n    'name', 'label', 'modelValue', 'fallback', 'disabled'\n  ],\n  emits: ['update:modelValue'],\n  computed: {\n    present () {\n      return typeof this.modelValue !== 'undefined'\n    }\n  }\n}\n</script>\n","import { ref, computed, watch, inject } from 'vue'\n\nimport Select from 'src/components/select/select.vue'\nimport SelectMotion from 'src/components/select/select_motion.vue'\nimport ShadowControl from 'src/components/shadow_control/shadow_control.vue'\nimport ColorInput from 'src/components/color_input/color_input.vue'\n\nimport { serializeShadow } from 'src/services/theme_data/iss_serializer.js'\n\n// helper for debugging\n// eslint-disable-next-line no-unused-vars\nconst toValue = (x) => JSON.parse(JSON.stringify(x === undefined ? 'null' : x))\n\nexport default {\n  components: {\n    Select,\n    SelectMotion,\n    ShadowControl,\n    ColorInput\n  },\n  props: ['modelValue'],\n  emits: ['update:modelValue'],\n  setup (props, context) {\n    const exports = {}\n    const emit = context.emit\n\n    exports.emit = emit\n    exports.computeColor = inject('computeColor')\n    exports.staticVars = inject('staticVars')\n\n    const selectedVirtualDirectiveId = ref(0)\n    exports.selectedVirtualDirectiveId = selectedVirtualDirectiveId\n\n    const selectedVirtualDirective = computed({\n      get () {\n        return props.modelValue[selectedVirtualDirectiveId.value]\n      },\n      set (value) {\n        const newVD = [...props.modelValue]\n        newVD[selectedVirtualDirectiveId.value] = value\n\n        emit('update:modelValue', newVD)\n      }\n    })\n    exports.selectedVirtualDirective = selectedVirtualDirective\n\n    exports.selectedVirtualDirectiveValType = computed({\n      get () {\n        return props.modelValue[selectedVirtualDirectiveId.value].valType\n      },\n      set (value) {\n        const newValType = value\n        let newValue\n        switch (value) {\n          case 'shadow':\n            newValue = '0 0 0 #000000 / 1'\n            break\n          case 'color':\n            newValue = '#000000'\n            break\n          default:\n            newValue = 'none'\n        }\n        const newName = props.modelValue[selectedVirtualDirectiveId.value].name\n        props.modelValue[selectedVirtualDirectiveId.value] = {\n          name: newName,\n          value: newValue,\n          valType: newValType\n        }\n      }\n    })\n\n    const draftVirtualDirectiveValid = ref(true)\n    const draftVirtualDirective = ref({})\n    exports.draftVirtualDirective = draftVirtualDirective\n    const normalizeShadows = inject('normalizeShadows')\n\n    watch(\n      selectedVirtualDirective,\n      (directive) => {\n        switch (directive.valType) {\n          case 'shadow': {\n            if (Array.isArray(directive.value)) {\n              draftVirtualDirective.value = normalizeShadows(directive.value)\n            } else {\n              const splitShadow = directive.value.split(/,/g).map(x => x.trim())\n              draftVirtualDirective.value = normalizeShadows(splitShadow)\n            }\n            break\n          }\n          case 'color':\n            draftVirtualDirective.value = directive.value\n            break\n          default:\n            draftVirtualDirective.value = directive.value\n            break\n        }\n      },\n      { immediate: true }\n    )\n\n    watch(\n      draftVirtualDirective,\n      (directive) => {\n        try {\n          switch (selectedVirtualDirective.value.valType) {\n            case 'shadow': {\n              props.modelValue[selectedVirtualDirectiveId.value].value =\n                directive.map(x => serializeShadow(x)).join(', ')\n              break\n            }\n            default:\n              props.modelValue[selectedVirtualDirectiveId.value].value = directive\n          }\n          draftVirtualDirectiveValid.value = true\n        } catch (e) {\n          console.error('Invalid virtual directive value', e)\n          draftVirtualDirectiveValid.value = false\n        }\n      },\n      { immediate: true }\n    )\n\n    exports.getNewVirtualDirective = () => ({\n      name: 'newDirective',\n      valType: 'generic',\n      value: 'foobar'\n    })\n\n    return exports\n  }\n}\n","<script src=\"./virtual_directives_tab.js\"></script>\n\n<template>\n  <div class=\"setting-item list-editor variables-editor\">\n    <label\n      class=\"list-select-label\"\n      for=\"variables-selector\"\n    >\n      {{ $t('settings.style.themes3.editor.variables.label') }}\n      {{ ' ' }}\n    </label>\n    <Select\n      id=\"variables-selector\"\n      v-model=\"selectedVirtualDirectiveId\"\n      class=\"list-select\"\n      size=\"20\"\n    >\n      <option\n        v-for=\"(p, index) in modelValue\"\n        :key=\"p.name\"\n        :value=\"index\"\n      >\n        {{ p.name }}\n      </option>\n    </Select>\n    <SelectMotion\n      class=\"list-select-movement\"\n      :model-value=\"modelValue\"\n      :selected-id=\"selectedVirtualDirectiveId\"\n      :get-add-value=\"getNewVirtualDirective\"\n      @update:model-value=\"e => emit('update:modelValue', e)\"\n      @update:selected-id=\"e => selectedVirtualDirectiveId = e\"\n    />\n    <div class=\"list-edit-area\">\n      <div class=\"variable-selector\">\n        <label\n          class=\"variable-name-label\"\n          for=\"variables-selector\"\n        >\n          {{ $t('settings.style.themes3.editor.variables.name_label') }}\n          {{ ' ' }}\n        </label>\n        <input\n          v-model=\"selectedVirtualDirective.name\"\n          class=\"input\"\n        >\n        <label\n          class=\"variable-type-label\"\n          for=\"variables-selector\"\n        >\n          {{ $t('settings.style.themes3.editor.variables.type_label') }}\n          {{ ' ' }}\n        </label>\n        <Select\n          v-model=\"selectedVirtualDirectiveValType\"\n        >\n          <option value=\"shadow\">\n            {{ $t('settings.style.themes3.editor.variables.type_shadow') }}\n          </option>\n          <option value=\"color\">\n            {{ $t('settings.style.themes3.editor.variables.type_color') }}\n          </option>\n          <option value=\"generic\">\n            {{ $t('settings.style.themes3.editor.variables.type_generic') }}\n          </option>\n        </Select>\n      </div>\n      <ShadowControl\n        v-if=\"selectedVirtualDirectiveValType === 'shadow'\"\n        v-model=\"draftVirtualDirective\"\n        :static-vars=\"staticVars\"\n        :compact=\"true\"\n      />\n      <ColorInput\n        v-if=\"selectedVirtualDirectiveValType === 'color'\"\n        v-model=\"draftVirtualDirective\"\n        name=\"virtual-directive-color\"\n        :fallback=\"computeColor(draftVirtualDirective)\"\n        :label=\"$t('settings.style.themes3.editor.variables.virtual_color')\"\n        :hide-optional-checkbox=\"true\"\n      />\n    </div>\n  </div>\n</template>\n","import { ref, reactive, computed, watch, watchEffect, provide, getCurrentInstance } from 'vue'\nimport { useInterfaceStore } from 'src/stores/interface'\nimport { get, set, unset, throttle } from 'lodash'\n\nimport Select from 'src/components/select/select.vue'\nimport SelectMotion from 'src/components/select/select_motion.vue'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport ComponentPreview from 'src/components/component_preview/component_preview.vue'\nimport StringSetting from '../../helpers/string_setting.vue'\nimport ShadowControl from 'src/components/shadow_control/shadow_control.vue'\nimport ColorInput from 'src/components/color_input/color_input.vue'\nimport PaletteEditor from 'src/components/palette_editor/palette_editor.vue'\nimport OpacityInput from 'src/components/opacity_input/opacity_input.vue'\nimport RoundnessInput from 'src/components/roundness_input/roundness_input.vue'\nimport TabSwitcher from 'src/components/tab_switcher/tab_switcher.jsx'\nimport Tooltip from 'src/components/tooltip/tooltip.vue'\nimport ContrastRatio from 'src/components/contrast_ratio/contrast_ratio.vue'\nimport Preview from '../theme_tab/theme_preview.vue'\n\nimport VirtualDirectivesTab from './virtual_directives_tab.vue'\n\nimport { init, findColor } from 'src/services/theme_data/theme_data_3.service.js'\nimport {\n  getCssRules,\n  getScopedVersion\n} from 'src/services/theme_data/css_utils.js'\nimport { serialize } from 'src/services/theme_data/iss_serializer.js'\nimport { deserializeShadow, deserialize } from 'src/services/theme_data/iss_deserializer.js'\nimport {\n  rgb2hex,\n  hex2rgb,\n  getContrastRatio\n} from 'src/services/color_convert/color_convert.js'\nimport {\n  newImporter,\n  newExporter\n} from 'src/services/export_import/export_import.js'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faFloppyDisk,\n  faFolderOpen,\n  faFile,\n  faArrowsRotate,\n  faCheck\n} from '@fortawesome/free-solid-svg-icons'\n\n// helper for debugging\n// eslint-disable-next-line no-unused-vars\nconst toValue = (x) => JSON.parse(JSON.stringify(x === undefined ? 'null' : x))\n\n// helper to make states comparable\nconst normalizeStates = (states) => ['normal', ...(states?.filter(x => x !== 'normal') || [])].join(':')\n\nlibrary.add(\n  faFile,\n  faFloppyDisk,\n  faFolderOpen,\n  faArrowsRotate,\n  faCheck\n)\n\nexport default {\n  components: {\n    Select,\n    SelectMotion,\n    Checkbox,\n    Tooltip,\n    StringSetting,\n    ComponentPreview,\n    TabSwitcher,\n    ShadowControl,\n    ColorInput,\n    PaletteEditor,\n    OpacityInput,\n    RoundnessInput,\n    ContrastRatio,\n    Preview,\n    VirtualDirectivesTab\n  },\n  setup () {\n    const exports = {}\n    const interfaceStore = useInterfaceStore()\n    // All rules that are made by editor\n    const allEditedRules = ref(interfaceStore.styleDataUsed || {})\n    const styleDataUsed = computed(() => interfaceStore.styleDataUsed)\n\n    watch([styleDataUsed], () => {\n      onImport(interfaceStore.styleDataUsed)\n    }, { once: true })\n\n    exports.isActive = computed(() => {\n      const tabSwitcher = getCurrentInstance().parent.ctx\n      return tabSwitcher ? tabSwitcher.isActive('style') : false\n    })\n\n    // ## Meta stuff\n    exports.name = ref('')\n    exports.author = ref('')\n    exports.license = ref('')\n    exports.website = ref('')\n\n    const metaOut = computed(() => {\n      return [\n        '@meta {',\n        `  name: ${exports.name.value};`,\n        `  author: ${exports.author.value};`,\n        `  license: ${exports.license.value};`,\n        `  website: ${exports.website.value};`,\n        '}'\n      ].join('\\n')\n    })\n\n    const metaRule = computed(() => ({\n      component: '@meta',\n      directives: {\n        name: exports.name.value,\n        author: exports.author.value,\n        license: exports.license.value,\n        website: exports.website.value\n      }\n    }))\n\n    // ## Palette stuff\n    const palettes = reactive([\n      {\n        name: 'default',\n        bg: '#121a24',\n        fg: '#182230',\n        text: '#b9b9ba',\n        link: '#d8a070',\n        accent: '#d8a070',\n        cRed: '#FF0000',\n        cBlue: '#0095ff',\n        cGreen: '#0fa00f',\n        cOrange: '#ffa500'\n      },\n      {\n        name: 'light',\n        bg: '#f2f6f9',\n        fg: '#d6dfed',\n        text: '#304055',\n        underlay: '#5d6086',\n        accent: '#f55b1b',\n        cBlue: '#0095ff',\n        cRed: '#d31014',\n        cGreen: '#0fa00f',\n        cOrange: '#ffa500',\n        border: '#d8e6f9'\n      }\n    ])\n    exports.palettes = palettes\n\n    // This is kinda dumb but you cannot \"replace\" reactive() object\n    // and so v-model simply fails when you try to chage (increase only?)\n    // length of the array. Since linter complains about mutating modelValue\n    // inside SelectMotion, the next best thing is to just wipe existing array\n    // and replace it with new one.\n\n    const onPalettesUpdate = (e) => {\n      palettes.splice(0, palettes.length)\n      palettes.push(...e)\n    }\n    exports.onPalettesUpdate = onPalettesUpdate\n\n    const selectedPaletteId = ref(0)\n    const selectedPalette = computed({\n      get () {\n        return palettes[selectedPaletteId.value]\n      },\n      set (newPalette) {\n        palettes[selectedPaletteId.value] = newPalette\n      }\n    })\n    exports.selectedPaletteId = selectedPaletteId\n    exports.selectedPalette = selectedPalette\n    provide('selectedPalette', selectedPalette)\n\n    watch([selectedPalette], () => updateOverallPreview())\n\n    exports.getNewPalette = () => ({\n      name: 'new palette',\n      bg: '#121a24',\n      fg: '#182230',\n      text: '#b9b9ba',\n      link: '#d8a070',\n      accent: '#d8a070',\n      cRed: '#FF0000',\n      cBlue: '#0095ff',\n      cGreen: '#0fa00f',\n      cOrange: '#ffa500'\n    })\n\n    // Raw format\n    const palettesRule = computed(() => {\n      return palettes.map(palette => {\n        const { name, ...rest } = palette\n        return {\n          component: '@palette',\n          variant: name,\n          directives: Object\n            .entries(rest)\n            .filter(([k, v]) => v && k)\n            .reduce((acc, [k, v]) => ({ ...acc, [k]: v }), {})\n        }\n      })\n    })\n\n    // Text format\n    const palettesOut = computed(() => {\n      return palettes.map(({ name, ...palette }) => {\n        const entries = Object\n          .entries(palette)\n          .filter(([k, v]) => v && k)\n          .map(([slot, data]) => `  ${slot}: ${data};`)\n          .join('\\n')\n\n        return `@palette.${name} {\\n${entries}\\n}`\n      }).join('\\n\\n')\n    })\n\n    // ## Components stuff\n    // Getting existing components\n    const componentsContext = import.meta.glob(\n      ['/src/**/*.style.js', '/src/**/*.style.json'],\n      { eager: true }\n    )\n    const componentKeysAll = Object.keys(componentsContext)\n    const componentsMap = new Map(\n      componentKeysAll\n        .map(\n          key => [key, componentsContext[key].default]\n        ).filter(([, component]) => !component.virtual && !component.notEditable)\n    )\n    exports.componentsMap = componentsMap\n    const componentKeys = [...componentsMap.keys()]\n    exports.componentKeys = componentKeys\n\n    // Component list and selection\n    const selectedComponentKey = ref(componentsMap.keys().next().value)\n    exports.selectedComponentKey = selectedComponentKey\n\n    const selectedComponent = computed(() => componentsMap.get(selectedComponentKey.value))\n    const selectedComponentName = computed(() => selectedComponent.value.name)\n\n    // Selection basis\n    exports.selectedComponentVariants = computed(() => {\n      return Object.keys({ normal: null, ...(selectedComponent.value.variants || {}) })\n    })\n    exports.selectedComponentStates = computed(() => {\n      const all = Object.keys({ normal: null, ...(selectedComponent.value.states || {}) })\n      return all.filter(x => x !== 'normal')\n    })\n\n    // selection\n    const selectedVariant = ref('normal')\n    exports.selectedVariant = selectedVariant\n    const selectedState = reactive(new Set())\n    exports.selectedState = selectedState\n    exports.updateSelectedStates = (state, v) => {\n      if (v) {\n        selectedState.add(state)\n      } else {\n        selectedState.delete(state)\n      }\n    }\n\n    // Reset variant and state on component change\n    const updateSelectedComponent = () => {\n      selectedVariant.value = 'normal'\n      selectedState.clear()\n    }\n\n    watch(\n      selectedComponentName,\n      updateSelectedComponent\n    )\n\n    // ### Rules stuff aka meat and potatoes\n    // The native structure of separate rules and the child -> parent\n    // relation isn't very convenient for editor, we replace the array\n    // and child -> parent structure with map and parent -> child structure\n    const rulesToEditorFriendly = (rules, root = {}) => rules.reduce((acc, rule) => {\n      const { parent: rParent, component: rComponent } = rule\n      const parent = rParent ?? rule\n      const hasChildren = !!rParent\n      const child = hasChildren ? rule : null\n\n      const {\n        component: pComponent,\n        variant: pVariant = 'normal',\n        state: pState = [] // no relation to Intel CPUs whatsoever\n      } = parent\n\n      const pPath = `${hasChildren ? pComponent : rComponent}.${pVariant}.${normalizeStates(pState)}`\n\n      let output = get(acc, pPath)\n      if (!output) {\n        set(acc, pPath, {})\n        output = get(acc, pPath)\n      }\n\n      if (hasChildren) {\n        output._children = output._children ?? {}\n        const {\n          component: cComponent,\n          variant: cVariant = 'normal',\n          state: cState = [],\n          directives\n        } = child\n\n        const cPath = `${cComponent}.${cVariant}.${normalizeStates(cState)}`\n        set(output._children, cPath, { directives })\n      } else {\n        output.directives = parent.directives\n      }\n      return acc\n    }, root)\n\n    const editorFriendlyFallbackStructure = computed(() => {\n      const root = {}\n\n      componentKeys.forEach((componentKey) => {\n        const componentValue = componentsMap.get(componentKey)\n        const { defaultRules, name } = componentValue\n        rulesToEditorFriendly(\n          defaultRules.map((rule) => ({ ...rule, component: name })),\n          root\n        )\n      })\n\n      return root\n    })\n\n    // Checking whether component can support some \"directives\" which\n    // are actually virtual subcomponents, i.e. Text, Link etc\n    exports.componentHas = (subComponent) => {\n      return !!selectedComponent.value.validInnerComponents?.find(x => x === subComponent)\n    }\n\n    // Path for lodash's get and set\n    const getPath = (component, directive) => {\n      const pathSuffix = component ? `._children.${component}.normal.normal` : ''\n      const path = `${selectedComponentName.value}.${selectedVariant.value}.${normalizeStates([...selectedState])}${pathSuffix}.directives.${directive}`\n      return path\n    }\n\n    // Templates for directives\n    const isElementPresent = (component, directive, defaultValue = '') => computed({\n      get () {\n        return get(allEditedRules.value, getPath(component, directive)) != null\n      },\n      set (value) {\n        if (value) {\n          const fallback = get(\n            editorFriendlyFallbackStructure.value,\n            getPath(component, directive)\n          )\n          set(allEditedRules.value, getPath(component, directive), fallback ?? defaultValue)\n        } else {\n          unset(allEditedRules.value, getPath(component, directive))\n        }\n        exports.updateOverallPreview()\n      }\n    })\n\n    const getEditedElement = (component, directive, postProcess = x => x) => computed({\n      get () {\n        let usedRule\n        const fallback = editorFriendlyFallbackStructure.value\n        const real = allEditedRules.value\n        const path = getPath(component, directive)\n\n        usedRule = get(real, path) // get real\n        if (!usedRule) {\n          usedRule = get(fallback, path)\n        }\n\n        return postProcess(usedRule)\n      },\n      set (value) {\n        if (value) {\n          set(allEditedRules.value, getPath(component, directive), value)\n        } else {\n          unset(allEditedRules.value, getPath(component, directive))\n        }\n        exports.updateOverallPreview()\n      }\n    })\n\n    // All the editable stuff for the component\n    exports.editedBackgroundColor = getEditedElement(null, 'background')\n    exports.isBackgroundColorPresent = isElementPresent(null, 'background', '#FFFFFF')\n    exports.editedOpacity = getEditedElement(null, 'opacity')\n    exports.isOpacityPresent = isElementPresent(null, 'opacity', 1)\n    exports.editedRoundness = getEditedElement(null, 'roundness')\n    exports.isRoundnessPresent = isElementPresent(null, 'roundness', '0')\n    exports.editedTextColor = getEditedElement('Text', 'textColor')\n    exports.isTextColorPresent = isElementPresent('Text', 'textColor', '#000000')\n    exports.editedTextAuto = getEditedElement('Text', 'textAuto')\n    exports.isTextAutoPresent = isElementPresent('Text', 'textAuto', '#000000')\n    exports.editedLinkColor = getEditedElement('Link', 'textColor')\n    exports.isLinkColorPresent = isElementPresent('Link', 'textColor', '#000080')\n    exports.editedIconColor = getEditedElement('Icon', 'textColor')\n    exports.isIconColorPresent = isElementPresent('Icon', 'textColor', '#909090')\n    exports.editedBorderColor = getEditedElement('Border', 'textColor')\n    exports.isBorderColorPresent = isElementPresent('Border', 'textColor', '#909090')\n\n    const getContrast = (bg, text) => {\n      try {\n        const bgRgb = hex2rgb(bg)\n        const textRgb = hex2rgb(text)\n\n        const ratio = getContrastRatio(bgRgb, textRgb)\n        return {\n          // TODO this ideally should be part of <ContractRatio />\n          ratio,\n          text: ratio.toPrecision(3) + ':1',\n          // AA level, AAA level\n          aa: ratio >= 4.5,\n          aaa: ratio >= 7,\n          // same but for 18pt+ texts\n          laa: ratio >= 3,\n          laaa: ratio >= 4.5\n        }\n      } catch (e) {\n        console.warn('Failure computing contrast', e)\n        return { error: e }\n      }\n    }\n\n    const normalizeShadows = (shadows) => {\n      return shadows?.map(shadow => {\n        if (typeof shadow === 'object') {\n          return shadow\n        }\n        if (typeof shadow === 'string') {\n          try {\n            return deserializeShadow(shadow)\n          } catch (e) {\n            console.warn(e)\n            return shadow\n          }\n        }\n        return null\n      })\n    }\n    provide('normalizeShadows', normalizeShadows)\n\n    // Shadow is partially edited outside the ShadowControl\n    // for better space utilization\n    const editedShadow = getEditedElement(null, 'shadow', normalizeShadows)\n    exports.editedShadow = editedShadow\n    const editedSubShadowId = ref(null)\n    exports.editedSubShadowId = editedSubShadowId\n    const editedSubShadow = computed(() => {\n      if (editedShadow.value == null || editedSubShadowId.value == null) return null\n      return editedShadow.value[editedSubShadowId.value]\n    })\n    exports.editedSubShadow = editedSubShadow\n    exports.isShadowPresent = isElementPresent(null, 'shadow', [])\n    exports.onSubShadow = (id) => {\n      if (id != null) {\n        editedSubShadowId.value = id\n      } else {\n        editedSubShadow.value = null\n      }\n    }\n    exports.updateSubShadow = (axis, value) => {\n      if (!editedSubShadow.value || editedSubShadowId.value == null) return\n      const newEditedShadow = [...editedShadow.value]\n\n      newEditedShadow[editedSubShadowId.value] = {\n        ...newEditedShadow[editedSubShadowId.value],\n        [axis]: value\n      }\n\n      editedShadow.value = newEditedShadow\n    }\n    exports.isShadowTabOpen = ref(false)\n    exports.onTabSwitch = (tab) => {\n      exports.isShadowTabOpen.value = tab === 'shadow'\n    }\n\n    // component preview\n    exports.editorHintStyle = computed(() => {\n      const editorHint = selectedComponent.value.editor\n      const styles = []\n      if (editorHint && Object.keys(editorHint).length > 0) {\n        if (editorHint.aspect != null) {\n          styles.push(`aspect-ratio: ${editorHint.aspect} !important;`)\n        }\n        if (editorHint.border != null) {\n          styles.push(`border-width: ${editorHint.border}px !important;`)\n        }\n      }\n      return styles.join('; ')\n    })\n\n    const editorFriendlyToOriginal = computed(() => {\n      const resultRules = []\n\n      const convert = (component, data = {}, parent) => {\n        const variants = Object.entries(data || {})\n\n        variants.forEach(([variant, variantData]) => {\n          const states = Object.entries(variantData)\n\n          states.forEach(([jointState, stateData]) => {\n            const state = jointState.split(/:/g)\n            const result = {\n              component,\n              variant,\n              state,\n              directives: stateData.directives || {}\n            }\n\n            if (parent) {\n              result.parent = {\n                component: parent\n              }\n            }\n\n            resultRules.push(result)\n\n            // Currently we only support single depth for simplicity's sake\n            if (!parent) {\n              Object.entries(stateData._children || {}).forEach(([cName, child]) => convert(cName, child, component))\n            }\n          })\n        })\n      }\n\n      [...componentsMap.values()].forEach(({ name }) => {\n        convert(name, allEditedRules.value[name])\n      })\n\n      return resultRules\n    })\n\n    const allCustomVirtualDirectives = [...componentsMap.values()]\n      .map(c => {\n        return c\n          .defaultRules\n          .filter(c => c.component === 'Root')\n          .map(x => Object.entries(x.directives))\n          .flat()\n      })\n      .filter(x => x)\n      .flat()\n      .map(([name, value]) => {\n        const [valType, valVal] = value.split('|')\n        return {\n          name: name.substring(2),\n          valType: valType?.trim(),\n          value: valVal?.trim()\n        }\n      })\n\n    const virtualDirectives = ref(allCustomVirtualDirectives)\n    exports.virtualDirectives = virtualDirectives\n    exports.updateVirtualDirectives = (value) => {\n      virtualDirectives.value = value\n    }\n\n    // Raw format\n    const virtualDirectivesRule = computed(() => ({\n      component: 'Root',\n      directives: Object.fromEntries(\n        virtualDirectives.value.map(vd => [`--${vd.name}`, `${vd.valType} | ${vd.value}`])\n      )\n    }))\n\n    // Text format\n    const virtualDirectivesOut = computed(() => {\n      return [\n        'Root {',\n        ...virtualDirectives.value\n          .filter(vd => vd.name && vd.valType && vd.value)\n          .map(vd => `  --${vd.name}: ${vd.valType} | ${vd.value};`),\n        '}'\n      ].join('\\n')\n    })\n\n    exports.computeColor = (color) => {\n      let computedColor\n      try {\n        computedColor = findColor(color, { dynamicVars: dynamicVars.value, staticVars: staticVars.value })\n        if (computedColor) {\n          return rgb2hex(computedColor)\n        }\n      } catch (e) {\n        console.warn(e)\n      }\n      return null\n    }\n    provide('computeColor', exports.computeColor)\n\n    exports.contrast = computed(() => {\n      return getContrast(\n        exports.computeColor(previewColors.value.background),\n        exports.computeColor(previewColors.value.text)\n      )\n    })\n\n    // ## Export and Import\n    const styleExporter = newExporter({\n      filename: () => exports.name.value ?? 'pleroma_theme',\n      mime: 'text/plain',\n      extension: 'iss',\n      getExportedObject: () => exportStyleData.value\n    })\n\n    const onImport = parsed => {\n      const editorComponents = parsed.filter(x => x.component.startsWith('@'))\n      const rootComponent = parsed.find(x => x.component === 'Root')\n      const rules = parsed.filter(x => !x.component.startsWith('@') && x.component !== 'Root')\n      const metaIn = editorComponents.find(x => x.component === '@meta').directives\n      const palettesIn = editorComponents.filter(x => x.component === '@palette')\n\n      exports.name.value = metaIn.name\n      exports.license.value = metaIn.license\n      exports.author.value = metaIn.author\n      exports.website.value = metaIn.website\n\n      const newVirtualDirectives = Object\n        .entries(rootComponent.directives)\n        .map(([name, value]) => {\n          const [valType, valVal] = value.split('|').map(x => x.trim())\n          return { name: name.substring(2), valType, value: valVal }\n        })\n      virtualDirectives.value = newVirtualDirectives\n\n      onPalettesUpdate(palettesIn.map(x => ({ name: x.variant, ...x.directives })))\n\n      allEditedRules.value = rulesToEditorFriendly(rules)\n\n      exports.updateOverallPreview()\n    }\n\n    const styleImporter = newImporter({\n      accept: '.iss',\n      parser (string) { return deserialize(string) },\n      onImportFailure (result) {\n        console.error('Failure importing style:', result)\n        useInterfaceStore().pushGlobalNotice({ messageKey: 'settings.invalid_theme_imported', level: 'error' })\n      },\n      onImport\n    })\n\n    // Raw format\n    const exportRules = computed(() => [\n      metaRule.value,\n      ...palettesRule.value,\n      virtualDirectivesRule.value,\n      ...editorFriendlyToOriginal.value\n    ])\n\n    // Text format\n    const exportStyleData = computed(() => {\n      return [\n        metaOut.value,\n        palettesOut.value,\n        virtualDirectivesOut.value,\n        serialize(editorFriendlyToOriginal.value)\n      ].join('\\n\\n')\n    })\n\n    exports.clearStyle = () => {\n      onImport(interfaceStore().styleDataUsed)\n    }\n\n    exports.exportStyle = () => {\n      styleExporter.exportData()\n    }\n\n    exports.importStyle = () => {\n      styleImporter.importData()\n    }\n\n    exports.applyStyle = () => {\n      useInterfaceStore().setStyleCustom(exportRules.value)\n    }\n\n    const overallPreviewRules = ref([])\n    exports.overallPreviewRules = overallPreviewRules\n\n    const overallPreviewCssRules = ref([])\n    watchEffect(throttle(() => {\n      try {\n        overallPreviewCssRules.value = getScopedVersion(\n          getCssRules(overallPreviewRules.value),\n          '#edited-style-preview'\n        ).join('\\n')\n      } catch (e) {\n        console.error(e)\n      }\n    }, 500))\n\n    exports.overallPreviewCssRules = overallPreviewCssRules\n\n    const updateOverallPreview = throttle(() => {\n      try {\n        overallPreviewRules.value = init({\n          inputRuleset: [\n            ...exportRules.value,\n            {\n              component: 'Root',\n              directives: Object.fromEntries(\n                Object\n                  .entries(selectedPalette.value)\n                  .filter(([k, v]) => k && v && k !== 'name')\n                  .map(([k, v]) => [`--${k}`, `color | ${v}`])\n              )\n            }\n          ],\n          ultimateBackgroundColor: '#000000',\n          debug: true\n        }).eager\n      } catch (e) {\n        console.error('Could not compile preview theme', e)\n        return null\n      }\n    }, 5000)\n    //\n    // Apart from \"hover\" we can't really show how component looks like in\n    // certain states, so we have to fake them.\n    const simulatePseudoSelectors = (css, prefix) => css\n      .replace(prefix, '.component-preview .preview-block')\n      .replace(':active', '.preview-active')\n      .replace(':hover', '.preview-hover')\n      .replace(':active', '.preview-active')\n      .replace(':focus', '.preview-focus')\n      .replace(':focus-within', '.preview-focus-within')\n      .replace(':disabled', '.preview-disabled')\n\n    const previewRules = computed(() => {\n      const filtered = overallPreviewRules.value.filter(r => {\n        const componentMatch = r.component === selectedComponentName.value\n        const parentComponentMatch = r.parent?.component === selectedComponentName.value\n        if (!componentMatch && !parentComponentMatch) return false\n        const rule = parentComponentMatch ? r.parent : r\n        if (rule.component !== selectedComponentName.value) return false\n        if (rule.variant !== selectedVariant.value) return false\n        const ruleState = new Set(rule.state.filter(x => x !== 'normal'))\n        const differenceA = [...ruleState].filter(x => !selectedState.has(x))\n        const differenceB = [...selectedState].filter(x => !ruleState.has(x))\n        return (differenceA.length + differenceB.length) === 0\n      })\n      const sorted = [...filtered]\n        .filter(x => x.component === selectedComponentName.value)\n        .sort((a, b) => {\n          const aSelectorLength = a.selector.split(/ /g).length\n          const bSelectorLength = b.selector.split(/ /g).length\n          return aSelectorLength - bSelectorLength\n        })\n\n      const prefix = sorted[0].selector\n\n      return filtered.filter(x => x.selector.startsWith(prefix))\n    })\n\n    exports.previewClass = computed(() => {\n      const selectors = []\n      if (!!selectedComponent.value.variants?.normal || selectedVariant.value !== 'normal') {\n        selectors.push(selectedComponent.value.variants[selectedVariant.value])\n      }\n      if (selectedState.size > 0) {\n        selectedState.forEach(state => {\n          const original = selectedComponent.value.states[state]\n          selectors.push(simulatePseudoSelectors(original))\n        })\n      }\n      return selectors.map(x => x.substring(1)).join('')\n    })\n\n    exports.previewCss = computed(() => {\n      try {\n        const prefix = previewRules.value[0].selector\n        const scoped = getCssRules(previewRules.value).map(x => simulatePseudoSelectors(x, prefix))\n        return scoped.join('\\n')\n      } catch (e) {\n        console.error('Invalid ruleset', e)\n        return null\n      }\n    })\n\n    const dynamicVars = computed(() => {\n      return previewRules.value[0].dynamicVars\n    })\n\n    const staticVars = computed(() => {\n      const rootComponent = overallPreviewRules.value.find(r => {\n        return r.component === 'Root'\n      })\n      const rootDirectivesEntries = Object.entries(rootComponent.directives)\n      const directives = {}\n      rootDirectivesEntries\n        .filter(([k, v]) => k.startsWith('--') && v.startsWith('color | '))\n        .map(([k, v]) => [k.substring(2), v.substring('color | '.length)])\n        .forEach(([k, v]) => {\n          directives[k] = findColor(v, { dynamicVars: {}, staticVars: directives })\n        })\n      return directives\n    })\n    provide('staticVars', staticVars)\n    exports.staticVars = staticVars\n\n    const previewColors = computed(() => {\n      const stacked = dynamicVars.value.stacked\n      const background = typeof stacked === 'string' ? stacked : rgb2hex(stacked)\n      return {\n        text: previewRules.value.find(r => r.component === 'Text')?.virtualDirectives['--text'],\n        link: previewRules.value.find(r => r.component === 'Link')?.virtualDirectives['--link'],\n        border: previewRules.value.find(r => r.component === 'Border')?.virtualDirectives['--border'],\n        icon: previewRules.value.find(r => r.component === 'Icon')?.virtualDirectives['--icon'],\n        background\n      }\n    })\n    exports.previewColors = previewColors\n    exports.updateOverallPreview = updateOverallPreview\n\n    updateOverallPreview()\n\n    watch(\n      [\n        allEditedRules.value,\n        palettes,\n        selectedPalette,\n        selectedState,\n        selectedVariant\n      ],\n      updateOverallPreview\n    )\n\n    return exports\n  }\n}\n","<script src=\"./style_tab.js\">\n</script>\n\n<template>\n  <div class=\"StyleTab\">\n    <div class=\"setting-item heading\">\n      <h2> {{ $t('settings.style.themes3.editor.title') }} </h2>\n      <div class=\"meta-preview\">\n        <!-- eslint-disable vue/no-v-text-v-html-on-component -->\n        <!-- eslint-disable vue/no-v-html -->\n        <component\n          :is=\"'style'\"\n          v-html=\"overallPreviewCssRules\"\n        />\n        <!-- eslint-enable vue/no-v-html -->\n        <!-- eslint-enable vue/no-v-text-v-html-on-component -->\n        <Preview id=\"edited-style-preview\" />\n        <teleport\n          v-if=\"isActive\"\n          to=\"#unscrolled-content\"\n        >\n          <div class=\"style-actions-container\">\n            <div class=\"style-actions\">\n              <button\n                class=\"btn button-default button-new\"\n                @click=\"clearStyle\"\n              >\n                <FAIcon icon=\"arrows-rotate\" />\n                {{ $t('settings.style.themes3.editor.reset_style') }}\n              </button>\n              <button\n                class=\"btn button-default button-load\"\n                @click=\"importStyle\"\n              >\n                <FAIcon icon=\"folder-open\" />\n                {{ $t('settings.style.themes3.editor.load_style') }}\n              </button>\n              <button\n                class=\"btn button-default button-save\"\n                @click=\"exportStyle\"\n              >\n                <FAIcon icon=\"floppy-disk\" />\n                {{ $t('settings.style.themes3.editor.save_style') }}\n              </button>\n              <button\n                class=\"btn button-default button-apply\"\n                @click=\"applyStyle\"\n              >\n                <FAIcon icon=\"check\" />\n                {{ $t('settings.style.themes3.editor.apply_preview') }}\n              </button>\n            </div>\n          </div>\n        </teleport>\n        <ul class=\"setting-list style-metadata\">\n          <li>\n            <StringSetting\n              v-model=\"name\"\n              class=\"meta-field\"\n            >\n              {{ $t('settings.style.themes3.editor.style_name') }}\n            </StringSetting>\n          </li>\n          <li>\n            <StringSetting\n              v-model=\"author\"\n              class=\"meta-field\"\n            >\n              {{ $t('settings.style.themes3.editor.style_author') }}\n            </StringSetting>\n          </li>\n          <li>\n            <StringSetting\n              v-model=\"license\"\n              class=\"meta-field\"\n            >\n              {{ $t('settings.style.themes3.editor.style_license') }}\n            </StringSetting>\n          </li>\n          <li>\n            <StringSetting\n              v-model=\"website\"\n              class=\"meta-field\"\n            >\n              {{ $t('settings.style.themes3.editor.style_website') }}\n            </StringSetting>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <tab-switcher>\n      <div\n        key=\"component\"\n        class=\"setting-item component-editor\"\n        :label=\"$t('settings.style.themes3.editor.component_tab')\"\n      >\n        <div class=\"component-selector\">\n          <label for=\"component-selector\">\n            {{ $t('settings.style.themes3.editor.component_selector') }}\n            {{ ' ' }}\n          </label>\n          <Select\n            id=\"component-selector\"\n            v-model=\"selectedComponentKey\"\n          >\n            <option\n              v-for=\"key in componentKeys\"\n              :key=\"'component-' + key\"\n              :value=\"key\"\n            >\n              {{ componentsMap.get(key).name }}\n            </option>\n          </Select>\n        </div>\n        <div\n          v-if=\"selectedComponentVariants.length > 1\"\n          class=\"variant-selector\"\n        >\n          <label for=\"variant-selector\">\n            {{ $t('settings.style.themes3.editor.variant_selector') }}\n          </label>\n          <Select\n            v-model=\"selectedVariant\"\n          >\n            <option\n              v-for=\"variant in selectedComponentVariants\"\n              :key=\"'component-variant-' + variant\"\n              :value=\"variant\"\n            >\n              {{ variant }}\n            </option>\n          </Select>\n        </div>\n        <div\n          v-if=\"selectedComponentStates.length > 0\"\n          class=\"state-selector\"\n        >\n          <label>\n            {{ $t('settings.style.themes3.editor.states_selector') }}\n          </label>\n          <ul\n            class=\"state-selector-list\"\n          >\n            <li\n              v-for=\"state in selectedComponentStates\"\n              :key=\"'component-state-' + state\"\n            >\n              <Checkbox\n                :value=\"selectedState.has(state)\"\n                @update:model-value=\"(v) => updateSelectedStates(state, v)\"\n              >\n                {{ state }}\n              </Checkbox>\n            </li>\n          </ul>\n        </div>\n        <div class=\"preview-container\">\n          <!-- eslint-disable vue/no-v-html vue/no-v-text-v-html-on-component -->\n          <component\n            :is=\"'style'\"\n            v-html=\"previewCss\"\n          />\n          <!-- eslint-enable vue/no-v-html vue/no-v-text-v-html-on-component -->\n          <ComponentPreview\n            class=\"component-preview\"\n            :show-text=\"componentHas('Text')\"\n            :shadow-control=\"isShadowTabOpen\"\n            :preview-class=\"previewClass\"\n            :preview-style=\"editorHintStyle\"\n            :preview-css=\"previewCss\"\n            :disabled=\"!editedSubShadow && typeof editedShadow !== 'string'\"\n            :shadow=\"editedSubShadow\"\n            :no-color-control=\"true\"\n            @update:shadow=\"({ axis, value }) => updateSubShadow(axis, value)\"\n          />\n        </div>\n        <tab-switcher\n          ref=\"tabSwitcher\"\n          class=\"component-settings\"\n          :on-switch=\"onTabSwitch\"\n        >\n          <div\n            key=\"main\"\n            class=\"editor-tab\"\n            :label=\"$t('settings.style.themes3.editor.main_tab')\"\n          >\n            <ColorInput\n              v-model=\"editedBackgroundColor\"\n              name=\"component-background-color\"\n              :fallback=\"computeColor(editedBackgroundColor) ?? previewColors.background\"\n              :disabled=\"!isBackgroundColorPresent\"\n              :label=\"$t('settings.style.themes3.editor.background')\"\n              :hide-optional-checkbox=\"true\"\n            />\n            <Tooltip :text=\"$t('settings.style.themes3.editor.include_in_rule')\">\n              <Checkbox v-model=\"isBackgroundColorPresent\" />\n            </Tooltip>\n            <ColorInput\n              v-if=\"componentHas('Text')\"\n              v-model=\"editedTextColor\"\n              name=\"component-text-color\"\n              :fallback=\"computeColor(editedTextColor) ?? previewColors.text\"\n              :label=\"$t('settings.style.themes3.editor.text_color')\"\n              :disabled=\"!isTextColorPresent\"\n              :hide-optional-checkbox=\"true\"\n            />\n            <Tooltip\n              v-if=\"componentHas('Text')\"\n              :text=\"$t('settings.style.themes3.editor.include_in_rule')\"\n            >\n              <Checkbox v-model=\"isTextColorPresent\" />\n            </Tooltip>\n            <div\n              v-if=\"componentHas('Text')\"\n              class=\"style-control suboption\"\n            >\n              <label\n                for=\"textAuto\"\n                class=\"label\"\n                :class=\"{ faint: !isTextAutoPresent }\"\n              >\n                {{ $t('settings.style.themes3.editor.text_auto.label') }}\n              </label>\n              <Select\n                id=\"textAuto\"\n                v-model=\"editedTextAuto\"\n                :disabled=\"!isTextAutoPresent\"\n              >\n                <option value=\"no-preserve\">\n                  {{ $t('settings.style.themes3.editor.text_auto.no-preserve') }}\n                </option>\n                <option value=\"no-auto\">\n                  {{ $t('settings.style.themes3.editor.text_auto.no-auto') }}\n                </option>\n                <option value=\"preserve\">\n                  {{ $t('settings.style.themes3.editor.text_auto.preserve') }}\n                </option>\n              </Select>\n            </div>\n            <Tooltip\n              v-if=\"componentHas('Text')\"\n              :text=\"$t('settings.style.themes3.editor.include_in_rule')\"\n            >\n              <Checkbox v-model=\"isTextAutoPresent\" />\n            </Tooltip>\n            <div\n              v-if=\"componentHas('Text')\"\n              class=\"style-control suboption\"\n            >\n              <label class=\"label\">\n                {{ $t('settings.style.themes3.editor.contrast') }}\n              </label>\n              <ContrastRatio\n                :show-ratio=\"true\"\n                :contrast=\"contrast\"\n              />\n            </div>\n            <div v-if=\"componentHas('Text')\" />\n            <ColorInput\n              v-if=\"componentHas('Link')\"\n              v-model=\"editedLinkColor\"\n              name=\"component-link-color\"\n              :fallback=\"computeColor(editedLinkColor) ?? previewColors.link\"\n              :label=\"$t('settings.style.themes3.editor.link_color')\"\n              :disabled=\"!isLinkColorPresent\"\n              :hide-optional-checkbox=\"true\"\n            />\n            <Tooltip\n              v-if=\"componentHas('Link')\"\n              :text=\"$t('settings.style.themes3.editor.include_in_rule')\"\n            >\n              <Checkbox v-model=\"isLinkColorPresent\" />\n            </Tooltip>\n            <ColorInput\n              v-if=\"componentHas('Icon')\"\n              v-model=\"editedIconColor\"\n              name=\"component-icon-color\"\n              :fallback=\"computeColor(editedIconColor) ?? previewColors.icon\"\n              :label=\"$t('settings.style.themes3.editor.icon_color')\"\n              :disabled=\"!isIconColorPresent\"\n              :hide-optional-checkbox=\"true\"\n            />\n            <Tooltip\n              v-if=\"componentHas('Icon')\"\n              :text=\"$t('settings.style.themes3.editor.include_in_rule')\"\n            >\n              <Checkbox v-model=\"isIconColorPresent\" />\n            </Tooltip>\n            <ColorInput\n              v-if=\"componentHas('Border')\"\n              v-model=\"editedBorderColor\"\n              name=\"component-border-color\"\n              :fallback=\"computeColor(editedBorderColor) ?? previewColors.border\"\n              :label=\"$t('settings.style.themes3.editor.border_color')\"\n              :disabled=\"!isBorderColorPresent\"\n              :hide-optional-checkbox=\"true\"\n            />\n            <Tooltip\n              v-if=\"componentHas('Border')\"\n              :text=\"$t('settings.style.themes3.editor.include_in_rule')\"\n            >\n              <Checkbox v-model=\"isBorderColorPresent\" />\n            </Tooltip>\n            <OpacityInput\n              v-model=\"editedOpacity\"\n              name=\"component-opacity\"\n              :disabled=\"!isOpacityPresent\"\n              :label=\"$t('settings.style.themes3.editor.opacity')\"\n            />\n            <Tooltip :text=\"$t('settings.style.themes3.editor.include_in_rule')\">\n              <Checkbox v-model=\"isOpacityPresent\" />\n            </Tooltip>\n            <RoundnessInput\n              v-model=\"editedRoundness\"\n              name=\"component-roundness\"\n              :disabled=\"!isRoundnessPresent\"\n              :label=\"$t('settings.style.themes3.editor.roundness')\"\n            />\n            <Tooltip :text=\"$t('settings.style.themes3.editor.include_in_rule')\">\n              <Checkbox v-model=\"isRoundnessPresent\" />\n            </Tooltip>\n          </div>\n          <div\n            key=\"shadow\"\n            class=\"editor-tab shadow-tab\"\n            :label=\"$t('settings.style.themes3.editor.shadows_tab')\"\n          >\n            <Checkbox\n              v-model=\"isShadowPresent\"\n              class=\"style-control\"\n            >\n              {{ $t('settings.style.themes3.editor.include_in_rule') }}\n            </checkbox>\n            <ShadowControl\n              v-model=\"editedShadow\"\n              :disabled=\"!isShadowPresent\"\n              :no-preview=\"true\"\n              :compact=\"true\"\n              :static-vars=\"staticVars\"\n              @sub-shadow-selected=\"onSubShadow\"\n            />\n          </div>\n        </tab-switcher>\n      </div>\n      <div\n        key=\"palette\"\n        :label=\"$t('settings.style.themes3.editor.palette_tab')\"\n        class=\"setting-item list-editor palette-editor\"\n      >\n        <label\n          class=\"list-select-label\"\n          for=\"palette-selector\"\n        >\n          {{ $t('settings.style.themes3.palette.label') }}\n          {{ ' ' }}\n        </label>\n        <Select\n          id=\"palette-selector\"\n          v-model=\"selectedPaletteId\"\n          class=\"list-select\"\n          size=\"4\"\n        >\n          <option\n            v-for=\"(p, index) in palettes\"\n            :key=\"p.name\"\n            :value=\"index\"\n          >\n            {{ p.name }}\n          </option>\n        </Select>\n        <SelectMotion\n          class=\"list-select-movement\"\n          :model-value=\"palettes\"\n          :selected-id=\"selectedPaletteId\"\n          :get-add-value=\"getNewPalette\"\n          @update:model-value=\"onPalettesUpdate\"\n          @update:selected-id=\"e => selectedPaletteId = e\"\n        />\n        <div class=\"list-edit-area\">\n          <StringSetting\n            v-model=\"selectedPalette.name\"\n            class=\"palette-name-input\"\n          >\n            {{ $t('settings.style.themes3.palette.name_label') }}\n          </StringSetting>\n          <PaletteEditor\n            v-model=\"selectedPalette\"\n            class=\"palette-editor-single\"\n          />\n        </div>\n      </div>\n      <VirtualDirectivesTab\n        key=\"variables\"\n        :label=\"$t('settings.style.themes3.editor.variables_tab')\"\n        :model-value=\"virtualDirectives\"\n        @update:model-value=\"updateVirtualDirectives\"\n      />\n    </tab-switcher>\n  </div>\n</template>\n\n<style src=\"./style_tab.scss\" lang=\"scss\"></style>\n","import TabSwitcher from 'src/components/tab_switcher/tab_switcher.jsx'\n\nimport DataImportExportTab from './tabs/data_import_export_tab.vue'\nimport MutesAndBlocksTab from './tabs/mutes_and_blocks_tab.vue'\nimport NotificationsTab from './tabs/notifications_tab.vue'\nimport FilteringTab from './tabs/filtering_tab.vue'\nimport SecurityTab from './tabs/security_tab/security_tab.vue'\nimport ProfileTab from './tabs/profile_tab.vue'\nimport GeneralTab from './tabs/general_tab.vue'\nimport AppearanceTab from './tabs/appearance_tab.vue'\nimport VersionTab from './tabs/version_tab.vue'\nimport ThemeTab from './tabs/theme_tab/theme_tab.vue'\nimport StyleTab from './tabs/style_tab/style_tab.vue'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faWrench,\n  faUser,\n  faFilter,\n  faPaintBrush,\n  faPalette,\n  faBell,\n  faDownload,\n  faEyeSlash,\n  faInfo,\n  faWindowRestore\n} from '@fortawesome/free-solid-svg-icons'\nimport { useInterfaceStore } from 'src/stores/interface'\n\nlibrary.add(\n  faWrench,\n  faUser,\n  faFilter,\n  faPaintBrush,\n  faPalette,\n  faBell,\n  faDownload,\n  faEyeSlash,\n  faInfo,\n  faWindowRestore\n)\n\nconst SettingsModalContent = {\n  components: {\n    TabSwitcher,\n\n    DataImportExportTab,\n    MutesAndBlocksTab,\n    NotificationsTab,\n    FilteringTab,\n    SecurityTab,\n    ProfileTab,\n    GeneralTab,\n    AppearanceTab,\n    StyleTab,\n    VersionTab,\n    ThemeTab\n  },\n  computed: {\n    isLoggedIn () {\n      return !!this.$store.state.users.currentUser\n    },\n    open () {\n      return useInterfaceStore().settingsModalState !== 'hidden'\n    },\n    bodyLock () {\n      return useInterfaceStore().settingsModalState === 'visible'\n    },\n    expertLevel () {\n      return this.$store.state.config.expertLevel\n    },\n    isMobileLayout () {\n      return useInterfaceStore().layoutType === 'mobile'\n    }\n  },\n  methods: {\n    onOpen () {\n      const targetTab = useInterfaceStore().settingsModalTargetTab\n      // We're being told to open in specific tab\n      if (targetTab) {\n        const tabIndex = this.$refs.tabSwitcher.$slots.default().findIndex(elm => {\n          return elm.props && elm.props['data-tab-name'] === targetTab\n        })\n        if (tabIndex >= 0) {\n          this.$refs.tabSwitcher.setTab(tabIndex)\n        }\n      }\n      // Clear the state of target tab, so that next time settings is opened\n      // it doesn't force it.\n      useInterfaceStore().clearSettingsModalTargetTab()\n    }\n  },\n  mounted () {\n    this.onOpen()\n  },\n  watch: {\n    open: function (value) {\n      if (value) this.onOpen()\n    }\n  }\n}\n\nexport default SettingsModalContent\n","<template>\n  <tab-switcher\n    ref=\"tabSwitcher\"\n    class=\"settings_tab-switcher\"\n    :side-tab-bar=\"true\"\n    :scrollable-tabs=\"true\"\n    :body-scroll-lock=\"bodyLock\"\n  >\n    <div\n      :label=\"$t('settings.general')\"\n      icon=\"wrench\"\n      data-tab-name=\"general\"\n    >\n      <GeneralTab />\n    </div>\n    <div\n      :label=\"$t('settings.appearance')\"\n      icon=\"window-restore\"\n      data-tab-name=\"appearance\"\n      :delay-render=\"true\"\n    >\n      <AppearanceTab />\n    </div>\n    <div\n      v-if=\"expertLevel > 0\"\n      :label=\"$t('settings.style.themes3.editor.title')\"\n      icon=\"palette\"\n      data-tab-name=\"style\"\n      :delay-render=\"true\"\n    >\n      <StyleTab />\n    </div>\n    <div\n      v-if=\"expertLevel > 0\"\n      :label=\"$t('settings.theme_old')\"\n      icon=\"paint-brush\"\n      data-tab-name=\"theme\"\n      :delay-render=\"true\"\n    >\n      <ThemeTab />\n    </div>\n    <div\n      v-if=\"isLoggedIn\"\n      :label=\"$t('settings.profile_tab')\"\n      icon=\"user\"\n      data-tab-name=\"profile\"\n    >\n      <ProfileTab />\n    </div>\n    <div\n      v-if=\"isLoggedIn\"\n      :label=\"$t('settings.notifications')\"\n      icon=\"bell\"\n      data-tab-name=\"notifications\"\n    >\n      <NotificationsTab />\n    </div>\n    <div\n      v-if=\"isLoggedIn\"\n      :label=\"$t('settings.security_tab')\"\n      icon=\"lock\"\n      data-tab-name=\"security\"\n    >\n      <SecurityTab />\n    </div>\n    <div\n      :label=\"$t('settings.filtering')\"\n      icon=\"filter\"\n      data-tab-name=\"filtering\"\n    >\n      <FilteringTab />\n    </div>\n    <div\n      v-if=\"isLoggedIn\"\n      :label=\"$t('settings.mutes_and_blocks')\"\n      :fullHeight=\"true\"\n      icon=\"eye-slash\"\n      data-tab-name=\"mutesAndBlocks\"\n    >\n      <MutesAndBlocksTab />\n    </div>\n    <div\n      v-if=\"isLoggedIn\"\n      :label=\"$t('settings.data_import_export_tab')\"\n      icon=\"download\"\n      data-tab-name=\"dataImportExport\"\n    >\n      <DataImportExportTab />\n    </div>\n    <div\n      :label=\"$t('settings.version.title')\"\n      icon=\"info\"\n      data-tab-name=\"version\"\n    >\n      <VersionTab />\n    </div>\n  </tab-switcher>\n</template>\n\n<script src=\"./settings_modal_user_content.js\"></script>\n\n<style src=\"./settings_modal_user_content.scss\" lang=\"scss\"></style>\n"],"names":["library","faCircleNotch","faTimes","Importer","_hoisted_1","_openBlock","_createElementBlock","_createElementVNode","_ctx","args","_createBlock","_component_FAIcon","_toDisplayString","_hoisted_2","_createVNode","_cache","_createTextVNode","_hoisted_3","_createCommentVNode","Exporter","content","fileToDownload","DataImportExportTab","useOAuthTokensStore","Checkbox","mapState","state","file","status","users","user","error","res","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_15","_component_Importer","_component_Exporter","_Fragment","_renderList","backup","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_16","_hoisted_17","FUNC_ERROR_TEXT","negate","predicate","negate_1","arrayFilter","require$$0","baseFilter","require$$1","baseIteratee","require$$2","isArray","require$$3","require$$4","reject","collection","func","reject_1","debounceMilliseconds","_sfc_main$k","val","term","results","_withDirectives","$event","item","_renderSlot","BlockCard","BasicUserCard","_component_basic_user_card","_withCtx","MuteCard","DomainMuteCard","ProgressButton","_component_ProgressButton","SelectableList","List","key","checked","oldChecked","value","_component_Checkbox","_component_List","_normalizeClass","_withModifiers","_isSlot","s","Object","prototype","toString","call","_isVNode","add","withSubscription","fetch","select","childPropName","additionalPropNames","WrappedComponent","props","keys","getComponentProps","filter","v","concat","data","loading","computed","fetchedData","$props","$store","created","refresh","isEmpty","fetchData","methods","then","catch","render","children","$slots","default","$t","FAIcon","BlockList","withLoadMore","get","MuteList","DomainMuteList","MutesAndBlocks","TabSwitcher","Autosuggest","tabName","userIds","userId","query","map","ids","urls","url","resolve","domains","_component_tab_switcher","_component_Autosuggest","row","_component_BlockCard","_component_BlockList","i","selected","_component_MuteCard","_component_MuteList","_component_DomainMuteCard","_component_DomainMuteList","NotificationsTab","BooleanSetting","SharedComputedObject","_hoisted_18","_hoisted_19","_hoisted_21","_hoisted_22","_hoisted_23","_component_BooleanSetting","_hoisted_20","allCssUnits","_sfc_main$j","Setting","Select","newUnit","replaceValue","_component_Select","option","_component_ModifiedIndicator","faCircleQuestion","_sfc_main","Popover","_component_Popover","SUPPORTED_TYPES","FilteringTab","mode","cloneDeep","useServerSideStorageStore","k","newImporter","parsed","enabled","expires","hide","name","result","useInterfaceStore","newExporter","ChoiceSetting","UnitSetting","IntegerSetting","HelpIndicator","store","now","mapActions","timestamp","date","fmt","id","valid","newId","uuidv4","field","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_component_ChoiceSetting","_component_UnitSetting","_component_IntegerSetting","_normalizeStyle","_component_HelpIndicator","_component_i18n_t","_hoisted_30","_sfc_main$h","code","Confirm","_sfc_main$g","_component_confirm","canPromise","toSJISFunction","CODEWORDS_COUNT","utils","version","digit","f","kanji","exports","fromString","string","level","defaultValue","BitBuffer","index","bufIndex","num","length","bit","bitBuffer","BitMatrix","size","col","reserved","bitMatrix","getSymbolSize","posCount","intervals","positions","coords","pos","posLength","j","FINDER_PATTERN_SIZE","finderPattern","PenaltyScores","mask","points","sameCountCol","sameCountRow","lastCol","lastRow","module","last","bitsCol","bitsRow","darkCount","modulesCount","getMaskAt","maskPattern","pattern","setupFormatFunc","numPatterns","bestPattern","lowerPenalty","p","penalty","ECLevel","EC_BLOCKS_TABLE","EC_CODEWORDS_TABLE","errorCorrectionCode","errorCorrectionLevel","EXP_TABLE","LOG_TABLE","x","galoisField","n","y","GF","p1","p2","coeff","divident","divisor","offset","degree","poly","Polynomial","ReedSolomonEncoder","paddedData","remainder","start","buff","reedSolomonEncoder","versionCheck","numeric","alphanumeric","byte","regex","TEST_KANJI","TEST_NUMERIC","TEST_ALPHANUMERIC","str","VersionCheck","Regex","dataStr","Utils","ECCode","Mode","G18","G18_BCH","getBestVersionForDataLength","currentVersion","getReservedBitsCount","getTotalBitsFromDataArray","segments","totalBits","reservedBits","getBestVersionForMixedData","totalCodewords","ecTotalCodewords","dataTotalCodewordsBits","usableBits","seg","ecl","d","G15","G15_MASK","G15_BCH","formatInfo","NumericData","group","remainingNum","numericData","ALPHA_NUM_CHARS","AlphanumericData","alphanumericData","ByteData","byteData","KanjiData","kanjiData","dijkstra","graph","predecessors","costs","open","closest","u","cost_of_s_to_u","adjacent_nodes","cost_of_e","cost_of_s_to_u_plus_cost_of_e","cost_of_s_to_v","first_visit","msg","nodes","opts","T","t","a","b","cost","require$$5","require$$6","require$$7","getStringByteLength","getSegments","getSegmentsFromString","numSegs","alphaNumSegs","byteSegs","kanjiSegs","s1","s2","obj","getSegmentBitsLength","mergeSegments","segs","acc","curr","prevSeg","buildNodes","buildGraph","table","prevNodeIds","nodeGroup","currentNodeIds","node","prevNodeId","buildSingleSegment","modesHint","bestMode","array","path","optimizedSegs","AlignmentPattern","FinderPattern","MaskPattern","require$$8","Version","require$$9","FormatInfo","require$$10","require$$11","Segments","require$$12","setupFinderPattern","matrix","r","c","setupTimingPattern","setupAlignmentPattern","setupVersionInfo","bits","mod","setupFormatInfo","setupData","inc","bitIndex","byteIndex","dark","createData","buffer","remainingByte","createCodewords","dataTotalCodewords","ecTotalBlocks","blocksInGroup2","blocksInGroup1","totalCodewordsInGroup1","dataCodewordsInGroup1","dataCodewordsInGroup2","ecCount","rs","dcData","ecData","maxDataSize","dataSize","createSymbol","estimatedVersion","rawSegments","bestVersion","dataBits","moduleCount","modules","qrcode","options","hex2rgba","hex","hexCode","hexValue","margin","width","scale","qrSize","imgData","qr","symbolSize","scaledMargin","palette","posDst","pxColor","iSrc","jSrc","clearCanvas","ctx","canvas","getCanvasElement","qrData","canvasEl","image","type","rendererOpts","getColorAttrib","color","attrib","alpha","svgCmd","cmd","qrToPath","moveBy","newRow","lineLength","svgTag","cb","qrcodesize","bg","viewBox","QRCode","CanvasRenderer","SvgRenderer","renderCanvas","renderFunc","text","argsNum","isLastArgCb","e","browser","_","EVENT_READY","defineComponent","done","toCanvas","toDataURL","div","svg","attributes","childNodes","attribute","childNode","h","Mfa","RecoveryCodes","TOTP","VueQrcode","_component_totp_item","_component_recovery_codes","_component_qrcode","SecurityTab","oauthToken","localeService","params","alias","_component_mfa","basePropertyOf","object","_basePropertyOf","htmlUnescapes","unescapeHtmlChar","_unescapeHtmlChar","reEscapedHtml","reHasEscapedHtml","unescape","_unescape","baseAssignValue","eq","assignMergeValue","_assignMergeValue","root","freeExports","freeModule","moduleExports","Buffer","allocUnsafe","cloneBuffer","isDeep","Uint8Array","cloneArrayBuffer","arrayBuffer","_cloneArrayBuffer","cloneTypedArray","typedArray","_cloneTypedArray","copyArray","source","_copyArray","isObject","objectCreate","baseCreate","proto","_baseCreate","overArg","getPrototype","_getPrototype","isPrototype","initCloneObject","_initCloneObject","isArrayLike","isObjectLike","isArrayLikeObject","isArrayLikeObject_1","baseGetTag","objectTag","funcProto","objectProto","funcToString","hasOwnProperty","objectCtorString","isPlainObject","Ctor","isPlainObject_1","safeGet","_safeGet","assignValue","objValue","_assignValue","copyObject","customizer","isNew","newValue","_copyObject","nativeKeysIn","_nativeKeysIn","baseKeysIn","isProto","_baseKeysIn","arrayLikeKeys","keysIn","keysIn_1","toPlainObject","toPlainObject_1","isArguments","isBuffer","isFunction","isTypedArray","require$$13","require$$14","baseMergeDeep","srcIndex","mergeFunc","stack","srcValue","stacked","isCommon","isArr","isBuff","isTyped","_baseMergeDeep","Stack","baseFor","baseMerge","_baseMerge","apply","thisArg","_apply","nativeMax","overRest","transform","otherArgs","_overRest","constant","constant_1","defineProperty","identity","baseSetToString","_baseSetToString","HOT_COUNT","HOT_SPAN","nativeNow","shortOut","count","lastCalled","stamp","remaining","_shortOut","setToString","_setToString","baseRest","_baseRest","isIndex","isIterateeCall","_isIterateeCall","createAssigner","assigner","sources","guard","_createAssigner","merge","merge_1","IS_BROWSER","WINDOW","IS_TOUCH_DEVICE","HAS_POINTER_EVENT","NAMESPACE","CROPPER_CANVAS","CROPPER_CROSSHAIR","CROPPER_GIRD","CROPPER_HANDLE","CROPPER_IMAGE","CROPPER_SELECTION","CROPPER_SHADE","CROPPER_VIEWER","ACTION_SELECT","ACTION_MOVE","ACTION_SCALE","ACTION_ROTATE","ACTION_TRANSFORM","ACTION_NONE","ACTION_RESIZE_NORTH","ACTION_RESIZE_EAST","ACTION_RESIZE_SOUTH","ACTION_RESIZE_WEST","ACTION_RESIZE_NORTHEAST","ACTION_RESIZE_NORTHWEST","ACTION_RESIZE_SOUTHEAST","ACTION_RESIZE_SOUTHWEST","ATTRIBUTE_ACTION","EVENT_TOUCH_END","EVENT_TOUCH_MOVE","EVENT_TOUCH_START","EVENT_POINTER_DOWN","EVENT_POINTER_MOVE","EVENT_POINTER_UP","EVENT_ERROR","EVENT_KEYDOWN","EVENT_LOAD","EVENT_WHEEL","EVENT_ACTION","EVENT_ACTION_END","EVENT_ACTION_MOVE","EVENT_ACTION_START","EVENT_CHANGE","EVENT_TRANSFORM","isString","isNaN","isNumber","isPositiveNumber","isUndefined","constructor","isElement","REGEXP_CAMEL_CASE","toKebabCase","REGEXP_KEBAB_CASE","toCamelCase","substring","REGEXP_SPACES","off","target","types","listener","on","once","defaultEventOptions","emit","detail","resolvedPromise","nextTick","context","callback","getOffset","element","documentElement","box","REGEXP_ANGLE_UNIT","toAngleInRadian","angle","unit","SIZE_ADJUSTMENT_TYPE_CONTAIN","SIZE_ADJUSTMENT_TYPE_COVER","getAdjustedSizes","aspectRatio","height","isValidWidth","isValidHeight","adjustedWidth","multiplyMatrices","a1","b1","c1","d1","e1","f1","a2","b2","c2","d2","e2","f2","style","REGEXP_SUFFIX","DEFAULT_SHADOW_ROOT_MODE","shadowRoots","styleSheets","tagNames","supportsAdoptedStyleSheets","CropperElement","_a","_b","oldValue","propertyName","oldPropertyValue","newPropertyValue","styleSheet","styles","property","shadow","template","slot","properties","CropperCanvas","event","buttons","button","$pointers","action","identifier","pageX","pageY","pointerId","$action","pointer","pointers2","maxRotateRate","maxScaleRate","rotate","centerX","centerY","pointer2","x1","y1","x2","y2","z1","z2","rotateRate","absRotateRate","scaleRate","absScaleRate","rotatable","scalable","cropperImage","newE","newF","destWidth","destHeight","canvasCache","NATIVE_ATTRIBUTES","CropperImage","$image","$canvas","relatedEvent","$selection","cos","sin","scaleX","skewY","skewX","scaleY","clientRect","originX","originY","moveX","moveY","translateX","translateY","promise","onLoad","onError","parentElement","container","containerWidth","containerHeight","startX","startY","endX","endY","radian","radianX","radianY","oldMatrix","newMatrix","CropperShade","CropperHandle","CropperSelection","selections","selection","center","resize","initialCoverage","newSelection","activeSelection","relatedTarget","currentTarget","activeElement","offsetX","offsetY","hasValidAspectRatio","newWidth","newHeight","newX","newY","_force","CropperGrid","fragment","column","CropperCrosshair","imageCache","selectionCache","sourceImageCache","RESIZE_BOTH","RESIZE_HORIZONTAL","RESIZE_VERTICAL","RESIZE_NONE","CropperViewer","$sourceImage","oldSrc","newSrc","clientWidth","clientHeight","$scale","ImageCropper","cropping","cropperPromise","fileInput","reader","maxSelection","cropperCanvasRect","trigger","_createStaticVNode","faPlus","ProfileTab","ScopeSelector","EmojiInput","InterfaceLanguageSwitcher","suggestor","baseAvatar","baseBanner","src","el","visibility","filesize","fileSizeFormatService","allowedsize","img","that","updateAvatar","avatar","avatarName","banner","background","propsToNative","_component_EmojiInput","inputProps","_mergeProps","_component_interface_language_switcher","_component_image_cropper","NumberSetting","_component_NumberSetting","_normalizeProps","_guardReactiveProps","faGlobe","GeneralTab","FloatSetting","ProfileSettingIndicator","format","_component_ProfileSettingIndicator","_component_ScopeSelector","defaultHorizontalUnits","faEyeDropper","hex2rgb","throttle","$options","faFileImport","faFileExport","paletteKeys","__props","__emit","getExportedObject","paletteExporter","paletteImporter","exportPalette","importPalette","applyPalette","fallback","updatePalette","paletteKey","faStar","faRetweet","faReply","faExclamationTriangle","faKeyboard","faFont","_sfc_main$b","AppearanceTab","FontControl","Preview","PaletteEditor","updateIndex","resource","capitalizedResource","currentIndex","stylePromise","meta","themes","themePromise","bundledPalettes","palettePromise","fg","link","cRed","cGreen","cBlue","cOrange","entries","observer","isIntersecting","theme","ruleset","variant","directives","accent","wallpaper","notif","themeVersion","customTheme","customThemeSource","styleCustomData","filename","deserialize","input","theme3","normalizeThemeData","theme2","convertTheme2To3","init","paletteRule","getScopedVersion","getCssRules","_resolveDynamicComponent","_component_preview","_component_PaletteEditor","_component_FloatSetting","_component_FontControl","pleromaFeCommitUrl","VersionTab","instance","moveUpValid","present","moveUp","newModel","movable","moveDnValid","moveDn","del","ColorInput","axis","_vShow","_c","_d","$data","_component_ColorInput","serializeShadow","inset","deserializeShadow","serialize","rule","header","unroll","component","newVariant","newState","st","directive","valType","faChevronDown","faChevronUp","toModel","_sfc_main$6","OpacityInput","SelectMotion","ComponentPreview","newVal","newType","computedColor","findColor","rgb2hex","fixedShadows","flattenDeep","findShadow","getCssShadowFilter","getCssShadow","prop","_component_ComponentPreview","_component_SelectMotion","_e","_f","_g","_h","_i","_j","_k","_l","_m","_component_OpacityInput","_n","faAdjust","faThumbsUp","Tooltip","levelVal","ratio","_component_Tooltip","v1OnlyNames","colorConvert","_sfc_main$3","SLOT_INHERITANCE","OPACITIES","themesIndex","themeFunc","themeData","pre","origin","themeEngineVersion","noActionsPossible","CURRENT_VERSION","colors","opacity","hints","colorsConverted","ratios","slotIsBaseText","layer","opacitySlot","getOpacitySlot","textColors","layers","getLayers","textColorKey","newKey","getContrastRatioLayers","DEFAULT_SHADOWS","saveEverything","tabSwitcher","RangeInput","ContrastRatio","ShadowControl","fileVersion","forceUseSource","snapshotEngineVersion","versionsMatch","sourceSnapshotMismatch","forcedSourceLoad","confirmLoadSource","generateColors","generateShadows","relativeLuminance","forceSource","radii","shadows","fonts","colors2to3","shadows2to3","generateRadii","generateFonts","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_KeepAlive","_component_ContrastRatio","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","_A","_B","_C","_D","_E","_F","_G","_H","_I","_J","_K","_L","_M","_N","_O","_P","_Q","_R","_S","_T","_U","_V","_W","_X","_Y","_Z","__","_$","_aa","_ba","_ca","_da","_ea","_fa","_ga","_ha","_ia","_ja","_ka","_la","_ma","_na","_oa","_pa","_qa","_ra","_sa","_ta","_ua","_va","_wa","_xa","_ya","_za","_component_RangeInput","_Aa","_Ba","_Ca","_Da","_Ea","_Fa","_Ga","_Ha","_Ia","_component_ShadowControl","_Ja","_Ka","_La","_Ma","_Teleport","_sfc_main$1","inject","selectedVirtualDirectiveId","ref","selectedVirtualDirective","newVD","newValType","newName","draftVirtualDirectiveValid","draftVirtualDirective","normalizeShadows","watch","splitShadow","_vModelText","normalizeStates","states","faFile","faFloppyDisk","faFolderOpen","faArrowsRotate","faCheck","StringSetting","RoundnessInput","VirtualDirectivesTab","interfaceStore","allEditedRules","styleDataUsed","onImport","getCurrentInstance","metaOut","metaRule","palettes","reactive","onPalettesUpdate","selectedPaletteId","selectedPalette","newPalette","provide","updateOverallPreview","palettesRule","rest","palettesOut","componentsContext","__vite_glob_0_0","__vite_glob_0_1","__vite_glob_0_2","__vite_glob_0_3","__vite_glob_0_4","__vite_glob_0_5","__vite_glob_0_6","__vite_glob_0_7","__vite_glob_0_8","__vite_glob_0_9","__vite_glob_0_10","__vite_glob_0_11","__vite_glob_0_12","__vite_glob_0_13","__vite_glob_0_14","__vite_glob_0_15","__vite_glob_0_16","__vite_glob_0_17","__vite_glob_0_18","__vite_glob_0_19","__vite_glob_0_20","__vite_glob_0_21","__vite_glob_0_22","__vite_glob_0_23","__vite_glob_0_24","__vite_glob_0_25","__vite_glob_0_26","__vite_glob_0_27","__vite_glob_0_28","__vite_glob_0_29","__vite_glob_0_30","__vite_glob_0_31","componentKeysAll","componentsMap","componentKeys","selectedComponentKey","selectedComponent","selectedComponentName","selectedVariant","selectedState","rulesToEditorFriendly","rules","rParent","rComponent","parent","hasChildren","child","pComponent","pVariant","pState","pPath","output","set","cComponent","cVariant","cState","cPath","editorFriendlyFallbackStructure","componentKey","componentValue","defaultRules","subComponent","getPath","pathSuffix","isElementPresent","unset","getEditedElement","postProcess","usedRule","real","getContrast","bgRgb","textRgb","getContrastRatio","editedShadow","editedSubShadowId","editedSubShadow","newEditedShadow","tab","editorHint","editorFriendlyToOriginal","resultRules","convert","variantData","jointState","stateData","cName","allCustomVirtualDirectives","valVal","virtualDirectives","virtualDirectivesRule","vd","virtualDirectivesOut","dynamicVars","staticVars","previewColors","styleExporter","exportStyleData","editorComponents","rootComponent","metaIn","palettesIn","newVirtualDirectives","styleImporter","exportRules","overallPreviewRules","overallPreviewCssRules","watchEffect","simulatePseudoSelectors","css","prefix","previewRules","filtered","componentMatch","parentComponentMatch","ruleState","differenceA","differenceB","aSelectorLength","bSelectorLength","selectors","original","rootDirectivesEntries","_component_Preview","_component_StringSetting","_component_RoundnessInput","_component_VirtualDirectivesTab","faWrench","faUser","faFilter","faPaintBrush","faPalette","faBell","faDownload","faEyeSlash","faInfo","faWindowRestore","SettingsModalContent","MutesAndBlocksTab","StyleTab","ThemeTab","targetTab","tabIndex","elm","_component_GeneralTab","_component_AppearanceTab","_component_StyleTab","_component_ThemeTab","_component_ProfileTab","_component_NotificationsTab","_component_SecurityTab","_component_FilteringTab","_component_MutesAndBlocksTab","_component_DataImportExportTab","_component_VersionTab"],"mappings":"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","x_google_ignoreList":[6,7,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109]}