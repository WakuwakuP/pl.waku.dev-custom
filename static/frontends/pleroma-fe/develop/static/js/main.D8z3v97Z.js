const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/sticker_picker.Vxn59pym.js","static/css/sticker_picker.BzJVB0Ta.css","static/js/settings_modal.BQqWcrxE.js","static/css/settings_modal.5GFa6N-U.css","static/js/update_notification.DSl6IeU7.js","static/css/update_notification.BJ1CAGCw.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function _0(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const dn={},fl=[],xo=()=>{},$7=()=>!1,hh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),y0=e=>e.startsWith("onUpdate:"),Kn=Object.assign,w0=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},C7=Object.prototype.hasOwnProperty,Jt=(e,t)=>C7.call(e,t),lt=Array.isArray,hl=e=>Fl(e)==="[object Map]",Nl=e=>Fl(e)==="[object Set]",Aw=e=>Fl(e)==="[object Date]",T7=e=>Fl(e)==="[object RegExp]",wt=e=>typeof e=="function",Sn=e=>typeof e=="string",Co=e=>typeof e=="symbol",fn=e=>e!==null&&typeof e=="object",xC=e=>(fn(e)||wt(e))&&wt(e.then)&&wt(e.catch),YC=Object.prototype.toString,Fl=e=>YC.call(e),A7=e=>Fl(e).slice(8,-1),XC=e=>Fl(e)==="[object Object]",S0=e=>Sn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Gc=_0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ph=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},E7=/-(\w)/g,po=ph(e=>e.replace(E7,(t,n)=>n?n.toUpperCase():"")),I7=/\B([A-Z])/g,Pi=ph(e=>e.replace(I7,"-$1").toLowerCase()),mh=ph(e=>e.charAt(0).toUpperCase()+e.slice(1)),df=ph(e=>e?`on${mh(e)}`:""),gi=(e,t)=>!Object.is(e,t),pl=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},JC=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Tf=e=>{const t=parseFloat(e);return isNaN(t)?e:t},P7=e=>{const t=Sn(e)?Number(e):NaN;return isNaN(t)?e:t};let Ew;const gh=()=>Ew||(Ew=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function gn(e){if(lt(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=Sn(s)?M7(s):gn(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(Sn(e)||fn(e))return e}const L7=/;(?![^(]*\))/g,O7=/:([^]+)/,R7=/\/\*[^]*?\*\//g;function M7(e){const t={};return e.replace(R7,"").split(L7).forEach(n=>{if(n){const s=n.split(O7);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function he(e){let t="";if(Sn(e))t=e;else if(lt(e))for(let n=0;n<e.length;n++){const s=he(e[n]);s&&(t+=s+" ")}else if(fn(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function tb(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Sn(t)&&(e.class=he(t)),n&&(e.style=gn(n)),e}const N7="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",F7=_0(N7);function ZC(e){return!!e||e===""}function D7(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=ga(e[s],t[s]);return n}function ga(e,t){if(e===t)return!0;let n=Aw(e),s=Aw(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=Co(e),s=Co(t),n||s)return e===t;if(n=lt(e),s=lt(t),n||s)return n&&s?D7(e,t):!1;if(n=fn(e),s=fn(t),n||s){if(!n||!s)return!1;const o=Object.keys(e).length,r=Object.keys(t).length;if(o!==r)return!1;for(const i in e){const a=e.hasOwnProperty(i),c=t.hasOwnProperty(i);if(a&&!c||!a&&c||!ga(e[i],t[i]))return!1}}return String(e)===String(t)}function k0(e,t){return e.findIndex(n=>ga(n,t))}const QC=e=>!!(e&&e.__v_isRef===!0),w=e=>Sn(e)?e:e==null?"":lt(e)||fn(e)&&(e.toString===YC||!wt(e.toString))?QC(e)?w(e.value):JSON.stringify(e,eT,2):String(e),eT=(e,t)=>QC(t)?eT(e,t.value):hl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],r)=>(n[$m(s,r)+" =>"]=o,n),{})}:Nl(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>$m(n))}:Co(t)?$m(t):fn(t)&&!lt(t)&&!XC(t)?String(t):t,$m=(e,t="")=>{var n;return Co(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bs;class tT{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=bs,!t&&bs&&(this.index=(bs.scopes||(bs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=bs;try{return bs=this,t()}finally{bs=n}}}on(){bs=this}off(){bs=this.parent}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function vh(e){return new tT(e)}function nT(){return bs}function U7(e,t=!1){bs&&bs.cleanups.push(e)}let mn;const Cm=new WeakSet;class sT{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,bs&&bs.active&&bs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Cm.has(this)&&(Cm.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||rT(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Iw(this),iT(this);const t=mn,n=So;mn=this,So=!0;try{return this.fn()}finally{aT(this),mn=t,So=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)T0(t);this.deps=this.depsTail=void 0,Iw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Cm.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){nb(this)&&this.run()}get dirty(){return nb(this)}}let oT=0,Kc,xc;function rT(e,t=!1){if(e.flags|=8,t){e.next=xc,xc=e;return}e.next=Kc,Kc=e}function $0(){oT++}function C0(){if(--oT>0)return;if(xc){let t=xc;for(xc=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Kc;){let t=Kc;for(Kc=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function iT(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function aT(e){let t,n=e.depsTail,s=n;for(;s;){const o=s.prevDep;s.version===-1?(s===n&&(n=o),T0(s),j7(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=o}e.deps=t,e.depsTail=n}function nb(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(lT(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function lT(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===hu))return;e.globalVersion=hu;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!nb(e)){e.flags&=-3;return}const n=mn,s=So;mn=e,So=!0;try{iT(e);const o=e.fn(e._value);(t.version===0||gi(o,e._value))&&(e._value=o,t.version++)}catch(o){throw t.version++,o}finally{mn=n,So=s,aT(e),e.flags&=-3}}function T0(e,t=!1){const{dep:n,prevSub:s,nextSub:o}=e;if(s&&(s.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)T0(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function j7(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let So=!0;const cT=[];function Li(){cT.push(So),So=!1}function Oi(){const e=cT.pop();So=e===void 0?!0:e}function Iw(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=mn;mn=void 0;try{t()}finally{mn=n}}}let hu=0;class B7{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class A0{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!mn||!So||mn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==mn)n=this.activeLink=new B7(mn,this),mn.deps?(n.prevDep=mn.depsTail,mn.depsTail.nextDep=n,mn.depsTail=n):mn.deps=mn.depsTail=n,uT(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=mn.depsTail,n.nextDep=void 0,mn.depsTail.nextDep=n,mn.depsTail=n,mn.deps===n&&(mn.deps=s)}return n}trigger(t){this.version++,hu++,this.notify(t)}notify(t){$0();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{C0()}}}function uT(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)uT(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Af=new WeakMap,da=Symbol(""),sb=Symbol(""),pu=Symbol("");function rs(e,t,n){if(So&&mn){let s=Af.get(e);s||Af.set(e,s=new Map);let o=s.get(n);o||(s.set(n,o=new A0),o.map=s,o.key=n),o.track()}}function wr(e,t,n,s,o,r){const i=Af.get(e);if(!i){hu++;return}const a=c=>{c&&c.trigger()};if($0(),t==="clear")i.forEach(a);else{const c=lt(e),d=c&&S0(n);if(c&&n==="length"){const f=Number(s);i.forEach((h,v)=>{(v==="length"||v===pu||!Co(v)&&v>=f)&&a(h)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),d&&a(i.get(pu)),t){case"add":c?d&&a(i.get("length")):(a(i.get(da)),hl(e)&&a(i.get(sb)));break;case"delete":c||(a(i.get(da)),hl(e)&&a(i.get(sb)));break;case"set":hl(e)&&a(i.get(da));break}}C0()}function z7(e,t){const n=Af.get(e);return n&&n.get(t)}function tl(e){const t=Rt(e);return t===e?t:(rs(t,"iterate",pu),uo(e)?t:t.map(is))}function bh(e){return rs(e=Rt(e),"iterate",pu),e}const q7={__proto__:null,[Symbol.iterator](){return Tm(this,Symbol.iterator,is)},concat(...e){return tl(this).concat(...e.map(t=>lt(t)?tl(t):t))},entries(){return Tm(this,"entries",e=>(e[1]=is(e[1]),e))},every(e,t){return mr(this,"every",e,t,void 0,arguments)},filter(e,t){return mr(this,"filter",e,t,n=>n.map(is),arguments)},find(e,t){return mr(this,"find",e,t,is,arguments)},findIndex(e,t){return mr(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return mr(this,"findLast",e,t,is,arguments)},findLastIndex(e,t){return mr(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return mr(this,"forEach",e,t,void 0,arguments)},includes(...e){return Am(this,"includes",e)},indexOf(...e){return Am(this,"indexOf",e)},join(e){return tl(this).join(e)},lastIndexOf(...e){return Am(this,"lastIndexOf",e)},map(e,t){return mr(this,"map",e,t,void 0,arguments)},pop(){return Ac(this,"pop")},push(...e){return Ac(this,"push",e)},reduce(e,...t){return Pw(this,"reduce",e,t)},reduceRight(e,...t){return Pw(this,"reduceRight",e,t)},shift(){return Ac(this,"shift")},some(e,t){return mr(this,"some",e,t,void 0,arguments)},splice(...e){return Ac(this,"splice",e)},toReversed(){return tl(this).toReversed()},toSorted(e){return tl(this).toSorted(e)},toSpliced(...e){return tl(this).toSpliced(...e)},unshift(...e){return Ac(this,"unshift",e)},values(){return Tm(this,"values",is)}};function Tm(e,t,n){const s=bh(e),o=s[t]();return s!==e&&!uo(e)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.value&&(r.value=n(r.value)),r}),o}const H7=Array.prototype;function mr(e,t,n,s,o,r){const i=bh(e),a=i!==e&&!uo(e),c=i[t];if(c!==H7[t]){const h=c.apply(e,r);return a?is(h):h}let d=n;i!==e&&(a?d=function(h,v){return n.call(this,is(h),v,e)}:n.length>2&&(d=function(h,v){return n.call(this,h,v,e)}));const f=c.call(i,d,s);return a&&o?o(f):f}function Pw(e,t,n,s){const o=bh(e);let r=n;return o!==e&&(uo(e)?n.length>3&&(r=function(i,a,c){return n.call(this,i,a,c,e)}):r=function(i,a,c){return n.call(this,i,is(a),c,e)}),o[t](r,...s)}function Am(e,t,n){const s=Rt(e);rs(s,"iterate",pu);const o=s[t](...n);return(o===-1||o===!1)&&L0(n[0])?(n[0]=Rt(n[0]),s[t](...n)):o}function Ac(e,t,n=[]){Li(),$0();const s=Rt(e)[t].apply(e,n);return C0(),Oi(),s}const V7=_0("__proto__,__v_isRef,__isVue"),dT=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Co));function W7(e){Co(e)||(e=String(e));const t=Rt(this);return rs(t,"has",e),t.hasOwnProperty(e)}class fT{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(o?r?tF:gT:r?mT:pT).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=lt(t);if(!o){let c;if(i&&(c=q7[n]))return c;if(n==="hasOwnProperty")return W7}const a=Reflect.get(t,n,wn(t)?t:s);return(Co(n)?dT.has(n):V7(n))||(o||rs(t,"get",n),r)?a:wn(a)?i&&S0(n)?a:a.value:fn(a)?o?vT(a):To(a):a}}class hT extends fT{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(!this._isShallow){const c=vi(r);if(!uo(s)&&!vi(s)&&(r=Rt(r),s=Rt(s)),!lt(t)&&wn(r)&&!wn(s))return c?!1:(r.value=s,!0)}const i=lt(t)&&S0(n)?Number(n)<t.length:Jt(t,n),a=Reflect.set(t,n,s,wn(t)?t:o);return t===Rt(o)&&(i?gi(s,r)&&wr(t,"set",n,s):wr(t,"add",n,s)),a}deleteProperty(t,n){const s=Jt(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&wr(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!Co(n)||!dT.has(n))&&rs(t,"has",n),s}ownKeys(t){return rs(t,"iterate",lt(t)?"length":da),Reflect.ownKeys(t)}}class G7 extends fT{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const K7=new hT,x7=new G7,Y7=new hT(!0);const ob=e=>e,qd=e=>Reflect.getPrototypeOf(e);function X7(e,t,n){return function(...s){const o=this.__v_raw,r=Rt(o),i=hl(r),a=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,d=o[e](...s),f=n?ob:t?rb:is;return!t&&rs(r,"iterate",c?sb:da),{next(){const{value:h,done:v}=d.next();return v?{value:h,done:v}:{value:a?[f(h[0]),f(h[1])]:f(h),done:v}},[Symbol.iterator](){return this}}}}function Hd(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function J7(e,t){const n={get(o){const r=this.__v_raw,i=Rt(r),a=Rt(o);e||(gi(o,a)&&rs(i,"get",o),rs(i,"get",a));const{has:c}=qd(i),d=t?ob:e?rb:is;if(c.call(i,o))return d(r.get(o));if(c.call(i,a))return d(r.get(a));r!==i&&r.get(o)},get size(){const o=this.__v_raw;return!e&&rs(Rt(o),"iterate",da),Reflect.get(o,"size",o)},has(o){const r=this.__v_raw,i=Rt(r),a=Rt(o);return e||(gi(o,a)&&rs(i,"has",o),rs(i,"has",a)),o===a?r.has(o):r.has(o)||r.has(a)},forEach(o,r){const i=this,a=i.__v_raw,c=Rt(a),d=t?ob:e?rb:is;return!e&&rs(c,"iterate",da),a.forEach((f,h)=>o.call(r,d(f),d(h),i))}};return Kn(n,e?{add:Hd("add"),set:Hd("set"),delete:Hd("delete"),clear:Hd("clear")}:{add(o){!t&&!uo(o)&&!vi(o)&&(o=Rt(o));const r=Rt(this);return qd(r).has.call(r,o)||(r.add(o),wr(r,"add",o,o)),this},set(o,r){!t&&!uo(r)&&!vi(r)&&(r=Rt(r));const i=Rt(this),{has:a,get:c}=qd(i);let d=a.call(i,o);d||(o=Rt(o),d=a.call(i,o));const f=c.call(i,o);return i.set(o,r),d?gi(r,f)&&wr(i,"set",o,r):wr(i,"add",o,r),this},delete(o){const r=Rt(this),{has:i,get:a}=qd(r);let c=i.call(r,o);c||(o=Rt(o),c=i.call(r,o)),a&&a.call(r,o);const d=r.delete(o);return c&&wr(r,"delete",o,void 0),d},clear(){const o=Rt(this),r=o.size!==0,i=o.clear();return r&&wr(o,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=X7(o,e,t)}),n}function E0(e,t){const n=J7(e,t);return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(Jt(n,o)&&o in s?n:s,o,r)}const Z7={get:E0(!1,!1)},Q7={get:E0(!1,!0)},eF={get:E0(!0,!1)};const pT=new WeakMap,mT=new WeakMap,gT=new WeakMap,tF=new WeakMap;function nF(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sF(e){return e.__v_skip||!Object.isExtensible(e)?0:nF(A7(e))}function To(e){return vi(e)?e:P0(e,!1,K7,Z7,pT)}function I0(e){return P0(e,!1,Y7,Q7,mT)}function vT(e){return P0(e,!0,x7,eF,gT)}function P0(e,t,n,s,o){if(!fn(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=o.get(e);if(r)return r;const i=sF(e);if(i===0)return e;const a=new Proxy(e,i===2?s:n);return o.set(e,a),a}function Er(e){return vi(e)?Er(e.__v_raw):!!(e&&e.__v_isReactive)}function vi(e){return!!(e&&e.__v_isReadonly)}function uo(e){return!!(e&&e.__v_isShallow)}function L0(e){return e?!!e.__v_raw:!1}function Rt(e){const t=e&&e.__v_raw;return t?Rt(t):e}function _h(e){return!Jt(e,"__v_skip")&&Object.isExtensible(e)&&JC(e,"__v_skip",!0),e}const is=e=>fn(e)?To(e):e,rb=e=>fn(e)?vT(e):e;function wn(e){return e?e.__v_isRef===!0:!1}function Gn(e){return _T(e,!1)}function bT(e){return _T(e,!0)}function _T(e,t){return wn(e)?e:new oF(e,t)}class oF{constructor(t,n){this.dep=new A0,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Rt(t),this._value=n?t:is(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||uo(t)||vi(t);t=s?t:Rt(t),gi(t,n)&&(this._rawValue=t,this._value=s?t:is(t),this.dep.trigger())}}function Lt(e){return wn(e)?e.value:e}const rF={get:(e,t,n)=>t==="__v_raw"?e:Lt(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return wn(o)&&!wn(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function yT(e){return Er(e)?e:new Proxy(e,rF)}function iF(e){const t=lt(e)?new Array(e.length):{};for(const n in e)t[n]=lF(e,n);return t}class aF{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return z7(Rt(this._object),this._key)}}function lF(e,t,n){const s=e[t];return wn(s)?s:new aF(e,t,n)}class cF{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new A0(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&mn!==this)return rT(this,!0),!0}get value(){const t=this.dep.track();return lT(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function uF(e,t,n=!1){let s,o;return wt(e)?s=e:(s=e.get,o=e.set),new cF(s,o,n)}const Vd={},Ef=new WeakMap;let na;function dF(e,t=!1,n=na){if(n){let s=Ef.get(n);s||Ef.set(n,s=[]),s.push(e)}}function fF(e,t,n=dn){const{immediate:s,deep:o,once:r,scheduler:i,augmentJob:a,call:c}=n,d=T=>o?T:uo(T)||o===!1||o===0?Sr(T,1):Sr(T);let f,h,v,_,S=!1,k=!1;if(wn(e)?(h=()=>e.value,S=uo(e)):Er(e)?(h=()=>d(e),S=!0):lt(e)?(k=!0,S=e.some(T=>Er(T)||uo(T)),h=()=>e.map(T=>{if(wn(T))return T.value;if(Er(T))return d(T);if(wt(T))return c?c(T,2):T()})):wt(e)?t?h=c?()=>c(e,2):e:h=()=>{if(v){Li();try{v()}finally{Oi()}}const T=na;na=f;try{return c?c(e,3,[_]):e(_)}finally{na=T}}:h=xo,t&&o){const T=h,R=o===!0?1/0:o;h=()=>Sr(T(),R)}const P=nT(),C=()=>{f.stop(),P&&P.active&&w0(P.effects,f)};if(r&&t){const T=t;t=(...R)=>{T(...R),C()}}let $=k?new Array(e.length).fill(Vd):Vd;const L=T=>{if(!(!(f.flags&1)||!f.dirty&&!T))if(t){const R=f.run();if(o||S||(k?R.some((q,D)=>gi(q,$[D])):gi(R,$))){v&&v();const q=na;na=f;try{const D=[R,$===Vd?void 0:k&&$[0]===Vd?[]:$,_];c?c(t,3,D):t(...D),$=R}finally{na=q}}}else f.run()};return a&&a(L),f=new sT(h),f.scheduler=i?()=>i(L,!1):L,_=T=>dF(T,!1,f),v=f.onStop=()=>{const T=Ef.get(f);if(T){if(c)c(T,4);else for(const R of T)R();Ef.delete(f)}},t?s?L(!0):$=f.run():i?i(L.bind(null,!0),!0):f.run(),C.pause=f.pause.bind(f),C.resume=f.resume.bind(f),C.stop=C,C}function Sr(e,t=1/0,n){if(t<=0||!fn(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,wn(e))Sr(e.value,t,n);else if(lt(e))for(let s=0;s<e.length;s++)Sr(e[s],t,n);else if(Nl(e)||hl(e))e.forEach(s=>{Sr(s,t,n)});else if(XC(e)){for(const s in e)Sr(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Sr(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Iu(e,t,n,s){try{return s?e(...s):e()}catch(o){Pu(o,t,n)}}function Ao(e,t,n,s){if(wt(e)){const o=Iu(e,t,n,s);return o&&xC(o)&&o.catch(r=>{Pu(r,t,n)}),o}if(lt(e)){const o=[];for(let r=0;r<e.length;r++)o.push(Ao(e[r],t,n,s));return o}}function Pu(e,t,n,s=!0){const o=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||dn;if(t){let a=t.parent;const c=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const f=a.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](e,c,d)===!1)return}a=a.parent}if(r){Li(),Iu(r,null,10,[e,c,d]),Oi();return}}hF(e,n,o,s,i)}function hF(e,t,n,s=!0,o=!1){if(o)throw e;console.error(e)}const _s=[];let jo=-1;const ml=[];let ri=null,ll=0;const wT=Promise.resolve();let If=null;function bi(e){const t=If||wT;return e?t.then(this?e.bind(this):e):t}function pF(e){let t=jo+1,n=_s.length;for(;t<n;){const s=t+n>>>1,o=_s[s],r=mu(o);r<e||r===e&&o.flags&2?t=s+1:n=s}return t}function O0(e){if(!(e.flags&1)){const t=mu(e),n=_s[_s.length-1];!n||!(e.flags&2)&&t>=mu(n)?_s.push(e):_s.splice(pF(t),0,e),e.flags|=1,ST()}}function ST(){If||(If=wT.then($T))}function mF(e){lt(e)?ml.push(...e):ri&&e.id===-1?ri.splice(ll+1,0,e):e.flags&1||(ml.push(e),e.flags|=1),ST()}function Lw(e,t,n=jo+1){for(;n<_s.length;n++){const s=_s[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;_s.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function kT(e){if(ml.length){const t=[...new Set(ml)].sort((n,s)=>mu(n)-mu(s));if(ml.length=0,ri){ri.push(...t);return}for(ri=t,ll=0;ll<ri.length;ll++){const n=ri[ll];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ri=null,ll=0}}const mu=e=>e.id==null?e.flags&2?-1:1/0:e.id;function $T(e){try{for(jo=0;jo<_s.length;jo++){const t=_s[jo];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Iu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;jo<_s.length;jo++){const t=_s[jo];t&&(t.flags&=-2)}jo=-1,_s.length=0,kT(),If=null,(_s.length||ml.length)&&$T()}}let qn=null,yh=null;function Pf(e){const t=qn;return qn=e,yh=e&&e.type.__scopeId||null,t}function gF(e){yh=e}function vF(){yh=null}const bF=e=>X;function X(e,t=qn,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&Ww(-1);const r=Pf(t);let i;try{i=e(...o)}finally{Pf(r),s._d&&Ww(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function ot(e,t){if(qn===null)return e;const n=Ch(qn),s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,i,a,c=dn]=t[o];r&&(wt(r)&&(r={mounted:r,updated:r}),r.deep&&Sr(i),s.push({dir:r,instance:n,value:i,oldValue:void 0,arg:a,modifiers:c}))}return e}function Zi(e,t,n,s){const o=e.dirs,r=t&&t.dirs;for(let i=0;i<o.length;i++){const a=o[i];r&&(a.oldValue=r[i].value);let c=a.dir[s];c&&(Li(),Ao(c,n,8,[e.el,a,e,t]),Oi())}}const CT=Symbol("_vte"),TT=e=>e.__isTeleport,Yc=e=>e&&(e.disabled||e.disabled===""),Ow=e=>e&&(e.defer||e.defer===""),Rw=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Mw=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,ib=(e,t)=>{const n=e&&e.to;return Sn(n)?t?t(n):null:n},AT={name:"Teleport",__isTeleport:!0,process(e,t,n,s,o,r,i,a,c,d){const{mc:f,pc:h,pbc:v,o:{insert:_,querySelector:S,createText:k,createComment:P}}=d,C=Yc(t.props);let{shapeFlag:$,children:L,dynamicChildren:T}=t;if(e==null){const R=t.el=k(""),q=t.anchor=k("");_(R,n,s),_(q,n,s);const D=(oe,V)=>{$&16&&(o&&o.isCE&&(o.ce._teleportTarget=oe),f(L,oe,V,o,r,i,a,c))},x=()=>{const oe=t.target=ib(t.props,S),V=ET(oe,t,k,_);oe&&(i!=="svg"&&Rw(oe)?i="svg":i!=="mathml"&&Mw(oe)&&(i="mathml"),C||(D(oe,V),ff(t,!1)))};C&&(D(n,q),ff(t,!0)),Ow(t.props)?jn(()=>{x(),t.el.__isMounted=!0},r):x()}else{if(Ow(t.props)&&!e.el.__isMounted){jn(()=>{AT.process(e,t,n,s,o,r,i,a,c,d),delete e.el.__isMounted},r);return}t.el=e.el,t.targetStart=e.targetStart;const R=t.anchor=e.anchor,q=t.target=e.target,D=t.targetAnchor=e.targetAnchor,x=Yc(e.props),oe=x?n:q,V=x?R:D;if(i==="svg"||Rw(q)?i="svg":(i==="mathml"||Mw(q))&&(i="mathml"),T?(v(e.dynamicChildren,T,oe,o,r,i,a),U0(e,t,!0)):c||h(e,t,oe,V,o,r,i,a,!1),C)x?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Wd(t,n,R,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const ce=t.target=ib(t.props,S);ce&&Wd(t,ce,null,d,0)}else x&&Wd(t,q,D,d,1);ff(t,C)}},remove(e,t,n,{um:s,o:{remove:o}},r){const{shapeFlag:i,children:a,anchor:c,targetStart:d,targetAnchor:f,target:h,props:v}=e;if(h&&(o(d),o(f)),r&&o(c),i&16){const _=r||!Yc(v);for(let S=0;S<a.length;S++){const k=a[S];s(k,t,n,_,!!k.dynamicChildren)}}},move:Wd,hydrate:_F};function Wd(e,t,n,{o:{insert:s},m:o},r=2){r===0&&s(e.targetAnchor,t,n);const{el:i,anchor:a,shapeFlag:c,children:d,props:f}=e,h=r===2;if(h&&s(i,t,n),(!h||Yc(f))&&c&16)for(let v=0;v<d.length;v++)o(d[v],t,n,2);h&&s(a,t,n)}function _F(e,t,n,s,o,r,{o:{nextSibling:i,parentNode:a,querySelector:c,insert:d,createText:f}},h){const v=t.target=ib(t.props,c);if(v){const _=Yc(t.props),S=v._lpa||v.firstChild;if(t.shapeFlag&16)if(_)t.anchor=h(i(e),t,a(e),n,s,o,r),t.targetStart=S,t.targetAnchor=S&&i(S);else{t.anchor=i(e);let k=S;for(;k;){if(k&&k.nodeType===8){if(k.data==="teleport start anchor")t.targetStart=k;else if(k.data==="teleport anchor"){t.targetAnchor=k,v._lpa=t.targetAnchor&&i(t.targetAnchor);break}}k=i(k)}t.targetAnchor||ET(v,t,f,d),h(S&&i(S),t,v,n,s,o,r)}ff(t,_)}return t.anchor&&i(t.anchor)}const es=AT;function ff(e,t){const n=e.ctx;if(n&&n.ut){let s,o;for(t?(s=e.el,o=e.anchor):(s=e.targetStart,o=e.targetAnchor);s&&s!==o;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function ET(e,t,n,s){const o=t.targetStart=n(""),r=t.targetAnchor=n("");return o[CT]=r,e&&(s(o,e),s(r,e)),r}const ii=Symbol("_leaveCb"),Gd=Symbol("_enterCb");function yF(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Sh(()=>{e.isMounted=!0}),kh(()=>{e.isUnmounting=!0}),e}const ro=[Function,Array],IT={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ro,onEnter:ro,onAfterEnter:ro,onEnterCancelled:ro,onBeforeLeave:ro,onLeave:ro,onAfterLeave:ro,onLeaveCancelled:ro,onBeforeAppear:ro,onAppear:ro,onAfterAppear:ro,onAppearCancelled:ro},PT=e=>{const t=e.subTree;return t.component?PT(t.component):t},wF={name:"BaseTransition",props:IT,setup(e,{slots:t}){const n=yi(),s=yF();return()=>{const o=t.default&&RT(t.default(),!0);if(!o||!o.length)return;const r=LT(o),i=Rt(e),{mode:a}=i;if(s.isLeaving)return Em(r);const c=Nw(r);if(!c)return Em(r);let d=ab(c,i,s,n,h=>d=h);c.type!==ls&&yl(c,d);let f=n.subTree&&Nw(n.subTree);if(f&&f.type!==ls&&!fi(c,f)&&PT(n).type!==ls){let h=ab(f,i,s,n);if(yl(f,h),a==="out-in"&&c.type!==ls)return s.isLeaving=!0,h.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,f=void 0},Em(r);a==="in-out"&&c.type!==ls?h.delayLeave=(v,_,S)=>{const k=OT(s,f);k[String(f.key)]=f,v[ii]=()=>{_(),v[ii]=void 0,delete d.delayedLeave,f=void 0},d.delayedLeave=()=>{S(),delete d.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return r}}};function LT(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ls){t=n;break}}return t}const SF=wF;function OT(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function ab(e,t,n,s,o){const{appear:r,mode:i,persisted:a=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:v,onLeave:_,onAfterLeave:S,onLeaveCancelled:k,onBeforeAppear:P,onAppear:C,onAfterAppear:$,onAppearCancelled:L}=t,T=String(e.key),R=OT(n,e),q=(oe,V)=>{oe&&Ao(oe,s,9,V)},D=(oe,V)=>{const ce=V[1];q(oe,V),lt(oe)?oe.every(de=>de.length<=1)&&ce():oe.length<=1&&ce()},x={mode:i,persisted:a,beforeEnter(oe){let V=c;if(!n.isMounted)if(r)V=P||c;else return;oe[ii]&&oe[ii](!0);const ce=R[T];ce&&fi(e,ce)&&ce.el[ii]&&ce.el[ii](),q(V,[oe])},enter(oe){let V=d,ce=f,de=h;if(!n.isMounted)if(r)V=C||d,ce=$||f,de=L||h;else return;let Le=!1;const Ve=oe[Gd]=Ge=>{Le||(Le=!0,Ge?q(de,[oe]):q(ce,[oe]),x.delayedLeave&&x.delayedLeave(),oe[Gd]=void 0)};V?D(V,[oe,Ve]):Ve()},leave(oe,V){const ce=String(e.key);if(oe[Gd]&&oe[Gd](!0),n.isUnmounting)return V();q(v,[oe]);let de=!1;const Le=oe[ii]=Ve=>{de||(de=!0,V(),Ve?q(k,[oe]):q(S,[oe]),oe[ii]=void 0,R[ce]===e&&delete R[ce])};R[ce]=e,_?D(_,[oe,Le]):Le()},clone(oe){const V=ab(oe,t,n,s,o);return o&&o(V),V}};return x}function Em(e){if(Lu(e))return e=Lr(e),e.children=null,e}function Nw(e){if(!Lu(e))return TT(e.type)&&e.children?LT(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&wt(n.default))return n.default()}}function yl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,yl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function RT(e,t=!1,n){let s=[],o=0;for(let r=0;r<e.length;r++){let i=e[r];const a=n==null?i.key:String(n)+String(i.key!=null?i.key:r);i.type===Te?(i.patchFlag&128&&o++,s=s.concat(RT(i.children,t,a))):(t||i.type!==ls)&&s.push(a!=null?Lr(i,{key:a}):i)}if(o>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Ri(e,t){return wt(e)?Kn({name:e.name},t,{setup:e}):e}function R0(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Lf(e,t,n,s,o=!1){if(lt(e)){e.forEach((S,k)=>Lf(S,t&&(lt(t)?t[k]:t),n,s,o));return}if(fa(s)&&!o){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Lf(e,t,n,s.component.subTree);return}const r=s.shapeFlag&4?Ch(s.component):s.el,i=o?null:r,{i:a,r:c}=e,d=t&&t.r,f=a.refs===dn?a.refs={}:a.refs,h=a.setupState,v=Rt(h),_=h===dn?()=>!1:S=>Jt(v,S);if(d!=null&&d!==c&&(Sn(d)?(f[d]=null,_(d)&&(h[d]=null)):wn(d)&&(d.value=null)),wt(c))Iu(c,a,12,[i,f]);else{const S=Sn(c),k=wn(c);if(S||k){const P=()=>{if(e.f){const C=S?_(c)?h[c]:f[c]:c.value;o?lt(C)&&w0(C,r):lt(C)?C.includes(r)||C.push(r):S?(f[c]=[r],_(c)&&(h[c]=f[c])):(c.value=[r],e.k&&(f[e.k]=c.value))}else S?(f[c]=i,_(c)&&(h[c]=i)):k&&(c.value=i,e.k&&(f[e.k]=i))};i?(P.id=-1,jn(P,n)):P()}}}const Fw=e=>e.nodeType===8;gh().requestIdleCallback;gh().cancelIdleCallback;function kF(e,t){if(Fw(e)&&e.data==="["){let n=1,s=e.nextSibling;for(;s;){if(s.nodeType===1){if(t(s)===!1)break}else if(Fw(s))if(s.data==="]"){if(--n===0)break}else s.data==="["&&n++;s=s.nextSibling}}else t(e)}const fa=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function fo(e){wt(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:s,delay:o=200,hydrate:r,timeout:i,suspensible:a=!0,onError:c}=e;let d=null,f,h=0;const v=()=>(h++,d=null,_()),_=()=>{let S;return d||(S=d=t().catch(k=>{if(k=k instanceof Error?k:new Error(String(k)),c)return new Promise((P,C)=>{c(k,()=>P(v()),()=>C(k),h+1)});throw k}).then(k=>S!==d&&d?d:(k&&(k.__esModule||k[Symbol.toStringTag]==="Module")&&(k=k.default),f=k,k)))};return Ri({name:"AsyncComponentWrapper",__asyncLoader:_,__asyncHydrate(S,k,P){const C=r?()=>{const $=r(P,L=>kF(S,L));$&&(k.bum||(k.bum=[])).push($)}:P;f?C():_().then(()=>!k.isUnmounted&&C())},get __asyncResolved(){return f},setup(){const S=zn;if(R0(S),f)return()=>Im(f,S);const k=L=>{d=null,Pu(L,S,13,!s)};if(a&&S.suspense||wl)return _().then(L=>()=>Im(L,S)).catch(L=>(k(L),()=>s?A(s,{error:L}):null));const P=Gn(!1),C=Gn(),$=Gn(!!o);return o&&setTimeout(()=>{$.value=!1},o),i!=null&&setTimeout(()=>{if(!P.value&&!C.value){const L=new Error(`Async component timed out after ${i}ms.`);k(L),C.value=L}},i),_().then(()=>{P.value=!0,S.parent&&Lu(S.parent.vnode)&&S.parent.update()}).catch(L=>{k(L),C.value=L}),()=>{if(P.value&&f)return Im(f,S);if(C.value&&s)return A(s,{error:C.value});if(n&&!$.value)return A(n)}}})}function Im(e,t){const{ref:n,props:s,children:o,ce:r}=t.vnode,i=A(e,s,o);return i.ref=n,i.ce=r,delete t.vnode.ce,i}const Lu=e=>e.type.__isKeepAlive,$F={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=yi(),s=n.ctx;if(!s.renderer)return()=>{const $=t.default&&t.default();return $&&$.length===1?$[0]:$};const o=new Map,r=new Set;let i=null;const a=n.suspense,{renderer:{p:c,m:d,um:f,o:{createElement:h}}}=s,v=h("div");s.activate=($,L,T,R,q)=>{const D=$.component;d($,L,T,0,a),c(D.vnode,$,L,T,D,a,R,$.slotScopeIds,q),jn(()=>{D.isDeactivated=!1,D.a&&pl(D.a);const x=$.props&&$.props.onVnodeMounted;x&&lo(x,D.parent,$)},a)},s.deactivate=$=>{const L=$.component;Rf(L.m),Rf(L.a),d($,v,null,1,a),jn(()=>{L.da&&pl(L.da);const T=$.props&&$.props.onVnodeUnmounted;T&&lo(T,L.parent,$),L.isDeactivated=!0},a)};function _($){Pm($),f($,n,a,!0)}function S($){o.forEach((L,T)=>{const R=hb(L.type);R&&!$(R)&&k(T)})}function k($){const L=o.get($);L&&(!i||!fi(L,i))?_(L):i&&Pm(i),o.delete($),r.delete($)}Qn(()=>[e.include,e.exclude],([$,L])=>{$&&S(T=>Mc($,T)),L&&S(T=>!Mc(L,T))},{flush:"post",deep:!0});let P=null;const C=()=>{P!=null&&(Mf(n.subTree.type)?jn(()=>{o.set(P,Kd(n.subTree))},n.subTree.suspense):o.set(P,Kd(n.subTree)))};return Sh(C),FT(C),kh(()=>{o.forEach($=>{const{subTree:L,suspense:T}=n,R=Kd(L);if($.type===R.type&&$.key===R.key){Pm(R);const q=R.component.da;q&&jn(q,T);return}_($)})}),()=>{if(P=null,!t.default)return i=null;const $=t.default(),L=$[0];if($.length>1)return i=null,$;if(!_i(L)||!(L.shapeFlag&4)&&!(L.shapeFlag&128))return i=null,L;let T=Kd(L);if(T.type===ls)return i=null,T;const R=T.type,q=hb(fa(T)?T.type.__asyncResolved||{}:R),{include:D,exclude:x,max:oe}=e;if(D&&(!q||!Mc(D,q))||x&&q&&Mc(x,q))return T.shapeFlag&=-257,i=T,L;const V=T.key==null?R:T.key,ce=o.get(V);return T.el&&(T=Lr(T),L.shapeFlag&128&&(L.ssContent=T)),P=V,ce?(T.el=ce.el,T.component=ce.component,T.transition&&yl(T,T.transition),T.shapeFlag|=512,r.delete(V),r.add(V)):(r.add(V),oe&&r.size>parseInt(oe,10)&&k(r.values().next().value)),T.shapeFlag|=256,i=T,Mf(L.type)?L:T}}},tCe=$F;function Mc(e,t){return lt(e)?e.some(n=>Mc(n,t)):Sn(e)?e.split(",").includes(t):T7(e)?(e.lastIndex=0,e.test(t)):!1}function CF(e,t){MT(e,"a",t)}function TF(e,t){MT(e,"da",t)}function MT(e,t,n=zn){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(wh(t,s,n),n){let o=n.parent;for(;o&&o.parent;)Lu(o.parent.vnode)&&AF(s,t,n,o),o=o.parent}}function AF(e,t,n,s){const o=wh(t,e,s,!0);M0(()=>{w0(s[t],o)},n)}function Pm(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Kd(e){return e.shapeFlag&128?e.ssContent:e}function wh(e,t,n=zn,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{Li();const a=Ru(n),c=Ao(t,n,e,i);return a(),Oi(),c});return s?o.unshift(r):o.push(r),r}}const Fr=e=>(t,n=zn)=>{(!wl||e==="sp")&&wh(e,(...s)=>t(...s),n)},NT=Fr("bm"),Sh=Fr("m"),EF=Fr("bu"),FT=Fr("u"),kh=Fr("bum"),M0=Fr("um"),IF=Fr("sp"),PF=Fr("rtg"),LF=Fr("rtc");function OF(e,t=zn){wh("ec",e,t)}const N0="components",RF="directives";function O(e,t){return F0(N0,e,!0,t)||e}const DT=Symbol.for("v-ndc");function va(e){return Sn(e)?F0(N0,e,!1)||e:e||DT}function Dl(e){return F0(RF,e)}function F0(e,t,n=!0,s=!1){const o=qn||zn;if(o){const r=o.type;if(e===N0){const a=hb(r,!1);if(a&&(a===t||a===po(t)||a===mh(po(t))))return r}const i=Dw(o[e]||r[e],t)||Dw(o.appContext[e],t);return!i&&s?r:i}}function Dw(e,t){return e&&(e[t]||e[po(t)]||e[mh(po(t))])}function Ke(e,t,n,s){let o;const r=n,i=lt(e);if(i||Sn(e)){const a=i&&Er(e);let c=!1;a&&(c=!uo(e),e=bh(e)),o=new Array(e.length);for(let d=0,f=e.length;d<f;d++)o[d]=t(c?is(e[d]):e[d],d,void 0,r)}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,r)}else if(fn(e))if(e[Symbol.iterator])o=Array.from(e,(a,c)=>t(a,c,void 0,r));else{const a=Object.keys(e);o=new Array(a.length);for(let c=0,d=a.length;c<d;c++){const f=a[c];o[c]=t(e[f],f,c,r)}}else o=[];return o}function Ft(e,t,n={},s,o){if(qn.ce||qn.parent&&fa(qn.parent)&&qn.parent.ce)return t!=="default"&&(n.name=t),m(),K(Te,null,[A("slot",n,s&&s())],64);let r=e[t];r&&r._c&&(r._d=!1),m();const i=r&&UT(r(n)),a=n.key||i&&i.key,c=K(Te,{key:(a&&!Co(a)?a:`_${t}`)+(!i&&s?"_fb":"")},i||(s?s():[]),i&&e._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),r&&r._c&&(r._d=!0),c}function UT(e){return e.some(t=>_i(t)?!(t.type===ls||t.type===Te&&!UT(t.children)):!0)?e:null}function MF(e,t){const n={};for(const s in e)n[df(s)]=e[s];return n}const lb=e=>e?n6(e)?Ch(e):lb(e.parent):null,Xc=Kn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>lb(e.parent),$root:e=>lb(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>BT(e),$forceUpdate:e=>e.f||(e.f=()=>{O0(e.update)}),$nextTick:e=>e.n||(e.n=bi.bind(e.proxy)),$watch:e=>nD.bind(e)}),Lm=(e,t)=>e!==dn&&!e.__isScriptSetup&&Jt(e,t),NF={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:o,props:r,accessCache:i,type:a,appContext:c}=e;let d;if(t[0]!=="$"){const _=i[t];if(_!==void 0)switch(_){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(Lm(s,t))return i[t]=1,s[t];if(o!==dn&&Jt(o,t))return i[t]=2,o[t];if((d=e.propsOptions[0])&&Jt(d,t))return i[t]=3,r[t];if(n!==dn&&Jt(n,t))return i[t]=4,n[t];cb&&(i[t]=0)}}const f=Xc[t];let h,v;if(f)return t==="$attrs"&&rs(e.attrs,"get",""),f(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==dn&&Jt(n,t))return i[t]=4,n[t];if(v=c.config.globalProperties,Jt(v,t))return v[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return Lm(o,t)?(o[t]=n,!0):s!==dn&&Jt(s,t)?(s[t]=n,!0):Jt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r}},i){let a;return!!n[i]||e!==dn&&Jt(e,i)||Lm(t,i)||(a=r[0])&&Jt(a,i)||Jt(s,i)||Jt(Xc,i)||Jt(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Jt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Uw(e){return lt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let cb=!0;function FF(e){const t=BT(e),n=e.proxy,s=e.ctx;cb=!1,t.beforeCreate&&jw(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:i,watch:a,provide:c,inject:d,created:f,beforeMount:h,mounted:v,beforeUpdate:_,updated:S,activated:k,deactivated:P,beforeDestroy:C,beforeUnmount:$,destroyed:L,unmounted:T,render:R,renderTracked:q,renderTriggered:D,errorCaptured:x,serverPrefetch:oe,expose:V,inheritAttrs:ce,components:de,directives:Le,filters:Ve}=t;if(d&&DF(d,s,null),i)for(const Be in i){const it=i[Be];wt(it)&&(s[Be]=it.bind(n))}if(o){const Be=o.call(n,n);fn(Be)&&(e.data=To(Be))}if(cb=!0,r)for(const Be in r){const it=r[Be],$t=wt(it)?it.bind(n,n):wt(it.get)?it.get.bind(n,n):xo,dt=!wt(it)&&wt(it.set)?it.set.bind(n):xo,bt=vt({get:$t,set:dt});Object.defineProperty(s,Be,{enumerable:!0,configurable:!0,get:()=>bt.value,set:It=>bt.value=It})}if(a)for(const Be in a)jT(a[Be],s,n,Be);if(c){const Be=wt(c)?c.call(n):c;Reflect.ownKeys(Be).forEach(it=>{gl(it,Be[it])})}f&&jw(f,e,"c");function We(Be,it){lt(it)?it.forEach($t=>Be($t.bind(n))):it&&Be(it.bind(n))}if(We(NT,h),We(Sh,v),We(EF,_),We(FT,S),We(CF,k),We(TF,P),We(OF,x),We(LF,q),We(PF,D),We(kh,$),We(M0,T),We(IF,oe),lt(V))if(V.length){const Be=e.exposed||(e.exposed={});V.forEach(it=>{Object.defineProperty(Be,it,{get:()=>n[it],set:$t=>n[it]=$t})})}else e.exposed||(e.exposed={});R&&e.render===xo&&(e.render=R),ce!=null&&(e.inheritAttrs=ce),de&&(e.components=de),Le&&(e.directives=Le),oe&&R0(e)}function DF(e,t,n=xo){lt(e)&&(e=ub(e));for(const s in e){const o=e[s];let r;fn(o)?"default"in o?r=Vs(o.from||s,o.default,!0):r=Vs(o.from||s):r=Vs(o),wn(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[s]=r}}function jw(e,t,n){Ao(lt(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function jT(e,t,n,s){let o=s.includes(".")?ZT(n,s):()=>n[s];if(Sn(e)){const r=t[e];wt(r)&&Qn(o,r)}else if(wt(e))Qn(o,e.bind(n));else if(fn(e))if(lt(e))e.forEach(r=>jT(r,t,n,s));else{const r=wt(e.handler)?e.handler.bind(n):t[e.handler];wt(r)&&Qn(o,r,e)}}function BT(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,a=r.get(t);let c;return a?c=a:!o.length&&!n&&!s?c=t:(c={},o.length&&o.forEach(d=>Of(c,d,i,!0)),Of(c,t,i)),fn(t)&&r.set(t,c),c}function Of(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&Of(e,r,n,!0),o&&o.forEach(i=>Of(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const a=UF[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const UF={data:Bw,props:zw,emits:zw,methods:Nc,computed:Nc,beforeCreate:gs,created:gs,beforeMount:gs,mounted:gs,beforeUpdate:gs,updated:gs,beforeDestroy:gs,beforeUnmount:gs,destroyed:gs,unmounted:gs,activated:gs,deactivated:gs,errorCaptured:gs,serverPrefetch:gs,components:Nc,directives:Nc,watch:BF,provide:Bw,inject:jF};function Bw(e,t){return t?e?function(){return Kn(wt(e)?e.call(this,this):e,wt(t)?t.call(this,this):t)}:t:e}function jF(e,t){return Nc(ub(e),ub(t))}function ub(e){if(lt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function gs(e,t){return e?[...new Set([].concat(e,t))]:t}function Nc(e,t){return e?Kn(Object.create(null),e,t):t}function zw(e,t){return e?lt(e)&&lt(t)?[...new Set([...e,...t])]:Kn(Object.create(null),Uw(e),Uw(t??{})):t}function BF(e,t){if(!e)return t;if(!t)return e;const n=Kn(Object.create(null),e);for(const s in t)n[s]=gs(e[s],t[s]);return n}function zT(){return{app:null,config:{isNativeTag:$7,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zF=0;function qF(e,t){return function(s,o=null){wt(s)||(s=Kn({},s)),o!=null&&!fn(o)&&(o=null);const r=zT(),i=new WeakSet,a=[];let c=!1;const d=r.app={_uid:zF++,_component:s,_props:o,_container:null,_context:r,_instance:null,version:yD,get config(){return r.config},set config(f){},use(f,...h){return i.has(f)||(f&&wt(f.install)?(i.add(f),f.install(d,...h)):wt(f)&&(i.add(f),f(d,...h))),d},mixin(f){return r.mixins.includes(f)||r.mixins.push(f),d},component(f,h){return h?(r.components[f]=h,d):r.components[f]},directive(f,h){return h?(r.directives[f]=h,d):r.directives[f]},mount(f,h,v){if(!c){const _=d._ceVNode||A(s,o);return _.appContext=r,v===!0?v="svg":v===!1&&(v=void 0),e(_,f,v),c=!0,d._container=f,f.__vue_app__=d,Ch(_.component)}},onUnmount(f){a.push(f)},unmount(){c&&(Ao(a,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(f,h){return r.provides[f]=h,d},runWithContext(f){const h=ha;ha=d;try{return f()}finally{ha=h}}};return d}}let ha=null;function gl(e,t){if(zn){let n=zn.provides;const s=zn.parent&&zn.parent.provides;s===n&&(n=zn.provides=Object.create(s)),n[e]=t}}function Vs(e,t,n=!1){const s=zn||qn;if(s||ha){const o=ha?ha._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&wt(t)?t.call(s&&s.proxy):t}}function HF(){return!!(zn||qn||ha)}const qT={},HT=()=>Object.create(qT),VT=e=>Object.getPrototypeOf(e)===qT;function VF(e,t,n,s=!1){const o={},r=HT();e.propsDefaults=Object.create(null),WT(e,t,o,r);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=s?o:I0(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function WF(e,t,n,s){const{props:o,attrs:r,vnode:{patchFlag:i}}=e,a=Rt(o),[c]=e.propsOptions;let d=!1;if((s||i>0)&&!(i&16)){if(i&8){const f=e.vnode.dynamicProps;for(let h=0;h<f.length;h++){let v=f[h];if($h(e.emitsOptions,v))continue;const _=t[v];if(c)if(Jt(r,v))_!==r[v]&&(r[v]=_,d=!0);else{const S=po(v);o[S]=db(c,a,S,_,e,!1)}else _!==r[v]&&(r[v]=_,d=!0)}}}else{WT(e,t,o,r)&&(d=!0);let f;for(const h in a)(!t||!Jt(t,h)&&((f=Pi(h))===h||!Jt(t,f)))&&(c?n&&(n[h]!==void 0||n[f]!==void 0)&&(o[h]=db(c,a,h,void 0,e,!0)):delete o[h]);if(r!==a)for(const h in r)(!t||!Jt(t,h))&&(delete r[h],d=!0)}d&&wr(e.attrs,"set","")}function WT(e,t,n,s){const[o,r]=e.propsOptions;let i=!1,a;if(t)for(let c in t){if(Gc(c))continue;const d=t[c];let f;o&&Jt(o,f=po(c))?!r||!r.includes(f)?n[f]=d:(a||(a={}))[f]=d:$h(e.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,i=!0)}if(r){const c=Rt(n),d=a||dn;for(let f=0;f<r.length;f++){const h=r[f];n[h]=db(o,c,h,d[h],e,!Jt(d,h))}}return i}function db(e,t,n,s,o,r){const i=e[n];if(i!=null){const a=Jt(i,"default");if(a&&s===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&wt(c)){const{propsDefaults:d}=o;if(n in d)s=d[n];else{const f=Ru(o);s=d[n]=c.call(null,t),f()}}else s=c;o.ce&&o.ce._setProp(n,s)}i[0]&&(r&&!a?s=!1:i[1]&&(s===""||s===Pi(n))&&(s=!0))}return s}const GF=new WeakMap;function GT(e,t,n=!1){const s=n?GF:t.propsCache,o=s.get(e);if(o)return o;const r=e.props,i={},a=[];let c=!1;if(!wt(e)){const f=h=>{c=!0;const[v,_]=GT(h,t,!0);Kn(i,v),_&&a.push(..._)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!r&&!c)return fn(e)&&s.set(e,fl),fl;if(lt(r))for(let f=0;f<r.length;f++){const h=po(r[f]);qw(h)&&(i[h]=dn)}else if(r)for(const f in r){const h=po(f);if(qw(h)){const v=r[f],_=i[h]=lt(v)||wt(v)?{type:v}:Kn({},v),S=_.type;let k=!1,P=!0;if(lt(S))for(let C=0;C<S.length;++C){const $=S[C],L=wt($)&&$.name;if(L==="Boolean"){k=!0;break}else L==="String"&&(P=!1)}else k=wt(S)&&S.name==="Boolean";_[0]=k,_[1]=P,(k||Jt(_,"default"))&&a.push(h)}}const d=[i,a];return fn(e)&&s.set(e,d),d}function qw(e){return e[0]!=="$"&&!Gc(e)}const KT=e=>e[0]==="_"||e==="$stable",D0=e=>lt(e)?e.map(zo):[zo(e)],KF=(e,t,n)=>{if(t._n)return t;const s=X((...o)=>D0(t(...o)),n);return s._c=!1,s},xT=(e,t,n)=>{const s=e._ctx;for(const o in e){if(KT(o))continue;const r=e[o];if(wt(r))t[o]=KF(o,r,s);else if(r!=null){const i=D0(r);t[o]=()=>i}}},YT=(e,t)=>{const n=D0(t);e.slots.default=()=>n},XT=(e,t,n)=>{for(const s in t)(n||s!=="_")&&(e[s]=t[s])},xF=(e,t,n)=>{const s=e.slots=HT();if(e.vnode.shapeFlag&32){const o=t._;o?(XT(s,t,n),n&&JC(s,"_",o,!0)):xT(t,s)}else t&&YT(e,t)},YF=(e,t,n)=>{const{vnode:s,slots:o}=e;let r=!0,i=dn;if(s.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:XT(o,t,n):(r=!t.$stable,xT(t,o)),i=t}else t&&(YT(e,t),i={default:1});if(r)for(const a in o)!KT(a)&&i[a]==null&&delete o[a]},jn=cD;function XF(e){return JF(e)}function JF(e,t){const n=gh();n.__VUE__=!0;const{insert:s,remove:o,patchProp:r,createElement:i,createText:a,createComment:c,setText:d,setElementText:f,parentNode:h,nextSibling:v,setScopeId:_=xo,insertStaticContent:S}=e,k=(H,W,Q,pe=null,we=null,_e=null,U=void 0,B=null,te=!!W.dynamicChildren)=>{if(H===W)return;H&&!fi(H,W)&&(pe=ye(H),It(H,we,_e,!0),H=null),W.patchFlag===-2&&(te=!1,W.dynamicChildren=null);const{type:ue,ref:je,shapeFlag:ke}=W;switch(ue){case Ou:P(H,W,Q,pe);break;case ls:C(H,W,Q,pe);break;case hf:H==null&&$(W,Q,pe,U);break;case Te:de(H,W,Q,pe,we,_e,U,B,te);break;default:ke&1?R(H,W,Q,pe,we,_e,U,B,te):ke&6?Le(H,W,Q,pe,we,_e,U,B,te):(ke&64||ke&128)&&ue.process(H,W,Q,pe,we,_e,U,B,te,Ue)}je!=null&&we&&Lf(je,H&&H.ref,_e,W||H,!W)},P=(H,W,Q,pe)=>{if(H==null)s(W.el=a(W.children),Q,pe);else{const we=W.el=H.el;W.children!==H.children&&d(we,W.children)}},C=(H,W,Q,pe)=>{H==null?s(W.el=c(W.children||""),Q,pe):W.el=H.el},$=(H,W,Q,pe)=>{[H.el,H.anchor]=S(H.children,W,Q,pe,H.el,H.anchor)},L=({el:H,anchor:W},Q,pe)=>{let we;for(;H&&H!==W;)we=v(H),s(H,Q,pe),H=we;s(W,Q,pe)},T=({el:H,anchor:W})=>{let Q;for(;H&&H!==W;)Q=v(H),o(H),H=Q;o(W)},R=(H,W,Q,pe,we,_e,U,B,te)=>{W.type==="svg"?U="svg":W.type==="math"&&(U="mathml"),H==null?q(W,Q,pe,we,_e,U,B,te):oe(H,W,we,_e,U,B,te)},q=(H,W,Q,pe,we,_e,U,B)=>{let te,ue;const{props:je,shapeFlag:ke,transition:se,dirs:me}=H;if(te=H.el=i(H.type,_e,je&&je.is,je),ke&8?f(te,H.children):ke&16&&x(H.children,te,null,pe,we,Om(H,_e),U,B),me&&Zi(H,null,pe,"created"),D(te,H,H.scopeId,U,pe),je){for(const rt in je)rt!=="value"&&!Gc(rt)&&r(te,rt,null,je[rt],_e,pe);"value"in je&&r(te,"value",null,je.value,_e),(ue=je.onVnodeBeforeMount)&&lo(ue,pe,H)}me&&Zi(H,null,pe,"beforeMount");const xe=ZF(we,se);xe&&se.beforeEnter(te),s(te,W,Q),((ue=je&&je.onVnodeMounted)||xe||me)&&jn(()=>{ue&&lo(ue,pe,H),xe&&se.enter(te),me&&Zi(H,null,pe,"mounted")},we)},D=(H,W,Q,pe,we)=>{if(Q&&_(H,Q),pe)for(let _e=0;_e<pe.length;_e++)_(H,pe[_e]);if(we){let _e=we.subTree;if(W===_e||Mf(_e.type)&&(_e.ssContent===W||_e.ssFallback===W)){const U=we.vnode;D(H,U,U.scopeId,U.slotScopeIds,we.parent)}}},x=(H,W,Q,pe,we,_e,U,B,te=0)=>{for(let ue=te;ue<H.length;ue++){const je=H[ue]=B?ai(H[ue]):zo(H[ue]);k(null,je,W,Q,pe,we,_e,U,B)}},oe=(H,W,Q,pe,we,_e,U)=>{const B=W.el=H.el;let{patchFlag:te,dynamicChildren:ue,dirs:je}=W;te|=H.patchFlag&16;const ke=H.props||dn,se=W.props||dn;let me;if(Q&&Qi(Q,!1),(me=se.onVnodeBeforeUpdate)&&lo(me,Q,W,H),je&&Zi(W,H,Q,"beforeUpdate"),Q&&Qi(Q,!0),(ke.innerHTML&&se.innerHTML==null||ke.textContent&&se.textContent==null)&&f(B,""),ue?V(H.dynamicChildren,ue,B,Q,pe,Om(W,we),_e):U||it(H,W,B,null,Q,pe,Om(W,we),_e,!1),te>0){if(te&16)ce(B,ke,se,Q,we);else if(te&2&&ke.class!==se.class&&r(B,"class",null,se.class,we),te&4&&r(B,"style",ke.style,se.style,we),te&8){const xe=W.dynamicProps;for(let rt=0;rt<xe.length;rt++){const ut=xe[rt],sn=ke[ut],Vt=se[ut];(Vt!==sn||ut==="value")&&r(B,ut,sn,Vt,we,Q)}}te&1&&H.children!==W.children&&f(B,W.children)}else!U&&ue==null&&ce(B,ke,se,Q,we);((me=se.onVnodeUpdated)||je)&&jn(()=>{me&&lo(me,Q,W,H),je&&Zi(W,H,Q,"updated")},pe)},V=(H,W,Q,pe,we,_e,U)=>{for(let B=0;B<W.length;B++){const te=H[B],ue=W[B],je=te.el&&(te.type===Te||!fi(te,ue)||te.shapeFlag&70)?h(te.el):Q;k(te,ue,je,null,pe,we,_e,U,!0)}},ce=(H,W,Q,pe,we)=>{if(W!==Q){if(W!==dn)for(const _e in W)!Gc(_e)&&!(_e in Q)&&r(H,_e,W[_e],null,we,pe);for(const _e in Q){if(Gc(_e))continue;const U=Q[_e],B=W[_e];U!==B&&_e!=="value"&&r(H,_e,B,U,we,pe)}"value"in Q&&r(H,"value",W.value,Q.value,we)}},de=(H,W,Q,pe,we,_e,U,B,te)=>{const ue=W.el=H?H.el:a(""),je=W.anchor=H?H.anchor:a("");let{patchFlag:ke,dynamicChildren:se,slotScopeIds:me}=W;me&&(B=B?B.concat(me):me),H==null?(s(ue,Q,pe),s(je,Q,pe),x(W.children||[],Q,je,we,_e,U,B,te)):ke>0&&ke&64&&se&&H.dynamicChildren?(V(H.dynamicChildren,se,Q,we,_e,U,B),(W.key!=null||we&&W===we.subTree)&&U0(H,W,!0)):it(H,W,Q,je,we,_e,U,B,te)},Le=(H,W,Q,pe,we,_e,U,B,te)=>{W.slotScopeIds=B,H==null?W.shapeFlag&512?we.ctx.activate(W,Q,pe,U,te):Ve(W,Q,pe,we,_e,U,te):Ge(H,W,te)},Ve=(H,W,Q,pe,we,_e,U)=>{const B=H.component=pD(H,pe,we);if(Lu(H)&&(B.ctx.renderer=Ue),mD(B,!1,U),B.asyncDep){if(we&&we.registerDep(B,We,U),!H.el){const te=B.subTree=A(ls);C(null,te,W,Q)}}else We(B,H,W,Q,we,_e,U)},Ge=(H,W,Q)=>{const pe=W.component=H.component;if(aD(H,W,Q))if(pe.asyncDep&&!pe.asyncResolved){Be(pe,W,Q);return}else pe.next=W,pe.update();else W.el=H.el,pe.vnode=W},We=(H,W,Q,pe,we,_e,U)=>{const B=()=>{if(H.isMounted){let{next:ke,bu:se,u:me,parent:xe,vnode:rt}=H;{const In=JT(H);if(In){ke&&(ke.el=rt.el,Be(H,ke,U)),In.asyncDep.then(()=>{H.isUnmounted||B()});return}}let ut=ke,sn;Qi(H,!1),ke?(ke.el=rt.el,Be(H,ke,U)):ke=rt,se&&pl(se),(sn=ke.props&&ke.props.onVnodeBeforeUpdate)&&lo(sn,xe,ke,rt),Qi(H,!0);const Vt=Hw(H),Tn=H.subTree;H.subTree=Vt,k(Tn,Vt,h(Tn.el),ye(Tn),H,we,_e),ke.el=Vt.el,ut===null&&lD(H,Vt.el),me&&jn(me,we),(sn=ke.props&&ke.props.onVnodeUpdated)&&jn(()=>lo(sn,xe,ke,rt),we)}else{let ke;const{el:se,props:me}=W,{bm:xe,m:rt,parent:ut,root:sn,type:Vt}=H,Tn=fa(W);Qi(H,!1),xe&&pl(xe),!Tn&&(ke=me&&me.onVnodeBeforeMount)&&lo(ke,ut,W),Qi(H,!0);{sn.ce&&sn.ce._injectChildStyle(Vt);const In=H.subTree=Hw(H);k(null,In,Q,pe,H,we,_e),W.el=In.el}if(rt&&jn(rt,we),!Tn&&(ke=me&&me.onVnodeMounted)){const In=W;jn(()=>lo(ke,ut,In),we)}(W.shapeFlag&256||ut&&fa(ut.vnode)&&ut.vnode.shapeFlag&256)&&H.a&&jn(H.a,we),H.isMounted=!0,W=Q=pe=null}};H.scope.on();const te=H.effect=new sT(B);H.scope.off();const ue=H.update=te.run.bind(te),je=H.job=te.runIfDirty.bind(te);je.i=H,je.id=H.uid,te.scheduler=()=>O0(je),Qi(H,!0),ue()},Be=(H,W,Q)=>{W.component=H;const pe=H.vnode.props;H.vnode=W,H.next=null,WF(H,W.props,pe,Q),YF(H,W.children,Q),Li(),Lw(H),Oi()},it=(H,W,Q,pe,we,_e,U,B,te=!1)=>{const ue=H&&H.children,je=H?H.shapeFlag:0,ke=W.children,{patchFlag:se,shapeFlag:me}=W;if(se>0){if(se&128){dt(ue,ke,Q,pe,we,_e,U,B,te);return}else if(se&256){$t(ue,ke,Q,pe,we,_e,U,B,te);return}}me&8?(je&16&&qt(ue,we,_e),ke!==ue&&f(Q,ke)):je&16?me&16?dt(ue,ke,Q,pe,we,_e,U,B,te):qt(ue,we,_e,!0):(je&8&&f(Q,""),me&16&&x(ke,Q,pe,we,_e,U,B,te))},$t=(H,W,Q,pe,we,_e,U,B,te)=>{H=H||fl,W=W||fl;const ue=H.length,je=W.length,ke=Math.min(ue,je);let se;for(se=0;se<ke;se++){const me=W[se]=te?ai(W[se]):zo(W[se]);k(H[se],me,Q,null,we,_e,U,B,te)}ue>je?qt(H,we,_e,!0,!1,ke):x(W,Q,pe,we,_e,U,B,te,ke)},dt=(H,W,Q,pe,we,_e,U,B,te)=>{let ue=0;const je=W.length;let ke=H.length-1,se=je-1;for(;ue<=ke&&ue<=se;){const me=H[ue],xe=W[ue]=te?ai(W[ue]):zo(W[ue]);if(fi(me,xe))k(me,xe,Q,null,we,_e,U,B,te);else break;ue++}for(;ue<=ke&&ue<=se;){const me=H[ke],xe=W[se]=te?ai(W[se]):zo(W[se]);if(fi(me,xe))k(me,xe,Q,null,we,_e,U,B,te);else break;ke--,se--}if(ue>ke){if(ue<=se){const me=se+1,xe=me<je?W[me].el:pe;for(;ue<=se;)k(null,W[ue]=te?ai(W[ue]):zo(W[ue]),Q,xe,we,_e,U,B,te),ue++}}else if(ue>se)for(;ue<=ke;)It(H[ue],we,_e,!0),ue++;else{const me=ue,xe=ue,rt=new Map;for(ue=xe;ue<=se;ue++){const an=W[ue]=te?ai(W[ue]):zo(W[ue]);an.key!=null&&rt.set(an.key,ue)}let ut,sn=0;const Vt=se-xe+1;let Tn=!1,In=0;const ws=new Array(Vt);for(ue=0;ue<Vt;ue++)ws[ue]=0;for(ue=me;ue<=ke;ue++){const an=H[ue];if(sn>=Vt){It(an,we,_e,!0);continue}let Pn;if(an.key!=null)Pn=rt.get(an.key);else for(ut=xe;ut<=se;ut++)if(ws[ut-xe]===0&&fi(an,W[ut])){Pn=ut;break}Pn===void 0?It(an,we,_e,!0):(ws[Pn-xe]=ue+1,Pn>=In?In=Pn:Tn=!0,k(an,W[Pn],Q,null,we,_e,U,B,te),sn++)}const Ys=Tn?QF(ws):fl;for(ut=Ys.length-1,ue=Vt-1;ue>=0;ue--){const an=xe+ue,Pn=W[an],Xs=an+1<je?W[an+1].el:pe;ws[ue]===0?k(null,Pn,Q,Xs,we,_e,U,B,te):Tn&&(ut<0||ue!==Ys[ut]?bt(Pn,Q,Xs,2):ut--)}}},bt=(H,W,Q,pe,we=null)=>{const{el:_e,type:U,transition:B,children:te,shapeFlag:ue}=H;if(ue&6){bt(H.component.subTree,W,Q,pe);return}if(ue&128){H.suspense.move(W,Q,pe);return}if(ue&64){U.move(H,W,Q,Ue);return}if(U===Te){s(_e,W,Q);for(let ke=0;ke<te.length;ke++)bt(te[ke],W,Q,pe);s(H.anchor,W,Q);return}if(U===hf){L(H,W,Q);return}if(pe!==2&&ue&1&&B)if(pe===0)B.beforeEnter(_e),s(_e,W,Q),jn(()=>B.enter(_e),we);else{const{leave:ke,delayLeave:se,afterLeave:me}=B,xe=()=>s(_e,W,Q),rt=()=>{ke(_e,()=>{xe(),me&&me()})};se?se(_e,xe,rt):rt()}else s(_e,W,Q)},It=(H,W,Q,pe=!1,we=!1)=>{const{type:_e,props:U,ref:B,children:te,dynamicChildren:ue,shapeFlag:je,patchFlag:ke,dirs:se,cacheIndex:me}=H;if(ke===-2&&(we=!1),B!=null&&Lf(B,null,Q,H,!0),me!=null&&(W.renderCache[me]=void 0),je&256){W.ctx.deactivate(H);return}const xe=je&1&&se,rt=!fa(H);let ut;if(rt&&(ut=U&&U.onVnodeBeforeUnmount)&&lo(ut,W,H),je&6)ft(H.component,Q,pe);else{if(je&128){H.suspense.unmount(Q,pe);return}xe&&Zi(H,null,W,"beforeUnmount"),je&64?H.type.remove(H,W,Q,Ue,pe):ue&&!ue.hasOnce&&(_e!==Te||ke>0&&ke&64)?qt(ue,W,Q,!1,!0):(_e===Te&&ke&384||!we&&je&16)&&qt(te,W,Q),pe&&nt(H)}(rt&&(ut=U&&U.onVnodeUnmounted)||xe)&&jn(()=>{ut&&lo(ut,W,H),xe&&Zi(H,null,W,"unmounted")},Q)},nt=H=>{const{type:W,el:Q,anchor:pe,transition:we}=H;if(W===Te){yt(Q,pe);return}if(W===hf){T(H);return}const _e=()=>{o(Q),we&&!we.persisted&&we.afterLeave&&we.afterLeave()};if(H.shapeFlag&1&&we&&!we.persisted){const{leave:U,delayLeave:B}=we,te=()=>U(Q,_e);B?B(H.el,_e,te):te()}else _e()},yt=(H,W)=>{let Q;for(;H!==W;)Q=v(H),o(H),H=Q;o(W)},ft=(H,W,Q)=>{const{bum:pe,scope:we,job:_e,subTree:U,um:B,m:te,a:ue}=H;Rf(te),Rf(ue),pe&&pl(pe),we.stop(),_e&&(_e.flags|=8,It(U,H,W,Q)),B&&jn(B,W),jn(()=>{H.isUnmounted=!0},W),W&&W.pendingBranch&&!W.isUnmounted&&H.asyncDep&&!H.asyncResolved&&H.suspenseId===W.pendingId&&(W.deps--,W.deps===0&&W.resolve())},qt=(H,W,Q,pe=!1,we=!1,_e=0)=>{for(let U=_e;U<H.length;U++)It(H[U],W,Q,pe,we)},ye=H=>{if(H.shapeFlag&6)return ye(H.component.subTree);if(H.shapeFlag&128)return H.suspense.next();const W=v(H.anchor||H.el),Q=W&&W[CT];return Q?v(Q):W};let Me=!1;const Fe=(H,W,Q)=>{H==null?W._vnode&&It(W._vnode,null,null,!0):k(W._vnode||null,H,W,null,null,null,Q),W._vnode=H,Me||(Me=!0,Lw(),kT(),Me=!1)},Ue={p:k,um:It,m:bt,r:nt,mt:Ve,mc:x,pc:it,pbc:V,n:ye,o:e};return{render:Fe,hydrate:void 0,createApp:qF(Fe)}}function Om({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Qi({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ZF(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function U0(e,t,n=!1){const s=e.children,o=t.children;if(lt(s)&&lt(o))for(let r=0;r<s.length;r++){const i=s[r];let a=o[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[r]=ai(o[r]),a.el=i.el),!n&&a.patchFlag!==-2&&U0(i,a)),a.type===Ou&&(a.el=i.el)}}function QF(e){const t=e.slice(),n=[0];let s,o,r,i,a;const c=e.length;for(s=0;s<c;s++){const d=e[s];if(d!==0){if(o=n[n.length-1],e[o]<d){t[s]=o,n.push(s);continue}for(r=0,i=n.length-1;r<i;)a=r+i>>1,e[n[a]]<d?r=a+1:i=a;d<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,i=n[r-1];r-- >0;)n[r]=i,i=t[i];return n}function JT(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:JT(t)}function Rf(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const eD=Symbol.for("v-scx"),tD=()=>Vs(eD);function nCe(e,t){return j0(e,null,t)}function Qn(e,t,n){return j0(e,t,n)}function j0(e,t,n=dn){const{immediate:s,deep:o,flush:r,once:i}=n,a=Kn({},n),c=t&&s||!t&&r!=="post";let d;if(wl){if(r==="sync"){const _=tD();d=_.__watcherHandles||(_.__watcherHandles=[])}else if(!c){const _=()=>{};return _.stop=xo,_.resume=xo,_.pause=xo,_}}const f=zn;a.call=(_,S,k)=>Ao(_,f,S,k);let h=!1;r==="post"?a.scheduler=_=>{jn(_,f&&f.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(_,S)=>{S?_():O0(_)}),a.augmentJob=_=>{t&&(_.flags|=4),h&&(_.flags|=2,f&&(_.id=f.uid,_.i=f))};const v=fF(e,t,a);return wl&&(d?d.push(v):c&&v()),v}function nD(e,t,n){const s=this.proxy,o=Sn(e)?e.includes(".")?ZT(s,e):()=>s[e]:e.bind(s,s);let r;wt(t)?r=t:(r=t.handler,n=t);const i=Ru(this),a=j0(o,r.bind(s),n);return i(),a}function ZT(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}const sD=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${po(t)}Modifiers`]||e[`${Pi(t)}Modifiers`];function oD(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||dn;let o=n;const r=t.startsWith("update:"),i=r&&sD(s,t.slice(7));i&&(i.trim&&(o=n.map(f=>Sn(f)?f.trim():f)),i.number&&(o=n.map(Tf)));let a,c=s[a=df(t)]||s[a=df(po(t))];!c&&r&&(c=s[a=df(Pi(t))]),c&&Ao(c,e,6,o);const d=s[a+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ao(d,e,6,o)}}function QT(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const r=e.emits;let i={},a=!1;if(!wt(e)){const c=d=>{const f=QT(d,t,!0);f&&(a=!0,Kn(i,f))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!a?(fn(e)&&s.set(e,null),null):(lt(r)?r.forEach(c=>i[c]=null):Kn(i,r),fn(e)&&s.set(e,i),i)}function $h(e,t){return!e||!hh(t)?!1:(t=t.slice(2).replace(/Once$/,""),Jt(e,t[0].toLowerCase()+t.slice(1))||Jt(e,Pi(t))||Jt(e,t))}function Hw(e){const{type:t,vnode:n,proxy:s,withProxy:o,propsOptions:[r],slots:i,attrs:a,emit:c,render:d,renderCache:f,props:h,data:v,setupState:_,ctx:S,inheritAttrs:k}=e,P=Pf(e);let C,$;try{if(n.shapeFlag&4){const T=o||s,R=T;C=zo(d.call(R,T,f,h,_,v,S)),$=a}else{const T=t;C=zo(T.length>1?T(h,{attrs:a,slots:i,emit:c}):T(h,null)),$=t.props?a:rD(a)}}catch(T){Jc.length=0,Pu(T,e,1),C=A(ls)}let L=C;if($&&k!==!1){const T=Object.keys($),{shapeFlag:R}=L;T.length&&R&7&&(r&&T.some(y0)&&($=iD($,r)),L=Lr(L,$,!1,!0))}return n.dirs&&(L=Lr(L,null,!1,!0),L.dirs=L.dirs?L.dirs.concat(n.dirs):n.dirs),n.transition&&yl(L,n.transition),C=L,Pf(P),C}const rD=e=>{let t;for(const n in e)(n==="class"||n==="style"||hh(n))&&((t||(t={}))[n]=e[n]);return t},iD=(e,t)=>{const n={};for(const s in e)(!y0(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function aD(e,t,n){const{props:s,children:o,component:r}=e,{props:i,children:a,patchFlag:c}=t,d=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Vw(s,i,d):!!i;if(c&8){const f=t.dynamicProps;for(let h=0;h<f.length;h++){const v=f[h];if(i[v]!==s[v]&&!$h(d,v))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?Vw(s,i,d):!0:!!i;return!1}function Vw(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const r=s[o];if(t[r]!==e[r]&&!$h(n,r))return!0}return!1}function lD({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Mf=e=>e.__isSuspense;function cD(e,t){t&&t.pendingBranch?lt(e)?t.effects.push(...e):t.effects.push(e):mF(e)}const Te=Symbol.for("v-fgt"),Ou=Symbol.for("v-txt"),ls=Symbol.for("v-cmt"),hf=Symbol.for("v-stc"),Jc=[];let Hs=null;function m(e=!1){Jc.push(Hs=e?null:[])}function uD(){Jc.pop(),Hs=Jc[Jc.length-1]||null}let gu=1;function Ww(e,t=!1){gu+=e,e<0&&Hs&&t&&(Hs.hasOnce=!0)}function e6(e){return e.dynamicChildren=gu>0?Hs||fl:null,uD(),gu>0&&Hs&&Hs.push(e),e}function b(e,t,n,s,o,r){return e6(g(e,t,n,s,o,r,!0))}function K(e,t,n,s,o){return e6(A(e,t,n,s,o,!0))}function _i(e){return e?e.__v_isVNode===!0:!1}function fi(e,t){return e.type===t.type&&e.key===t.key}const t6=({key:e})=>e??null,pf=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Sn(e)||wn(e)||wt(e)?{i:qn,r:e,k:t,f:!!n}:e:null);function g(e,t=null,n=null,s=0,o=null,r=e===Te?0:1,i=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&t6(t),ref:t&&pf(t),scopeId:yh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:qn};return a?(z0(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=Sn(n)?8:16),gu>0&&!i&&Hs&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Hs.push(c),c}const A=dD;function dD(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===DT)&&(e=ls),_i(e)){const a=Lr(e,t,!0);return n&&z0(a,n),gu>0&&!r&&Hs&&(a.shapeFlag&6?Hs[Hs.indexOf(e)]=a:Hs.push(a)),a.patchFlag=-2,a}if(_D(e)&&(e=e.__vccOpts),t){t=B0(t);let{class:a,style:c}=t;a&&!Sn(a)&&(t.class=he(a)),fn(c)&&(L0(c)&&!lt(c)&&(c=Kn({},c)),t.style=gn(c))}const i=Sn(e)?1:Mf(e)?128:TT(e)?64:fn(e)?4:wt(e)?2:0;return g(e,t,n,s,o,i,r,!0)}function B0(e){return e?L0(e)||VT(e)?Kn({},e):e:null}function Lr(e,t,n=!1,s=!1){const{props:o,ref:r,patchFlag:i,children:a,transition:c}=e,d=t?xn(o||{},t):o,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&t6(d),ref:t&&t.ref?n&&r?lt(r)?r.concat(pf(t)):[r,pf(t)]:pf(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Te?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Lr(e.ssContent),ssFallback:e.ssFallback&&Lr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&s&&yl(f,c.clone(f)),f}function fe(e=" ",t=0){return A(Ou,null,e,t)}function sCe(e,t){const n=A(hf,null,e);return n.staticCount=t,n}function E(e="",t=!1){return t?(m(),K(ls,null,e)):A(ls,null,e)}function zo(e){return e==null||typeof e=="boolean"?A(ls):lt(e)?A(Te,null,e.slice()):_i(e)?ai(e):A(Ou,null,String(e))}function ai(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Lr(e)}function z0(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(lt(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),z0(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!VT(t)?t._ctx=qn:o===3&&qn&&(qn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else wt(t)?(t={default:t,_ctx:qn},n=32):(t=String(t),s&64?(n=16,t=[fe(t)]):n=8);e.children=t,e.shapeFlag|=n}function xn(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=he([t.class,s.class]));else if(o==="style")t.style=gn([t.style,s.style]);else if(hh(o)){const r=t[o],i=s[o];i&&r!==i&&!(lt(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=s[o])}return t}function lo(e,t,n,s=null){Ao(e,t,7,[n,s])}const fD=zT();let hD=0;function pD(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||fD,r={uid:hD++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new tT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:GT(s,o),emitsOptions:QT(s,o),emit:null,emitted:null,propsDefaults:dn,inheritAttrs:s.inheritAttrs,ctx:dn,data:dn,props:dn,attrs:dn,slots:dn,refs:dn,setupState:dn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=oD.bind(null,r),e.ce&&e.ce(r),r}let zn=null;const yi=()=>zn||qn;let Nf,fb;{const e=gh(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),r=>{o.length>1?o.forEach(i=>i(r)):o[0](r)}};Nf=t("__VUE_INSTANCE_SETTERS__",n=>zn=n),fb=t("__VUE_SSR_SETTERS__",n=>wl=n)}const Ru=e=>{const t=zn;return Nf(e),e.scope.on(),()=>{e.scope.off(),Nf(t)}},Gw=()=>{zn&&zn.scope.off(),Nf(null)};function n6(e){return e.vnode.shapeFlag&4}let wl=!1;function mD(e,t=!1,n=!1){t&&fb(t);const{props:s,children:o}=e.vnode,r=n6(e);VF(e,s,r,t),xF(e,o,n);const i=r?gD(e,t):void 0;return t&&fb(!1),i}function gD(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,NF);const{setup:s}=n;if(s){Li();const o=e.setupContext=s.length>1?bD(e):null,r=Ru(e),i=Iu(s,e,0,[e.props,o]),a=xC(i);if(Oi(),r(),(a||e.sp)&&!fa(e)&&R0(e),a){if(i.then(Gw,Gw),t)return i.then(c=>{Kw(e,c)}).catch(c=>{Pu(c,e,0)});e.asyncDep=i}else Kw(e,i)}else s6(e)}function Kw(e,t,n){wt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:fn(t)&&(e.setupState=yT(t)),s6(e)}function s6(e,t,n){const s=e.type;e.render||(e.render=s.render||xo);{const o=Ru(e);Li();try{FF(e)}finally{Oi(),o()}}}const vD={get(e,t){return rs(e,"get",""),e[t]}};function bD(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,vD),slots:e.slots,emit:e.emit,expose:t}}function Ch(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(yT(_h(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Xc)return Xc[n](e)},has(t,n){return n in t||n in Xc}})):e.proxy}function hb(e,t=!0){return wt(e)?e.displayName||e.name:e.name||t&&e.__name}function _D(e){return wt(e)&&"__vccOpts"in e}const vt=(e,t)=>uF(e,t,wl);function Dr(e,t,n){const s=arguments.length;return s===2?fn(t)&&!lt(t)?_i(t)?A(e,null,[t]):A(e,t):A(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&_i(n)&&(n=[n]),A(e,t,n))}const yD="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pb;const xw=typeof window<"u"&&window.trustedTypes;if(xw)try{pb=xw.createPolicy("vue",{createHTML:e=>e})}catch{}const o6=pb?e=>pb.createHTML(e):e=>e,wD="http://www.w3.org/2000/svg",SD="http://www.w3.org/1998/Math/MathML",_r=typeof document<"u"?document:null,Yw=_r&&_r.createElement("template"),kD={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?_r.createElementNS(wD,e):t==="mathml"?_r.createElementNS(SD,e):n?_r.createElement(e,{is:n}):_r.createElement(e);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>_r.createTextNode(e),createComment:e=>_r.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_r.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,r){const i=n?n.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===r||!(o=o.nextSibling)););else{Yw.innerHTML=o6(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=Yw.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ei="transition",Ec="animation",vu=Symbol("_vtc"),r6={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},$D=Kn({},IT,r6),CD=e=>(e.displayName="Transition",e.props=$D,e),i6=CD((e,{slots:t})=>Dr(SF,TD(e),t)),ea=(e,t=[])=>{lt(e)?e.forEach(n=>n(...t)):e&&e(...t)},Xw=e=>e?lt(e)?e.some(t=>t.length>1):e.length>1:!1;function TD(e){const t={};for(const de in e)de in r6||(t[de]=e[de]);if(e.css===!1)return t;const{name:n="v",type:s,duration:o,enterFromClass:r=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=r,appearActiveClass:d=i,appearToClass:f=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:_=`${n}-leave-to`}=e,S=AD(o),k=S&&S[0],P=S&&S[1],{onBeforeEnter:C,onEnter:$,onEnterCancelled:L,onLeave:T,onLeaveCancelled:R,onBeforeAppear:q=C,onAppear:D=$,onAppearCancelled:x=L}=t,oe=(de,Le,Ve,Ge)=>{de._enterCancelled=Ge,ta(de,Le?f:a),ta(de,Le?d:i),Ve&&Ve()},V=(de,Le)=>{de._isLeaving=!1,ta(de,h),ta(de,_),ta(de,v),Le&&Le()},ce=de=>(Le,Ve)=>{const Ge=de?D:$,We=()=>oe(Le,de,Ve);ea(Ge,[Le,We]),Jw(()=>{ta(Le,de?c:r),gr(Le,de?f:a),Xw(Ge)||Zw(Le,s,k,We)})};return Kn(t,{onBeforeEnter(de){ea(C,[de]),gr(de,r),gr(de,i)},onBeforeAppear(de){ea(q,[de]),gr(de,c),gr(de,d)},onEnter:ce(!1),onAppear:ce(!0),onLeave(de,Le){de._isLeaving=!0;const Ve=()=>V(de,Le);gr(de,h),de._enterCancelled?(gr(de,v),tS()):(tS(),gr(de,v)),Jw(()=>{de._isLeaving&&(ta(de,h),gr(de,_),Xw(T)||Zw(de,s,P,Ve))}),ea(T,[de,Ve])},onEnterCancelled(de){oe(de,!1,void 0,!0),ea(L,[de])},onAppearCancelled(de){oe(de,!0,void 0,!0),ea(x,[de])},onLeaveCancelled(de){V(de),ea(R,[de])}})}function AD(e){if(e==null)return null;if(fn(e))return[Rm(e.enter),Rm(e.leave)];{const t=Rm(e);return[t,t]}}function Rm(e){return P7(e)}function gr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[vu]||(e[vu]=new Set)).add(t)}function ta(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[vu];n&&(n.delete(t),n.size||(e[vu]=void 0))}function Jw(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ED=0;function Zw(e,t,n,s){const o=e._endId=++ED,r=()=>{o===e._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:i,timeout:a,propCount:c}=ID(e,t);if(!i)return s();const d=i+"end";let f=0;const h=()=>{e.removeEventListener(d,v),r()},v=_=>{_.target===e&&++f>=c&&h()};setTimeout(()=>{f<c&&h()},a+1),e.addEventListener(d,v)}function ID(e,t){const n=window.getComputedStyle(e),s=S=>(n[S]||"").split(", "),o=s(`${ei}Delay`),r=s(`${ei}Duration`),i=Qw(o,r),a=s(`${Ec}Delay`),c=s(`${Ec}Duration`),d=Qw(a,c);let f=null,h=0,v=0;t===ei?i>0&&(f=ei,h=i,v=r.length):t===Ec?d>0&&(f=Ec,h=d,v=c.length):(h=Math.max(i,d),f=h>0?i>d?ei:Ec:null,v=f?f===ei?r.length:c.length:0);const _=f===ei&&/\b(transform|all)(,|$)/.test(s(`${ei}Property`).toString());return{type:f,timeout:h,propCount:v,hasTransform:_}}function Qw(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>eS(n)+eS(e[s])))}function eS(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function tS(){return document.body.offsetHeight}function PD(e,t,n){const s=e[vu];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ff=Symbol("_vod"),a6=Symbol("_vsh"),Wn={beforeMount(e,{value:t},{transition:n}){e[Ff]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ic(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),Ic(e,!0),s.enter(e)):s.leave(e,()=>{Ic(e,!1)}):Ic(e,t))},beforeUnmount(e,{value:t}){Ic(e,t)}};function Ic(e,t){e.style.display=t?e[Ff]:"none",e[a6]=!t}const LD=Symbol(""),OD=/(^|;)\s*display\s*:/;function RD(e,t,n){const s=e.style,o=Sn(n);let r=!1;if(n&&!o){if(t)if(Sn(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&mf(s,a,"")}else for(const i in t)n[i]==null&&mf(s,i,"");for(const i in n)i==="display"&&(r=!0),mf(s,i,n[i])}else if(o){if(t!==n){const i=s[LD];i&&(n+=";"+i),s.cssText=n,r=OD.test(n)}}else t&&e.removeAttribute("style");Ff in e&&(e[Ff]=r?s.display:"",e[a6]&&(s.display="none"))}const nS=/\s*!important$/;function mf(e,t,n){if(lt(n))n.forEach(s=>mf(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=MD(e,t);nS.test(n)?e.setProperty(Pi(s),n.replace(nS,""),"important"):e[s]=n}}const sS=["Webkit","Moz","ms"],Mm={};function MD(e,t){const n=Mm[t];if(n)return n;let s=po(t);if(s!=="filter"&&s in e)return Mm[t]=s;s=mh(s);for(let o=0;o<sS.length;o++){const r=sS[o]+s;if(r in e)return Mm[t]=r}return t}const oS="http://www.w3.org/1999/xlink";function rS(e,t,n,s,o,r=F7(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(oS,t.slice(6,t.length)):e.setAttributeNS(oS,t,n):n==null||r&&!ZC(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Co(n)?String(n):n)}function iS(e,t,n,s,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?o6(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=ZC(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(o||t)}function kr(e,t,n,s){e.addEventListener(t,n,s)}function ND(e,t,n,s){e.removeEventListener(t,n,s)}const aS=Symbol("_vei");function FD(e,t,n,s,o=null){const r=e[aS]||(e[aS]={}),i=r[t];if(s&&i)i.value=s;else{const[a,c]=DD(t);if(s){const d=r[t]=BD(s,o);kr(e,a,d,c)}else i&&(ND(e,a,i,c),r[t]=void 0)}}const lS=/(?:Once|Passive|Capture)$/;function DD(e){let t;if(lS.test(e)){t={};let s;for(;s=e.match(lS);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Pi(e.slice(2)),t]}let Nm=0;const UD=Promise.resolve(),jD=()=>Nm||(UD.then(()=>Nm=0),Nm=Date.now());function BD(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ao(zD(s,n.value),t,5,[s])};return n.value=e,n.attached=jD(),n}function zD(e,t){if(lt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const cS=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,qD=(e,t,n,s,o,r)=>{const i=o==="svg";t==="class"?PD(e,s,i):t==="style"?RD(e,n,s):hh(t)?y0(t)||FD(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):HD(e,t,s,i))?(iS(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&rS(e,t,s,i,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Sn(s))?iS(e,po(t),s,r,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),rS(e,t,s,i))};function HD(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&cS(t)&&wt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return cS(t)&&Sn(n)?!1:t in e}const wi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return lt(t)?n=>pl(t,n):t};function VD(e){e.target.composing=!0}function uS(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ho=Symbol("_assign"),Mt={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[ho]=wi(o);const r=s||o.props&&o.props.type==="number";kr(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=Tf(a)),e[ho](a)}),n&&kr(e,"change",()=>{e.value=e.value.trim()}),t||(kr(e,"compositionstart",VD),kr(e,"compositionend",uS),kr(e,"change",uS))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:o,number:r}},i){if(e[ho]=wi(i),e.composing)return;const a=(r||e.type==="number")&&!/^0\d/.test(e.value)?Tf(e.value):e.value,c=t??"";a!==c&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||o&&e.value.trim()===c)||(e.value=c))}},WD={deep:!0,created(e,t,n){e[ho]=wi(n),kr(e,"change",()=>{const s=e._modelValue,o=Sl(e),r=e.checked,i=e[ho];if(lt(s)){const a=k0(s,o),c=a!==-1;if(r&&!c)i(s.concat(o));else if(!r&&c){const d=[...s];d.splice(a,1),i(d)}}else if(Nl(s)){const a=new Set(s);r?a.add(o):a.delete(o),i(a)}else i(l6(e,r))})},mounted:dS,beforeUpdate(e,t,n){e[ho]=wi(n),dS(e,t,n)}};function dS(e,{value:t,oldValue:n},s){e._modelValue=t;let o;if(lt(t))o=k0(t,s.props.value)>-1;else if(Nl(t))o=t.has(s.props.value);else{if(t===n)return;o=ga(t,l6(e,!0))}e.checked!==o&&(e.checked=o)}const GD={created(e,{value:t},n){e.checked=ga(t,n.props.value),e[ho]=wi(n),kr(e,"change",()=>{e[ho](Sl(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[ho]=wi(s),t!==n&&(e.checked=ga(t,s.props.value))}},KD={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const o=Nl(t);kr(e,"change",()=>{const r=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?Tf(Sl(i)):Sl(i));e[ho](e.multiple?o?new Set(r):r:r[0]),e._assigning=!0,bi(()=>{e._assigning=!1})}),e[ho]=wi(s)},mounted(e,{value:t}){fS(e,t)},beforeUpdate(e,t,n){e[ho]=wi(n)},updated(e,{value:t}){e._assigning||fS(e,t)}};function fS(e,t){const n=e.multiple,s=lt(t);if(!(n&&!s&&!Nl(t))){for(let o=0,r=e.options.length;o<r;o++){const i=e.options[o],a=Sl(i);if(n)if(s){const c=typeof a;c==="string"||c==="number"?i.selected=t.some(d=>String(d)===String(a)):i.selected=k0(t,a)>-1}else i.selected=t.has(a);else if(ga(Sl(i),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Sl(e){return"_value"in e?e._value:e.value}function l6(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const hS={created(e,t,n){xd(e,t,n,null,"created")},mounted(e,t,n){xd(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){xd(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){xd(e,t,n,s,"updated")}};function xD(e,t){switch(e){case"SELECT":return KD;case"TEXTAREA":return Mt;default:switch(t){case"checkbox":return WD;case"radio":return GD;default:return Mt}}}function xd(e,t,n,s,o){const i=xD(e.tagName,n.props&&n.props.type)[o];i&&i(e,t,n,s)}const YD=["ctrl","shift","alt","meta"],XD={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>YD.some(n=>e[`${n}Key`]&&!t.includes(n))},Se=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(o,...r)=>{for(let i=0;i<t.length;i++){const a=XD[t[i]];if(a&&a(o,t))return}return e(o,...r)})},JD={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ir=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=o=>{if(!("key"in o))return;const r=Pi(o.key);if(t.some(i=>i===r||JD[i]===r))return e(o)})},ZD=Kn({patchProp:qD},kD);let pS;function QD(){return pS||(pS=XF(ZD))}const eU=(...e)=>{const t=QD().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=nU(s);if(!o)return;const r=t._component;!wt(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const i=n(o,!1,tU(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function tU(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function nU(e){return Sn(e)?document.querySelector(e):e}function sU(){return c6().__VUE_DEVTOOLS_GLOBAL_HOOK__}function c6(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const oU=typeof Proxy=="function",rU="devtools-plugin:setup",iU="plugin:settings:set";let nl,mb;function aU(){var e;return nl!==void 0||(typeof window<"u"&&window.performance?(nl=!0,mb=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(nl=!0,mb=globalThis.perf_hooks.performance):nl=!1),nl}function lU(){return aU()?mb.now():Date.now()}class cU{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const s={};if(t.settings)for(const i in t.settings){const a=t.settings[i];s[i]=a.defaultValue}const o=`__vue-devtools-plugin-settings__${t.id}`;let r=Object.assign({},s);try{const i=localStorage.getItem(o),a=JSON.parse(i);Object.assign(r,a)}catch{}this.fallbacks={getSettings(){return r},setSettings(i){try{localStorage.setItem(o,JSON.stringify(i))}catch{}r=i},now(){return lU()}},n&&n.on(iU,(i,a)=>{i===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(i,a)=>this.target?this.target.on[a]:(...c)=>{this.onQueue.push({method:a,args:c})}}),this.proxiedTarget=new Proxy({},{get:(i,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...c)=>(this.targetQueue.push({method:a,args:c,resolve:()=>{}}),this.fallbacks[a](...c)):(...c)=>new Promise(d=>{this.targetQueue.push({method:a,args:c,resolve:d})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function uU(e,t){const n=e,s=c6(),o=sU(),r=oU&&n.enableEarlyProxy;if(o&&(s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!r))o.emit(rU,e,t);else{const i=r?new cU(n,o):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:i}),i&&t(i.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var dU="store";function Ul(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function u6(e){return e!==null&&typeof e=="object"}function fU(e){return e&&typeof e.then=="function"}function hU(e,t){return function(){return e(t)}}function d6(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var s=t.indexOf(e);s>-1&&t.splice(s,1)}}function f6(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Th(e,n,[],e._modules.root,!0),q0(e,n,t)}function q0(e,t,n){var s=e._state,o=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var r=e._wrappedGetters,i={},a={},c=vh(!0);c.run(function(){Ul(r,function(d,f){i[f]=hU(d,e),a[f]=vt(function(){return i[f]()}),Object.defineProperty(e.getters,f,{get:function(){return a[f].value},enumerable:!0})})}),e._state=To({data:t}),e._scope=c,e.strict&&bU(e),s&&n&&e._withCommit(function(){s.data=null}),o&&o.stop()}function Th(e,t,n,s,o){var r=!n.length,i=e._modules.getNamespace(n);if(s.namespaced&&(e._modulesNamespaceMap[i],e._modulesNamespaceMap[i]=s),!r&&!o){var a=H0(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit(function(){a[c]=s.state})}var d=s.context=pU(e,i,n);s.forEachMutation(function(f,h){var v=i+h;mU(e,v,f,d)}),s.forEachAction(function(f,h){var v=f.root?h:i+h,_=f.handler||f;gU(e,v,_,d)}),s.forEachGetter(function(f,h){var v=i+h;vU(e,v,f,d)}),s.forEachChild(function(f,h){Th(e,t,n.concat(h),f,o)})}function pU(e,t,n){var s=t==="",o={dispatch:s?e.dispatch:function(r,i,a){var c=Df(r,i,a),d=c.payload,f=c.options,h=c.type;return(!f||!f.root)&&(h=t+h),e.dispatch(h,d)},commit:s?e.commit:function(r,i,a){var c=Df(r,i,a),d=c.payload,f=c.options,h=c.type;(!f||!f.root)&&(h=t+h),e.commit(h,d,f)}};return Object.defineProperties(o,{getters:{get:s?function(){return e.getters}:function(){return h6(e,t)}},state:{get:function(){return H0(e.state,n)}}}),o}function h6(e,t){if(!e._makeLocalGettersCache[t]){var n={},s=t.length;Object.keys(e.getters).forEach(function(o){if(o.slice(0,s)===t){var r=o.slice(s);Object.defineProperty(n,r,{get:function(){return e.getters[o]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function mU(e,t,n,s){var o=e._mutations[t]||(e._mutations[t]=[]);o.push(function(i){n.call(e,s.state,i)})}function gU(e,t,n,s){var o=e._actions[t]||(e._actions[t]=[]);o.push(function(i){var a=n.call(e,{dispatch:s.dispatch,commit:s.commit,getters:s.getters,state:s.state,rootGetters:e.getters,rootState:e.state},i);return fU(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(c){throw e._devtoolHook.emit("vuex:error",c),c}):a})}function vU(e,t,n,s){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(r){return n(s.state,s.getters,r.state,r.getters)})}function bU(e){Qn(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function H0(e,t){return t.reduce(function(n,s){return n[s]},e)}function Df(e,t,n){return u6(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var _U="vuex bindings",mS="vuex:mutations",Fm="vuex:actions",sl="vuex",yU=0;function wU(e,t){uU({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[_U]},function(n){n.addTimelineLayer({id:mS,label:"Vuex Mutations",color:gS}),n.addTimelineLayer({id:Fm,label:"Vuex Actions",color:gS}),n.addInspector({id:sl,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(s){if(s.app===e&&s.inspectorId===sl)if(s.filter){var o=[];v6(o,t._modules.root,s.filter,""),s.rootNodes=o}else s.rootNodes=[g6(t._modules.root,"")]}),n.on.getInspectorState(function(s){if(s.app===e&&s.inspectorId===sl){var o=s.nodeId;h6(t,o),s.state=$U(TU(t._modules,o),o==="root"?t.getters:t._makeLocalGettersCache,o)}}),n.on.editInspectorState(function(s){if(s.app===e&&s.inspectorId===sl){var o=s.nodeId,r=s.path;o!=="root"&&(r=o.split("/").filter(Boolean).concat(r)),t._withCommit(function(){s.set(t._state.data,r,s.state.value)})}}),t.subscribe(function(s,o){var r={};s.payload&&(r.payload=s.payload),r.state=o,n.notifyComponentUpdate(),n.sendInspectorTree(sl),n.sendInspectorState(sl),n.addTimelineEvent({layerId:mS,event:{time:Date.now(),title:s.type,data:r}})}),t.subscribeAction({before:function(s,o){var r={};s.payload&&(r.payload=s.payload),s._id=yU++,s._time=Date.now(),r.state=o,n.addTimelineEvent({layerId:Fm,event:{time:s._time,title:s.type,groupId:s._id,subtitle:"start",data:r}})},after:function(s,o){var r={},i=Date.now()-s._time;r.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},s.payload&&(r.payload=s.payload),r.state=o,n.addTimelineEvent({layerId:Fm,event:{time:Date.now(),title:s.type,groupId:s._id,subtitle:"end",data:r}})}})})}var gS=8702998,SU=6710886,kU=16777215,p6={label:"namespaced",textColor:kU,backgroundColor:SU};function m6(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function g6(e,t){return{id:t||"root",label:m6(t),tags:e.namespaced?[p6]:[],children:Object.keys(e._children).map(function(n){return g6(e._children[n],t+n+"/")})}}function v6(e,t,n,s){s.includes(n)&&e.push({id:s||"root",label:s.endsWith("/")?s.slice(0,s.length-1):s||"Root",tags:t.namespaced?[p6]:[]}),Object.keys(t._children).forEach(function(o){v6(e,t._children[o],n,s+o+"/")})}function $U(e,t,n){t=n==="root"?t:t[n];var s=Object.keys(t),o={state:Object.keys(e.state).map(function(i){return{key:i,editable:!0,value:e.state[i]}})};if(s.length){var r=CU(t);o.getters=Object.keys(r).map(function(i){return{key:i.endsWith("/")?m6(i):i,editable:!1,value:gb(function(){return r[i]})}})}return o}function CU(e){var t={};return Object.keys(e).forEach(function(n){var s=n.split("/");if(s.length>1){var o=t,r=s.pop();s.forEach(function(i){o[i]||(o[i]={_custom:{value:{},display:i,tooltip:"Module",abstract:!0}}),o=o[i]._custom.value}),o[r]=gb(function(){return e[n]})}else t[n]=gb(function(){return e[n]})}),t}function TU(e,t){var n=t.split("/").filter(function(s){return s});return n.reduce(function(s,o,r){var i=s[o];if(!i)throw new Error('Missing module "'+o+'" for path "'+t+'".');return r===n.length-1?i:i._children},t==="root"?e:e.root._children)}function gb(e){try{return e()}catch(t){return t}}var Io=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var s=t.state;this.state=(typeof s=="function"?s():s)||{}},b6={namespaced:{configurable:!0}};b6.namespaced.get=function(){return!!this._rawModule.namespaced};Io.prototype.addChild=function(t,n){this._children[t]=n};Io.prototype.removeChild=function(t){delete this._children[t]};Io.prototype.getChild=function(t){return this._children[t]};Io.prototype.hasChild=function(t){return t in this._children};Io.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Io.prototype.forEachChild=function(t){Ul(this._children,t)};Io.prototype.forEachGetter=function(t){this._rawModule.getters&&Ul(this._rawModule.getters,t)};Io.prototype.forEachAction=function(t){this._rawModule.actions&&Ul(this._rawModule.actions,t)};Io.prototype.forEachMutation=function(t){this._rawModule.mutations&&Ul(this._rawModule.mutations,t)};Object.defineProperties(Io.prototype,b6);var Sa=function(t){this.register([],t,!1)};Sa.prototype.get=function(t){return t.reduce(function(n,s){return n.getChild(s)},this.root)};Sa.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(s,o){return n=n.getChild(o),s+(n.namespaced?o+"/":"")},"")};Sa.prototype.update=function(t){_6([],this.root,t)};Sa.prototype.register=function(t,n,s){var o=this;s===void 0&&(s=!0);var r=new Io(n,s);if(t.length===0)this.root=r;else{var i=this.get(t.slice(0,-1));i.addChild(t[t.length-1],r)}n.modules&&Ul(n.modules,function(a,c){o.register(t.concat(c),a,s)})};Sa.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),s=t[t.length-1],o=n.getChild(s);o&&o.runtime&&n.removeChild(s)};Sa.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),s=t[t.length-1];return n?n.hasChild(s):!1};function _6(e,t,n){if(t.update(n),n.modules)for(var s in n.modules){if(!t.getChild(s))return;_6(e.concat(s),t.getChild(s),n.modules[s])}}function AU(e){return new Ls(e)}var Ls=function(t){var n=this;t===void 0&&(t={});var s=t.plugins;s===void 0&&(s=[]);var o=t.strict;o===void 0&&(o=!1);var r=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Sa(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=r;var i=this,a=this,c=a.dispatch,d=a.commit;this.dispatch=function(v,_){return c.call(i,v,_)},this.commit=function(v,_,S){return d.call(i,v,_,S)},this.strict=o;var f=this._modules.root.state;Th(this,f,[],this._modules.root),q0(this,f),s.forEach(function(h){return h(n)})},V0={state:{configurable:!0}};Ls.prototype.install=function(t,n){t.provide(n||dU,this),t.config.globalProperties.$store=this;var s=this._devtools!==void 0?this._devtools:!1;s&&wU(t,this)};V0.state.get=function(){return this._state.data};V0.state.set=function(e){};Ls.prototype.commit=function(t,n,s){var o=this,r=Df(t,n,s),i=r.type,a=r.payload,c={type:i,payload:a},d=this._mutations[i];d&&(this._withCommit(function(){d.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(f){return f(c,o.state)}))};Ls.prototype.dispatch=function(t,n){var s=this,o=Df(t,n),r=o.type,i=o.payload,a={type:r,payload:i},c=this._actions[r];if(c){try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(a,s.state)})}catch{}var d=c.length>1?Promise.all(c.map(function(f){return f(i)})):c[0](i);return new Promise(function(f,h){d.then(function(v){try{s._actionSubscribers.filter(function(_){return _.after}).forEach(function(_){return _.after(a,s.state)})}catch{}f(v)},function(v){try{s._actionSubscribers.filter(function(_){return _.error}).forEach(function(_){return _.error(a,s.state,v)})}catch{}h(v)})})}};Ls.prototype.subscribe=function(t,n){return d6(t,this._subscribers,n)};Ls.prototype.subscribeAction=function(t,n){var s=typeof t=="function"?{before:t}:t;return d6(s,this._actionSubscribers,n)};Ls.prototype.watch=function(t,n,s){var o=this;return Qn(function(){return t(o.state,o.getters)},n,Object.assign({},s))};Ls.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Ls.prototype.registerModule=function(t,n,s){s===void 0&&(s={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),Th(this,this.state,t,this._modules.get(t),s.preserveState),q0(this,this.state)};Ls.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var s=H0(n.state,t.slice(0,-1));delete s[t[t.length-1]]}),f6(this)};Ls.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Ls.prototype.hotUpdate=function(t){this._modules.update(t),f6(this,!0)};Ls.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Ls.prototype,V0);var hn=Ih(function(e,t){var n={};return Eh(t).forEach(function(s){var o=s.key,r=s.val;n[o]=function(){var a=this.$store.state,c=this.$store.getters;if(e){var d=Ph(this.$store,"mapState",e);if(!d)return;a=d.context.state,c=d.context.getters}return typeof r=="function"?r.call(this,a,c):a[r]},n[o].vuex=!0}),n}),W0=Ih(function(e,t){var n={};return Eh(t).forEach(function(s){var o=s.key,r=s.val;n[o]=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=this.$store.commit;if(e){var f=Ph(this.$store,"mapMutations",e);if(!f)return;d=f.context.commit}return typeof r=="function"?r.apply(this,[d].concat(a)):d.apply(this.$store,[r].concat(a))}}),n}),Zt=Ih(function(e,t){var n={};return Eh(t).forEach(function(s){var o=s.key,r=s.val;r=e+r,n[o]=function(){if(!(e&&!Ph(this.$store,"mapGetters",e)))return this.$store.getters[r]},n[o].vuex=!0}),n}),Ah=Ih(function(e,t){var n={};return Eh(t).forEach(function(s){var o=s.key,r=s.val;n[o]=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=this.$store.dispatch;if(e){var f=Ph(this.$store,"mapActions",e);if(!f)return;d=f.context.dispatch}return typeof r=="function"?r.apply(this,[d].concat(a)):d.apply(this.$store,[r].concat(a))}}),n});function Eh(e){return EU(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function EU(e){return Array.isArray(e)||u6(e)}function Ih(e){return function(t,n){return typeof t!="string"?(n=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,n)}}function Ph(e,t,n){var s=e._modulesNamespaceMap[n];return s}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let y6;const Lh=e=>y6=e,w6=Symbol();function vb(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Zc;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Zc||(Zc={}));function IU(){const e=vh(!0),t=e.run(()=>Gn({}));let n=[],s=[];const o=_h({install(r){Lh(o),o._a=r,r.provide(w6,o),r.config.globalProperties.$pinia=o,s.forEach(i=>n.push(i)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const S6=()=>{};function vS(e,t,n,s=S6){e.push(t);const o=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),s())};return!n&&nT()&&U7(o),o}function ol(e,...t){e.slice().forEach(n=>{n(...t)})}const PU=e=>e(),bS=Symbol(),Dm=Symbol();function bb(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,s)=>e.set(s,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],o=e[n];vb(o)&&vb(s)&&e.hasOwnProperty(n)&&!wn(s)&&!Er(s)?e[n]=bb(o,s):e[n]=s}return e}const LU=Symbol();function OU(e){return!vb(e)||!Object.prototype.hasOwnProperty.call(e,LU)}const{assign:oi}=Object;function RU(e){return!!(wn(e)&&e.effect)}function MU(e,t,n,s){const{state:o,actions:r,getters:i}=t,a=n.state.value[e];let c;function d(){a||(n.state.value[e]=o?o():{});const f=iF(n.state.value[e]);return oi(f,r,Object.keys(i||{}).reduce((h,v)=>(h[v]=_h(vt(()=>{Lh(n);const _=n._s.get(e);return i[v].call(_,_)})),h),{}))}return c=k6(e,d,t,n,s,!0),c}function k6(e,t,n={},s,o,r){let i;const a=oi({actions:{}},n),c={deep:!0};let d,f,h=[],v=[],_;const S=s.state.value[e];!r&&!S&&(s.state.value[e]={}),Gn({});let k;function P(x){let oe;d=f=!1,typeof x=="function"?(x(s.state.value[e]),oe={type:Zc.patchFunction,storeId:e,events:_}):(bb(s.state.value[e],x),oe={type:Zc.patchObject,payload:x,storeId:e,events:_});const V=k=Symbol();bi().then(()=>{k===V&&(d=!0)}),f=!0,ol(h,oe,s.state.value[e])}const C=r?function(){const{state:oe}=n,V=oe?oe():{};this.$patch(ce=>{oi(ce,V)})}:S6;function $(){i.stop(),h=[],v=[],s._s.delete(e)}const L=(x,oe="")=>{if(bS in x)return x[Dm]=oe,x;const V=function(){Lh(s);const ce=Array.from(arguments),de=[],Le=[];function Ve(Be){de.push(Be)}function Ge(Be){Le.push(Be)}ol(v,{args:ce,name:V[Dm],store:R,after:Ve,onError:Ge});let We;try{We=x.apply(this&&this.$id===e?this:R,ce)}catch(Be){throw ol(Le,Be),Be}return We instanceof Promise?We.then(Be=>(ol(de,Be),Be)).catch(Be=>(ol(Le,Be),Promise.reject(Be))):(ol(de,We),We)};return V[bS]=!0,V[Dm]=oe,V},T={_p:s,$id:e,$onAction:vS.bind(null,v),$patch:P,$reset:C,$subscribe(x,oe={}){const V=vS(h,x,oe.detached,()=>ce()),ce=i.run(()=>Qn(()=>s.state.value[e],de=>{(oe.flush==="sync"?f:d)&&x({storeId:e,type:Zc.direct,events:_},de)},oi({},c,oe)));return V},$dispose:$},R=To(T);s._s.set(e,R);const D=(s._a&&s._a.runWithContext||PU)(()=>s._e.run(()=>(i=vh()).run(()=>t({action:L}))));for(const x in D){const oe=D[x];if(wn(oe)&&!RU(oe)||Er(oe))r||(S&&OU(oe)&&(wn(oe)?oe.value=S[x]:bb(oe,S[x])),s.state.value[e][x]=oe);else if(typeof oe=="function"){const V=L(oe,x);D[x]=V,a.actions[x]=oe}}return oi(R,D),oi(Rt(R),D),Object.defineProperty(R,"$state",{get:()=>s.state.value[e],set:x=>{P(oe=>{oi(oe,x)})}}),s._p.forEach(x=>{oi(R,i.run(()=>x({store:R,app:s._a,pinia:s,options:a})))}),S&&r&&n.hydrate&&n.hydrate(R.$state,S),d=!0,f=!0,R}/*! #__NO_SIDE_EFFECTS__ */function ys(e,t,n){let s;const o=typeof t=="function";s=o?n:t;function r(i,a){const c=HF();return i=i||(c?Vs(w6,null):null),i&&Lh(i),i=y6,i._s.has(e)||(o?k6(e,t,s,i):MU(e,s,i)),i._s.get(e)}return r.$id=e,r}let NU="Store";function Oh(...e){return e.reduce((t,n)=>(t[n.$id+NU]=function(){return n(this.$pinia)},t),{})}function _n(e,t){return Array.isArray(t)?t.reduce((n,s)=>(n[s]=function(){return e(this.$pinia)[s]},n),{}):Object.keys(t).reduce((n,s)=>(n[s]=function(){const o=e(this.$pinia),r=t[s];return typeof r=="function"?r.call(this,o):o[r]},n),{})}function FU(e,t){return Array.isArray(t)?t.reduce((n,s)=>(n[s]=function(...o){return e(this.$pinia)[s](...o)},n),{}):Object.keys(t).reduce((n,s)=>(n[s]=function(...o){return e(this.$pinia)[t[s]](...o)},n),{})}(function(){if(!(typeof window>"u"))try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),e.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch{var t=function(s,o){var r,i;return o=o||{},o.bubbles=!!o.bubbles,o.cancelable=!!o.cancelable,r=document.createEvent("CustomEvent"),r.initCustomEvent(s,o.bubbles,o.cancelable,o.detail),i=r.preventDefault,r.preventDefault=function(){i.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch{this.defaultPrevented=!0}},r};t.prototype=window.Event.prototype,window.CustomEvent=t}})();/*! (c) Andrea Giammarchi - ISC */var _b={};try{_b.EventTarget=new EventTarget().constructor}catch{(function(t,n){var s=t.create,o=t.defineProperty,r=i.prototype;a(r,"addEventListener",function(d,f,h){for(var v=n.get(this),_=v[d]||(v[d]=[]),S=0,k=_.length;S<k;S++)if(_[S].listener===f)return;_.push({target:this,listener:f,options:h})}),a(r,"dispatchEvent",function(d){var f=n.get(this),h=f[d.type];return h&&(a(d,"target",this),a(d,"currentTarget",this),h.slice(0).some(c,d),delete d.currentTarget,delete d.target),!0}),a(r,"removeEventListener",function(d,f){for(var h=n.get(this),v=h[d]||(h[d]=[]),_=0,S=v.length;_<S;_++)if(v[_].listener===f){v.splice(_,1);return}}),_b.EventTarget=i;function i(){n.set(this,s(null))}function a(d,f,h){o(d,f,{configurable:!0,writable:!0,value:h})}function c(d){var f=d.options;return f&&f.once&&d.target.removeEventListener(this.type,d.listener),typeof d.listener=="function"?d.listener.call(d.target,this):d.listener.handleEvent(this),this._stopImmediatePropagationFlag}})(Object,new WeakMap)}const DU=_b.EventTarget;try{new EventTarget().dispatchEvent()}catch{window.EventTarget=DU}const UU="modulepreload",jU=function(e){return"/"+e},_S={},He=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let i=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));o=i(n.map(d=>{if(d=jU(d),d in _S)return;_S[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":UU,f||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),f)return new Promise((_,S)=>{v.addEventListener("load",_),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return o.then(i=>{for(const a of i||[])a.status==="rejected"&&r(a.reason);return t().catch(r)})};var cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var BU=Fc.exports,yS;function zU(){return yS||(yS=1,function(e,t){(function(){var n,s="4.17.21",o=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",a="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,f="__lodash_placeholder__",h=1,v=2,_=4,S=1,k=2,P=1,C=2,$=4,L=8,T=16,R=32,q=64,D=128,x=256,oe=512,V=30,ce="...",de=800,Le=16,Ve=1,Ge=2,We=3,Be=1/0,it=9007199254740991,$t=17976931348623157e292,dt=NaN,bt=4294967295,It=bt-1,nt=bt>>>1,yt=[["ary",D],["bind",P],["bindKey",C],["curry",L],["curryRight",T],["flip",oe],["partial",R],["partialRight",q],["rearg",x]],ft="[object Arguments]",qt="[object Array]",ye="[object AsyncFunction]",Me="[object Boolean]",Fe="[object Date]",Ue="[object DOMException]",pt="[object Error]",H="[object Function]",W="[object GeneratorFunction]",Q="[object Map]",pe="[object Number]",we="[object Null]",_e="[object Object]",U="[object Promise]",B="[object Proxy]",te="[object RegExp]",ue="[object Set]",je="[object String]",ke="[object Symbol]",se="[object Undefined]",me="[object WeakMap]",xe="[object WeakSet]",rt="[object ArrayBuffer]",ut="[object DataView]",sn="[object Float32Array]",Vt="[object Float64Array]",Tn="[object Int8Array]",In="[object Int16Array]",ws="[object Int32Array]",Ys="[object Uint8Array]",an="[object Uint8ClampedArray]",Pn="[object Uint16Array]",Xs="[object Uint32Array]",Ui=/\b__p \+= '';/g,Hl=/\b(__p \+=) '' \+/g,Os=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Lo=/&(?:amp|lt|gt|quot|#39);/g,Oa=/[&<>"']/g,Js=RegExp(Lo.source),Vl=RegExp(Oa.source),Wl=/<%-([\s\S]+?)%>/g,Gl=/<%([\s\S]+?)%>/g,Ra=/<%=([\s\S]+?)%>/g,Kl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rs=/^\w*$/,xl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ji=/[\\^$.*+?()[\]{}|]/g,Yl=RegExp(ji.source),Bi=/^\s+/,Ma=/\s/,Oo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xl=/\{\n\/\* \[wrapped with (.+)\] \*/,Jl=/,? & /,Zl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ql=/[()=,{}\[\]\/\s]/,ec=/\\(\\)?/g,Ro=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Na=/\w*$/,tc=/^[-+]0x[0-9a-f]+$/i,nc=/^0b[01]+$/i,sc=/^\[object .+?Constructor\]$/,oc=/^0o[0-7]+$/i,rc=/^(?:0|[1-9]\d*)$/,zi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zr=/($^)/,Qo=/['\n\r\u2028\u2029\\]/g,Ss="\\ud800-\\udfff",Fa="\\u0300-\\u036f",Ms="\\ufe20-\\ufe2f",Da="\\u20d0-\\u20ff",er=Fa+Ms+Da,qr="\\u2700-\\u27bf",Ua="a-z\\xdf-\\xf6\\xf8-\\xff",ja="\\xac\\xb1\\xd7\\xf7",qi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ic="\\u2000-\\u206f",ac=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",N="A-Z\\xc0-\\xd6\\xd8-\\xde",Y="\\ufe0e\\ufe0f",j=ja+qi+ic+ac,ne="[']",ae="["+Ss+"]",ee="["+j+"]",Ce="["+er+"]",Ie="\\d+",Oe="["+qr+"]",Re="["+Ua+"]",De="[^"+Ss+j+Ie+qr+Ua+N+"]",Xe="\\ud83c[\\udffb-\\udfff]",Ct="(?:"+Ce+"|"+Xe+")",jt="[^"+Ss+"]",Bt="(?:\\ud83c[\\udde6-\\uddff]){2}",ln="[\\ud800-\\udbff][\\udc00-\\udfff]",Kt="["+N+"]",Xn="\\u200d",Mo="(?:"+Re+"|"+De+")",tr="(?:"+Kt+"|"+De+")",Ba="(?:"+ne+"(?:d|ll|m|re|s|t|ve))?",Hr="(?:"+ne+"(?:D|LL|M|RE|S|T|VE))?",lc=Ct+"?",nr="["+Y+"]?",Hi="(?:"+Xn+"(?:"+[jt,Bt,ln].join("|")+")"+nr+lc+")*",Vr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",cc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zu=nr+lc+Hi,Qu="(?:"+[Oe,Bt,ln].join("|")+")"+Zu,uc="(?:"+[jt+Ce+"?",Ce,Bt,ln,ae].join("|")+")",ed=RegExp(ne,"g"),sr=RegExp(Ce,"g"),or=RegExp(Xe+"(?="+Xe+")|"+uc+Zu,"g"),vp=RegExp([Kt+"?"+Re+"+"+Ba+"(?="+[ee,Kt,"$"].join("|")+")",tr+"+"+Hr+"(?="+[ee,Kt+Mo,"$"].join("|")+")",Kt+"?"+Mo+"+"+Ba,Kt+"+"+Hr,cc,Vr,Ie,Qu].join("|"),"g"),td=RegExp("["+Xn+Ss+er+Y+"]"),bp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_p=-1,cn={};cn[sn]=cn[Vt]=cn[Tn]=cn[In]=cn[ws]=cn[Ys]=cn[an]=cn[Pn]=cn[Xs]=!0,cn[ft]=cn[qt]=cn[rt]=cn[Me]=cn[ut]=cn[Fe]=cn[pt]=cn[H]=cn[Q]=cn[pe]=cn[_e]=cn[te]=cn[ue]=cn[je]=cn[me]=!1;var Qt={};Qt[ft]=Qt[qt]=Qt[rt]=Qt[ut]=Qt[Me]=Qt[Fe]=Qt[sn]=Qt[Vt]=Qt[Tn]=Qt[In]=Qt[ws]=Qt[Q]=Qt[pe]=Qt[_e]=Qt[te]=Qt[ue]=Qt[je]=Qt[ke]=Qt[Ys]=Qt[an]=Qt[Pn]=Qt[Xs]=!0,Qt[pt]=Qt[H]=Qt[me]=!1;var yp={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},re={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ve={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=parseFloat,Dt=parseInt,xt=typeof cs=="object"&&cs&&cs.Object===Object&&cs,pn=typeof self=="object"&&self&&self.Object===Object&&self,_t=xt||pn||Function("return this")(),on=t&&!t.nodeType&&t,Fn=on&&!0&&e&&!e.nodeType&&e,ts=Fn&&Fn.exports===on,rr=ts&&xt.process,ns=function(){try{var ie=Fn&&Fn.require&&Fn.require("util").types;return ie||rr&&rr.binding&&rr.binding("util")}catch{}}(),za=ns&&ns.isArrayBuffer,dc=ns&&ns.isDate,$y=ns&&ns.isMap,Cy=ns&&ns.isRegExp,Ty=ns&&ns.isSet,Ay=ns&&ns.isTypedArray;function Ns(ie,$e,ge){switch(ge.length){case 0:return ie.call($e);case 1:return ie.call($e,ge[0]);case 2:return ie.call($e,ge[0],ge[1]);case 3:return ie.call($e,ge[0],ge[1],ge[2])}return ie.apply($e,ge)}function K5(ie,$e,ge,Je){for(var St=-1,Wt=ie==null?0:ie.length;++St<Wt;){var Dn=ie[St];$e(Je,Dn,ge(Dn),ie)}return Je}function Zs(ie,$e){for(var ge=-1,Je=ie==null?0:ie.length;++ge<Je&&$e(ie[ge],ge,ie)!==!1;);return ie}function x5(ie,$e){for(var ge=ie==null?0:ie.length;ge--&&$e(ie[ge],ge,ie)!==!1;);return ie}function Ey(ie,$e){for(var ge=-1,Je=ie==null?0:ie.length;++ge<Je;)if(!$e(ie[ge],ge,ie))return!1;return!0}function Wr(ie,$e){for(var ge=-1,Je=ie==null?0:ie.length,St=0,Wt=[];++ge<Je;){var Dn=ie[ge];$e(Dn,ge,ie)&&(Wt[St++]=Dn)}return Wt}function sd(ie,$e){var ge=ie==null?0:ie.length;return!!ge&&qa(ie,$e,0)>-1}function wp(ie,$e,ge){for(var Je=-1,St=ie==null?0:ie.length;++Je<St;)if(ge($e,ie[Je]))return!0;return!1}function kn(ie,$e){for(var ge=-1,Je=ie==null?0:ie.length,St=Array(Je);++ge<Je;)St[ge]=$e(ie[ge],ge,ie);return St}function Gr(ie,$e){for(var ge=-1,Je=$e.length,St=ie.length;++ge<Je;)ie[St+ge]=$e[ge];return ie}function Sp(ie,$e,ge,Je){var St=-1,Wt=ie==null?0:ie.length;for(Je&&Wt&&(ge=ie[++St]);++St<Wt;)ge=$e(ge,ie[St],St,ie);return ge}function Y5(ie,$e,ge,Je){var St=ie==null?0:ie.length;for(Je&&St&&(ge=ie[--St]);St--;)ge=$e(ge,ie[St],St,ie);return ge}function kp(ie,$e){for(var ge=-1,Je=ie==null?0:ie.length;++ge<Je;)if($e(ie[ge],ge,ie))return!0;return!1}var X5=$p("length");function J5(ie){return ie.split("")}function Z5(ie){return ie.match(Zl)||[]}function Iy(ie,$e,ge){var Je;return ge(ie,function(St,Wt,Dn){if($e(St,Wt,Dn))return Je=Wt,!1}),Je}function od(ie,$e,ge,Je){for(var St=ie.length,Wt=ge+(Je?1:-1);Je?Wt--:++Wt<St;)if($e(ie[Wt],Wt,ie))return Wt;return-1}function qa(ie,$e,ge){return $e===$e?uP(ie,$e,ge):od(ie,Py,ge)}function Q5(ie,$e,ge,Je){for(var St=ge-1,Wt=ie.length;++St<Wt;)if(Je(ie[St],$e))return St;return-1}function Py(ie){return ie!==ie}function Ly(ie,$e){var ge=ie==null?0:ie.length;return ge?Tp(ie,$e)/ge:dt}function $p(ie){return function($e){return $e==null?n:$e[ie]}}function Cp(ie){return function($e){return ie==null?n:ie[$e]}}function Oy(ie,$e,ge,Je,St){return St(ie,function(Wt,Dn,un){ge=Je?(Je=!1,Wt):$e(ge,Wt,Dn,un)}),ge}function eP(ie,$e){var ge=ie.length;for(ie.sort($e);ge--;)ie[ge]=ie[ge].value;return ie}function Tp(ie,$e){for(var ge,Je=-1,St=ie.length;++Je<St;){var Wt=$e(ie[Je]);Wt!==n&&(ge=ge===n?Wt:ge+Wt)}return ge}function Ap(ie,$e){for(var ge=-1,Je=Array(ie);++ge<ie;)Je[ge]=$e(ge);return Je}function tP(ie,$e){return kn($e,function(ge){return[ge,ie[ge]]})}function Ry(ie){return ie&&ie.slice(0,Dy(ie)+1).replace(Bi,"")}function Fs(ie){return function($e){return ie($e)}}function Ep(ie,$e){return kn($e,function(ge){return ie[ge]})}function fc(ie,$e){return ie.has($e)}function My(ie,$e){for(var ge=-1,Je=ie.length;++ge<Je&&qa($e,ie[ge],0)>-1;);return ge}function Ny(ie,$e){for(var ge=ie.length;ge--&&qa($e,ie[ge],0)>-1;);return ge}function nP(ie,$e){for(var ge=ie.length,Je=0;ge--;)ie[ge]===$e&&++Je;return Je}var sP=Cp(yp),oP=Cp(z);function rP(ie){return"\\"+ve[ie]}function iP(ie,$e){return ie==null?n:ie[$e]}function Ha(ie){return td.test(ie)}function aP(ie){return bp.test(ie)}function lP(ie){for(var $e,ge=[];!($e=ie.next()).done;)ge.push($e.value);return ge}function Ip(ie){var $e=-1,ge=Array(ie.size);return ie.forEach(function(Je,St){ge[++$e]=[St,Je]}),ge}function Fy(ie,$e){return function(ge){return ie($e(ge))}}function Kr(ie,$e){for(var ge=-1,Je=ie.length,St=0,Wt=[];++ge<Je;){var Dn=ie[ge];(Dn===$e||Dn===f)&&(ie[ge]=f,Wt[St++]=ge)}return Wt}function rd(ie){var $e=-1,ge=Array(ie.size);return ie.forEach(function(Je){ge[++$e]=Je}),ge}function cP(ie){var $e=-1,ge=Array(ie.size);return ie.forEach(function(Je){ge[++$e]=[Je,Je]}),ge}function uP(ie,$e,ge){for(var Je=ge-1,St=ie.length;++Je<St;)if(ie[Je]===$e)return Je;return-1}function dP(ie,$e,ge){for(var Je=ge+1;Je--;)if(ie[Je]===$e)return Je;return Je}function Va(ie){return Ha(ie)?hP(ie):X5(ie)}function vo(ie){return Ha(ie)?pP(ie):J5(ie)}function Dy(ie){for(var $e=ie.length;$e--&&Ma.test(ie.charAt($e)););return $e}var fP=Cp(re);function hP(ie){for(var $e=or.lastIndex=0;or.test(ie);)++$e;return $e}function pP(ie){return ie.match(or)||[]}function mP(ie){return ie.match(vp)||[]}var gP=function ie($e){$e=$e==null?_t:Wa.defaults(_t.Object(),$e,Wa.pick(_t,nd));var ge=$e.Array,Je=$e.Date,St=$e.Error,Wt=$e.Function,Dn=$e.Math,un=$e.Object,Pp=$e.RegExp,vP=$e.String,Qs=$e.TypeError,id=ge.prototype,bP=Wt.prototype,Ga=un.prototype,ad=$e["__core-js_shared__"],ld=bP.toString,en=Ga.hasOwnProperty,_P=0,Uy=function(){var l=/[^.]+$/.exec(ad&&ad.keys&&ad.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),cd=Ga.toString,yP=ld.call(un),wP=_t._,SP=Pp("^"+ld.call(en).replace(ji,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ud=ts?$e.Buffer:n,xr=$e.Symbol,dd=$e.Uint8Array,jy=ud?ud.allocUnsafe:n,fd=Fy(un.getPrototypeOf,un),By=un.create,zy=Ga.propertyIsEnumerable,hd=id.splice,qy=xr?xr.isConcatSpreadable:n,hc=xr?xr.iterator:n,Vi=xr?xr.toStringTag:n,pd=function(){try{var l=Yi(un,"defineProperty");return l({},"",{}),l}catch{}}(),kP=$e.clearTimeout!==_t.clearTimeout&&$e.clearTimeout,$P=Je&&Je.now!==_t.Date.now&&Je.now,CP=$e.setTimeout!==_t.setTimeout&&$e.setTimeout,md=Dn.ceil,gd=Dn.floor,Lp=un.getOwnPropertySymbols,TP=ud?ud.isBuffer:n,Hy=$e.isFinite,AP=id.join,EP=Fy(un.keys,un),Un=Dn.max,ss=Dn.min,IP=Je.now,PP=$e.parseInt,Vy=Dn.random,LP=id.reverse,Op=Yi($e,"DataView"),pc=Yi($e,"Map"),Rp=Yi($e,"Promise"),Ka=Yi($e,"Set"),mc=Yi($e,"WeakMap"),gc=Yi(un,"create"),vd=mc&&new mc,xa={},OP=Xi(Op),RP=Xi(pc),MP=Xi(Rp),NP=Xi(Ka),FP=Xi(mc),bd=xr?xr.prototype:n,vc=bd?bd.valueOf:n,Wy=bd?bd.toString:n;function M(l){if(An(l)&&!kt(l)&&!(l instanceof Ut)){if(l instanceof eo)return l;if(en.call(l,"__wrapped__"))return G2(l)}return new eo(l)}var Ya=function(){function l(){}return function(u){if(!$n(u))return{};if(By)return By(u);l.prototype=u;var p=new l;return l.prototype=n,p}}();function _d(){}function eo(l,u){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}M.templateSettings={escape:Wl,evaluate:Gl,interpolate:Ra,variable:"",imports:{_:M}},M.prototype=_d.prototype,M.prototype.constructor=M,eo.prototype=Ya(_d.prototype),eo.prototype.constructor=eo;function Ut(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=bt,this.__views__=[]}function DP(){var l=new Ut(this.__wrapped__);return l.__actions__=ks(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=ks(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=ks(this.__views__),l}function UP(){if(this.__filtered__){var l=new Ut(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function jP(){var l=this.__wrapped__.value(),u=this.__dir__,p=kt(l),y=u<0,I=p?l.length:0,F=JL(0,I,this.__views__),G=F.start,J=F.end,le=J-G,Ae=y?J:G-1,Ee=this.__iteratees__,Pe=Ee.length,qe=0,st=ss(le,this.__takeCount__);if(!p||!y&&I==le&&st==le)return m2(l,this.__actions__);var mt=[];e:for(;le--&&qe<st;){Ae+=u;for(var Et=-1,gt=l[Ae];++Et<Pe;){var Ot=Ee[Et],zt=Ot.iteratee,js=Ot.type,ms=zt(gt);if(js==Ge)gt=ms;else if(!ms){if(js==Ve)continue e;break e}}mt[qe++]=gt}return mt}Ut.prototype=Ya(_d.prototype),Ut.prototype.constructor=Ut;function Wi(l){var u=-1,p=l==null?0:l.length;for(this.clear();++u<p;){var y=l[u];this.set(y[0],y[1])}}function BP(){this.__data__=gc?gc(null):{},this.size=0}function zP(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u}function qP(l){var u=this.__data__;if(gc){var p=u[l];return p===c?n:p}return en.call(u,l)?u[l]:n}function HP(l){var u=this.__data__;return gc?u[l]!==n:en.call(u,l)}function VP(l,u){var p=this.__data__;return this.size+=this.has(l)?0:1,p[l]=gc&&u===n?c:u,this}Wi.prototype.clear=BP,Wi.prototype.delete=zP,Wi.prototype.get=qP,Wi.prototype.has=HP,Wi.prototype.set=VP;function ir(l){var u=-1,p=l==null?0:l.length;for(this.clear();++u<p;){var y=l[u];this.set(y[0],y[1])}}function WP(){this.__data__=[],this.size=0}function GP(l){var u=this.__data__,p=yd(u,l);if(p<0)return!1;var y=u.length-1;return p==y?u.pop():hd.call(u,p,1),--this.size,!0}function KP(l){var u=this.__data__,p=yd(u,l);return p<0?n:u[p][1]}function xP(l){return yd(this.__data__,l)>-1}function YP(l,u){var p=this.__data__,y=yd(p,l);return y<0?(++this.size,p.push([l,u])):p[y][1]=u,this}ir.prototype.clear=WP,ir.prototype.delete=GP,ir.prototype.get=KP,ir.prototype.has=xP,ir.prototype.set=YP;function ar(l){var u=-1,p=l==null?0:l.length;for(this.clear();++u<p;){var y=l[u];this.set(y[0],y[1])}}function XP(){this.size=0,this.__data__={hash:new Wi,map:new(pc||ir),string:new Wi}}function JP(l){var u=Od(this,l).delete(l);return this.size-=u?1:0,u}function ZP(l){return Od(this,l).get(l)}function QP(l){return Od(this,l).has(l)}function eL(l,u){var p=Od(this,l),y=p.size;return p.set(l,u),this.size+=p.size==y?0:1,this}ar.prototype.clear=XP,ar.prototype.delete=JP,ar.prototype.get=ZP,ar.prototype.has=QP,ar.prototype.set=eL;function Gi(l){var u=-1,p=l==null?0:l.length;for(this.__data__=new ar;++u<p;)this.add(l[u])}function tL(l){return this.__data__.set(l,c),this}function nL(l){return this.__data__.has(l)}Gi.prototype.add=Gi.prototype.push=tL,Gi.prototype.has=nL;function bo(l){var u=this.__data__=new ir(l);this.size=u.size}function sL(){this.__data__=new ir,this.size=0}function oL(l){var u=this.__data__,p=u.delete(l);return this.size=u.size,p}function rL(l){return this.__data__.get(l)}function iL(l){return this.__data__.has(l)}function aL(l,u){var p=this.__data__;if(p instanceof ir){var y=p.__data__;if(!pc||y.length<o-1)return y.push([l,u]),this.size=++p.size,this;p=this.__data__=new ar(y)}return p.set(l,u),this.size=p.size,this}bo.prototype.clear=sL,bo.prototype.delete=oL,bo.prototype.get=rL,bo.prototype.has=iL,bo.prototype.set=aL;function Gy(l,u){var p=kt(l),y=!p&&Ji(l),I=!p&&!y&&Qr(l),F=!p&&!y&&!I&&Qa(l),G=p||y||I||F,J=G?Ap(l.length,vP):[],le=J.length;for(var Ae in l)(u||en.call(l,Ae))&&!(G&&(Ae=="length"||I&&(Ae=="offset"||Ae=="parent")||F&&(Ae=="buffer"||Ae=="byteLength"||Ae=="byteOffset")||dr(Ae,le)))&&J.push(Ae);return J}function Ky(l){var u=l.length;return u?l[Vp(0,u-1)]:n}function lL(l,u){return Rd(ks(l),Ki(u,0,l.length))}function cL(l){return Rd(ks(l))}function Mp(l,u,p){(p!==n&&!_o(l[u],p)||p===n&&!(u in l))&&lr(l,u,p)}function bc(l,u,p){var y=l[u];(!(en.call(l,u)&&_o(y,p))||p===n&&!(u in l))&&lr(l,u,p)}function yd(l,u){for(var p=l.length;p--;)if(_o(l[p][0],u))return p;return-1}function uL(l,u,p,y){return Yr(l,function(I,F,G){u(y,I,p(I),G)}),y}function xy(l,u){return l&&Fo(u,Vn(u),l)}function dL(l,u){return l&&Fo(u,Cs(u),l)}function lr(l,u,p){u=="__proto__"&&pd?pd(l,u,{configurable:!0,enumerable:!0,value:p,writable:!0}):l[u]=p}function Np(l,u){for(var p=-1,y=u.length,I=ge(y),F=l==null;++p<y;)I[p]=F?n:mm(l,u[p]);return I}function Ki(l,u,p){return l===l&&(p!==n&&(l=l<=p?l:p),u!==n&&(l=l>=u?l:u)),l}function to(l,u,p,y,I,F){var G,J=u&h,le=u&v,Ae=u&_;if(p&&(G=I?p(l,y,I,F):p(l)),G!==n)return G;if(!$n(l))return l;var Ee=kt(l);if(Ee){if(G=QL(l),!J)return ks(l,G)}else{var Pe=os(l),qe=Pe==H||Pe==W;if(Qr(l))return b2(l,J);if(Pe==_e||Pe==ft||qe&&!I){if(G=le||qe?{}:D2(l),!J)return le?qL(l,dL(G,l)):zL(l,xy(G,l))}else{if(!Qt[Pe])return I?l:{};G=eO(l,Pe,J)}}F||(F=new bo);var st=F.get(l);if(st)return st;F.set(l,G),fw(l)?l.forEach(function(gt){G.add(to(gt,u,p,gt,l,F))}):uw(l)&&l.forEach(function(gt,Ot){G.set(Ot,to(gt,u,p,Ot,l,F))});var mt=Ae?le?tm:em:le?Cs:Vn,Et=Ee?n:mt(l);return Zs(Et||l,function(gt,Ot){Et&&(Ot=gt,gt=l[Ot]),bc(G,Ot,to(gt,u,p,Ot,l,F))}),G}function fL(l){var u=Vn(l);return function(p){return Yy(p,l,u)}}function Yy(l,u,p){var y=p.length;if(l==null)return!y;for(l=un(l);y--;){var I=p[y],F=u[I],G=l[I];if(G===n&&!(I in l)||!F(G))return!1}return!0}function Xy(l,u,p){if(typeof l!="function")throw new Qs(i);return Cc(function(){l.apply(n,p)},u)}function _c(l,u,p,y){var I=-1,F=sd,G=!0,J=l.length,le=[],Ae=u.length;if(!J)return le;p&&(u=kn(u,Fs(p))),y?(F=wp,G=!1):u.length>=o&&(F=fc,G=!1,u=new Gi(u));e:for(;++I<J;){var Ee=l[I],Pe=p==null?Ee:p(Ee);if(Ee=y||Ee!==0?Ee:0,G&&Pe===Pe){for(var qe=Ae;qe--;)if(u[qe]===Pe)continue e;le.push(Ee)}else F(u,Pe,y)||le.push(Ee)}return le}var Yr=k2(No),Jy=k2(Dp,!0);function hL(l,u){var p=!0;return Yr(l,function(y,I,F){return p=!!u(y,I,F),p}),p}function wd(l,u,p){for(var y=-1,I=l.length;++y<I;){var F=l[y],G=u(F);if(G!=null&&(J===n?G===G&&!Us(G):p(G,J)))var J=G,le=F}return le}function pL(l,u,p,y){var I=l.length;for(p=At(p),p<0&&(p=-p>I?0:I+p),y=y===n||y>I?I:At(y),y<0&&(y+=I),y=p>y?0:pw(y);p<y;)l[p++]=u;return l}function Zy(l,u){var p=[];return Yr(l,function(y,I,F){u(y,I,F)&&p.push(y)}),p}function Jn(l,u,p,y,I){var F=-1,G=l.length;for(p||(p=nO),I||(I=[]);++F<G;){var J=l[F];u>0&&p(J)?u>1?Jn(J,u-1,p,y,I):Gr(I,J):y||(I[I.length]=J)}return I}var Fp=$2(),Qy=$2(!0);function No(l,u){return l&&Fp(l,u,Vn)}function Dp(l,u){return l&&Qy(l,u,Vn)}function Sd(l,u){return Wr(u,function(p){return fr(l[p])})}function xi(l,u){u=Jr(u,l);for(var p=0,y=u.length;l!=null&&p<y;)l=l[Do(u[p++])];return p&&p==y?l:n}function e2(l,u,p){var y=u(l);return kt(l)?y:Gr(y,p(l))}function hs(l){return l==null?l===n?se:we:Vi&&Vi in un(l)?XL(l):cO(l)}function Up(l,u){return l>u}function mL(l,u){return l!=null&&en.call(l,u)}function gL(l,u){return l!=null&&u in un(l)}function vL(l,u,p){return l>=ss(u,p)&&l<Un(u,p)}function jp(l,u,p){for(var y=p?wp:sd,I=l[0].length,F=l.length,G=F,J=ge(F),le=1/0,Ae=[];G--;){var Ee=l[G];G&&u&&(Ee=kn(Ee,Fs(u))),le=ss(Ee.length,le),J[G]=!p&&(u||I>=120&&Ee.length>=120)?new Gi(G&&Ee):n}Ee=l[0];var Pe=-1,qe=J[0];e:for(;++Pe<I&&Ae.length<le;){var st=Ee[Pe],mt=u?u(st):st;if(st=p||st!==0?st:0,!(qe?fc(qe,mt):y(Ae,mt,p))){for(G=F;--G;){var Et=J[G];if(!(Et?fc(Et,mt):y(l[G],mt,p)))continue e}qe&&qe.push(mt),Ae.push(st)}}return Ae}function bL(l,u,p,y){return No(l,function(I,F,G){u(y,p(I),F,G)}),y}function yc(l,u,p){u=Jr(u,l),l=z2(l,u);var y=l==null?l:l[Do(so(u))];return y==null?n:Ns(y,l,p)}function t2(l){return An(l)&&hs(l)==ft}function _L(l){return An(l)&&hs(l)==rt}function yL(l){return An(l)&&hs(l)==Fe}function wc(l,u,p,y,I){return l===u?!0:l==null||u==null||!An(l)&&!An(u)?l!==l&&u!==u:wL(l,u,p,y,wc,I)}function wL(l,u,p,y,I,F){var G=kt(l),J=kt(u),le=G?qt:os(l),Ae=J?qt:os(u);le=le==ft?_e:le,Ae=Ae==ft?_e:Ae;var Ee=le==_e,Pe=Ae==_e,qe=le==Ae;if(qe&&Qr(l)){if(!Qr(u))return!1;G=!0,Ee=!1}if(qe&&!Ee)return F||(F=new bo),G||Qa(l)?M2(l,u,p,y,I,F):xL(l,u,le,p,y,I,F);if(!(p&S)){var st=Ee&&en.call(l,"__wrapped__"),mt=Pe&&en.call(u,"__wrapped__");if(st||mt){var Et=st?l.value():l,gt=mt?u.value():u;return F||(F=new bo),I(Et,gt,p,y,F)}}return qe?(F||(F=new bo),YL(l,u,p,y,I,F)):!1}function SL(l){return An(l)&&os(l)==Q}function Bp(l,u,p,y){var I=p.length,F=I,G=!y;if(l==null)return!F;for(l=un(l);I--;){var J=p[I];if(G&&J[2]?J[1]!==l[J[0]]:!(J[0]in l))return!1}for(;++I<F;){J=p[I];var le=J[0],Ae=l[le],Ee=J[1];if(G&&J[2]){if(Ae===n&&!(le in l))return!1}else{var Pe=new bo;if(y)var qe=y(Ae,Ee,le,l,u,Pe);if(!(qe===n?wc(Ee,Ae,S|k,y,Pe):qe))return!1}}return!0}function n2(l){if(!$n(l)||oO(l))return!1;var u=fr(l)?SP:sc;return u.test(Xi(l))}function kL(l){return An(l)&&hs(l)==te}function $L(l){return An(l)&&os(l)==ue}function CL(l){return An(l)&&jd(l.length)&&!!cn[hs(l)]}function s2(l){return typeof l=="function"?l:l==null?Ts:typeof l=="object"?kt(l)?i2(l[0],l[1]):r2(l):Cw(l)}function zp(l){if(!$c(l))return EP(l);var u=[];for(var p in un(l))en.call(l,p)&&p!="constructor"&&u.push(p);return u}function TL(l){if(!$n(l))return lO(l);var u=$c(l),p=[];for(var y in l)y=="constructor"&&(u||!en.call(l,y))||p.push(y);return p}function qp(l,u){return l<u}function o2(l,u){var p=-1,y=$s(l)?ge(l.length):[];return Yr(l,function(I,F,G){y[++p]=u(I,F,G)}),y}function r2(l){var u=sm(l);return u.length==1&&u[0][2]?j2(u[0][0],u[0][1]):function(p){return p===l||Bp(p,l,u)}}function i2(l,u){return rm(l)&&U2(u)?j2(Do(l),u):function(p){var y=mm(p,l);return y===n&&y===u?gm(p,l):wc(u,y,S|k)}}function kd(l,u,p,y,I){l!==u&&Fp(u,function(F,G){if(I||(I=new bo),$n(F))AL(l,u,G,p,kd,y,I);else{var J=y?y(am(l,G),F,G+"",l,u,I):n;J===n&&(J=F),Mp(l,G,J)}},Cs)}function AL(l,u,p,y,I,F,G){var J=am(l,p),le=am(u,p),Ae=G.get(le);if(Ae){Mp(l,p,Ae);return}var Ee=F?F(J,le,p+"",l,u,G):n,Pe=Ee===n;if(Pe){var qe=kt(le),st=!qe&&Qr(le),mt=!qe&&!st&&Qa(le);Ee=le,qe||st||mt?kt(J)?Ee=J:Ln(J)?Ee=ks(J):st?(Pe=!1,Ee=b2(le,!0)):mt?(Pe=!1,Ee=_2(le,!0)):Ee=[]:Tc(le)||Ji(le)?(Ee=J,Ji(J)?Ee=mw(J):(!$n(J)||fr(J))&&(Ee=D2(le))):Pe=!1}Pe&&(G.set(le,Ee),I(Ee,le,y,F,G),G.delete(le)),Mp(l,p,Ee)}function a2(l,u){var p=l.length;if(p)return u+=u<0?p:0,dr(u,p)?l[u]:n}function l2(l,u,p){u.length?u=kn(u,function(F){return kt(F)?function(G){return xi(G,F.length===1?F[0]:F)}:F}):u=[Ts];var y=-1;u=kn(u,Fs(ht()));var I=o2(l,function(F,G,J){var le=kn(u,function(Ae){return Ae(F)});return{criteria:le,index:++y,value:F}});return eP(I,function(F,G){return BL(F,G,p)})}function EL(l,u){return c2(l,u,function(p,y){return gm(l,y)})}function c2(l,u,p){for(var y=-1,I=u.length,F={};++y<I;){var G=u[y],J=xi(l,G);p(J,G)&&Sc(F,Jr(G,l),J)}return F}function IL(l){return function(u){return xi(u,l)}}function Hp(l,u,p,y){var I=y?Q5:qa,F=-1,G=u.length,J=l;for(l===u&&(u=ks(u)),p&&(J=kn(l,Fs(p)));++F<G;)for(var le=0,Ae=u[F],Ee=p?p(Ae):Ae;(le=I(J,Ee,le,y))>-1;)J!==l&&hd.call(J,le,1),hd.call(l,le,1);return l}function u2(l,u){for(var p=l?u.length:0,y=p-1;p--;){var I=u[p];if(p==y||I!==F){var F=I;dr(I)?hd.call(l,I,1):Kp(l,I)}}return l}function Vp(l,u){return l+gd(Vy()*(u-l+1))}function PL(l,u,p,y){for(var I=-1,F=Un(md((u-l)/(p||1)),0),G=ge(F);F--;)G[y?F:++I]=l,l+=p;return G}function Wp(l,u){var p="";if(!l||u<1||u>it)return p;do u%2&&(p+=l),u=gd(u/2),u&&(l+=l);while(u);return p}function Pt(l,u){return lm(B2(l,u,Ts),l+"")}function LL(l){return Ky(el(l))}function OL(l,u){var p=el(l);return Rd(p,Ki(u,0,p.length))}function Sc(l,u,p,y){if(!$n(l))return l;u=Jr(u,l);for(var I=-1,F=u.length,G=F-1,J=l;J!=null&&++I<F;){var le=Do(u[I]),Ae=p;if(le==="__proto__"||le==="constructor"||le==="prototype")return l;if(I!=G){var Ee=J[le];Ae=y?y(Ee,le,J):n,Ae===n&&(Ae=$n(Ee)?Ee:dr(u[I+1])?[]:{})}bc(J,le,Ae),J=J[le]}return l}var d2=vd?function(l,u){return vd.set(l,u),l}:Ts,RL=pd?function(l,u){return pd(l,"toString",{configurable:!0,enumerable:!1,value:bm(u),writable:!0})}:Ts;function ML(l){return Rd(el(l))}function no(l,u,p){var y=-1,I=l.length;u<0&&(u=-u>I?0:I+u),p=p>I?I:p,p<0&&(p+=I),I=u>p?0:p-u>>>0,u>>>=0;for(var F=ge(I);++y<I;)F[y]=l[y+u];return F}function NL(l,u){var p;return Yr(l,function(y,I,F){return p=u(y,I,F),!p}),!!p}function $d(l,u,p){var y=0,I=l==null?y:l.length;if(typeof u=="number"&&u===u&&I<=nt){for(;y<I;){var F=y+I>>>1,G=l[F];G!==null&&!Us(G)&&(p?G<=u:G<u)?y=F+1:I=F}return I}return Gp(l,u,Ts,p)}function Gp(l,u,p,y){var I=0,F=l==null?0:l.length;if(F===0)return 0;u=p(u);for(var G=u!==u,J=u===null,le=Us(u),Ae=u===n;I<F;){var Ee=gd((I+F)/2),Pe=p(l[Ee]),qe=Pe!==n,st=Pe===null,mt=Pe===Pe,Et=Us(Pe);if(G)var gt=y||mt;else Ae?gt=mt&&(y||qe):J?gt=mt&&qe&&(y||!st):le?gt=mt&&qe&&!st&&(y||!Et):st||Et?gt=!1:gt=y?Pe<=u:Pe<u;gt?I=Ee+1:F=Ee}return ss(F,It)}function f2(l,u){for(var p=-1,y=l.length,I=0,F=[];++p<y;){var G=l[p],J=u?u(G):G;if(!p||!_o(J,le)){var le=J;F[I++]=G===0?0:G}}return F}function h2(l){return typeof l=="number"?l:Us(l)?dt:+l}function Ds(l){if(typeof l=="string")return l;if(kt(l))return kn(l,Ds)+"";if(Us(l))return Wy?Wy.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}function Xr(l,u,p){var y=-1,I=sd,F=l.length,G=!0,J=[],le=J;if(p)G=!1,I=wp;else if(F>=o){var Ae=u?null:GL(l);if(Ae)return rd(Ae);G=!1,I=fc,le=new Gi}else le=u?[]:J;e:for(;++y<F;){var Ee=l[y],Pe=u?u(Ee):Ee;if(Ee=p||Ee!==0?Ee:0,G&&Pe===Pe){for(var qe=le.length;qe--;)if(le[qe]===Pe)continue e;u&&le.push(Pe),J.push(Ee)}else I(le,Pe,p)||(le!==J&&le.push(Pe),J.push(Ee))}return J}function Kp(l,u){return u=Jr(u,l),l=z2(l,u),l==null||delete l[Do(so(u))]}function p2(l,u,p,y){return Sc(l,u,p(xi(l,u)),y)}function Cd(l,u,p,y){for(var I=l.length,F=y?I:-1;(y?F--:++F<I)&&u(l[F],F,l););return p?no(l,y?0:F,y?F+1:I):no(l,y?F+1:0,y?I:F)}function m2(l,u){var p=l;return p instanceof Ut&&(p=p.value()),Sp(u,function(y,I){return I.func.apply(I.thisArg,Gr([y],I.args))},p)}function xp(l,u,p){var y=l.length;if(y<2)return y?Xr(l[0]):[];for(var I=-1,F=ge(y);++I<y;)for(var G=l[I],J=-1;++J<y;)J!=I&&(F[I]=_c(F[I]||G,l[J],u,p));return Xr(Jn(F,1),u,p)}function g2(l,u,p){for(var y=-1,I=l.length,F=u.length,G={};++y<I;){var J=y<F?u[y]:n;p(G,l[y],J)}return G}function Yp(l){return Ln(l)?l:[]}function Xp(l){return typeof l=="function"?l:Ts}function Jr(l,u){return kt(l)?l:rm(l,u)?[l]:W2(Yt(l))}var FL=Pt;function Zr(l,u,p){var y=l.length;return p=p===n?y:p,!u&&p>=y?l:no(l,u,p)}var v2=kP||function(l){return _t.clearTimeout(l)};function b2(l,u){if(u)return l.slice();var p=l.length,y=jy?jy(p):new l.constructor(p);return l.copy(y),y}function Jp(l){var u=new l.constructor(l.byteLength);return new dd(u).set(new dd(l)),u}function DL(l,u){var p=u?Jp(l.buffer):l.buffer;return new l.constructor(p,l.byteOffset,l.byteLength)}function UL(l){var u=new l.constructor(l.source,Na.exec(l));return u.lastIndex=l.lastIndex,u}function jL(l){return vc?un(vc.call(l)):{}}function _2(l,u){var p=u?Jp(l.buffer):l.buffer;return new l.constructor(p,l.byteOffset,l.length)}function y2(l,u){if(l!==u){var p=l!==n,y=l===null,I=l===l,F=Us(l),G=u!==n,J=u===null,le=u===u,Ae=Us(u);if(!J&&!Ae&&!F&&l>u||F&&G&&le&&!J&&!Ae||y&&G&&le||!p&&le||!I)return 1;if(!y&&!F&&!Ae&&l<u||Ae&&p&&I&&!y&&!F||J&&p&&I||!G&&I||!le)return-1}return 0}function BL(l,u,p){for(var y=-1,I=l.criteria,F=u.criteria,G=I.length,J=p.length;++y<G;){var le=y2(I[y],F[y]);if(le){if(y>=J)return le;var Ae=p[y];return le*(Ae=="desc"?-1:1)}}return l.index-u.index}function w2(l,u,p,y){for(var I=-1,F=l.length,G=p.length,J=-1,le=u.length,Ae=Un(F-G,0),Ee=ge(le+Ae),Pe=!y;++J<le;)Ee[J]=u[J];for(;++I<G;)(Pe||I<F)&&(Ee[p[I]]=l[I]);for(;Ae--;)Ee[J++]=l[I++];return Ee}function S2(l,u,p,y){for(var I=-1,F=l.length,G=-1,J=p.length,le=-1,Ae=u.length,Ee=Un(F-J,0),Pe=ge(Ee+Ae),qe=!y;++I<Ee;)Pe[I]=l[I];for(var st=I;++le<Ae;)Pe[st+le]=u[le];for(;++G<J;)(qe||I<F)&&(Pe[st+p[G]]=l[I++]);return Pe}function ks(l,u){var p=-1,y=l.length;for(u||(u=ge(y));++p<y;)u[p]=l[p];return u}function Fo(l,u,p,y){var I=!p;p||(p={});for(var F=-1,G=u.length;++F<G;){var J=u[F],le=y?y(p[J],l[J],J,p,l):n;le===n&&(le=l[J]),I?lr(p,J,le):bc(p,J,le)}return p}function zL(l,u){return Fo(l,om(l),u)}function qL(l,u){return Fo(l,N2(l),u)}function Td(l,u){return function(p,y){var I=kt(p)?K5:uL,F=u?u():{};return I(p,l,ht(y,2),F)}}function Xa(l){return Pt(function(u,p){var y=-1,I=p.length,F=I>1?p[I-1]:n,G=I>2?p[2]:n;for(F=l.length>3&&typeof F=="function"?(I--,F):n,G&&ps(p[0],p[1],G)&&(F=I<3?n:F,I=1),u=un(u);++y<I;){var J=p[y];J&&l(u,J,y,F)}return u})}function k2(l,u){return function(p,y){if(p==null)return p;if(!$s(p))return l(p,y);for(var I=p.length,F=u?I:-1,G=un(p);(u?F--:++F<I)&&y(G[F],F,G)!==!1;);return p}}function $2(l){return function(u,p,y){for(var I=-1,F=un(u),G=y(u),J=G.length;J--;){var le=G[l?J:++I];if(p(F[le],le,F)===!1)break}return u}}function HL(l,u,p){var y=u&P,I=kc(l);function F(){var G=this&&this!==_t&&this instanceof F?I:l;return G.apply(y?p:this,arguments)}return F}function C2(l){return function(u){u=Yt(u);var p=Ha(u)?vo(u):n,y=p?p[0]:u.charAt(0),I=p?Zr(p,1).join(""):u.slice(1);return y[l]()+I}}function Ja(l){return function(u){return Sp(kw(Sw(u).replace(ed,"")),l,"")}}function kc(l){return function(){var u=arguments;switch(u.length){case 0:return new l;case 1:return new l(u[0]);case 2:return new l(u[0],u[1]);case 3:return new l(u[0],u[1],u[2]);case 4:return new l(u[0],u[1],u[2],u[3]);case 5:return new l(u[0],u[1],u[2],u[3],u[4]);case 6:return new l(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new l(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var p=Ya(l.prototype),y=l.apply(p,u);return $n(y)?y:p}}function VL(l,u,p){var y=kc(l);function I(){for(var F=arguments.length,G=ge(F),J=F,le=Za(I);J--;)G[J]=arguments[J];var Ae=F<3&&G[0]!==le&&G[F-1]!==le?[]:Kr(G,le);if(F-=Ae.length,F<p)return P2(l,u,Ad,I.placeholder,n,G,Ae,n,n,p-F);var Ee=this&&this!==_t&&this instanceof I?y:l;return Ns(Ee,this,G)}return I}function T2(l){return function(u,p,y){var I=un(u);if(!$s(u)){var F=ht(p,3);u=Vn(u),p=function(J){return F(I[J],J,I)}}var G=l(u,p,y);return G>-1?I[F?u[G]:G]:n}}function A2(l){return ur(function(u){var p=u.length,y=p,I=eo.prototype.thru;for(l&&u.reverse();y--;){var F=u[y];if(typeof F!="function")throw new Qs(i);if(I&&!G&&Ld(F)=="wrapper")var G=new eo([],!0)}for(y=G?y:p;++y<p;){F=u[y];var J=Ld(F),le=J=="wrapper"?nm(F):n;le&&im(le[0])&&le[1]==(D|L|R|x)&&!le[4].length&&le[9]==1?G=G[Ld(le[0])].apply(G,le[3]):G=F.length==1&&im(F)?G[J]():G.thru(F)}return function(){var Ae=arguments,Ee=Ae[0];if(G&&Ae.length==1&&kt(Ee))return G.plant(Ee).value();for(var Pe=0,qe=p?u[Pe].apply(this,Ae):Ee;++Pe<p;)qe=u[Pe].call(this,qe);return qe}})}function Ad(l,u,p,y,I,F,G,J,le,Ae){var Ee=u&D,Pe=u&P,qe=u&C,st=u&(L|T),mt=u&oe,Et=qe?n:kc(l);function gt(){for(var Ot=arguments.length,zt=ge(Ot),js=Ot;js--;)zt[js]=arguments[js];if(st)var ms=Za(gt),Bs=nP(zt,ms);if(y&&(zt=w2(zt,y,I,st)),F&&(zt=S2(zt,F,G,st)),Ot-=Bs,st&&Ot<Ae){var On=Kr(zt,ms);return P2(l,u,Ad,gt.placeholder,p,zt,On,J,le,Ae-Ot)}var yo=Pe?p:this,pr=qe?yo[l]:l;return Ot=zt.length,J?zt=uO(zt,J):mt&&Ot>1&&zt.reverse(),Ee&&le<Ot&&(zt.length=le),this&&this!==_t&&this instanceof gt&&(pr=Et||kc(pr)),pr.apply(yo,zt)}return gt}function E2(l,u){return function(p,y){return bL(p,l,u(y),{})}}function Ed(l,u){return function(p,y){var I;if(p===n&&y===n)return u;if(p!==n&&(I=p),y!==n){if(I===n)return y;typeof p=="string"||typeof y=="string"?(p=Ds(p),y=Ds(y)):(p=h2(p),y=h2(y)),I=l(p,y)}return I}}function Zp(l){return ur(function(u){return u=kn(u,Fs(ht())),Pt(function(p){var y=this;return l(u,function(I){return Ns(I,y,p)})})})}function Id(l,u){u=u===n?" ":Ds(u);var p=u.length;if(p<2)return p?Wp(u,l):u;var y=Wp(u,md(l/Va(u)));return Ha(u)?Zr(vo(y),0,l).join(""):y.slice(0,l)}function WL(l,u,p,y){var I=u&P,F=kc(l);function G(){for(var J=-1,le=arguments.length,Ae=-1,Ee=y.length,Pe=ge(Ee+le),qe=this&&this!==_t&&this instanceof G?F:l;++Ae<Ee;)Pe[Ae]=y[Ae];for(;le--;)Pe[Ae++]=arguments[++J];return Ns(qe,I?p:this,Pe)}return G}function I2(l){return function(u,p,y){return y&&typeof y!="number"&&ps(u,p,y)&&(p=y=n),u=hr(u),p===n?(p=u,u=0):p=hr(p),y=y===n?u<p?1:-1:hr(y),PL(u,p,y,l)}}function Pd(l){return function(u,p){return typeof u=="string"&&typeof p=="string"||(u=oo(u),p=oo(p)),l(u,p)}}function P2(l,u,p,y,I,F,G,J,le,Ae){var Ee=u&L,Pe=Ee?G:n,qe=Ee?n:G,st=Ee?F:n,mt=Ee?n:F;u|=Ee?R:q,u&=~(Ee?q:R),u&$||(u&=-4);var Et=[l,u,I,st,Pe,mt,qe,J,le,Ae],gt=p.apply(n,Et);return im(l)&&q2(gt,Et),gt.placeholder=y,H2(gt,l,u)}function Qp(l){var u=Dn[l];return function(p,y){if(p=oo(p),y=y==null?0:ss(At(y),292),y&&Hy(p)){var I=(Yt(p)+"e").split("e"),F=u(I[0]+"e"+(+I[1]+y));return I=(Yt(F)+"e").split("e"),+(I[0]+"e"+(+I[1]-y))}return u(p)}}var GL=Ka&&1/rd(new Ka([,-0]))[1]==Be?function(l){return new Ka(l)}:wm;function L2(l){return function(u){var p=os(u);return p==Q?Ip(u):p==ue?cP(u):tP(u,l(u))}}function cr(l,u,p,y,I,F,G,J){var le=u&C;if(!le&&typeof l!="function")throw new Qs(i);var Ae=y?y.length:0;if(Ae||(u&=-97,y=I=n),G=G===n?G:Un(At(G),0),J=J===n?J:At(J),Ae-=I?I.length:0,u&q){var Ee=y,Pe=I;y=I=n}var qe=le?n:nm(l),st=[l,u,p,y,I,Ee,Pe,F,G,J];if(qe&&aO(st,qe),l=st[0],u=st[1],p=st[2],y=st[3],I=st[4],J=st[9]=st[9]===n?le?0:l.length:Un(st[9]-Ae,0),!J&&u&(L|T)&&(u&=-25),!u||u==P)var mt=HL(l,u,p);else u==L||u==T?mt=VL(l,u,J):(u==R||u==(P|R))&&!I.length?mt=WL(l,u,p,y):mt=Ad.apply(n,st);var Et=qe?d2:q2;return H2(Et(mt,st),l,u)}function O2(l,u,p,y){return l===n||_o(l,Ga[p])&&!en.call(y,p)?u:l}function R2(l,u,p,y,I,F){return $n(l)&&$n(u)&&(F.set(u,l),kd(l,u,n,R2,F),F.delete(u)),l}function KL(l){return Tc(l)?n:l}function M2(l,u,p,y,I,F){var G=p&S,J=l.length,le=u.length;if(J!=le&&!(G&&le>J))return!1;var Ae=F.get(l),Ee=F.get(u);if(Ae&&Ee)return Ae==u&&Ee==l;var Pe=-1,qe=!0,st=p&k?new Gi:n;for(F.set(l,u),F.set(u,l);++Pe<J;){var mt=l[Pe],Et=u[Pe];if(y)var gt=G?y(Et,mt,Pe,u,l,F):y(mt,Et,Pe,l,u,F);if(gt!==n){if(gt)continue;qe=!1;break}if(st){if(!kp(u,function(Ot,zt){if(!fc(st,zt)&&(mt===Ot||I(mt,Ot,p,y,F)))return st.push(zt)})){qe=!1;break}}else if(!(mt===Et||I(mt,Et,p,y,F))){qe=!1;break}}return F.delete(l),F.delete(u),qe}function xL(l,u,p,y,I,F,G){switch(p){case ut:if(l.byteLength!=u.byteLength||l.byteOffset!=u.byteOffset)return!1;l=l.buffer,u=u.buffer;case rt:return!(l.byteLength!=u.byteLength||!F(new dd(l),new dd(u)));case Me:case Fe:case pe:return _o(+l,+u);case pt:return l.name==u.name&&l.message==u.message;case te:case je:return l==u+"";case Q:var J=Ip;case ue:var le=y&S;if(J||(J=rd),l.size!=u.size&&!le)return!1;var Ae=G.get(l);if(Ae)return Ae==u;y|=k,G.set(l,u);var Ee=M2(J(l),J(u),y,I,F,G);return G.delete(l),Ee;case ke:if(vc)return vc.call(l)==vc.call(u)}return!1}function YL(l,u,p,y,I,F){var G=p&S,J=em(l),le=J.length,Ae=em(u),Ee=Ae.length;if(le!=Ee&&!G)return!1;for(var Pe=le;Pe--;){var qe=J[Pe];if(!(G?qe in u:en.call(u,qe)))return!1}var st=F.get(l),mt=F.get(u);if(st&&mt)return st==u&&mt==l;var Et=!0;F.set(l,u),F.set(u,l);for(var gt=G;++Pe<le;){qe=J[Pe];var Ot=l[qe],zt=u[qe];if(y)var js=G?y(zt,Ot,qe,u,l,F):y(Ot,zt,qe,l,u,F);if(!(js===n?Ot===zt||I(Ot,zt,p,y,F):js)){Et=!1;break}gt||(gt=qe=="constructor")}if(Et&&!gt){var ms=l.constructor,Bs=u.constructor;ms!=Bs&&"constructor"in l&&"constructor"in u&&!(typeof ms=="function"&&ms instanceof ms&&typeof Bs=="function"&&Bs instanceof Bs)&&(Et=!1)}return F.delete(l),F.delete(u),Et}function ur(l){return lm(B2(l,n,Y2),l+"")}function em(l){return e2(l,Vn,om)}function tm(l){return e2(l,Cs,N2)}var nm=vd?function(l){return vd.get(l)}:wm;function Ld(l){for(var u=l.name+"",p=xa[u],y=en.call(xa,u)?p.length:0;y--;){var I=p[y],F=I.func;if(F==null||F==l)return I.name}return u}function Za(l){var u=en.call(M,"placeholder")?M:l;return u.placeholder}function ht(){var l=M.iteratee||_m;return l=l===_m?s2:l,arguments.length?l(arguments[0],arguments[1]):l}function Od(l,u){var p=l.__data__;return sO(u)?p[typeof u=="string"?"string":"hash"]:p.map}function sm(l){for(var u=Vn(l),p=u.length;p--;){var y=u[p],I=l[y];u[p]=[y,I,U2(I)]}return u}function Yi(l,u){var p=iP(l,u);return n2(p)?p:n}function XL(l){var u=en.call(l,Vi),p=l[Vi];try{l[Vi]=n;var y=!0}catch{}var I=cd.call(l);return y&&(u?l[Vi]=p:delete l[Vi]),I}var om=Lp?function(l){return l==null?[]:(l=un(l),Wr(Lp(l),function(u){return zy.call(l,u)}))}:Sm,N2=Lp?function(l){for(var u=[];l;)Gr(u,om(l)),l=fd(l);return u}:Sm,os=hs;(Op&&os(new Op(new ArrayBuffer(1)))!=ut||pc&&os(new pc)!=Q||Rp&&os(Rp.resolve())!=U||Ka&&os(new Ka)!=ue||mc&&os(new mc)!=me)&&(os=function(l){var u=hs(l),p=u==_e?l.constructor:n,y=p?Xi(p):"";if(y)switch(y){case OP:return ut;case RP:return Q;case MP:return U;case NP:return ue;case FP:return me}return u});function JL(l,u,p){for(var y=-1,I=p.length;++y<I;){var F=p[y],G=F.size;switch(F.type){case"drop":l+=G;break;case"dropRight":u-=G;break;case"take":u=ss(u,l+G);break;case"takeRight":l=Un(l,u-G);break}}return{start:l,end:u}}function ZL(l){var u=l.match(Xl);return u?u[1].split(Jl):[]}function F2(l,u,p){u=Jr(u,l);for(var y=-1,I=u.length,F=!1;++y<I;){var G=Do(u[y]);if(!(F=l!=null&&p(l,G)))break;l=l[G]}return F||++y!=I?F:(I=l==null?0:l.length,!!I&&jd(I)&&dr(G,I)&&(kt(l)||Ji(l)))}function QL(l){var u=l.length,p=new l.constructor(u);return u&&typeof l[0]=="string"&&en.call(l,"index")&&(p.index=l.index,p.input=l.input),p}function D2(l){return typeof l.constructor=="function"&&!$c(l)?Ya(fd(l)):{}}function eO(l,u,p){var y=l.constructor;switch(u){case rt:return Jp(l);case Me:case Fe:return new y(+l);case ut:return DL(l,p);case sn:case Vt:case Tn:case In:case ws:case Ys:case an:case Pn:case Xs:return _2(l,p);case Q:return new y;case pe:case je:return new y(l);case te:return UL(l);case ue:return new y;case ke:return jL(l)}}function tO(l,u){var p=u.length;if(!p)return l;var y=p-1;return u[y]=(p>1?"& ":"")+u[y],u=u.join(p>2?", ":" "),l.replace(Oo,`{
/* [wrapped with `+u+`] */
`)}function nO(l){return kt(l)||Ji(l)||!!(qy&&l&&l[qy])}function dr(l,u){var p=typeof l;return u=u??it,!!u&&(p=="number"||p!="symbol"&&rc.test(l))&&l>-1&&l%1==0&&l<u}function ps(l,u,p){if(!$n(p))return!1;var y=typeof u;return(y=="number"?$s(p)&&dr(u,p.length):y=="string"&&u in p)?_o(p[u],l):!1}function rm(l,u){if(kt(l))return!1;var p=typeof l;return p=="number"||p=="symbol"||p=="boolean"||l==null||Us(l)?!0:Rs.test(l)||!Kl.test(l)||u!=null&&l in un(u)}function sO(l){var u=typeof l;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?l!=="__proto__":l===null}function im(l){var u=Ld(l),p=M[u];if(typeof p!="function"||!(u in Ut.prototype))return!1;if(l===p)return!0;var y=nm(p);return!!y&&l===y[0]}function oO(l){return!!Uy&&Uy in l}var rO=ad?fr:km;function $c(l){var u=l&&l.constructor,p=typeof u=="function"&&u.prototype||Ga;return l===p}function U2(l){return l===l&&!$n(l)}function j2(l,u){return function(p){return p==null?!1:p[l]===u&&(u!==n||l in un(p))}}function iO(l){var u=Dd(l,function(y){return p.size===d&&p.clear(),y}),p=u.cache;return u}function aO(l,u){var p=l[1],y=u[1],I=p|y,F=I<(P|C|D),G=y==D&&p==L||y==D&&p==x&&l[7].length<=u[8]||y==(D|x)&&u[7].length<=u[8]&&p==L;if(!(F||G))return l;y&P&&(l[2]=u[2],I|=p&P?0:$);var J=u[3];if(J){var le=l[3];l[3]=le?w2(le,J,u[4]):J,l[4]=le?Kr(l[3],f):u[4]}return J=u[5],J&&(le=l[5],l[5]=le?S2(le,J,u[6]):J,l[6]=le?Kr(l[5],f):u[6]),J=u[7],J&&(l[7]=J),y&D&&(l[8]=l[8]==null?u[8]:ss(l[8],u[8])),l[9]==null&&(l[9]=u[9]),l[0]=u[0],l[1]=I,l}function lO(l){var u=[];if(l!=null)for(var p in un(l))u.push(p);return u}function cO(l){return cd.call(l)}function B2(l,u,p){return u=Un(u===n?l.length-1:u,0),function(){for(var y=arguments,I=-1,F=Un(y.length-u,0),G=ge(F);++I<F;)G[I]=y[u+I];I=-1;for(var J=ge(u+1);++I<u;)J[I]=y[I];return J[u]=p(G),Ns(l,this,J)}}function z2(l,u){return u.length<2?l:xi(l,no(u,0,-1))}function uO(l,u){for(var p=l.length,y=ss(u.length,p),I=ks(l);y--;){var F=u[y];l[y]=dr(F,p)?I[F]:n}return l}function am(l,u){if(!(u==="constructor"&&typeof l[u]=="function")&&u!="__proto__")return l[u]}var q2=V2(d2),Cc=CP||function(l,u){return _t.setTimeout(l,u)},lm=V2(RL);function H2(l,u,p){var y=u+"";return lm(l,tO(y,dO(ZL(y),p)))}function V2(l){var u=0,p=0;return function(){var y=IP(),I=Le-(y-p);if(p=y,I>0){if(++u>=de)return arguments[0]}else u=0;return l.apply(n,arguments)}}function Rd(l,u){var p=-1,y=l.length,I=y-1;for(u=u===n?y:u;++p<u;){var F=Vp(p,I),G=l[F];l[F]=l[p],l[p]=G}return l.length=u,l}var W2=iO(function(l){var u=[];return l.charCodeAt(0)===46&&u.push(""),l.replace(xl,function(p,y,I,F){u.push(I?F.replace(ec,"$1"):y||p)}),u});function Do(l){if(typeof l=="string"||Us(l))return l;var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}function Xi(l){if(l!=null){try{return ld.call(l)}catch{}try{return l+""}catch{}}return""}function dO(l,u){return Zs(yt,function(p){var y="_."+p[0];u&p[1]&&!sd(l,y)&&l.push(y)}),l.sort()}function G2(l){if(l instanceof Ut)return l.clone();var u=new eo(l.__wrapped__,l.__chain__);return u.__actions__=ks(l.__actions__),u.__index__=l.__index__,u.__values__=l.__values__,u}function fO(l,u,p){(p?ps(l,u,p):u===n)?u=1:u=Un(At(u),0);var y=l==null?0:l.length;if(!y||u<1)return[];for(var I=0,F=0,G=ge(md(y/u));I<y;)G[F++]=no(l,I,I+=u);return G}function hO(l){for(var u=-1,p=l==null?0:l.length,y=0,I=[];++u<p;){var F=l[u];F&&(I[y++]=F)}return I}function pO(){var l=arguments.length;if(!l)return[];for(var u=ge(l-1),p=arguments[0],y=l;y--;)u[y-1]=arguments[y];return Gr(kt(p)?ks(p):[p],Jn(u,1))}var mO=Pt(function(l,u){return Ln(l)?_c(l,Jn(u,1,Ln,!0)):[]}),gO=Pt(function(l,u){var p=so(u);return Ln(p)&&(p=n),Ln(l)?_c(l,Jn(u,1,Ln,!0),ht(p,2)):[]}),vO=Pt(function(l,u){var p=so(u);return Ln(p)&&(p=n),Ln(l)?_c(l,Jn(u,1,Ln,!0),n,p):[]});function bO(l,u,p){var y=l==null?0:l.length;return y?(u=p||u===n?1:At(u),no(l,u<0?0:u,y)):[]}function _O(l,u,p){var y=l==null?0:l.length;return y?(u=p||u===n?1:At(u),u=y-u,no(l,0,u<0?0:u)):[]}function yO(l,u){return l&&l.length?Cd(l,ht(u,3),!0,!0):[]}function wO(l,u){return l&&l.length?Cd(l,ht(u,3),!0):[]}function SO(l,u,p,y){var I=l==null?0:l.length;return I?(p&&typeof p!="number"&&ps(l,u,p)&&(p=0,y=I),pL(l,u,p,y)):[]}function K2(l,u,p){var y=l==null?0:l.length;if(!y)return-1;var I=p==null?0:At(p);return I<0&&(I=Un(y+I,0)),od(l,ht(u,3),I)}function x2(l,u,p){var y=l==null?0:l.length;if(!y)return-1;var I=y-1;return p!==n&&(I=At(p),I=p<0?Un(y+I,0):ss(I,y-1)),od(l,ht(u,3),I,!0)}function Y2(l){var u=l==null?0:l.length;return u?Jn(l,1):[]}function kO(l){var u=l==null?0:l.length;return u?Jn(l,Be):[]}function $O(l,u){var p=l==null?0:l.length;return p?(u=u===n?1:At(u),Jn(l,u)):[]}function CO(l){for(var u=-1,p=l==null?0:l.length,y={};++u<p;){var I=l[u];y[I[0]]=I[1]}return y}function X2(l){return l&&l.length?l[0]:n}function TO(l,u,p){var y=l==null?0:l.length;if(!y)return-1;var I=p==null?0:At(p);return I<0&&(I=Un(y+I,0)),qa(l,u,I)}function AO(l){var u=l==null?0:l.length;return u?no(l,0,-1):[]}var EO=Pt(function(l){var u=kn(l,Yp);return u.length&&u[0]===l[0]?jp(u):[]}),IO=Pt(function(l){var u=so(l),p=kn(l,Yp);return u===so(p)?u=n:p.pop(),p.length&&p[0]===l[0]?jp(p,ht(u,2)):[]}),PO=Pt(function(l){var u=so(l),p=kn(l,Yp);return u=typeof u=="function"?u:n,u&&p.pop(),p.length&&p[0]===l[0]?jp(p,n,u):[]});function LO(l,u){return l==null?"":AP.call(l,u)}function so(l){var u=l==null?0:l.length;return u?l[u-1]:n}function OO(l,u,p){var y=l==null?0:l.length;if(!y)return-1;var I=y;return p!==n&&(I=At(p),I=I<0?Un(y+I,0):ss(I,y-1)),u===u?dP(l,u,I):od(l,Py,I,!0)}function RO(l,u){return l&&l.length?a2(l,At(u)):n}var MO=Pt(J2);function J2(l,u){return l&&l.length&&u&&u.length?Hp(l,u):l}function NO(l,u,p){return l&&l.length&&u&&u.length?Hp(l,u,ht(p,2)):l}function FO(l,u,p){return l&&l.length&&u&&u.length?Hp(l,u,n,p):l}var DO=ur(function(l,u){var p=l==null?0:l.length,y=Np(l,u);return u2(l,kn(u,function(I){return dr(I,p)?+I:I}).sort(y2)),y});function UO(l,u){var p=[];if(!(l&&l.length))return p;var y=-1,I=[],F=l.length;for(u=ht(u,3);++y<F;){var G=l[y];u(G,y,l)&&(p.push(G),I.push(y))}return u2(l,I),p}function cm(l){return l==null?l:LP.call(l)}function jO(l,u,p){var y=l==null?0:l.length;return y?(p&&typeof p!="number"&&ps(l,u,p)?(u=0,p=y):(u=u==null?0:At(u),p=p===n?y:At(p)),no(l,u,p)):[]}function BO(l,u){return $d(l,u)}function zO(l,u,p){return Gp(l,u,ht(p,2))}function qO(l,u){var p=l==null?0:l.length;if(p){var y=$d(l,u);if(y<p&&_o(l[y],u))return y}return-1}function HO(l,u){return $d(l,u,!0)}function VO(l,u,p){return Gp(l,u,ht(p,2),!0)}function WO(l,u){var p=l==null?0:l.length;if(p){var y=$d(l,u,!0)-1;if(_o(l[y],u))return y}return-1}function GO(l){return l&&l.length?f2(l):[]}function KO(l,u){return l&&l.length?f2(l,ht(u,2)):[]}function xO(l){var u=l==null?0:l.length;return u?no(l,1,u):[]}function YO(l,u,p){return l&&l.length?(u=p||u===n?1:At(u),no(l,0,u<0?0:u)):[]}function XO(l,u,p){var y=l==null?0:l.length;return y?(u=p||u===n?1:At(u),u=y-u,no(l,u<0?0:u,y)):[]}function JO(l,u){return l&&l.length?Cd(l,ht(u,3),!1,!0):[]}function ZO(l,u){return l&&l.length?Cd(l,ht(u,3)):[]}var QO=Pt(function(l){return Xr(Jn(l,1,Ln,!0))}),eR=Pt(function(l){var u=so(l);return Ln(u)&&(u=n),Xr(Jn(l,1,Ln,!0),ht(u,2))}),tR=Pt(function(l){var u=so(l);return u=typeof u=="function"?u:n,Xr(Jn(l,1,Ln,!0),n,u)});function nR(l){return l&&l.length?Xr(l):[]}function sR(l,u){return l&&l.length?Xr(l,ht(u,2)):[]}function oR(l,u){return u=typeof u=="function"?u:n,l&&l.length?Xr(l,n,u):[]}function um(l){if(!(l&&l.length))return[];var u=0;return l=Wr(l,function(p){if(Ln(p))return u=Un(p.length,u),!0}),Ap(u,function(p){return kn(l,$p(p))})}function Z2(l,u){if(!(l&&l.length))return[];var p=um(l);return u==null?p:kn(p,function(y){return Ns(u,n,y)})}var rR=Pt(function(l,u){return Ln(l)?_c(l,u):[]}),iR=Pt(function(l){return xp(Wr(l,Ln))}),aR=Pt(function(l){var u=so(l);return Ln(u)&&(u=n),xp(Wr(l,Ln),ht(u,2))}),lR=Pt(function(l){var u=so(l);return u=typeof u=="function"?u:n,xp(Wr(l,Ln),n,u)}),cR=Pt(um);function uR(l,u){return g2(l||[],u||[],bc)}function dR(l,u){return g2(l||[],u||[],Sc)}var fR=Pt(function(l){var u=l.length,p=u>1?l[u-1]:n;return p=typeof p=="function"?(l.pop(),p):n,Z2(l,p)});function Q2(l){var u=M(l);return u.__chain__=!0,u}function hR(l,u){return u(l),l}function Md(l,u){return u(l)}var pR=ur(function(l){var u=l.length,p=u?l[0]:0,y=this.__wrapped__,I=function(F){return Np(F,l)};return u>1||this.__actions__.length||!(y instanceof Ut)||!dr(p)?this.thru(I):(y=y.slice(p,+p+(u?1:0)),y.__actions__.push({func:Md,args:[I],thisArg:n}),new eo(y,this.__chain__).thru(function(F){return u&&!F.length&&F.push(n),F}))});function mR(){return Q2(this)}function gR(){return new eo(this.value(),this.__chain__)}function vR(){this.__values__===n&&(this.__values__=hw(this.value()));var l=this.__index__>=this.__values__.length,u=l?n:this.__values__[this.__index__++];return{done:l,value:u}}function bR(){return this}function _R(l){for(var u,p=this;p instanceof _d;){var y=G2(p);y.__index__=0,y.__values__=n,u?I.__wrapped__=y:u=y;var I=y;p=p.__wrapped__}return I.__wrapped__=l,u}function yR(){var l=this.__wrapped__;if(l instanceof Ut){var u=l;return this.__actions__.length&&(u=new Ut(this)),u=u.reverse(),u.__actions__.push({func:Md,args:[cm],thisArg:n}),new eo(u,this.__chain__)}return this.thru(cm)}function wR(){return m2(this.__wrapped__,this.__actions__)}var SR=Td(function(l,u,p){en.call(l,p)?++l[p]:lr(l,p,1)});function kR(l,u,p){var y=kt(l)?Ey:hL;return p&&ps(l,u,p)&&(u=n),y(l,ht(u,3))}function $R(l,u){var p=kt(l)?Wr:Zy;return p(l,ht(u,3))}var CR=T2(K2),TR=T2(x2);function AR(l,u){return Jn(Nd(l,u),1)}function ER(l,u){return Jn(Nd(l,u),Be)}function IR(l,u,p){return p=p===n?1:At(p),Jn(Nd(l,u),p)}function ew(l,u){var p=kt(l)?Zs:Yr;return p(l,ht(u,3))}function tw(l,u){var p=kt(l)?x5:Jy;return p(l,ht(u,3))}var PR=Td(function(l,u,p){en.call(l,p)?l[p].push(u):lr(l,p,[u])});function LR(l,u,p,y){l=$s(l)?l:el(l),p=p&&!y?At(p):0;var I=l.length;return p<0&&(p=Un(I+p,0)),Bd(l)?p<=I&&l.indexOf(u,p)>-1:!!I&&qa(l,u,p)>-1}var OR=Pt(function(l,u,p){var y=-1,I=typeof u=="function",F=$s(l)?ge(l.length):[];return Yr(l,function(G){F[++y]=I?Ns(u,G,p):yc(G,u,p)}),F}),RR=Td(function(l,u,p){lr(l,p,u)});function Nd(l,u){var p=kt(l)?kn:o2;return p(l,ht(u,3))}function MR(l,u,p,y){return l==null?[]:(kt(u)||(u=u==null?[]:[u]),p=y?n:p,kt(p)||(p=p==null?[]:[p]),l2(l,u,p))}var NR=Td(function(l,u,p){l[p?0:1].push(u)},function(){return[[],[]]});function FR(l,u,p){var y=kt(l)?Sp:Oy,I=arguments.length<3;return y(l,ht(u,4),p,I,Yr)}function DR(l,u,p){var y=kt(l)?Y5:Oy,I=arguments.length<3;return y(l,ht(u,4),p,I,Jy)}function UR(l,u){var p=kt(l)?Wr:Zy;return p(l,Ud(ht(u,3)))}function jR(l){var u=kt(l)?Ky:LL;return u(l)}function BR(l,u,p){(p?ps(l,u,p):u===n)?u=1:u=At(u);var y=kt(l)?lL:OL;return y(l,u)}function zR(l){var u=kt(l)?cL:ML;return u(l)}function qR(l){if(l==null)return 0;if($s(l))return Bd(l)?Va(l):l.length;var u=os(l);return u==Q||u==ue?l.size:zp(l).length}function HR(l,u,p){var y=kt(l)?kp:NL;return p&&ps(l,u,p)&&(u=n),y(l,ht(u,3))}var VR=Pt(function(l,u){if(l==null)return[];var p=u.length;return p>1&&ps(l,u[0],u[1])?u=[]:p>2&&ps(u[0],u[1],u[2])&&(u=[u[0]]),l2(l,Jn(u,1),[])}),Fd=$P||function(){return _t.Date.now()};function WR(l,u){if(typeof u!="function")throw new Qs(i);return l=At(l),function(){if(--l<1)return u.apply(this,arguments)}}function nw(l,u,p){return u=p?n:u,u=l&&u==null?l.length:u,cr(l,D,n,n,n,n,u)}function sw(l,u){var p;if(typeof u!="function")throw new Qs(i);return l=At(l),function(){return--l>0&&(p=u.apply(this,arguments)),l<=1&&(u=n),p}}var dm=Pt(function(l,u,p){var y=P;if(p.length){var I=Kr(p,Za(dm));y|=R}return cr(l,y,u,p,I)}),ow=Pt(function(l,u,p){var y=P|C;if(p.length){var I=Kr(p,Za(ow));y|=R}return cr(u,y,l,p,I)});function rw(l,u,p){u=p?n:u;var y=cr(l,L,n,n,n,n,n,u);return y.placeholder=rw.placeholder,y}function iw(l,u,p){u=p?n:u;var y=cr(l,T,n,n,n,n,n,u);return y.placeholder=iw.placeholder,y}function aw(l,u,p){var y,I,F,G,J,le,Ae=0,Ee=!1,Pe=!1,qe=!0;if(typeof l!="function")throw new Qs(i);u=oo(u)||0,$n(p)&&(Ee=!!p.leading,Pe="maxWait"in p,F=Pe?Un(oo(p.maxWait)||0,u):F,qe="trailing"in p?!!p.trailing:qe);function st(On){var yo=y,pr=I;return y=I=n,Ae=On,G=l.apply(pr,yo),G}function mt(On){return Ae=On,J=Cc(Ot,u),Ee?st(On):G}function Et(On){var yo=On-le,pr=On-Ae,Tw=u-yo;return Pe?ss(Tw,F-pr):Tw}function gt(On){var yo=On-le,pr=On-Ae;return le===n||yo>=u||yo<0||Pe&&pr>=F}function Ot(){var On=Fd();if(gt(On))return zt(On);J=Cc(Ot,Et(On))}function zt(On){return J=n,qe&&y?st(On):(y=I=n,G)}function js(){J!==n&&v2(J),Ae=0,y=le=I=J=n}function ms(){return J===n?G:zt(Fd())}function Bs(){var On=Fd(),yo=gt(On);if(y=arguments,I=this,le=On,yo){if(J===n)return mt(le);if(Pe)return v2(J),J=Cc(Ot,u),st(le)}return J===n&&(J=Cc(Ot,u)),G}return Bs.cancel=js,Bs.flush=ms,Bs}var GR=Pt(function(l,u){return Xy(l,1,u)}),KR=Pt(function(l,u,p){return Xy(l,oo(u)||0,p)});function xR(l){return cr(l,oe)}function Dd(l,u){if(typeof l!="function"||u!=null&&typeof u!="function")throw new Qs(i);var p=function(){var y=arguments,I=u?u.apply(this,y):y[0],F=p.cache;if(F.has(I))return F.get(I);var G=l.apply(this,y);return p.cache=F.set(I,G)||F,G};return p.cache=new(Dd.Cache||ar),p}Dd.Cache=ar;function Ud(l){if(typeof l!="function")throw new Qs(i);return function(){var u=arguments;switch(u.length){case 0:return!l.call(this);case 1:return!l.call(this,u[0]);case 2:return!l.call(this,u[0],u[1]);case 3:return!l.call(this,u[0],u[1],u[2])}return!l.apply(this,u)}}function YR(l){return sw(2,l)}var XR=FL(function(l,u){u=u.length==1&&kt(u[0])?kn(u[0],Fs(ht())):kn(Jn(u,1),Fs(ht()));var p=u.length;return Pt(function(y){for(var I=-1,F=ss(y.length,p);++I<F;)y[I]=u[I].call(this,y[I]);return Ns(l,this,y)})}),fm=Pt(function(l,u){var p=Kr(u,Za(fm));return cr(l,R,n,u,p)}),lw=Pt(function(l,u){var p=Kr(u,Za(lw));return cr(l,q,n,u,p)}),JR=ur(function(l,u){return cr(l,x,n,n,n,u)});function ZR(l,u){if(typeof l!="function")throw new Qs(i);return u=u===n?u:At(u),Pt(l,u)}function QR(l,u){if(typeof l!="function")throw new Qs(i);return u=u==null?0:Un(At(u),0),Pt(function(p){var y=p[u],I=Zr(p,0,u);return y&&Gr(I,y),Ns(l,this,I)})}function eM(l,u,p){var y=!0,I=!0;if(typeof l!="function")throw new Qs(i);return $n(p)&&(y="leading"in p?!!p.leading:y,I="trailing"in p?!!p.trailing:I),aw(l,u,{leading:y,maxWait:u,trailing:I})}function tM(l){return nw(l,1)}function nM(l,u){return fm(Xp(u),l)}function sM(){if(!arguments.length)return[];var l=arguments[0];return kt(l)?l:[l]}function oM(l){return to(l,_)}function rM(l,u){return u=typeof u=="function"?u:n,to(l,_,u)}function iM(l){return to(l,h|_)}function aM(l,u){return u=typeof u=="function"?u:n,to(l,h|_,u)}function lM(l,u){return u==null||Yy(l,u,Vn(u))}function _o(l,u){return l===u||l!==l&&u!==u}var cM=Pd(Up),uM=Pd(function(l,u){return l>=u}),Ji=t2(function(){return arguments}())?t2:function(l){return An(l)&&en.call(l,"callee")&&!zy.call(l,"callee")},kt=ge.isArray,dM=za?Fs(za):_L;function $s(l){return l!=null&&jd(l.length)&&!fr(l)}function Ln(l){return An(l)&&$s(l)}function fM(l){return l===!0||l===!1||An(l)&&hs(l)==Me}var Qr=TP||km,hM=dc?Fs(dc):yL;function pM(l){return An(l)&&l.nodeType===1&&!Tc(l)}function mM(l){if(l==null)return!0;if($s(l)&&(kt(l)||typeof l=="string"||typeof l.splice=="function"||Qr(l)||Qa(l)||Ji(l)))return!l.length;var u=os(l);if(u==Q||u==ue)return!l.size;if($c(l))return!zp(l).length;for(var p in l)if(en.call(l,p))return!1;return!0}function gM(l,u){return wc(l,u)}function vM(l,u,p){p=typeof p=="function"?p:n;var y=p?p(l,u):n;return y===n?wc(l,u,n,p):!!y}function hm(l){if(!An(l))return!1;var u=hs(l);return u==pt||u==Ue||typeof l.message=="string"&&typeof l.name=="string"&&!Tc(l)}function bM(l){return typeof l=="number"&&Hy(l)}function fr(l){if(!$n(l))return!1;var u=hs(l);return u==H||u==W||u==ye||u==B}function cw(l){return typeof l=="number"&&l==At(l)}function jd(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=it}function $n(l){var u=typeof l;return l!=null&&(u=="object"||u=="function")}function An(l){return l!=null&&typeof l=="object"}var uw=$y?Fs($y):SL;function _M(l,u){return l===u||Bp(l,u,sm(u))}function yM(l,u,p){return p=typeof p=="function"?p:n,Bp(l,u,sm(u),p)}function wM(l){return dw(l)&&l!=+l}function SM(l){if(rO(l))throw new St(r);return n2(l)}function kM(l){return l===null}function $M(l){return l==null}function dw(l){return typeof l=="number"||An(l)&&hs(l)==pe}function Tc(l){if(!An(l)||hs(l)!=_e)return!1;var u=fd(l);if(u===null)return!0;var p=en.call(u,"constructor")&&u.constructor;return typeof p=="function"&&p instanceof p&&ld.call(p)==yP}var pm=Cy?Fs(Cy):kL;function CM(l){return cw(l)&&l>=-9007199254740991&&l<=it}var fw=Ty?Fs(Ty):$L;function Bd(l){return typeof l=="string"||!kt(l)&&An(l)&&hs(l)==je}function Us(l){return typeof l=="symbol"||An(l)&&hs(l)==ke}var Qa=Ay?Fs(Ay):CL;function TM(l){return l===n}function AM(l){return An(l)&&os(l)==me}function EM(l){return An(l)&&hs(l)==xe}var IM=Pd(qp),PM=Pd(function(l,u){return l<=u});function hw(l){if(!l)return[];if($s(l))return Bd(l)?vo(l):ks(l);if(hc&&l[hc])return lP(l[hc]());var u=os(l),p=u==Q?Ip:u==ue?rd:el;return p(l)}function hr(l){if(!l)return l===0?l:0;if(l=oo(l),l===Be||l===-1/0){var u=l<0?-1:1;return u*$t}return l===l?l:0}function At(l){var u=hr(l),p=u%1;return u===u?p?u-p:u:0}function pw(l){return l?Ki(At(l),0,bt):0}function oo(l){if(typeof l=="number")return l;if(Us(l))return dt;if($n(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=$n(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=Ry(l);var p=nc.test(l);return p||oc.test(l)?Dt(l.slice(2),p?2:8):tc.test(l)?dt:+l}function mw(l){return Fo(l,Cs(l))}function LM(l){return l?Ki(At(l),-9007199254740991,it):l===0?l:0}function Yt(l){return l==null?"":Ds(l)}var OM=Xa(function(l,u){if($c(u)||$s(u)){Fo(u,Vn(u),l);return}for(var p in u)en.call(u,p)&&bc(l,p,u[p])}),gw=Xa(function(l,u){Fo(u,Cs(u),l)}),zd=Xa(function(l,u,p,y){Fo(u,Cs(u),l,y)}),RM=Xa(function(l,u,p,y){Fo(u,Vn(u),l,y)}),MM=ur(Np);function NM(l,u){var p=Ya(l);return u==null?p:xy(p,u)}var FM=Pt(function(l,u){l=un(l);var p=-1,y=u.length,I=y>2?u[2]:n;for(I&&ps(u[0],u[1],I)&&(y=1);++p<y;)for(var F=u[p],G=Cs(F),J=-1,le=G.length;++J<le;){var Ae=G[J],Ee=l[Ae];(Ee===n||_o(Ee,Ga[Ae])&&!en.call(l,Ae))&&(l[Ae]=F[Ae])}return l}),DM=Pt(function(l){return l.push(n,R2),Ns(vw,n,l)});function UM(l,u){return Iy(l,ht(u,3),No)}function jM(l,u){return Iy(l,ht(u,3),Dp)}function BM(l,u){return l==null?l:Fp(l,ht(u,3),Cs)}function zM(l,u){return l==null?l:Qy(l,ht(u,3),Cs)}function qM(l,u){return l&&No(l,ht(u,3))}function HM(l,u){return l&&Dp(l,ht(u,3))}function VM(l){return l==null?[]:Sd(l,Vn(l))}function WM(l){return l==null?[]:Sd(l,Cs(l))}function mm(l,u,p){var y=l==null?n:xi(l,u);return y===n?p:y}function GM(l,u){return l!=null&&F2(l,u,mL)}function gm(l,u){return l!=null&&F2(l,u,gL)}var KM=E2(function(l,u,p){u!=null&&typeof u.toString!="function"&&(u=cd.call(u)),l[u]=p},bm(Ts)),xM=E2(function(l,u,p){u!=null&&typeof u.toString!="function"&&(u=cd.call(u)),en.call(l,u)?l[u].push(p):l[u]=[p]},ht),YM=Pt(yc);function Vn(l){return $s(l)?Gy(l):zp(l)}function Cs(l){return $s(l)?Gy(l,!0):TL(l)}function XM(l,u){var p={};return u=ht(u,3),No(l,function(y,I,F){lr(p,u(y,I,F),y)}),p}function JM(l,u){var p={};return u=ht(u,3),No(l,function(y,I,F){lr(p,I,u(y,I,F))}),p}var ZM=Xa(function(l,u,p){kd(l,u,p)}),vw=Xa(function(l,u,p,y){kd(l,u,p,y)}),QM=ur(function(l,u){var p={};if(l==null)return p;var y=!1;u=kn(u,function(F){return F=Jr(F,l),y||(y=F.length>1),F}),Fo(l,tm(l),p),y&&(p=to(p,h|v|_,KL));for(var I=u.length;I--;)Kp(p,u[I]);return p});function eN(l,u){return bw(l,Ud(ht(u)))}var tN=ur(function(l,u){return l==null?{}:EL(l,u)});function bw(l,u){if(l==null)return{};var p=kn(tm(l),function(y){return[y]});return u=ht(u),c2(l,p,function(y,I){return u(y,I[0])})}function nN(l,u,p){u=Jr(u,l);var y=-1,I=u.length;for(I||(I=1,l=n);++y<I;){var F=l==null?n:l[Do(u[y])];F===n&&(y=I,F=p),l=fr(F)?F.call(l):F}return l}function sN(l,u,p){return l==null?l:Sc(l,u,p)}function oN(l,u,p,y){return y=typeof y=="function"?y:n,l==null?l:Sc(l,u,p,y)}var _w=L2(Vn),yw=L2(Cs);function rN(l,u,p){var y=kt(l),I=y||Qr(l)||Qa(l);if(u=ht(u,4),p==null){var F=l&&l.constructor;I?p=y?new F:[]:$n(l)?p=fr(F)?Ya(fd(l)):{}:p={}}return(I?Zs:No)(l,function(G,J,le){return u(p,G,J,le)}),p}function iN(l,u){return l==null?!0:Kp(l,u)}function aN(l,u,p){return l==null?l:p2(l,u,Xp(p))}function lN(l,u,p,y){return y=typeof y=="function"?y:n,l==null?l:p2(l,u,Xp(p),y)}function el(l){return l==null?[]:Ep(l,Vn(l))}function cN(l){return l==null?[]:Ep(l,Cs(l))}function uN(l,u,p){return p===n&&(p=u,u=n),p!==n&&(p=oo(p),p=p===p?p:0),u!==n&&(u=oo(u),u=u===u?u:0),Ki(oo(l),u,p)}function dN(l,u,p){return u=hr(u),p===n?(p=u,u=0):p=hr(p),l=oo(l),vL(l,u,p)}function fN(l,u,p){if(p&&typeof p!="boolean"&&ps(l,u,p)&&(u=p=n),p===n&&(typeof u=="boolean"?(p=u,u=n):typeof l=="boolean"&&(p=l,l=n)),l===n&&u===n?(l=0,u=1):(l=hr(l),u===n?(u=l,l=0):u=hr(u)),l>u){var y=l;l=u,u=y}if(p||l%1||u%1){var I=Vy();return ss(l+I*(u-l+tt("1e-"+((I+"").length-1))),u)}return Vp(l,u)}var hN=Ja(function(l,u,p){return u=u.toLowerCase(),l+(p?ww(u):u)});function ww(l){return vm(Yt(l).toLowerCase())}function Sw(l){return l=Yt(l),l&&l.replace(zi,sP).replace(sr,"")}function pN(l,u,p){l=Yt(l),u=Ds(u);var y=l.length;p=p===n?y:Ki(At(p),0,y);var I=p;return p-=u.length,p>=0&&l.slice(p,I)==u}function mN(l){return l=Yt(l),l&&Vl.test(l)?l.replace(Oa,oP):l}function gN(l){return l=Yt(l),l&&Yl.test(l)?l.replace(ji,"\\$&"):l}var vN=Ja(function(l,u,p){return l+(p?"-":"")+u.toLowerCase()}),bN=Ja(function(l,u,p){return l+(p?" ":"")+u.toLowerCase()}),_N=C2("toLowerCase");function yN(l,u,p){l=Yt(l),u=At(u);var y=u?Va(l):0;if(!u||y>=u)return l;var I=(u-y)/2;return Id(gd(I),p)+l+Id(md(I),p)}function wN(l,u,p){l=Yt(l),u=At(u);var y=u?Va(l):0;return u&&y<u?l+Id(u-y,p):l}function SN(l,u,p){l=Yt(l),u=At(u);var y=u?Va(l):0;return u&&y<u?Id(u-y,p)+l:l}function kN(l,u,p){return p||u==null?u=0:u&&(u=+u),PP(Yt(l).replace(Bi,""),u||0)}function $N(l,u,p){return(p?ps(l,u,p):u===n)?u=1:u=At(u),Wp(Yt(l),u)}function CN(){var l=arguments,u=Yt(l[0]);return l.length<3?u:u.replace(l[1],l[2])}var TN=Ja(function(l,u,p){return l+(p?"_":"")+u.toLowerCase()});function AN(l,u,p){return p&&typeof p!="number"&&ps(l,u,p)&&(u=p=n),p=p===n?bt:p>>>0,p?(l=Yt(l),l&&(typeof u=="string"||u!=null&&!pm(u))&&(u=Ds(u),!u&&Ha(l))?Zr(vo(l),0,p):l.split(u,p)):[]}var EN=Ja(function(l,u,p){return l+(p?" ":"")+vm(u)});function IN(l,u,p){return l=Yt(l),p=p==null?0:Ki(At(p),0,l.length),u=Ds(u),l.slice(p,p+u.length)==u}function PN(l,u,p){var y=M.templateSettings;p&&ps(l,u,p)&&(u=n),l=Yt(l),u=zd({},u,y,O2);var I=zd({},u.imports,y.imports,O2),F=Vn(I),G=Ep(I,F),J,le,Ae=0,Ee=u.interpolate||zr,Pe="__p += '",qe=Pp((u.escape||zr).source+"|"+Ee.source+"|"+(Ee===Ra?Ro:zr).source+"|"+(u.evaluate||zr).source+"|$","g"),st="//# sourceURL="+(en.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_p+"]")+`
`;l.replace(qe,function(gt,Ot,zt,js,ms,Bs){return zt||(zt=js),Pe+=l.slice(Ae,Bs).replace(Qo,rP),Ot&&(J=!0,Pe+=`' +
__e(`+Ot+`) +
'`),ms&&(le=!0,Pe+=`';
`+ms+`;
__p += '`),zt&&(Pe+=`' +
((__t = (`+zt+`)) == null ? '' : __t) +
'`),Ae=Bs+gt.length,gt}),Pe+=`';
`;var mt=en.call(u,"variable")&&u.variable;if(!mt)Pe=`with (obj) {
`+Pe+`
}
`;else if(Ql.test(mt))throw new St(a);Pe=(le?Pe.replace(Ui,""):Pe).replace(Hl,"$1").replace(Os,"$1;"),Pe="function("+(mt||"obj")+`) {
`+(mt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(J?", __e = _.escape":"")+(le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Pe+`return __p
}`;var Et=$w(function(){return Wt(F,st+"return "+Pe).apply(n,G)});if(Et.source=Pe,hm(Et))throw Et;return Et}function LN(l){return Yt(l).toLowerCase()}function ON(l){return Yt(l).toUpperCase()}function RN(l,u,p){if(l=Yt(l),l&&(p||u===n))return Ry(l);if(!l||!(u=Ds(u)))return l;var y=vo(l),I=vo(u),F=My(y,I),G=Ny(y,I)+1;return Zr(y,F,G).join("")}function MN(l,u,p){if(l=Yt(l),l&&(p||u===n))return l.slice(0,Dy(l)+1);if(!l||!(u=Ds(u)))return l;var y=vo(l),I=Ny(y,vo(u))+1;return Zr(y,0,I).join("")}function NN(l,u,p){if(l=Yt(l),l&&(p||u===n))return l.replace(Bi,"");if(!l||!(u=Ds(u)))return l;var y=vo(l),I=My(y,vo(u));return Zr(y,I).join("")}function FN(l,u){var p=V,y=ce;if($n(u)){var I="separator"in u?u.separator:I;p="length"in u?At(u.length):p,y="omission"in u?Ds(u.omission):y}l=Yt(l);var F=l.length;if(Ha(l)){var G=vo(l);F=G.length}if(p>=F)return l;var J=p-Va(y);if(J<1)return y;var le=G?Zr(G,0,J).join(""):l.slice(0,J);if(I===n)return le+y;if(G&&(J+=le.length-J),pm(I)){if(l.slice(J).search(I)){var Ae,Ee=le;for(I.global||(I=Pp(I.source,Yt(Na.exec(I))+"g")),I.lastIndex=0;Ae=I.exec(Ee);)var Pe=Ae.index;le=le.slice(0,Pe===n?J:Pe)}}else if(l.indexOf(Ds(I),J)!=J){var qe=le.lastIndexOf(I);qe>-1&&(le=le.slice(0,qe))}return le+y}function DN(l){return l=Yt(l),l&&Js.test(l)?l.replace(Lo,fP):l}var UN=Ja(function(l,u,p){return l+(p?" ":"")+u.toUpperCase()}),vm=C2("toUpperCase");function kw(l,u,p){return l=Yt(l),u=p?n:u,u===n?aP(l)?mP(l):Z5(l):l.match(u)||[]}var $w=Pt(function(l,u){try{return Ns(l,n,u)}catch(p){return hm(p)?p:new St(p)}}),jN=ur(function(l,u){return Zs(u,function(p){p=Do(p),lr(l,p,dm(l[p],l))}),l});function BN(l){var u=l==null?0:l.length,p=ht();return l=u?kn(l,function(y){if(typeof y[1]!="function")throw new Qs(i);return[p(y[0]),y[1]]}):[],Pt(function(y){for(var I=-1;++I<u;){var F=l[I];if(Ns(F[0],this,y))return Ns(F[1],this,y)}})}function zN(l){return fL(to(l,h))}function bm(l){return function(){return l}}function qN(l,u){return l==null||l!==l?u:l}var HN=A2(),VN=A2(!0);function Ts(l){return l}function _m(l){return s2(typeof l=="function"?l:to(l,h))}function WN(l){return r2(to(l,h))}function GN(l,u){return i2(l,to(u,h))}var KN=Pt(function(l,u){return function(p){return yc(p,l,u)}}),xN=Pt(function(l,u){return function(p){return yc(l,p,u)}});function ym(l,u,p){var y=Vn(u),I=Sd(u,y);p==null&&!($n(u)&&(I.length||!y.length))&&(p=u,u=l,l=this,I=Sd(u,Vn(u)));var F=!($n(p)&&"chain"in p)||!!p.chain,G=fr(l);return Zs(I,function(J){var le=u[J];l[J]=le,G&&(l.prototype[J]=function(){var Ae=this.__chain__;if(F||Ae){var Ee=l(this.__wrapped__),Pe=Ee.__actions__=ks(this.__actions__);return Pe.push({func:le,args:arguments,thisArg:l}),Ee.__chain__=Ae,Ee}return le.apply(l,Gr([this.value()],arguments))})}),l}function YN(){return _t._===this&&(_t._=wP),this}function wm(){}function XN(l){return l=At(l),Pt(function(u){return a2(u,l)})}var JN=Zp(kn),ZN=Zp(Ey),QN=Zp(kp);function Cw(l){return rm(l)?$p(Do(l)):IL(l)}function e7(l){return function(u){return l==null?n:xi(l,u)}}var t7=I2(),n7=I2(!0);function Sm(){return[]}function km(){return!1}function s7(){return{}}function o7(){return""}function r7(){return!0}function i7(l,u){if(l=At(l),l<1||l>it)return[];var p=bt,y=ss(l,bt);u=ht(u),l-=bt;for(var I=Ap(y,u);++p<l;)u(p);return I}function a7(l){return kt(l)?kn(l,Do):Us(l)?[l]:ks(W2(Yt(l)))}function l7(l){var u=++_P;return Yt(l)+u}var c7=Ed(function(l,u){return l+u},0),u7=Qp("ceil"),d7=Ed(function(l,u){return l/u},1),f7=Qp("floor");function h7(l){return l&&l.length?wd(l,Ts,Up):n}function p7(l,u){return l&&l.length?wd(l,ht(u,2),Up):n}function m7(l){return Ly(l,Ts)}function g7(l,u){return Ly(l,ht(u,2))}function v7(l){return l&&l.length?wd(l,Ts,qp):n}function b7(l,u){return l&&l.length?wd(l,ht(u,2),qp):n}var _7=Ed(function(l,u){return l*u},1),y7=Qp("round"),w7=Ed(function(l,u){return l-u},0);function S7(l){return l&&l.length?Tp(l,Ts):0}function k7(l,u){return l&&l.length?Tp(l,ht(u,2)):0}return M.after=WR,M.ary=nw,M.assign=OM,M.assignIn=gw,M.assignInWith=zd,M.assignWith=RM,M.at=MM,M.before=sw,M.bind=dm,M.bindAll=jN,M.bindKey=ow,M.castArray=sM,M.chain=Q2,M.chunk=fO,M.compact=hO,M.concat=pO,M.cond=BN,M.conforms=zN,M.constant=bm,M.countBy=SR,M.create=NM,M.curry=rw,M.curryRight=iw,M.debounce=aw,M.defaults=FM,M.defaultsDeep=DM,M.defer=GR,M.delay=KR,M.difference=mO,M.differenceBy=gO,M.differenceWith=vO,M.drop=bO,M.dropRight=_O,M.dropRightWhile=yO,M.dropWhile=wO,M.fill=SO,M.filter=$R,M.flatMap=AR,M.flatMapDeep=ER,M.flatMapDepth=IR,M.flatten=Y2,M.flattenDeep=kO,M.flattenDepth=$O,M.flip=xR,M.flow=HN,M.flowRight=VN,M.fromPairs=CO,M.functions=VM,M.functionsIn=WM,M.groupBy=PR,M.initial=AO,M.intersection=EO,M.intersectionBy=IO,M.intersectionWith=PO,M.invert=KM,M.invertBy=xM,M.invokeMap=OR,M.iteratee=_m,M.keyBy=RR,M.keys=Vn,M.keysIn=Cs,M.map=Nd,M.mapKeys=XM,M.mapValues=JM,M.matches=WN,M.matchesProperty=GN,M.memoize=Dd,M.merge=ZM,M.mergeWith=vw,M.method=KN,M.methodOf=xN,M.mixin=ym,M.negate=Ud,M.nthArg=XN,M.omit=QM,M.omitBy=eN,M.once=YR,M.orderBy=MR,M.over=JN,M.overArgs=XR,M.overEvery=ZN,M.overSome=QN,M.partial=fm,M.partialRight=lw,M.partition=NR,M.pick=tN,M.pickBy=bw,M.property=Cw,M.propertyOf=e7,M.pull=MO,M.pullAll=J2,M.pullAllBy=NO,M.pullAllWith=FO,M.pullAt=DO,M.range=t7,M.rangeRight=n7,M.rearg=JR,M.reject=UR,M.remove=UO,M.rest=ZR,M.reverse=cm,M.sampleSize=BR,M.set=sN,M.setWith=oN,M.shuffle=zR,M.slice=jO,M.sortBy=VR,M.sortedUniq=GO,M.sortedUniqBy=KO,M.split=AN,M.spread=QR,M.tail=xO,M.take=YO,M.takeRight=XO,M.takeRightWhile=JO,M.takeWhile=ZO,M.tap=hR,M.throttle=eM,M.thru=Md,M.toArray=hw,M.toPairs=_w,M.toPairsIn=yw,M.toPath=a7,M.toPlainObject=mw,M.transform=rN,M.unary=tM,M.union=QO,M.unionBy=eR,M.unionWith=tR,M.uniq=nR,M.uniqBy=sR,M.uniqWith=oR,M.unset=iN,M.unzip=um,M.unzipWith=Z2,M.update=aN,M.updateWith=lN,M.values=el,M.valuesIn=cN,M.without=rR,M.words=kw,M.wrap=nM,M.xor=iR,M.xorBy=aR,M.xorWith=lR,M.zip=cR,M.zipObject=uR,M.zipObjectDeep=dR,M.zipWith=fR,M.entries=_w,M.entriesIn=yw,M.extend=gw,M.extendWith=zd,ym(M,M),M.add=c7,M.attempt=$w,M.camelCase=hN,M.capitalize=ww,M.ceil=u7,M.clamp=uN,M.clone=oM,M.cloneDeep=iM,M.cloneDeepWith=aM,M.cloneWith=rM,M.conformsTo=lM,M.deburr=Sw,M.defaultTo=qN,M.divide=d7,M.endsWith=pN,M.eq=_o,M.escape=mN,M.escapeRegExp=gN,M.every=kR,M.find=CR,M.findIndex=K2,M.findKey=UM,M.findLast=TR,M.findLastIndex=x2,M.findLastKey=jM,M.floor=f7,M.forEach=ew,M.forEachRight=tw,M.forIn=BM,M.forInRight=zM,M.forOwn=qM,M.forOwnRight=HM,M.get=mm,M.gt=cM,M.gte=uM,M.has=GM,M.hasIn=gm,M.head=X2,M.identity=Ts,M.includes=LR,M.indexOf=TO,M.inRange=dN,M.invoke=YM,M.isArguments=Ji,M.isArray=kt,M.isArrayBuffer=dM,M.isArrayLike=$s,M.isArrayLikeObject=Ln,M.isBoolean=fM,M.isBuffer=Qr,M.isDate=hM,M.isElement=pM,M.isEmpty=mM,M.isEqual=gM,M.isEqualWith=vM,M.isError=hm,M.isFinite=bM,M.isFunction=fr,M.isInteger=cw,M.isLength=jd,M.isMap=uw,M.isMatch=_M,M.isMatchWith=yM,M.isNaN=wM,M.isNative=SM,M.isNil=$M,M.isNull=kM,M.isNumber=dw,M.isObject=$n,M.isObjectLike=An,M.isPlainObject=Tc,M.isRegExp=pm,M.isSafeInteger=CM,M.isSet=fw,M.isString=Bd,M.isSymbol=Us,M.isTypedArray=Qa,M.isUndefined=TM,M.isWeakMap=AM,M.isWeakSet=EM,M.join=LO,M.kebabCase=vN,M.last=so,M.lastIndexOf=OO,M.lowerCase=bN,M.lowerFirst=_N,M.lt=IM,M.lte=PM,M.max=h7,M.maxBy=p7,M.mean=m7,M.meanBy=g7,M.min=v7,M.minBy=b7,M.stubArray=Sm,M.stubFalse=km,M.stubObject=s7,M.stubString=o7,M.stubTrue=r7,M.multiply=_7,M.nth=RO,M.noConflict=YN,M.noop=wm,M.now=Fd,M.pad=yN,M.padEnd=wN,M.padStart=SN,M.parseInt=kN,M.random=fN,M.reduce=FR,M.reduceRight=DR,M.repeat=$N,M.replace=CN,M.result=nN,M.round=y7,M.runInContext=ie,M.sample=jR,M.size=qR,M.snakeCase=TN,M.some=HR,M.sortedIndex=BO,M.sortedIndexBy=zO,M.sortedIndexOf=qO,M.sortedLastIndex=HO,M.sortedLastIndexBy=VO,M.sortedLastIndexOf=WO,M.startCase=EN,M.startsWith=IN,M.subtract=w7,M.sum=S7,M.sumBy=k7,M.template=PN,M.times=i7,M.toFinite=hr,M.toInteger=At,M.toLength=pw,M.toLower=LN,M.toNumber=oo,M.toSafeInteger=LM,M.toString=Yt,M.toUpper=ON,M.trim=RN,M.trimEnd=MN,M.trimStart=NN,M.truncate=FN,M.unescape=DN,M.uniqueId=l7,M.upperCase=UN,M.upperFirst=vm,M.each=ew,M.eachRight=tw,M.first=X2,ym(M,function(){var l={};return No(M,function(u,p){en.call(M.prototype,p)||(l[p]=u)}),l}(),{chain:!1}),M.VERSION=s,Zs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){M[l].placeholder=M}),Zs(["drop","take"],function(l,u){Ut.prototype[l]=function(p){p=p===n?1:Un(At(p),0);var y=this.__filtered__&&!u?new Ut(this):this.clone();return y.__filtered__?y.__takeCount__=ss(p,y.__takeCount__):y.__views__.push({size:ss(p,bt),type:l+(y.__dir__<0?"Right":"")}),y},Ut.prototype[l+"Right"]=function(p){return this.reverse()[l](p).reverse()}}),Zs(["filter","map","takeWhile"],function(l,u){var p=u+1,y=p==Ve||p==We;Ut.prototype[l]=function(I){var F=this.clone();return F.__iteratees__.push({iteratee:ht(I,3),type:p}),F.__filtered__=F.__filtered__||y,F}}),Zs(["head","last"],function(l,u){var p="take"+(u?"Right":"");Ut.prototype[l]=function(){return this[p](1).value()[0]}}),Zs(["initial","tail"],function(l,u){var p="drop"+(u?"":"Right");Ut.prototype[l]=function(){return this.__filtered__?new Ut(this):this[p](1)}}),Ut.prototype.compact=function(){return this.filter(Ts)},Ut.prototype.find=function(l){return this.filter(l).head()},Ut.prototype.findLast=function(l){return this.reverse().find(l)},Ut.prototype.invokeMap=Pt(function(l,u){return typeof l=="function"?new Ut(this):this.map(function(p){return yc(p,l,u)})}),Ut.prototype.reject=function(l){return this.filter(Ud(ht(l)))},Ut.prototype.slice=function(l,u){l=At(l);var p=this;return p.__filtered__&&(l>0||u<0)?new Ut(p):(l<0?p=p.takeRight(-l):l&&(p=p.drop(l)),u!==n&&(u=At(u),p=u<0?p.dropRight(-u):p.take(u-l)),p)},Ut.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Ut.prototype.toArray=function(){return this.take(bt)},No(Ut.prototype,function(l,u){var p=/^(?:filter|find|map|reject)|While$/.test(u),y=/^(?:head|last)$/.test(u),I=M[y?"take"+(u=="last"?"Right":""):u],F=y||/^find/.test(u);I&&(M.prototype[u]=function(){var G=this.__wrapped__,J=y?[1]:arguments,le=G instanceof Ut,Ae=J[0],Ee=le||kt(G),Pe=function(Ot){var zt=I.apply(M,Gr([Ot],J));return y&&qe?zt[0]:zt};Ee&&p&&typeof Ae=="function"&&Ae.length!=1&&(le=Ee=!1);var qe=this.__chain__,st=!!this.__actions__.length,mt=F&&!qe,Et=le&&!st;if(!F&&Ee){G=Et?G:new Ut(this);var gt=l.apply(G,J);return gt.__actions__.push({func:Md,args:[Pe],thisArg:n}),new eo(gt,qe)}return mt&&Et?l.apply(this,J):(gt=this.thru(Pe),mt?y?gt.value()[0]:gt.value():gt)})}),Zs(["pop","push","shift","sort","splice","unshift"],function(l){var u=id[l],p=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",y=/^(?:pop|shift)$/.test(l);M.prototype[l]=function(){var I=arguments;if(y&&!this.__chain__){var F=this.value();return u.apply(kt(F)?F:[],I)}return this[p](function(G){return u.apply(kt(G)?G:[],I)})}}),No(Ut.prototype,function(l,u){var p=M[u];if(p){var y=p.name+"";en.call(xa,y)||(xa[y]=[]),xa[y].push({name:u,func:p})}}),xa[Ad(n,C).name]=[{name:"wrapper",func:n}],Ut.prototype.clone=DP,Ut.prototype.reverse=UP,Ut.prototype.value=jP,M.prototype.at=pR,M.prototype.chain=mR,M.prototype.commit=gR,M.prototype.next=vR,M.prototype.plant=_R,M.prototype.reverse=yR,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=wR,M.prototype.first=M.prototype.head,hc&&(M.prototype[hc]=bR),M},Wa=gP();Fn?((Fn.exports=Wa)._=Wa,on._=Wa):_t._=Wa}).call(BU)}(Fc,Fc.exports)),Fc.exports}var Z=zU();const Si=Gs(Z);/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var Um,wS;function qU(){if(wS)return Um;wS=1;var e=/["'&<>]/;Um=t;function t(n){var s=""+n,o=e.exec(s);if(!o)return s;var r,i="",a=0,c=0;for(a=o.index;a<s.length;a++){switch(s.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}c!==a&&(i+=s.substring(c,a)),c=a+1,i+=r}return c!==a?i+s.substring(c,a):i}return Um}var HU=qU();const Uf=Gs(HU),VU=2e3,WU=!1;function GU(e){return e&&e.rel}function KU(e,t){function n(s){e[s]=Object.assign({},t,{rel:s})}return t.rel.split(/\s+/).forEach(n),e}function xU(e,t){const n=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return n&&(e[n[1]]=n[2]),e}function YU(e){try{const t=e.match(/<?([^>]*)>(.*)/),n=t[1],s=t[2].split(";"),o={},r=new URL(n,"https://example.com");for(const[a,c]of r.searchParams)o[a]=c;s.shift();let i=s.reduce(xU,{});return i=Object.assign({},o,i),i.url=n,i}catch{return null}}function XU(e,t){if(!e)return!1;t=t||{};const n=t.maxHeaderLength||VU,s=t.throwOnMaxHeaderLengthExceeded||WU;if(e.length>n){if(s)throw new Error("Input string too long, it should be under "+n+" characters.");return!1}return!0}function JU(e,t){return XU(e,t)?e.split(/,\s*</).map(YU).filter(GU).reduce(KU,{}):null}const $6=(e,t)=>{var a;const n=t.text.toLowerCase(),s=t.summary.toLowerCase(),o=(a=t.in_reply_to_screen_name)==null?void 0:a.toLowerCase(),r=t.user.screen_name.toLowerCase(),i=(t.attentions||[]).map(c=>c.screen_name.toLowerCase());return e.toSorted((c,d)=>d.order-c.order).map(c=>{const{hide:d,expires:f,name:h,value:v,type:_,enabled:S}=c;if(!S||v===""||f!==null&&f<Date.now())return!1;switch(_){case"word":{const k=v.toLowerCase();if(n.toLowerCase().includes(k)||s.toLowerCase().includes(k))return{hide:d,name:h};break}case"regexp":try{const k=new RegExp(v,"i");return k.test(n)||k.test(s)?{hide:d,name:h}:!1}catch{return!1}case"user":{if(r.includes(v)||o.includes(v)||i.some(k=>k.includes(v)))return{hide:d,name:h};break}case"user_regexp":try{const k=new RegExp(v,"i");return k.test(r)||k.test(o)||i.some(P=>k.test(P))?{hide:d,name:h}:!1}catch{return!1}}}).filter(c=>c)};function ZU(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),s=window.atob(n);return Uint8Array.from([...s].map(o=>o.charCodeAt(0)))}function ka(){return"serviceWorker"in navigator}function C6(){return"PushManager"in window}function G0(){return navigator.serviceWorker.register("/sw-pleroma.js",{type:"classic"}).catch(t=>console.error("Unable to get or create a service worker.",t))}function QU(e,t,n){if(!t)return Promise.reject(new Error("Web Push is disabled in config"));if(!n)return Promise.reject(new Error("VAPID public key is not found"));const s={userVisibleOnly:!1,applicationServerKey:ZU(n)};return e.pushManager.subscribe(s)}function e9(e){return e.pushManager.getSubscription().then(t=>{if(t!==null)return t.unsubscribe()})}function t9(e){return fetch("/api/v1/push/subscription/",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}).then(t=>{if(!t.ok)throw new Error("Bad status code from server.");return t})}function n9(e,t,n){return window.fetch("/api/v1/push/subscription/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({subscription:e,data:{alerts:{follow:n.follows,favourite:n.likes,mention:n.mentions,reblog:n.repeats,move:n.moves}}})}).then(s=>{if(!s.ok)throw new Error("Bad status code from server.");return s.json()}).then(s=>{if(!s.id)throw new Error("Bad response from server.");return s})}async function s9(e){ka()&&(await G0(),navigator.serviceWorker.addEventListener("message",t=>{const{dispatch:n}=e,{type:s,...o}=t.data;switch(s){case"notificationClicked":n("notificationClicked",{id:o.id})}}))}async function o9(e){if(!ka)return;const{active:t}=await window.navigator.serviceWorker.getRegistration()||{};if(!t)return console.error("No serviceworker found!");t.postMessage({type:"desktopNotification",content:e})}async function T6({id:e}){if(!ka)return;const{active:t}=await window.navigator.serviceWorker.getRegistration()||{};if(!t)return console.error("No serviceworker found!");e>=0?t.postMessage({type:"desktopNotificationClose",content:{id:e}}):t.postMessage({type:"desktopNotificationClose",content:{all:!0}})}async function r9(){if(!ka)return;const{active:e}=await window.navigator.serviceWorker.getRegistration()||{};if(!e)return console.error("No serviceworker found!");e.postMessage({type:"updateFocus"})}function i9(e,t,n,s){C6()&&G0().then(o=>QU(o,e,t)).then(o=>n9(o,n,s)).catch(o=>console.warn(`Failed to setup Web Push Notifications: ${o.message}`))}function a9(e){C6()&&Promise.all([t9(e),G0().then(t=>e9(t).then(n=>[t,n])).then(([,t])=>{t||console.warn("Push subscription cancellation wasn't successful")})]).catch(t=>console.warn(`Failed to disable Web Push Notifications: ${t.message}`))}const SS={failCreateNotif:!1},A6=(e,t)=>{if("Notification"in window&&window.Notification.permission==="granted"&&!e.notifications.desktopNotificationSilence){if(ka())o9(t);else if(!SS.failCreateNotif)try{const n=new window.Notification(t.title,t);setTimeout(n.close.bind(n),5e3)}catch{SS.failCreateNotif=!0}}},l9=(e,{id:t})=>{"Notification"in window&&window.Notification.permission==="granted"&&ka()&&T6({id:t})},c9=()=>{"Notification"in window&&window.Notification.permission==="granted"&&ka()&&T6({})},Rh=ys("i18n",{state:()=>({i18n:null}),actions:{setI18n(e){this.$patch({i18n:e.global})}}}),u9=Object.freeze(Object.defineProperty({__proto__:null,useI18nStore:Rh},Symbol.toStringTag,{value:"Module"})),d9=1e3*60*5,us=ys("announcements",{state:()=>({announcements:[],supportsAnnouncements:!0,fetchAnnouncementsTimer:void 0}),getters:{unreadAnnouncementCount(){return window.vuex.state.users.currentUser?this.announcements.filter(t=>!(t.inactive||t.read)).length:0}},actions:{fetchAnnouncements(){if(!this.supportsAnnouncements)return Promise.resolve();const e=window.vuex.state.users.currentUser,t=e&&e.privileges.includes("announcements_manage_announcements");return(async()=>{if(!t)return window.vuex.state.api.backendInteractor.fetchAnnouncements();const s=await window.vuex.state.api.backendInteractor.adminFetchAnnouncements(),r=(await window.vuex.state.api.backendInteractor.fetchAnnouncements()).reduce((a,c)=>(a[c.id]=c,a),{}),i=a=>r[a.id];return s.forEach(a=>{const c=i(a);c?a.read=c.read:a.inactive=!0}),s})().then(s=>{this.announcements=s}).catch(s=>{if(s&&s.statusCode===404)this.supportsAnnouncements=!1;else throw s})},markAnnouncementAsRead(e){return window.vuex.state.api.backendInteractor.dismissAnnouncement({id:e}).then(()=>{const t=this.announcements.findIndex(n=>n.id===e);t<0||(this.announcements[t].read=!0)})},startFetchingAnnouncements(){if(this.fetchAnnouncementsTimer)return;const e=setInterval(()=>this.fetchAnnouncements(),d9);return this.fetchAnnouncementsTimer=e,this.fetchAnnouncements()},stopFetchingAnnouncements(){const e=this.fetchAnnouncementsTimer;this.fetchAnnouncementsTimer=void 0,clearInterval(e)},postAnnouncement({content:e,startsAt:t,endsAt:n,allDay:s}){return window.vuex.state.api.backendInteractor.postAnnouncement({content:e,startsAt:t,endsAt:n,allDay:s}).then(()=>this.fetchAnnouncements())},editAnnouncement({id:e,content:t,startsAt:n,endsAt:s,allDay:o}){return window.vuex.state.api.backendInteractor.editAnnouncement({id:e,content:t,startsAt:n,endsAt:s,allDay:o}).then(()=>this.fetchAnnouncements())},deleteAnnouncement(e){return window.vuex.state.api.backendInteractor.deleteAnnouncement({id:e}).then(()=>this.fetchAnnouncements())}}}),f9=Object.freeze(Object.defineProperty({__proto__:null,useAnnouncementsStore:us},Symbol.toStringTag,{value:"Module"})),h9=()=>{const e=document.createElement("canvas");e.width=1,e.height=1;const t=e.getContext("2d");if(!t)return!1;t.fillStyle="#0f161e",t.fillRect(0,0,1,1);const{data:n}=t.getImageData(0,0,1,1);return n.join(",")==="15,22,30,255"},p9=()=>{const e=[],o=()=>{if(!h9())return;document.querySelectorAll('link[rel="icon"]').forEach(f=>{if(f){const h=document.createElement("canvas");h.width=128,h.height=128;const v=new Image;v.crossOrigin="anonymous",v.src=f.href;const _=h.getContext("2d");e.push({favcanvas:h,favimg:v,favcontext:_,favicon:f})}})},r=d=>d.complete&&d.naturalHeight!==0,i=()=>{e.length!==0&&e.forEach(({favimg:d,favcanvas:f,favcontext:h,favicon:v})=>{!d||!h||!v||(h.clearRect(0,0,128,128),r(d)&&h.drawImage(d,0,0,d.width,d.height,0,0,128,128),v.href=f.toDataURL("image/png"))})};return{initFaviconService:o,clearFaviconBadge:i,drawFaviconBadge:()=>{e.length!==0&&(i(),e.forEach(({favimg:d,favcanvas:f,favcontext:h,favicon:v})=>{if(!d||!h||!h)return;const S=`${getComputedStyle(document.body).getPropertyValue("--badgeNotification")||"rgb(240, 100, 100)"}`;r(d)&&h.drawImage(d,0,0,d.width,d.height,0,0,128,128),h.fillStyle=S,h.beginPath(),h.arc(96,32,32,0,2*Math.PI,!1),h.fill(),v.href=f.toDataURL("image/png")}))},getOriginalFavicons:()=>[...e]}},jf=p9(),E6=new Set(["mention","pleroma:report","follow_request"]);let Yd=null;const K0=e=>e.state.notifications.data,I6=e=>{const t=e.rootGetters||e.getters,{notificationVisibility:n}=t.mergedConfig;return[n.likes&&"like",n.mentions&&"mention",n.statuses&&"status",n.repeats&&"repeat",n.follows&&"follow",n.followRequest&&"follow_request",n.moves&&"move",n.emojiReactions&&"pleroma:emoji_reaction",n.reports&&"pleroma:report",n.polls&&"poll"].filter(s=>s)},m9=new Set(["like","mention","status","repeat","pleroma:emoji_reaction","poll"]),Mu=e=>m9.has(e),g9=e=>!(Mu(e.type)&&!e.status),v9=(e,t)=>{const n=Number(e.id),s=Number(t.id),o=!Number.isNaN(n),r=!Number.isNaN(s);return o&&r?n>s?-1:1:o&&!r?1:!o&&r||e.id>t.id?-1:1},b9=e=>e.status?e.status.muted?!0:$6(e.status).length>0:!1,_9=(e,t)=>{const n=e.rootState||e.state;if(t.seen||!I6(e).includes(t.type)||t.type==="mention"&&b9(t))return;const s=y9(t,Rh().i18n);A6(n,s)},gf=(e,t)=>K0(e).map(s=>s).sort(v9).filter(s=>(t||I6(e)).includes(s.type)),x0=e=>{const n=(e.rootGetters||e.getters).mergedConfig.ignoreInactionableSeen;return gf(e).filter(({seen:s,type:o})=>n?s?!1:E6.has(o):!s)},y9=(e,t)=>{if(Yd===null){const i=jf.getOriginalFavicons(),a=i[i.length-1];a?Yd=a.favimg.src:Yd="about:blank"}const n={tag:e.id,type:e.type,badge:Yd},s=e.status,o=e.from_profile.name;n.title=o,n.icon=e.from_profile.profile_image_url;let r;switch(e.type){case"like":r="favorited_you";break;case"status":r="subscribed_status";break;case"repeat":r="repeated_you";break;case"follow":r="followed_you";break;case"move":r="migrated_to";break;case"follow_request":r="follow_request";break;case"pleroma:report":r="submitted_report";break;case"poll":r="poll_ended";break}return e.type==="pleroma:emoji_reaction"?n.body=t.t("notifications.reacted_with",[e.emoji]):r?n.body=t.t("notifications."+r):Mu(e.type)&&(n.body=e.status.text),s&&s.attachments&&s.attachments.length>0&&!s.nsfw&&s.attachments[0].mimetype.startsWith("image/")&&(n.image=s.attachments[0].url),n},P6=e=>{const t=e.rootGetters||e.getters,n=t.mergedConfig;return n.showExtraNotifications?[n.showChatsInExtraNotifications?t.unreadChatCount:0,n.showAnnouncementsInExtraNotifications?us().unreadAnnouncementCount:0,n.showFollowRequestsInExtraNotifications?t.followRequestCount:0].reduce((s,o)=>s+o,0):0},vl=2147483647,Ho=36,Y0=1,bu=26,w9=38,S9=700,L6=72,O6=128,R6="-",k9=/^xn--/,$9=/[^\0-\x7F]/,C9=/[\x2E\u3002\uFF0E\uFF61]/g,T9={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},jm=Ho-Y0,Vo=Math.floor,Bm=String.fromCharCode;function li(e){throw new RangeError(T9[e])}function A9(e,t){const n=[];let s=e.length;for(;s--;)n[s]=t(e[s]);return n}function M6(e,t){const n=e.split("@");let s="";n.length>1&&(s=n[0]+"@",e=n[1]),e=e.replace(C9,".");const o=e.split("."),r=A9(o,t).join(".");return s+r}function N6(e){const t=[];let n=0;const s=e.length;for(;n<s;){const o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<s){const r=e.charCodeAt(n++);(r&64512)==56320?t.push(((o&1023)<<10)+(r&1023)+65536):(t.push(o),n--)}else t.push(o)}return t}const E9=e=>String.fromCodePoint(...e),I9=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:Ho},kS=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},F6=function(e,t,n){let s=0;for(e=n?Vo(e/S9):e>>1,e+=Vo(e/t);e>jm*bu>>1;s+=Ho)e=Vo(e/jm);return Vo(s+(jm+1)*e/(e+w9))},D6=function(e){const t=[],n=e.length;let s=0,o=O6,r=L6,i=e.lastIndexOf(R6);i<0&&(i=0);for(let a=0;a<i;++a)e.charCodeAt(a)>=128&&li("not-basic"),t.push(e.charCodeAt(a));for(let a=i>0?i+1:0;a<n;){const c=s;for(let f=1,h=Ho;;h+=Ho){a>=n&&li("invalid-input");const v=I9(e.charCodeAt(a++));v>=Ho&&li("invalid-input"),v>Vo((vl-s)/f)&&li("overflow"),s+=v*f;const _=h<=r?Y0:h>=r+bu?bu:h-r;if(v<_)break;const S=Ho-_;f>Vo(vl/S)&&li("overflow"),f*=S}const d=t.length+1;r=F6(s-c,d,c==0),Vo(s/d)>vl-o&&li("overflow"),o+=Vo(s/d),s%=d,t.splice(s++,0,o)}return String.fromCodePoint(...t)},U6=function(e){const t=[];e=N6(e);const n=e.length;let s=O6,o=0,r=L6;for(const c of e)c<128&&t.push(Bm(c));const i=t.length;let a=i;for(i&&t.push(R6);a<n;){let c=vl;for(const f of e)f>=s&&f<c&&(c=f);const d=a+1;c-s>Vo((vl-o)/d)&&li("overflow"),o+=(c-s)*d,s=c;for(const f of e)if(f<s&&++o>vl&&li("overflow"),f===s){let h=o;for(let v=Ho;;v+=Ho){const _=v<=r?Y0:v>=r+bu?bu:v-r;if(h<_)break;const S=h-_,k=Ho-_;t.push(Bm(kS(_+S%k,0))),h=Vo(S/k)}t.push(Bm(kS(h,0))),r=F6(o,d,a===i),o=0,++a}++o,++s}return t.join("")},P9=function(e){return M6(e,function(t){return k9.test(t)?D6(t.slice(4).toLowerCase()):t})},L9=function(e){return M6(e,function(t){return $9.test(t)?"xn--"+U6(t):t})},O9={version:"2.3.1",ucs2:{decode:N6,encode:E9},decode:D6,encode:U6,toASCII:L9,toUnicode:P9},R9=e=>e.is_post_verb?"status":e.retweeted_status?"retweet":typeof e.uri=="string"&&e.uri.match(/(fave|objectType=Favourite)/)||typeof e.text=="string"&&e.text.match(/favorited/)?"favorite":e.text.match(/deleted notice {{tag/)||e.qvitter_delete_notice?"deletion":e.text.match(/started following/)||e.activity_type==="follow"?"follow":"unknown",Cn=e=>{const t={},n=Object.prototype.hasOwnProperty.call(e,"acct"),s=n&&!Object.prototype.hasOwnProperty.call(e,"avatar");if(t.inLists=null,t.id=String(e.id),t._original=e,n){if(t.screen_name=e.acct,t.fqn=e.fqn,t.statusnet_profile_url=e.url,s)return t;if(t.emoji=e.emojis,t.name=Uf(e.display_name),t.name_html=t.name,t.name_unescaped=e.display_name,t.description=e.note,t.description_html=e.note,t.fields=e.fields,t.fields_html=e.fields.map(o=>({name:Uf(o.name),value:o.value})),t.fields_text=e.fields.map(o=>({name:unescape(o.name.replace(/<[^>]*>/g,"")),value:unescape(o.value.replace(/<[^>]*>/g,""))})),t.profile_image_url=e.avatar,t.profile_image_url_original=e.avatar,t.cover_photo=e.header,t.friends_count=e.following_count,t.bot=e.bot,e.pleroma){e.pleroma.settings_store&&(t.storage=e.pleroma.settings_store["pleroma-fe"]);const o=e.pleroma.relationship;t.background_image=e.pleroma.background_image,t.favicon=e.pleroma.favicon,t.token=e.pleroma.chat_token,o&&(t.relationship=o),t.allow_following_move=e.pleroma.allow_following_move,t.hide_favorites=e.pleroma.hide_favorites,t.hide_follows=e.pleroma.hide_follows,t.hide_followers=e.pleroma.hide_followers,t.hide_follows_count=e.pleroma.hide_follows_count,t.hide_followers_count=e.pleroma.hide_followers_count,t.rights={moderator:e.pleroma.is_moderator,admin:e.pleroma.is_admin},t.rights.admin?t.role="admin":t.rights.moderator?t.role="moderator":t.role="member",t.birthday=e.pleroma.birthday,e.pleroma.privileges?t.privileges=e.pleroma.privileges:e.pleroma.is_admin?t.privileges=["users_read","users_manage_invites","users_manage_activation_state","users_manage_tags","users_manage_credentials","users_delete","messages_read","messages_delete","instances_delete","reports_manage_reports","moderation_log_read","announcements_manage_announcements","emoji_manage_emoji","statistics_read"]:e.pleroma.is_moderator?t.privileges=["messages_delete","reports_manage_reports"]:t.privileges=[]}e.source&&(t.description=e.source.note,t.default_scope=e.source.privacy,t.fields=e.source.fields,e.source.pleroma&&(t.no_rich_text=e.source.pleroma.no_rich_text,t.show_role=e.source.pleroma.show_role,t.discoverable=e.source.pleroma.discoverable,t.show_birthday=e.pleroma.show_birthday,t.actor_type=e.source.pleroma.actor_type)),t.is_local=!t.screen_name.includes("@")}else t.screen_name=e.screen_name,t.name=e.name,t.name_html=e.name_html,t.description=e.description,t.description_html=e.description_html,t.profile_image_url=e.profile_image_url,t.profile_image_url_original=e.profile_image_url_original,t.cover_photo=e.cover_photo,t.friends_count=e.friends_count,t.statusnet_profile_url=e.statusnet_profile_url,t.is_local=e.is_local,t.role=e.role,t.show_role=e.show_role,e.rights&&(t.rights={moderator:e.rights.delete_others_notice,admin:e.rights.admin}),t.no_rich_text=e.no_rich_text,t.default_scope=e.default_scope,t.hide_follows=e.hide_follows,t.hide_followers=e.hide_followers,t.hide_follows_count=e.hide_follows_count,t.hide_followers_count=e.hide_followers_count,t.background_image=e.background_image,t.token=e.token,t.relationship={muting:e.muted,blocking:e.statusnet_blocking,followed_by:e.follows_you,following:e.following};if(t.created_at=new Date(e.created_at),t.locked=e.locked,t.followers_count=e.followers_count,t.statuses_count=e.statuses_count,e.pleroma&&(t.follow_request_count=e.pleroma.follow_request_count,t.tags=e.pleroma.tags,t.deactivated=typeof e.pleroma.is_active<"u"?!e.pleroma.is_active:e.pleroma.deactivated,t.notification_settings=e.pleroma.notification_settings,t.unread_chat_count=e.pleroma.unread_chat_count),t.tags=t.tags||[],t.rights=t.rights||{},t.notification_settings=t.notification_settings||{},t.screen_name_ui=t.screen_name,t.screen_name&&t.screen_name.includes("@")){const o=t.screen_name.split("@"),r=O9.toUnicode(o[1]);r!==o[1]?(t.screen_name_ui_contains_non_ascii=!0,t.screen_name_ui=[o[0],r].join("@")):t.screen_name_ui_contains_non_ascii=!1}return t},Mh=e=>{const t={};return!Object.prototype.hasOwnProperty.call(e,"oembed")?(t.mimetype=e.pleroma?e.pleroma.mime_type:e.type,t.meta=e.meta,t.id=e.id):t.mimetype=e.mimetype,t.url=e.url,t.large_thumb_url=e.preview_url,t.description=e.description,t},M9=e=>{const t={};return t.text=e.text,t.spoiler_text=e.spoiler_text,t.content_type=e.content_type,t},nn=e=>{const t={},n=Object.prototype.hasOwnProperty.call(e,"account");if(n){if(t.favorited=e.favourited,t.fave_num=e.favourites_count,t.repeated=e.reblogged,t.repeat_num=e.reblogs_count,t.bookmarked=e.bookmarked,t.type=e.reblog?"retweet":"status",t.nsfw=e.sensitive,t.raw_html=e.content,t.emojis=e.emojis,t.tags=e.tags,t.edited_at=e.edited_at,e.pleroma){const{pleroma:o}=e;t.text=o.content?e.pleroma.content["text/plain"]:e.content,t.summary=o.spoiler_text?e.pleroma.spoiler_text["text/plain"]:e.spoiler_text,t.statusnet_conversation_id=e.pleroma.conversation_id,t.is_local=o.local,t.in_reply_to_screen_name=e.pleroma.in_reply_to_account_acct,t.thread_muted=o.thread_muted,t.emoji_reactions=o.emoji_reactions,t.parent_visible=o.parent_visible===void 0?!0:o.parent_visible,t.quote=o.quote?nn(o.quote):void 0,t.quote_id=o.quote_id?o.quote_id:t.quote?t.quote.id:void 0,t.quote_url=o.quote_url,t.quote_visible=o.quote_visible,t.quotes_count=o.quotes_count,t.bookmark_folder_id=o.bookmark_folder}else t.text=e.content,t.summary=e.spoiler_text;t.in_reply_to_status_id=e.in_reply_to_id,t.in_reply_to_user_id=e.in_reply_to_account_id,t.replies_count=e.replies_count,t.type==="retweet"&&(t.retweeted_status=nn(e.reblog)),t.summary_raw_html=Uf(e.spoiler_text),t.external_url=e.url,t.poll=e.poll,t.poll&&(t.poll.options=(t.poll.options||[]).map(o=>({...o,title_html:Uf(o.title)}))),t.pinned=e.pinned,t.muted=e.muted}else t.favorited=e.favorited,t.fave_num=e.fave_num,t.repeated=e.repeated,t.repeat_num=e.repeat_num,t.type=R9(e),e.nsfw===void 0?(t.nsfw=N9(e),e.retweeted_status&&(t.nsfw=e.retweeted_status.nsfw)):t.nsfw=e.nsfw,t.raw_html=e.statusnet_html,t.text=e.text,t.in_reply_to_status_id=e.in_reply_to_status_id,t.in_reply_to_user_id=e.in_reply_to_user_id,t.in_reply_to_screen_name=e.in_reply_to_screen_name,t.statusnet_conversation_id=e.statusnet_conversation_id,t.type==="retweet"&&(t.retweeted_status=nn(e.retweeted_status)),t.summary=e.summary,t.summary_html=e.summary_html,t.external_url=e.external_url,t.is_local=e.is_local;t.id=String(e.id),t.visibility=e.visibility,t.card=e.card,t.created_at=new Date(e.created_at),t.in_reply_to_status_id=t.in_reply_to_status_id?String(t.in_reply_to_status_id):null,t.in_reply_to_user_id=t.in_reply_to_user_id?String(t.in_reply_to_user_id):null,t.user=Cn(n?e.account:e.user),t.attentions=((n?e.mentions:e.attentions)||[]).map(Cn),t.attachments=((n?e.media_attachments:e.attachments)||[]).map(Mh);const s=n?e.reblog:e.retweeted_status;return s&&(t.retweeted_status=nn(s)),t.favoritedBy=[],t.rebloggedBy=[],Object.prototype.hasOwnProperty.call(e,"originalStatus")&&Object.assign(t,e.originalStatus),t},j6=e=>{const t={favourite:"like",reblog:"repeat"},n=!Object.prototype.hasOwnProperty.call(e,"ntype"),s={};if(n)s.type=t[e.type]||e.type,s.seen=e.pleroma.is_seen,s.status=Mu(s.type)&&e.status!==null?nn(e.status):null,s.target=s.type!=="move"?null:Cn(e.target),s.from_profile=Cn(e.account),s.emoji=e.emoji,s.emoji_url=e.emoji_url,e.report&&(s.report=e.report,s.report.content=e.report.content,s.report.acct=Cn(e.report.account),s.report.actor=Cn(e.report.actor),s.report.statuses=e.report.statuses.map(nn));else{const o=nn(e.notice);s.type=e.ntype,s.seen=!!e.is_seen,s.status=s.type==="like"?nn(e.notice.favorited_status):o,s.action=o,s.from_profile=s.type==="pleroma:chat_mention"?Cn(e.account):Cn(e.from_profile)}return s.created_at=new Date(e.created_at),s.id=parseInt(e.id),s},N9=e=>{const t=/#nsfw/i;return(e.tags||[]).includes("nsfw")||!!(e.text||"").match(t)},F9=(e,t={})=>{var i,a;const n=t.flakeId,s=JU(e);if(!s)return;const o=(i=s.next)==null?void 0:i.max_id,r=(a=s.prev)==null?void 0:a.min_id;return{maxId:n?o:parseInt(o,10),minId:n?r:parseInt(r,10)}},X0=e=>{const t={};return t.id=e.id,t.account=Cn(e.account),t.unread=e.unread,t.lastMessage=B6(e.last_message),t.updated_at=new Date(e.updated_at),t},B6=e=>{if(!e)return;if(e.isNormalized)return e;const t=e;return t.id=e.id,t.created_at=new Date(e.created_at),t.chat_id=e.chat_id,t.emojis=e.emojis,t.content=e.content,e.attachment?t.attachments=[Mh(e.attachment)]:t.attachments=[],t.pending=!!e.pending,t.error=!1,t.idempotency_key=e.idempotency_key,t.isNormalized=!0,t};function D9(e){return Object.entries(e).reduce((t,[n,s])=>{const o=s.reduce((r,i)=>{const a=Z.capitalize(n.replace(/_/g," "));return r+[a,i].join(" ")+". "},"");return[...t,o]},[])}function ki(e,t,n,s){this.name="StatusCodeError",this.statusCode=e,this.message=e+" - "+(JSON&&JSON.stringify?JSON.stringify(t):t),this.error=t,this.options=n,this.response=s,Error.captureStackTrace&&Error.captureStackTrace(this)}ki.prototype=Object.create(Error.prototype);ki.prototype.constructor=ki;class U9 extends Error{constructor(t){super(),Error.captureStackTrace&&Error.captureStackTrace(this);try{if(typeof t=="string"&&(t=JSON.parse(t),t.hasOwnProperty("error")&&(t=JSON.parse(t.error))),typeof t=="object"){const n=JSON.parse(t.error);n.ap_id&&(n.username=n.ap_id,delete n.ap_id),this.message=D9(n)}else this.message=t}catch{this.message=t}}}const j9="/api/pleroma/mutes_import",B9="/api/pleroma/blocks_import",z9="/api/pleroma/follow_import",q9="/api/pleroma/delete_account",H9="/api/pleroma/change_email",V9="/api/pleroma/change_password",W9="/api/pleroma/move_account",J0="/api/pleroma/aliases",z6="/api/pleroma/admin/users/tag",q6=(e,t)=>`/api/pleroma/admin/users/${e}/permission_group/${t}`,G9="/api/pleroma/admin/users/activate",K9="/api/pleroma/admin/users/deactivate",x9="/api/pleroma/admin/users",Y9="/api/v1/suggestions",X9="/api/pleroma/notification_settings",J9="/api/v1/pleroma/notifications/read",Z9="/api/pleroma/accounts/mfa",Q9="/api/pleroma/accounts/mfa/backup_codes",ej="/api/pleroma/accounts/mfa/setup/totp",tj="/api/pleroma/accounts/mfa/confirm/totp",nj="/api/pleroma/accounts/mfa/totp",sj="/api/v1/accounts/verify_credentials",oj="/api/v1/accounts",rj="/api/v1/favourites",ij="/api/v1/notifications",aj=e=>`/api/v1/notifications/${e}/dismiss`,lj=e=>`/api/v1/statuses/${e}/favourite`,cj=e=>`/api/v1/statuses/${e}/unfavourite`,uj=e=>`/api/v1/statuses/${e}/reblog`,dj=e=>`/api/v1/statuses/${e}/unreblog`,fj=e=>`/api/v1/statuses/${e}`,hj=e=>`/api/v1/accounts/${e}/follow`,pj=e=>`/api/v1/accounts/${e}/unfollow`,mj=e=>`/api/v1/accounts/${e}/following`,gj=e=>`/api/v1/accounts/${e}/followers`,vj="/api/v1/follow_requests",bj=e=>`/api/v1/follow_requests/${e}/authorize`,_j=e=>`/api/v1/follow_requests/${e}/reject`,yj="/api/v1/timelines/direct",$S="/api/v1/timelines/public",wj="/api/v1/timelines/home",H6=e=>`/api/v1/statuses/${e}`,Sj=e=>`/api/v1/statuses/${e}/context`,kj=e=>`/api/v1/statuses/${e}/source`,$j=e=>`/api/v1/statuses/${e}/history`,Cj="/api/v1/accounts",Tj="/api/v1/accounts/lookup",Aj="/api/v1/accounts/relationships",yb=e=>`/api/v1/accounts/${e}/statuses`,Ej=e=>`/api/v1/accounts/${e}/lists`,Z0=e=>`/api/v1/lists/${e}`,Ij=e=>`/api/v1/timelines/list/${e}`,Q0=e=>`/api/v1/lists/${e}/accounts`,Pj=e=>`/api/v1/timelines/tag/${e}`,Lj="/api/v1/bookmarks",Oj="/api/v1/blocks/",Rj="/api/v1/mutes/",Mj=e=>`/api/v1/accounts/${e}/block`,Nj=e=>`/api/v1/accounts/${e}/unblock`,Fj=e=>`/api/v1/accounts/${e}/mute`,Dj=e=>`/api/v1/accounts/${e}/unmute`,Uj=e=>`/api/v1/accounts/${e}/remove_from_followers`,jj=e=>`/api/v1/accounts/${e}/note`,Bj=e=>`/api/v1/statuses/${e}/bookmark`,zj=e=>`/api/v1/statuses/${e}/unbookmark`,qj="/api/v1/statuses",V6="/api/v1/media",Hj=e=>`/api/v1/polls/${e}/votes`,Vj=e=>`/api/v1/polls/${e}`,Wj=e=>`/api/v1/statuses/${e}/favourited_by`,Gj=e=>`/api/v1/statuses/${e}/reblogged_by`,W6="/api/v1/accounts/update_credentials",Kj="/api/v1/reports",xj=e=>`/api/v1/statuses/${e}/pin`,Yj=e=>`/api/v1/statuses/${e}/unpin`,Xj=e=>`/api/v1/statuses/${e}/mute`,Jj=e=>`/api/v1/statuses/${e}/unmute`,Zj="/api/v2/search",Qj="/api/v1/accounts/search",e_="/api/v1/domain_blocks",G6="/api/v1/lists",eB="/api/v1/streaming",tB="/api/v1/instance/peers",nB="/api/v1/announcements",sB=e=>`/api/v1/announcements/${e}/dismiss`,oB=e=>`/api/v1/pleroma/statuses/${e}/reactions`,rB=(e,t)=>`/api/v1/pleroma/statuses/${e}/reactions/${t}`,iB=(e,t)=>`/api/v1/pleroma/statuses/${e}/reactions/${t}`,aB="/api/v1/pleroma/chats",lB=e=>`/api/v1/pleroma/chats/by-account-id/${e}`,K6=e=>`/api/v1/pleroma/chats/${e}/messages`,cB=e=>`/api/v1/pleroma/chats/${e}/read`,uB=(e,t)=>`/api/v1/pleroma/chats/${e}/messages/${t}`,dB="/api/pleroma/admin/reports",x6="/api/v1/pleroma/backups",fB="/api/v1/pleroma/admin/announcements",hB="/api/v1/pleroma/admin/announcements",pB=e=>`/api/v1/pleroma/admin/announcements/${e}`,mB=e=>`/api/v1/pleroma/admin/announcements/${e}`,gB=e=>`/api/v1/pleroma/accounts/${e}/scrobbles`,vB=e=>`/api/v1/pleroma/statuses/${e}/quotes`,bB=e=>`/api/v1/pleroma/accounts/${e}/favourites`,Y6="/api/v1/pleroma/bookmark_folders",X6=e=>`/api/v1/pleroma/bookmark_folders/${e}`,J6="/api/pleroma/admin/config",_B="/api/pleroma/admin/config/descriptions",yB="/api/pleroma/admin/frontends",wB="/api/pleroma/admin/frontends/install",SB="/api/pleroma/admin/reload_emoji",kB="/api/pleroma/emoji/packs/import",$B=(e,t)=>`/api/v1/pleroma/emoji/packs?page=${e}&page_size=${t}`,t_=e=>`/api/v1/pleroma/emoji/pack?name=${e}`,CB="/api/v1/pleroma/emoji/packs/download",TB=(e,t,n)=>`/api/v1/pleroma/emoji/packs/remote?url=${e}&page=${t}&page_size=${n}`,n_=e=>`/api/v1/pleroma/emoji/packs/files?name=${e}`,AB=window.fetch,ze=(e,t)=>{t=t||{};const s=""+e;return t.credentials="same-origin",AB(s,t)},ct=({method:e,url:t,params:n,payload:s,credentials:o,headers:r={}})=>{const i={method:e,headers:{Accept:"application/json","Content-Type":"application/json",...r}};return n&&(t+="?"+Object.entries(n).map(([a,c])=>encodeURIComponent(a)+"="+encodeURIComponent(c)).join("&")),s&&(i.body=JSON.stringify(s)),o&&(i.headers={...i.headers,...Ye(o)}),ze(t,i).then(a=>new Promise((c,d)=>a.json().then(f=>a.ok?c(f):d(new ki(a.status,f,{url:t,options:i},a))).catch(f=>d(new ki(a.status,f,{url:t,options:i},a)))))},EB=({credentials:e,settings:t})=>{const n=new FormData;return Z.each(t,(s,o)=>{n.append(o,s)}),ze(`${X9}?${new URLSearchParams(t)}`,{headers:Ye(e),method:"PUT",body:n}).then(s=>s.json())},IB=({credentials:e,avatar:t=null,avatarName:n=null,banner:s=null,background:o=null})=>{const r=new FormData;return t!==null&&(n!==null?r.append("avatar",t,n):r.append("avatar",t)),s!==null&&r.append("header",s),o!==null&&r.append("pleroma_background_image",o),ze(W6,{headers:Ye(e),method:"PATCH",body:r}).then(i=>i.json()).then(i=>{if(i.error)throw new Error(i.error);return Cn(i)})},PB=({credentials:e,params:t})=>ct({url:W6,method:"PATCH",payload:t,credentials:e}).then(n=>Cn(n)),LB=({params:e,credentials:t})=>{const{nickname:n,...s}=e;return ze(oj,{method:"POST",headers:{...Ye(t),"Content-Type":"application/json"},body:JSON.stringify({nickname:n,locale:"en_US",agreement:!0,...s})}).then(o=>o.ok?o.json():o.json().then(r=>{throw new U9(r)}))},OB=()=>ze("/api/pleroma/captcha").then(e=>e.json()),Ye=e=>e?{Authorization:`Bearer ${e}`}:{},RB=({id:e,credentials:t,...n})=>{const s=hj(e),o={};return n.reblogs!==void 0&&(o.reblogs=n.reblogs),n.notify!==void 0&&(o.notify=n.notify),ze(s,{body:JSON.stringify(o),headers:{...Ye(t),"Content-Type":"application/json"},method:"POST"}).then(r=>r.json())},MB=({id:e,credentials:t})=>{const n=pj(e);return ze(n,{headers:Ye(t),method:"POST"}).then(s=>s.json())},NB=({id:e,credentials:t})=>{const n=Ej(e);return ze(n,{headers:Ye(t)}).then(s=>s.json())},FB=({id:e,credentials:t})=>ct({url:xj(e),credentials:t,method:"POST"}).then(n=>nn(n)),DB=({id:e,credentials:t})=>ct({url:Yj(e),credentials:t,method:"POST"}).then(n=>nn(n)),UB=({id:e,credentials:t})=>ct({url:Xj(e),credentials:t,method:"POST"}).then(n=>nn(n)),jB=({id:e,credentials:t})=>ct({url:Jj(e),credentials:t,method:"POST"}).then(n=>nn(n)),BB=({id:e,credentials:t})=>ze(Mj(e),{headers:Ye(t),method:"POST"}).then(n=>n.json()),zB=({id:e,credentials:t})=>ze(Nj(e),{headers:Ye(t),method:"POST"}).then(n=>n.json()),qB=({id:e,credentials:t})=>ze(Uj(e),{headers:Ye(t),method:"POST"}).then(n=>n.json()),HB=({id:e,credentials:t,comment:n})=>ct({url:jj(e),credentials:t,payload:{comment:n},method:"POST"}),VB=({id:e,credentials:t})=>{const n=bj(e);return ze(n,{headers:Ye(t),method:"POST"}).then(s=>s.json())},WB=({id:e,credentials:t})=>{const n=_j(e);return ze(n,{headers:Ye(t),method:"POST"}).then(s=>s.json())},Z6=({id:e,credentials:t})=>{const n=`${Cj}/${e}`;return ct({url:n,credentials:t}).then(s=>Cn(s))},GB=({name:e,credentials:t})=>ct({url:Tj,credentials:t,params:{acct:e}}).then(n=>n.id).catch(n=>{if(n&&n.statusCode===404)return e;throw n}).then(n=>Z6({id:n,credentials:t})),KB=({id:e,credentials:t})=>{const n=`${Aj}/?id=${e}`;return ze(n,{headers:Ye(t)}).then(s=>new Promise((o,r)=>s.json().then(i=>s.ok?o(i):r(new ki(s.status,i,{url:n},s)))))},Q6=({id:e,maxId:t,sinceId:n,limit:s=20,credentials:o})=>{let r=mj(e);const i=[t&&`max_id=${t}`,n&&`since_id=${n}`,s&&`limit=${s}`,"with_relationships=true"].filter(a=>a).join("&");return r=r+(i?"?"+i:""),ze(r,{headers:Ye(o)}).then(a=>a.json()).then(a=>a.map(Cn))},xB=({id:e,credentials:t})=>new Promise(async(n,s)=>{try{let o=[],r=!0;for(;r;){const i=o.length>0?Z.last(o).id:void 0,a=await Q6({id:e,maxId:i,credentials:t});o=Z.concat(o,a),a.length===0&&(r=!1)}n(o)}catch(o){s(o)}}),YB=({id:e,maxId:t,sinceId:n,limit:s=20,credentials:o})=>{let r=gj(e);const i=[t&&`max_id=${t}`,n&&`since_id=${n}`,s&&`limit=${s}`,"with_relationships=true"].filter(a=>a).join("&");return r+=i?"?"+i:"",ze(r,{headers:Ye(o)}).then(a=>a.json()).then(a=>a.map(Cn))},XB=({credentials:e})=>ze(vj,{headers:Ye(e)}).then(n=>n.json()).then(n=>n.map(Cn)),JB=({credentials:e})=>ze(G6,{headers:Ye(e)}).then(n=>n.json()),ZB=({title:e,credentials:t})=>{const n=G6,s=Ye(t);return s["Content-Type"]="application/json",ze(n,{headers:s,method:"POST",body:JSON.stringify({title:e})}).then(o=>o.json())},QB=({listId:e,credentials:t})=>{const n=Z0(e);return ze(n,{headers:Ye(t)}).then(s=>s.json())},ez=({listId:e,title:t,credentials:n})=>{const s=Z0(e),o=Ye(n);return o["Content-Type"]="application/json",ze(s,{headers:o,method:"PUT",body:JSON.stringify({title:t})})},tz=({listId:e,credentials:t})=>{const n=Q0(e);return ze(n,{headers:Ye(t)}).then(s=>s.json()).then(s=>s.map(({id:o})=>o))},nz=({listId:e,accountIds:t,credentials:n})=>{const s=Q0(e),o=Ye(n);return o["Content-Type"]="application/json",ze(s,{headers:o,method:"POST",body:JSON.stringify({account_ids:t})})},sz=({listId:e,accountIds:t,credentials:n})=>{const s=Q0(e),o=Ye(n);return o["Content-Type"]="application/json",ze(s,{headers:o,method:"DELETE",body:JSON.stringify({account_ids:t})})},oz=({listId:e,credentials:t})=>{const n=Z0(e);return ze(n,{method:"DELETE",headers:Ye(t)})},rz=({id:e,credentials:t})=>{const n=Sj(e);return ze(n,{headers:Ye(t)}).then(s=>{if(s.ok)return s;throw new Error("Error fetching timeline",s)}).then(s=>s.json()).then(({ancestors:s,descendants:o})=>({ancestors:s.map(nn),descendants:o.map(nn)}))},iz=({id:e,credentials:t})=>{const n=H6(e);return ze(n,{headers:Ye(t)}).then(s=>{if(s.ok)return s;throw new Error("Error fetching timeline",s)}).then(s=>s.json()).then(s=>nn(s))},az=({id:e,credentials:t})=>{const n=kj(e);return ze(n,{headers:Ye(t)}).then(s=>{if(s.ok)return s;throw new Error("Error fetching source",s)}).then(s=>s.json()).then(s=>M9(s))},lz=({status:e,credentials:t})=>{const n=$j(e.id);return ct({url:n,credentials:t}).then(s=>(s.reverse(),s.map(o=>(o.originalStatus=e,nn(o)))))},cz=({tag:e,credentials:t,user:n})=>{const o={nicknames:[n.screen_name],tags:[e]},r=Ye(t);return r["Content-Type"]="application/json",ze(z6,{method:"PUT",headers:r,body:JSON.stringify(o)})},uz=({tag:e,credentials:t,user:n})=>{const o={nicknames:[n.screen_name],tags:[e]},r=Ye(t);return r["Content-Type"]="application/json",ze(z6,{method:"DELETE",headers:r,body:JSON.stringify(o)})},dz=({right:e,credentials:t,user:n})=>{const s=n.screen_name;return ze(q6(s,e),{method:"POST",headers:Ye(t),body:{}})},fz=({right:e,credentials:t,user:n})=>{const s=n.screen_name;return ze(q6(s,e),{method:"DELETE",headers:Ye(t),body:{}})},hz=({credentials:e,user:{screen_name:t}})=>ct({url:G9,method:"PATCH",credentials:e,payload:{nicknames:[t]}}).then(n=>Z.get(n,"users.0")),pz=({credentials:e,user:{screen_name:t}})=>ct({url:K9,method:"PATCH",credentials:e,payload:{nicknames:[t]}}).then(n=>Z.get(n,"users.0")),mz=({credentials:e,user:t})=>{const n=t.screen_name,s=Ye(e);return ze(`${x9}?nickname=${n}`,{method:"DELETE",headers:s})},gz=({timeline:e,credentials:t,since:n=!1,minId:s=!1,until:o=!1,userId:r=!1,listId:i=!1,statusId:a=!1,tag:c=!1,withMuted:d=!1,replyVisibility:f="all",includeTypes:h=[],bookmarkFolderId:v=!1})=>{const _={public:$S,friends:wj,dms:yj,notifications:ij,publicAndExternal:$S,user:yb,media:yb,list:Ij,favorites:rj,publicFavorites:bB,tag:Pj,bookmarks:Lj,quotes:vB},S=e==="notifications",k=[];let P=_[e];e==="favorites"&&r&&(P=_.publicFavorites(r)),(e==="user"||e==="media")&&(P=P(r)),e==="list"&&(P=P(i)),e==="quotes"&&(P=P(a)),s&&k.push(["min_id",s]),n&&k.push(["since_id",n]),o&&k.push(["max_id",o]),c&&(P=P(c)),e==="media"&&k.push(["only_media",1]),e==="public"&&k.push(["local",!0]),(e==="public"||e==="publicAndExternal")&&k.push(["only_media",!1]),e!=="favorites"&&e!=="bookmarks"&&k.push(["with_muted",d]),f!=="all"&&k.push(["reply_visibility",f]),h.length>0&&h.forEach($=>{k.push(["include_types[]",$])}),e==="bookmarks"&&v&&k.push(["folder_id",v]),k.push(["limit",20]);const C=Z.map(k,$=>`${$[0]}=${$[1]}`).join("&");return P+=`?${C}`,ze(P,{headers:Ye(t)}).then(async $=>{const L=$.ok,T=await $.json();if(L&&!T.errors){const R=F9($.headers.get("Link"),{flakeId:e!=="bookmarks"&&e!=="notifications"});return{data:T.map(S?j6:nn),pagination:R}}else return T.errors||(T.errors=[]),T.status=$.status,T.statusText=$.statusText,T})},vz=({id:e,credentials:t})=>{const n=yb(e)+"?pinned=true";return ct({url:n,credentials:t}).then(s=>s.map(nn))},bz=e=>ze(sj,{headers:Ye(e)}).then(t=>t.ok?t.json():{error:t}).then(t=>t.error?t:Cn(t)),_z=({id:e,credentials:t})=>ct({url:lj(e),method:"POST",credentials:t}).then(n=>nn(n)),yz=({id:e,credentials:t})=>ct({url:cj(e),method:"POST",credentials:t}).then(n=>nn(n)),wz=({id:e,credentials:t})=>ct({url:uj(e),method:"POST",credentials:t}).then(n=>nn(n)),Sz=({id:e,credentials:t})=>ct({url:dj(e),method:"POST",credentials:t}).then(n=>nn(n)),kz=({id:e,credentials:t,...n})=>ct({url:Bj(e),headers:Ye(t),method:"POST",payload:{folder_id:n.folder_id}}),$z=({id:e,credentials:t})=>ct({url:zj(e),headers:Ye(t),method:"POST"}),Cz=({credentials:e,status:t,spoilerText:n,visibility:s,sensitive:o,poll:r,mediaIds:i=[],inReplyToStatusId:a,quoteId:c,contentType:d,preview:f,idempotencyKey:h})=>{const v=new FormData,_=r.options||[];if(v.append("status",t),v.append("source","Pleroma FE"),n&&v.append("spoiler_text",n),s&&v.append("visibility",s),o&&v.append("sensitive",o),d&&v.append("content_type",d),i.forEach(k=>{v.append("media_ids[]",k)}),_.some(k=>k!=="")){const k={expires_in:parseInt(r.expiresIn,10),multiple:r.multiple};Object.keys(k).forEach(P=>{v.append(`poll[${P}]`,k[P])}),_.forEach(P=>{v.append("poll[options][]",P)})}a&&v.append("in_reply_to_id",a),c&&v.append("quote_id",c),f&&v.append("preview","true");const S=Ye(e);return h&&(S["idempotency-key"]=h),ze(qj,{body:v,method:"POST",headers:S}).then(k=>k.json()).then(k=>k.error?k:nn(k))},Tz=({id:e,credentials:t,status:n,spoilerText:s,sensitive:o,poll:r,mediaIds:i=[],contentType:a})=>{const c=new FormData,d=r.options||[];if(c.append("status",n),s&&c.append("spoiler_text",s),o&&c.append("sensitive",o),a&&c.append("content_type",a),i.forEach(h=>{c.append("media_ids[]",h)}),d.some(h=>h!=="")){const h={expires_in:parseInt(r.expiresIn,10),multiple:r.multiple};Object.keys(h).forEach(v=>{c.append(`poll[${v}]`,h[v])}),d.forEach(v=>{c.append("poll[options][]",v)})}const f=Ye(t);return ze(H6(e),{body:c,method:"PUT",headers:f}).then(h=>h.json()).then(h=>h.error?h:nn(h))},Az=({id:e,credentials:t})=>ct({url:fj(e),credentials:t,method:"DELETE"}),Ez=({formData:e,credentials:t})=>ze(V6,{body:e,method:"POST",headers:Ye(t)}).then(n=>n.json()).then(n=>Mh(n)),Iz=({id:e,description:t,credentials:n})=>ct({url:`${V6}/${e}`,method:"PUT",headers:Ye(n),payload:{description:t}}).then(s=>Mh(s)),Pz=({file:e,credentials:t})=>{const n=new FormData;return n.append("list",e),ze(j9,{body:n,method:"POST",headers:Ye(t)}).then(s=>s.ok)},Lz=({file:e,credentials:t})=>{const n=new FormData;return n.append("list",e),ze(B9,{body:n,method:"POST",headers:Ye(t)}).then(s=>s.ok)},Oz=({file:e,credentials:t})=>{const n=new FormData;return n.append("list",e),ze(z9,{body:n,method:"POST",headers:Ye(t)}).then(s=>s.ok)},Rz=({credentials:e,password:t})=>{const n=new FormData;return n.append("password",t),ze(q9,{body:n,method:"POST",headers:Ye(e)}).then(s=>s.json())},Mz=({credentials:e,email:t,password:n})=>{const s=new FormData;return s.append("email",t),s.append("password",n),ze(H9,{body:s,method:"POST",headers:Ye(e)}).then(o=>o.json())},Nz=({credentials:e,password:t,targetAccount:n})=>{const s=new FormData;return s.append("password",t),s.append("target_account",n),ze(W9,{body:s,method:"POST",headers:Ye(e)}).then(o=>o.json())},Fz=({credentials:e,alias:t})=>ct({url:J0,method:"PUT",credentials:e,payload:{alias:t}}),Dz=({credentials:e,alias:t})=>ct({url:J0,method:"DELETE",credentials:e,payload:{alias:t}}),Uz=({credentials:e})=>ct({url:J0,method:"GET",credentials:e,params:{_cacheBooster:new Date().getTime()}}),jz=({credentials:e,password:t,newPassword:n,newPasswordConfirmation:s})=>{const o=new FormData;return o.append("password",t),o.append("new_password",n),o.append("new_password_confirmation",s),ze(V9,{body:o,method:"POST",headers:Ye(e)}).then(r=>r.json())},Bz=({credentials:e})=>ze(Z9,{headers:Ye(e),method:"GET"}).then(t=>t.json()),zz=({credentials:e,password:t})=>{const n=new FormData;return n.append("password",t),ze(nj,{body:n,method:"DELETE",headers:Ye(e)}).then(s=>s.json())},qz=({credentials:e,password:t,token:n})=>{const s=new FormData;return s.append("password",t),s.append("code",n),ze(tj,{body:s,headers:Ye(e),method:"POST"}).then(o=>o.json())},Hz=({credentials:e})=>ze(ej,{headers:Ye(e),method:"GET"}).then(t=>t.json()),Vz=({credentials:e})=>ze(Q9,{headers:Ye(e),method:"GET"}).then(t=>t.json()),Wz=({maxId:e,credentials:t})=>{const n=new URLSearchParams({with_relationships:!0});return e&&n.append("max_id",e),ct({url:`${Rj}?${n.toString()}`,credentials:t}).then(s=>s.map(Cn))},Gz=({id:e,expiresIn:t,credentials:n})=>{const s={};return t&&(s.expires_in=t),ct({url:Fj(e),credentials:n,method:"POST",payload:s})},Kz=({id:e,credentials:t})=>ct({url:Dj(e),credentials:t,method:"POST"}),xz=({maxId:e,credentials:t})=>{const n=new URLSearchParams({with_relationships:!0});return e&&n.append("max_id",e),ct({url:`${Oj}?${n.toString()}`,credentials:t}).then(s=>s.map(Cn))},Yz=({credentials:e})=>ct({url:x6,method:"POST",credentials:e}),Xz=({credentials:e})=>ct({url:x6,method:"GET",credentials:e,params:{_cacheBooster:new Date().getTime()}}),Jz=({credentials:e})=>ze("/api/oauth_tokens.json",{headers:Ye(e)}).then(n=>{if(n.ok)return n.json();throw new Error("Error fetching auth tokens",n)}),Zz=({id:e,credentials:t})=>{const n=`/api/oauth_tokens/${e}`;return ze(n,{headers:Ye(t),method:"DELETE"})},Qz=({credentials:e})=>ze(Y9,{headers:Ye(e)}).then(t=>t.json()),eq=({id:e,credentials:t,single:n=!1})=>{const s=new FormData;return n?s.append("id",e):s.append("max_id",e),ze(J9,{body:s,headers:Ye(t),method:"POST"}).then(o=>o.json())},tq=({pollId:e,choices:t,credentials:n})=>(new FormData().append("choices",t),ct({url:Hj(encodeURIComponent(e)),method:"POST",credentials:n,payload:{choices:t}})),nq=({pollId:e,credentials:t})=>ct({url:Vj(encodeURIComponent(e)),method:"GET",credentials:t}),sq=({id:e,credentials:t})=>ct({url:Wj(e),method:"GET",credentials:t}).then(n=>n.map(Cn)),oq=({id:e,credentials:t})=>ct({url:Gj(e),method:"GET",credentials:t}).then(n=>n.map(Cn)),rq=({id:e,credentials:t})=>ct({url:oB(e),credentials:t}).then(n=>n.map(s=>(s.accounts=s.accounts.map(Cn),s))),iq=({id:e,emoji:t,credentials:n})=>ct({url:rB(e,t),method:"PUT",credentials:n}).then(nn),aq=({id:e,emoji:t,credentials:n})=>ct({url:iB(e,t),method:"DELETE",credentials:n}).then(nn),lq=({credentials:e,userId:t,statusIds:n,comment:s,forward:o})=>ct({url:Kj,method:"POST",payload:{account_id:t,status_ids:n,comment:s,forward:o},credentials:e}),cq=({credentials:e,query:t})=>ct({url:Qj,params:{q:t,resolve:!0},credentials:e}).then(n=>n.map(Cn)),uq=({credentials:e,q:t,resolve:n,limit:s,offset:o,following:r,type:i})=>{let a=Zj;const c=[];t&&c.push(["q",encodeURIComponent(t)]),n&&c.push(["resolve",n]),s&&c.push(["limit",s]),o&&c.push(["offset",o]),r&&c.push(["following",!0]),i&&c.push(["type",i]),c.push(["with_relationships",!0]);const d=Z.map(c,f=>`${f[0]}=${f[1]}`).join("&");return a+=`?${d}`,ze(a,{headers:Ye(e)}).then(f=>{if(f.ok)return f;throw new Error("Error fetching search result",f)}).then(f=>f.json()).then(f=>(f.accounts=f.accounts.slice(0,s).map(h=>Cn(h)),f.statuses=f.statuses.slice(0,s).map(h=>nn(h)),f))},dq=({credentials:e})=>ct({url:tB,credentials:e}),fq=({credentials:e})=>ct({url:e_,credentials:e}),hq=({domain:e,credentials:t})=>ct({url:e_,method:"POST",payload:{domain:e},credentials:t}),pq=({domain:e,credentials:t})=>ct({url:e_,method:"DELETE",payload:{domain:e},credentials:t}),mq=({credentials:e,id:t})=>ct({url:aj(t),method:"POST",payload:{id:t},credentials:e}),gq=({credentials:e})=>ct({url:fB,credentials:e}),vq=({credentials:e})=>ct({url:nB,credentials:e}),bq=({id:e,credentials:t})=>ct({url:sB(e),credentials:t,method:"POST"}),e8=({content:e,startsAt:t,endsAt:n,allDay:s})=>{const o={content:e};return typeof t<"u"&&(o.starts_at=t?new Date(t).toISOString():null),typeof n<"u"&&(o.ends_at=n?new Date(n).toISOString():null),typeof s<"u"&&(o.all_day=s),o},_q=({credentials:e,content:t,startsAt:n,endsAt:s,allDay:o})=>ct({url:hB,credentials:e,method:"POST",payload:e8({content:t,startsAt:n,endsAt:s,allDay:o})}),yq=({id:e,credentials:t,content:n,startsAt:s,endsAt:o,allDay:r})=>ct({url:pB(e),credentials:t,method:"PATCH",payload:e8({content:n,startsAt:s,endsAt:o,allDay:r})}),wq=({id:e,credentials:t})=>ct({url:mB(e),credentials:t,method:"DELETE"}),Sq=({credentials:e,stream:t,args:n={}},s)=>{const o=new URL(eB,s);return e&&o.searchParams.append("access_token",e),t&&o.searchParams.append("stream",t),Object.entries(n).forEach(([r,i])=>{o.searchParams.append(r,i)}),o},kq=new Set(["update","notification","delete","filters_changed","status.update"]),$q=new Set(["pleroma:chat_update","pleroma:respond"]),Cq=({url:e,preprocessor:t=Tq,id:n="Unknown",credentials:s})=>{const o=new EventTarget,r=new WebSocket(e);if(!r)throw new Error(`Failed to create socket ${n}`);const i=(c,d,f=h=>h)=>{c.addEventListener(d,h=>{o.dispatchEvent(new CustomEvent(d,{detail:f(h)}))})};r.addEventListener("open",c=>{console.debug(`[WS][${n}] Socket connected`,c),s&&r.send(JSON.stringify({type:"pleroma:authenticate",token:s}))}),r.addEventListener("error",c=>{console.debug(`[WS][${n}] Socket errored`,c)}),r.addEventListener("close",c=>{console.debug(`[WS][${n}] Socket disconnected with code ${c.code}`,c)});const a=()=>{o.dispatchEvent(new CustomEvent("pleroma:authenticated"))};return i(r,"open"),i(r,"close"),i(r,"message",c=>t(c,{onAuthenticated:a})),i(r,"error"),o.close=()=>{r.close(1e3,"Shutting down socket")},o.getState=()=>r.readyState,o.subscribe=(c,d={})=>{console.debug(`[WS][${n}] Subscribing to stream ${c} with args`,d),r.send(JSON.stringify({type:"subscribe",stream:c,...d}))},o.unsubscribe=(c,d={})=>{console.debug(`[WS][${n}] Unsubscribing from stream ${c} with args`,d),r.send(JSON.stringify({type:"unsubscribe",stream:c,...d}))},o},Tq=(e,{onAuthenticated:t=()=>{}}={})=>{const{data:n}=e;if(!n)return;const s=JSON.parse(n),{event:o,payload:r}=s;if(kq.has(o)||$q.has(o)){if(o==="delete")return{event:o,id:r};const i=r?JSON.parse(r):null;if(o==="pleroma:respond")return i.type==="pleroma:authenticate"&&(i.result==="success"?(console.debug("[WS] Successfully authenticated"),t()):(console.error("[WS] Unable to authenticate:",i.error),e.target.close())),null;if(o==="update")return{event:o,status:nn(i)};if(o==="status.update")return{event:o,status:nn(i)};if(o==="notification")return{event:o,notification:j6(i)};if(o==="pleroma:chat_update")return{event:o,chatUpdate:X0(i)}}else return console.warn("Unknown event",e),null},qs=Object.freeze({JOINED:1,CLOSED:2,ERROR:3,DISABLED:4,STARTING:5,STARTING_INITIAL:6}),Aq=({credentials:e})=>ze(aB,{headers:Ye(e)}).then(t=>t.json()).then(t=>({chats:t.map(X0).filter(n=>n)})),Eq=({accountId:e,credentials:t})=>ct({url:lB(e),method:"POST",credentials:t}),Iq=({id:e,credentials:t,maxId:n,sinceId:s,limit:o=20})=>{let r=K6(e);const i=[n&&`max_id=${n}`,s&&`since_id=${s}`,o&&`limit=${o}`].filter(a=>a).join("&");return r=r+(i?"?"+i:""),ct({url:r,method:"GET",credentials:t})},Pq=({id:e,content:t,mediaId:n=null,idempotencyKey:s,credentials:o})=>{const r={content:t};n&&(r.media_id=n);const i={};return s&&(i["idempotency-key"]=s),ct({url:K6(e),method:"POST",payload:r,credentials:o,headers:i})},Lq=({id:e,lastReadId:t,credentials:n})=>ct({url:cB(e),method:"POST",payload:{last_read_id:t},credentials:n}),Oq=({chatId:e,messageId:t,credentials:n})=>ct({url:uB(e,t),method:"DELETE",credentials:n}),Rq=({id:e,state:t,credentials:n})=>ze(dB,{headers:{...Ye(n),Accept:"application/json","Content-Type":"application/json"},method:"PATCH",body:JSON.stringify({reports:[{id:e,state:t}]})}).then(s=>{if(s.status>=500)throw Error(s.statusText);return s.status>=400?s.json():s}).then(s=>{if(s.errors)throw Error(s.errors[0].message)}),Mq=({credentials:e})=>ze(J6,{headers:Ye(e)}).then(t=>t.ok?t.json():{error:t}),Nq=({credentials:e})=>ze(_B,{headers:Ye(e)}).then(t=>t.ok?t.json():{error:t}),Fq=({credentials:e})=>ze(yB,{headers:Ye(e)}).then(t=>t.ok?t.json():{error:t}),Dq=({credentials:e,payload:t})=>ze(J6,{headers:{Accept:"application/json","Content-Type":"application/json",...Ye(e)},method:"POST",body:JSON.stringify(t)}).then(n=>n.ok?n.json():{error:n}),Uq=({credentials:e,payload:t})=>ze(wB,{headers:{Accept:"application/json","Content-Type":"application/json",...Ye(e)},method:"POST",body:JSON.stringify(t)}).then(n=>n.ok?n.json():{error:n}),jq=({accountId:e,limit:t=1})=>{let n=gB(e);const s=[["limit",t]],o=Z.map(s,r=>`${r[0]}=${r[1]}`).join("&");return n+=`?${o}`,ze(n,{}).then(r=>r.ok?r.json():{error:r})},Bq=({name:e})=>ze(t_(e),{method:"DELETE"}),zq=()=>ze(SB,{method:"POST"}),qq=()=>ze(kB),Hq=({name:e})=>ze(t_(e),{method:"POST"}),Vq=({page:e,pageSize:t})=>ze($B(e,t)),Wq=({instance:e,page:t,pageSize:n})=>(e.startsWith("http")||(e="https://"+e),ze(TB(e,t,n),{headers:{"Content-Type":"application/json"}})),Gq=({instance:e,packName:t,as:n})=>ze(CB,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e,name:t,as:n})}),Kq=({name:e,newData:t})=>ze(t_(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:t})}),xq=({packName:e,file:t,shortcode:n,filename:s})=>{const o=new FormData;return s.trim()!==""&&o.set("filename",s),n.trim()!==""&&o.set("shortcode",n),o.set("file",t),ze(n_(e),{method:"POST",body:o})},Yq=({packName:e,shortcode:t,newShortcode:n,newFilename:s,force:o})=>ze(n_(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortcode:t,new_shortcode:n,new_filename:s,force:o})}),Xq=({packName:e,shortcode:t})=>ze(`${n_(e)}&shortcode=${t}`,{method:"DELETE"}),Jq=({credentials:e})=>ze(Y6,{headers:Ye(e)}).then(n=>n.json()),Zq=({name:e,emoji:t,credentials:n})=>{const s=Y6,o=Ye(n);return o["Content-Type"]="application/json",ze(s,{headers:o,method:"POST",body:JSON.stringify({name:e,emoji:t})}).then(r=>r.json())},Qq=({folderId:e,name:t,emoji:n,credentials:s})=>{const o=X6(e),r=Ye(s);return r["Content-Type"]="application/json",ze(o,{headers:r,method:"PATCH",body:JSON.stringify({name:t,emoji:n})}).then(i=>i.json())},eH=({folderId:e,credentials:t})=>{const n=X6(e);return ze(n,{method:"DELETE",headers:Ye(t)})},En={verifyCredentials:bz,fetchTimeline:gz,fetchPinnedStatuses:vz,fetchConversation:rz,fetchStatus:iz,fetchStatusSource:az,fetchStatusHistory:lz,fetchFriends:Q6,exportFriends:xB,fetchFollowers:YB,followUser:RB,unfollowUser:MB,pinOwnStatus:FB,unpinOwnStatus:DB,muteConversation:UB,unmuteConversation:jB,blockUser:BB,unblockUser:zB,removeUserFromFollowers:qB,editUserNote:HB,fetchUser:Z6,fetchUserByName:GB,fetchUserRelationship:KB,favorite:_z,unfavorite:yz,retweet:wz,unretweet:Sz,bookmarkStatus:kz,unbookmarkStatus:$z,postStatus:Cz,editStatus:Tz,deleteStatus:Az,uploadMedia:Ez,setMediaDescription:Iz,fetchMutes:Wz,muteUser:Gz,unmuteUser:Kz,fetchBlocks:xz,fetchOAuthTokens:Jz,revokeOAuthToken:Zz,tagUser:cz,untagUser:uz,deleteUser:mz,addRight:dz,deleteRight:fz,activateUser:hz,deactivateUser:pz,register:LB,getCaptcha:OB,updateProfileImages:IB,updateProfile:PB,importMutes:Pz,importBlocks:Lz,importFollows:Oz,deleteAccount:Rz,changeEmail:Mz,moveAccount:Nz,addAlias:Fz,deleteAlias:Dz,listAliases:Uz,changePassword:jz,settingsMFA:Bz,mfaDisableOTP:zz,generateMfaBackupCodes:Vz,mfaSetupOTP:Hz,mfaConfirmOTP:qz,addBackup:Yz,listBackups:Xz,fetchFollowRequests:XB,fetchLists:JB,createList:ZB,getList:QB,updateList:ez,getListAccounts:tz,addAccountsToList:nz,removeAccountsFromList:sz,deleteList:oz,approveUser:VB,denyUser:WB,suggestions:Qz,markNotificationsAsSeen:eq,dismissNotification:mq,vote:tq,fetchPoll:nq,fetchFavoritedByUsers:sq,fetchRebloggedByUsers:oq,fetchEmojiReactions:rq,reactWithEmoji:iq,unreactWithEmoji:aq,reportUser:lq,updateNotificationSettings:EB,search2:uq,searchUsers:cq,fetchKnownDomains:dq,fetchDomainMutes:fq,muteDomain:hq,unmuteDomain:pq,chats:Aq,getOrCreateChat:Eq,chatMessages:Iq,sendChatMessage:Pq,readChat:Lq,deleteChatMessage:Oq,setReportState:Rq,fetchUserInLists:NB,fetchAnnouncements:vq,dismissAnnouncement:bq,postAnnouncement:_q,editAnnouncement:yq,deleteAnnouncement:wq,fetchScrobbles:jq,adminFetchAnnouncements:gq,fetchInstanceDBConfig:Mq,fetchInstanceConfigDescriptions:Nq,fetchAvailableFrontends:Fq,pushInstanceDBConfig:Dq,installFrontend:Uq,importEmojiFromFS:qq,reloadEmoji:zq,listEmojiPacks:Vq,createEmojiPack:Hq,deleteEmojiPack:Bq,saveEmojiPackMetadata:Kq,addNewEmojiFile:xq,updateEmojiFile:Yq,deleteEmojiFile:Xq,listRemoteEmojiPacks:Wq,downloadRemoteEmojiPack:Gq,fetchBookmarkFolders:Jq,createBookmarkFolder:Zq,updateBookmarkFolder:Qq,deleteBookmarkFolder:eH};/*! js-cookie v3.0.5 | MIT */function Xd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)e[s]=n[s]}return e}var tH={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function wb(e,t){function n(o,r,i){if(!(typeof document>"u")){i=Xd({},t,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in i)i[c]&&(a+="; "+c,i[c]!==!0&&(a+="="+i[c].split(";")[0]));return document.cookie=o+"="+e.write(r,o)+a}}function s(o){if(!(typeof document>"u"||arguments.length&&!o)){for(var r=document.cookie?document.cookie.split("; "):[],i={},a=0;a<r.length;a++){var c=r[a].split("="),d=c.slice(1).join("=");try{var f=decodeURIComponent(c[0]);if(i[f]=e.read(d,f),o===f)break}catch{}}return o?i[o]:i}}return Object.create({set:n,get:s,remove:function(o,r){n(o,"",Xd({},r,{expires:-1}))},withAttributes:function(o){return wb(this.converter,Xd({},this.attributes,o))},withConverter:function(o){return wb(Xd({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var nH=wb(tH,{path:"/"});const sH={name:"Alert",selector:".alert",validInnerComponents:["Text","Icon","Link","Border","ButtonUnstyled"],variants:{normal:".neutral",error:".error",warning:".warning",success:".success"},editor:{border:1,aspect:"3 / 1"},defaultRules:[{directives:{background:"--text",opacity:.5,blur:"9px"}},{parent:{component:"Alert"},component:"Border",directives:{textColor:"--parent"}},{variant:"error",directives:{background:"--cRed"}},{variant:"warning",directives:{background:"--cOrange"}},{variant:"success",directives:{background:"--cGreen"}}]},oH=Object.freeze(Object.defineProperty({__proto__:null,default:sH},Symbol.toStringTag,{value:"Module"})),rH={name:"Attachment",selector:".Attachment",notEditable:!0,validInnerComponents:["Border","Button","Input"],defaultRules:[{directives:{roundness:3}},{component:"Button",parent:{component:"Attachment"},directives:{background:"#FFFFFF",opacity:.5}}]},iH=Object.freeze(Object.defineProperty({__proto__:null,default:rH},Symbol.toStringTag,{value:"Module"})),aH={name:"Badge",selector:".badge",validInnerComponents:["Text","Icon"],variants:{notification:".-notification"},defaultRules:[{component:"Root",directives:{"--badgeNotification":"color | --cRed"}},{directives:{background:"--cGreen"}},{variant:"notification",directives:{background:"--cRed"}}]},lH=Object.freeze(Object.defineProperty({__proto__:null,default:aH},Symbol.toStringTag,{value:"Module"})),cH={name:"Border",selector:"/*border*/",virtual:!0,defaultRules:[{directives:{textColor:"$mod(--parent 10)",textAuto:"no-auto"}}]},uH=Object.freeze(Object.defineProperty({__proto__:null,default:cH},Symbol.toStringTag,{value:"Module"})),dH={name:"Button",selector:".button-default",states:{toggled:".toggled",focused:":focus-within",pressed:":focus:active",hover:":is(:hover, :focus-visible):not(:disabled)",disabled:":disabled"},variants:{danger:".danger"},editor:{aspect:"2 / 1"},validInnerComponents:["Text","Icon"],defaultRules:[{component:"Root",directives:{"--buttonDefaultHoverGlow":"shadow | 0 0 1 2 --text / 0.4","--buttonDefaultFocusGlow":"shadow | 0 0 1 2 --link / 0.5","--buttonDefaultShadow":"shadow | 0 0 2 #000000","--buttonDefaultBevel":"shadow | $borderSide(#FFFFFF top 0.2 1), $borderSide(#000000 bottom 0.2 1)","--buttonPressedBevel":"shadow | inset 0 0 4 #000000, $borderSide(#FFFFFF bottom 0.2 1), $borderSide(#000000 top 0.2 1)"}},{directives:{background:"--fg",shadow:["--buttonDefaultShadow","--buttonDefaultBevel"],roundness:3}},{state:["hover"],directives:{shadow:["--buttonDefaultHoverGlow","--buttonDefaultBevel"]}},{state:["focused"],directives:{shadow:["--buttonDefaultFocusGlow","--buttonDefaultBevel"]}},{state:["pressed"],directives:{shadow:["--buttonDefaultShadow","--buttonPressedBevel"]}},{state:["pressed","hover"],directives:{shadow:["--buttonPressedBevel","--buttonDefaultHoverGlow"]}},{state:["toggled"],directives:{background:"--accent,-24.2",shadow:["--buttonDefaultShadow","--buttonPressedBevel"]}},{state:["toggled","hover"],directives:{background:"--accent,-24.2",shadow:["--buttonDefaultHoverGlow","--buttonPressedBevel"]}},{state:["toggled","focused"],directives:{background:"--accent,-24.2",shadow:["--buttonDefaultHoverGlow","--buttonPressedBevel"]}},{state:["toggled","disabled"],directives:{background:"$blend(--accent 0.25 --parent)",shadow:["--buttonPressedBevel"]}},{state:["disabled"],directives:{background:"$blend(--inheritedBackground 0.25 --parent)",shadow:["--buttonDefaultBevel"]}},{component:"Text",parent:{component:"Button",state:["disabled"]},directives:{textOpacity:.25,textOpacityMode:"blend"}},{component:"Icon",parent:{component:"Button",state:["disabled"]},directives:{textOpacity:.25,textOpacityMode:"blend"}}]},fH=Object.freeze(Object.defineProperty({__proto__:null,default:dH},Symbol.toStringTag,{value:"Module"})),hH={name:"ButtonUnstyled",selector:".button-unstyled",notEditable:!0,transparent:!0,states:{toggled:".toggled",disabled:":disabled",hover:":is(:hover, :focus-visible):not(:disabled)",focused:":focus-within:not(:is(:focus-visible))"},validInnerComponents:["Text","Link","Icon","Badge"],defaultRules:[{directives:{shadow:[]}},{component:"Icon",parent:{component:"ButtonUnstyled",state:["hover"]},directives:{textColor:"--parent--text"}},{component:"Icon",parent:{component:"ButtonUnstyled",state:["toggled"]},directives:{textColor:"--parent--text"}},{component:"Icon",parent:{component:"ButtonUnstyled",state:["toggled","hover"]},directives:{textColor:"--parent--text"}},{component:"Icon",parent:{component:"ButtonUnstyled",state:["toggled","focused"]},directives:{textColor:"--parent--text"}},{component:"Icon",parent:{component:"ButtonUnstyled",state:["toggled","focused","hover"]},directives:{textColor:"--parent--text"}},{component:"Text",parent:{component:"ButtonUnstyled",state:["disabled"]},directives:{textOpacity:.25,textOpacityMode:"blend"}},{component:"Icon",parent:{component:"ButtonUnstyled",state:["disabled"]},directives:{textOpacity:.25,textOpacityMode:"blend"}}]},pH=Object.freeze(Object.defineProperty({__proto__:null,default:hH},Symbol.toStringTag,{value:"Module"})),mH={name:"Chat",selector:".chat-message-list",validInnerComponents:["Text","Link","Icon","Avatar","ChatMessage"],defaultRules:[{directives:{background:"--bg",blur:"5px"}}]},gH=Object.freeze(Object.defineProperty({__proto__:null,default:mH},Symbol.toStringTag,{value:"Module"})),vH={name:"ChatMessage",selector:".chat-message",variants:{outgoing:".outgoing"},validInnerComponents:["Text","Icon","Border","Button","RichContent","Attachment","PollGraph"],defaultRules:[{directives:{background:"--bg, 2",backgroundNoCssColor:"yes"}},{variant:"outgoing",directives:{background:"--bg, 5"}}]},bH=Object.freeze(Object.defineProperty({__proto__:null,default:vH},Symbol.toStringTag,{value:"Module"})),_H={name:"FunText",selector:"/*fun-text*/",virtual:!0,variants:{greentext:".greentext",cyantext:".cyantext"},states:{faint:".faint"},defaultRules:[{directives:{textColor:"--text",textAuto:"preserve"}},{state:["faint"],directives:{textOpacity:.5}},{variant:"greentext",directives:{textColor:"--cGreen",textAuto:"preserve"}},{variant:"cyantext",directives:{textColor:"--cBlue",textAuto:"preserve"}}]},yH=Object.freeze(Object.defineProperty({__proto__:null,default:_H},Symbol.toStringTag,{value:"Module"})),wH={name:"Icon",virtual:!0,selector:".svg-inline--fa",defaultRules:[{component:"Icon",directives:{textColor:"$blend(--stack 0.5 --parent--text)",textAuto:"no-auto"}}]},SH=Object.freeze(Object.defineProperty({__proto__:null,default:wH},Symbol.toStringTag,{value:"Module"})),kH={name:"Input",selector:".input",states:{hover:":is(:hover, :focus-visible):not(.disabled)",focused:":focus-within",disabled:".disabled"},variants:{checkbox:".-checkbox",radio:".-radio"},validInnerComponents:["Text","Icon"],defaultRules:[{component:"Root",directives:{"--defaultInputBevel":"shadow | $borderSide(#FFFFFF bottom 0.2), $borderSide(#000000 top 0.2), inset 0 0 2 #000000 / 0.15, 1 0 1 1 --text / 0.15, -1 0 1 1 --text / 0.15","--defaultInputHoverGlow":"shadow | 0 0 4 --text / 0.5","--defaultInputFocusGlow":"shadow | 0 0 4 4 --link / 0.5"}},{variant:"checkbox",directives:{roundness:1}},{directives:{"--font":"generic | inherit",background:"--fg, -5",roundness:3,shadow:[{x:0,y:0,blur:2,spread:0,color:"#000000",alpha:1},"--defaultInputBevel"]}},{state:["hover"],directives:{shadow:["--defaultInputHoverGlow","--defaultInputBevel"]}},{state:["focused"],directives:{shadow:["--defaultInputFocusGlow","--defaultInputBevel"]}},{state:["focused","hover"],directives:{shadow:["--defaultInputFocusGlow","--defaultInputHoverGlow","--defaultInputBevel"]}},{state:["disabled"],directives:{background:"--parent"}},{component:"Text",parent:{component:"Input",state:["disabled"]},directives:{textOpacity:.25,textOpacityMode:"blend"}},{component:"Icon",parent:{component:"Input",state:["disabled"]},directives:{textOpacity:.25,textOpacityMode:"blend"}}]},$H=Object.freeze(Object.defineProperty({__proto__:null,default:kH},Symbol.toStringTag,{value:"Module"})),CH={name:"Link",selector:"a",virtual:!0,states:{faint:".faint"},defaultRules:[{component:"Link",directives:{textColor:"--link"}},{component:"Link",state:["faint"],directives:{textOpacity:.5,textOpacityMode:"fake"}}]},TH=Object.freeze(Object.defineProperty({__proto__:null,default:CH},Symbol.toStringTag,{value:"Module"})),AH={name:"ListItem",selector:".list-item",states:{active:".-active",hover:":is(:hover, :focus-visible, :has(:focus-visible)):not(.-non-interactive)"},validInnerComponents:["Text","Link","Icon","Border","Button","ButtonUnstyled","RichContent","Input","Avatar"],defaultRules:[{directives:{background:"--bg",opacity:0}},{state:["active"],directives:{background:"--inheritedBackground, 10",opacity:1}},{state:["hover"],directives:{background:"--inheritedBackground, 10",opacity:1}},{state:["hover","active"],directives:{background:"--inheritedBackground, 20",opacity:1}}]},EH=Object.freeze(Object.defineProperty({__proto__:null,default:AH},Symbol.toStringTag,{value:"Module"})),IH={name:"MenuItem",selector:".menu-item",validInnerComponents:["Text","Icon","Input","Border","ButtonUnstyled","Badge","Avatar"],states:{hover:":is(:hover, :focus-visible, :has(:focus-visible)):not(.disabled)",active:".-active",disabled:".disabled"},defaultRules:[{directives:{background:"--bg",opacity:0}},{state:["hover"],directives:{background:"$mod(--bg 5)",opacity:1}},{state:["active"],directives:{background:"$mod(--bg 10)",opacity:1}},{state:["active","hover"],directives:{background:"$mod(--bg 15)",opacity:1}},{component:"Text",parent:{component:"MenuItem",state:["hover"]},directives:{textColor:"--link",textAuto:"no-preserve"}},{component:"Text",parent:{component:"MenuItem",state:["active"]},directives:{textColor:"--link",textAuto:"no-preserve"}},{component:"Icon",parent:{component:"MenuItem",state:["active"]},directives:{textColor:"--link",textAuto:"no-preserve"}},{component:"Icon",parent:{component:"MenuItem",state:["hover"]},directives:{textColor:"--link",textAuto:"no-preserve"}},{component:"Text",parent:{component:"MenuItem",state:["disabled"]},directives:{textOpacity:.25,textOpacityMode:"blend"}},{component:"Icon",parent:{component:"MenuItem",state:["disabled"]},directives:{textOpacity:.25,textOpacityMode:"blend"}}]},PH=Object.freeze(Object.defineProperty({__proto__:null,default:IH},Symbol.toStringTag,{value:"Module"})),LH={name:"MobileDrawer",selector:".mobile-drawer",validInnerComponents:["Text","Link","Icon","Border","Button","ButtonUnstyled","Input","PanelHeader","MenuItem","Notification","Alert","UserCard"],defaultRules:[{directives:{background:"--bg",backgroundNoCssColor:"yes"}},{component:"PanelHeader",parent:{component:"MobileDrawer"},directives:{background:"--fg",shadow:[{x:0,y:0,blur:4,spread:0,color:"#000000",alpha:.6}]}}]},OH=Object.freeze(Object.defineProperty({__proto__:null,default:LH},Symbol.toStringTag,{value:"Module"})),RH={name:"Modals",selector:[".modal-view","#modal",".shout-panel"],lazy:!0,notEditable:!0,validInnerComponents:["Panel"],defaultRules:[]},MH=Object.freeze(Object.defineProperty({__proto__:null,default:RH},Symbol.toStringTag,{value:"Module"})),NH={name:"Notification",selector:".Notification",validInnerComponents:["Text","Link","Icon","Border","Button","ButtonUnstyled","RichContent","Input","Avatar","Attachment","PollGraph"],defaultRules:[]},FH=Object.freeze(Object.defineProperty({__proto__:null,default:NH},Symbol.toStringTag,{value:"Module"})),DH={name:"Panel",selector:".panel",validInnerComponents:["Text","Link","Icon","Border","Button","ButtonUnstyled","Input","PanelHeader","MenuItem","Post","Notification","Alert","UserCard","Chat","Attachment","Tab","ListItem"],validInnerComponentsLite:["Text","Link","Icon","Border","Button","Input","PanelHeader","Alert"],defaultRules:[{directives:{backgroundNoCssColor:"yes",background:"--bg",roundness:3,blur:"5px",shadow:[{x:0,y:0,blur:3,spread:0,color:"#000000",alpha:.5},{x:0,y:4,blur:6,spread:3,color:"#000000",alpha:.3}]}}]},UH=Object.freeze(Object.defineProperty({__proto__:null,default:DH},Symbol.toStringTag,{value:"Module"})),jH={name:"PanelHeader",selector:".panel-heading",validInnerComponents:["Text","Link","Icon","Button","ButtonUnstyled","Badge","Alert","Avatar"],defaultRules:[{component:"PanelHeader",directives:{backgroundNoCssColor:"yes",background:"--fg",shadow:[{x:0,y:1,blur:3,spread:0,color:"#000000",alpha:.4},{x:0,y:1,blur:0,spread:0,color:"#ffffff",alpha:.2,inset:!0}]}}]},BH=Object.freeze(Object.defineProperty({__proto__:null,default:jH},Symbol.toStringTag,{value:"Module"})),zH={name:"PollGraph",selector:".result-fill",defaultRules:[{directives:{background:"--accent",opacity:.5}}]},qH=Object.freeze(Object.defineProperty({__proto__:null,default:zH},Symbol.toStringTag,{value:"Module"})),HH={name:"Popover",selector:".popover",lazy:!0,variants:{modal:".modal"},validInnerComponents:["Text","Link","Icon","Border","Button","ButtonUnstyled","Input","MenuItem","Post","UserCard"],defaultRules:[{directives:{background:"--bg",blur:"10px",shadow:[{x:2,y:2,blur:3,spread:0,color:"#000000",alpha:.5}]}}]},VH=Object.freeze(Object.defineProperty({__proto__:null,default:HH},Symbol.toStringTag,{value:"Module"})),WH={name:"RichContent",selector:".RichContent",notEditable:!0,transparent:!0,validInnerComponents:["Text","FunText","Link"],defaultRules:[{directives:{"--font":"generic | inherit","--monoFont":"generic | monospace",textNoCssColor:"yes"}}]},GH=Object.freeze(Object.defineProperty({__proto__:null,default:WH},Symbol.toStringTag,{value:"Module"})),KH={name:"Root",selector:":root",notEditable:!0,defaultRules:[{directives:{"--bg":"color | #121a24","--fg":"color | #182230","--text":"color | #b9b9ba","--link":"color | #d8a070","--accent":"color | #d8a070","--cRed":"color | #FF0000","--cBlue":"color | #0095ff","--cGreen":"color | #0fa00f","--cOrange":"color | #ffa500","--font":"generic | sans-serif","--monoFont":"generic | monospace","--wallpaper":"color | --bg, -2","--selectionBackground":"color | --accent","--selectionText":"color | $textColor(--accent --text no-preserve)"}}]},xH=Object.freeze(Object.defineProperty({__proto__:null,default:KH},Symbol.toStringTag,{value:"Module"})),YH={name:"Scrollbar",selector:["::-webkit-scrollbar-button","::-webkit-scrollbar-thumb","::-webkit-resizer"],notEditable:!0,defaultRules:[{directives:{background:"--wallpaper"}}]},XH=Object.freeze(Object.defineProperty({__proto__:null,default:YH},Symbol.toStringTag,{value:"Module"})),Bf=(e,t)=>({x:0,y:e?1:-1,blur:0,spread:0,color:t?"#000000":"#FFFFFF",alpha:.2,inset:!0}),zm=[Bf(!0,!1),Bf(!1,!0)],Jd=[Bf(!0,!0),Bf(!1,!1)],qm={x:0,y:0,blur:2,spread:0,color:"#000000",alpha:1},Hm={x:0,y:0,blur:4,spread:0,color:"--text",alpha:1},JH={name:"ScrollbarElement",selector:"::-webkit-scrollbar-button",notEditable:!0,states:{pressed:":active",hover:":is(:hover, :focus-visible, :has(:focus-visible)):not(:disabled)",disabled:":disabled"},validInnerComponents:["Text"],defaultRules:[{directives:{background:"--fg",shadow:[qm,...zm],roundness:3}},{state:["hover"],directives:{shadow:[Hm,...zm]}},{state:["pressed"],directives:{shadow:[qm,...Jd]}},{state:["hover","pressed"],directives:{shadow:[Hm,...Jd]}},{state:["toggled"],directives:{background:"--accent,-24.2",shadow:[qm,...Jd]}},{state:["toggled","hover"],directives:{background:"--accent,-24.2",shadow:[Hm,...Jd]}},{state:["disabled"],directives:{background:"$blend(--inheritedBackground 0.25 --parent)",shadow:[...zm]}},{component:"Text",parent:{component:"Button",state:["disabled"]},directives:{textOpacity:.25,textOpacityMode:"blend"}}]},ZH=Object.freeze(Object.defineProperty({__proto__:null,default:JH},Symbol.toStringTag,{value:"Module"})),QH={name:"Post",selector:".Status",states:{selected:".-focused"},validInnerComponents:["Text","Link","Icon","Border","Button","ButtonUnstyled","RichContent","Input","Avatar","Attachment","PollGraph"],validInnerComponentsLite:["Text","Link","Icon","Border","ButtonUnstyled","RichContent","Avatar"],defaultRules:[{directives:{background:"--bg"}},{state:["selected"],directives:{background:"--inheritedBackground, 10"}}]},eV=Object.freeze(Object.defineProperty({__proto__:null,default:QH},Symbol.toStringTag,{value:"Module"})),tV={name:"Tab",selector:".tab",states:{active:".active",hover:":is(:hover, :focus-visible, :has(:focus-visible)):not(.disabled)",disabled:".disabled"},validInnerComponents:["Text","Icon"],defaultRules:[{directives:{background:"--fg",shadow:["--buttonDefaultShadow","--buttonDefaultBevel"],roundness:3}},{state:["hover"],directives:{shadow:["--buttonDefaultHoverGlow","--buttonDefaultBevel"]}},{state:["active"],directives:{opacity:0}},{state:["hover","active"],directives:{shadow:["--buttonDefaultShadow","--buttonDefaultBevel"]}},{state:["disabled"],directives:{background:"$blend(--inheritedBackground 0.25 --parent)",shadow:["--buttonDefaultBevel"]}},{component:"Text",parent:{component:"Tab",state:["disabled"]},directives:{textOpacity:.25,textOpacityMode:"blend"}},{component:"Icon",parent:{component:"Tab",state:["active"]},directives:{textColor:"--text"}},{component:"Icon",parent:{component:"Tab",state:["active","hover"]},directives:{textColor:"--text"}}]},nV=Object.freeze(Object.defineProperty({__proto__:null,default:tV},Symbol.toStringTag,{value:"Module"})),sV={name:"Text",selector:"/*text*/",virtual:!0,states:{faint:".faint"},defaultRules:[{directives:{textColor:"--text",textAuto:"no-preserve"}},{state:["faint"],directives:{textOpacity:.5}}]},oV=Object.freeze(Object.defineProperty({__proto__:null,default:sV},Symbol.toStringTag,{value:"Module"})),rV={name:"TopBar",selector:"nav",validInnerComponents:["Link","Text","Icon","Button","ButtonUnstyled","Input","Badge"],defaultRules:[{directives:{background:"--fg",shadow:[{x:0,y:1,blur:4,spread:0,color:"#000000",alpha:.4},{x:0,y:2,blur:7,spread:0,color:"#000000",alpha:.3}]}},{component:"Link",parent:{component:"TopBar"},directives:{textColor:"--text"}},{component:"Icon",parent:{component:"ButtonUnstyled",parent:{component:"TopBar"}},directives:{textColor:"--parent--text"}}]},iV=Object.freeze(Object.defineProperty({__proto__:null,default:rV},Symbol.toStringTag,{value:"Module"})),aV={name:"Underlay",selector:"#content",outOfTreeSelector:".underlay",validInnerComponents:["Panel"],defaultRules:[{directives:{background:"#000000",opacity:.2}}]},lV=Object.freeze(Object.defineProperty({__proto__:null,default:aV},Symbol.toStringTag,{value:"Module"})),cV={name:"Avatar",selector:".Avatar",variants:{compact:".-compact"},defaultRules:[{directives:{roundness:3,shadow:[{x:0,y:1,blur:4,spread:0,color:"#000000",alpha:.2}]}}]},uV=Object.freeze(Object.defineProperty({__proto__:null,default:cV},Symbol.toStringTag,{value:"Module"})),dV={name:"UserCard",selector:".user-card",notEditable:!0,validInnerComponents:["Text","Link","Icon","Button","ButtonUnstyled","Input","RichContent","Alert"],defaultRules:[{directives:{background:"--bg",opacity:0,roundness:3,shadow:[{x:1,y:1,blur:4,spread:0,color:"#000000",alpha:.6}],"--profileTint":"color | $alpha(--background 0.5)"}},{parent:{component:"UserCard"},component:"RichContent",directives:{opacity:0}}]},fV=Object.freeze(Object.defineProperty({__proto__:null,default:dV},Symbol.toStringTag,{value:"Module"})),hV={A:{X:1.0985*100,Y:1*100,Z:.35585*100},B:{X:.99072*100,Y:1*100,Z:.85223*100},C:{X:.98074*100,Y:1*100,Z:1.18232*100},D50:{X:.96422*100,Y:1*100,Z:.82521*100},D55:{X:.95682*100,Y:1*100,Z:.92149*100},D65:{X:.95047*100,Y:1*100,Z:1.08883*100},D75:{X:.94972*100,Y:1*100,Z:1.22638*100},E:{X:1*100,Y:1*100,Z:1*100},F2:{X:.99186*100,Y:1*100,Z:.67393*100},F7:{X:.95041*100,Y:1*100,Z:1.08747*100},F11:{X:1.00962*100,Y:1*100,Z:.6435*100}};function s_(e){return hV[e]}const pV={BRADFORD:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],INVERSE_BRADFORD:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]],SRGB_XYZ:[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],INVERSE_SRGB_XYZ:[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]]};function kl(e){return pV[e]}const io=function(e,t){const n=new Set(Object.keys(e));return t.every(s=>n.has(s))},Vm=(e,t)=>typeof e=="string"&&e.slice(0,t.length)===t,o_={hex:e=>Vm(e,"#"),rgb:e=>io(e,["r","g","b"]),cssrgb:e=>Vm(e,"rgb("),hsl:e=>io(e,["h","s","l"]),csshsl:e=>Vm(e,"hsl("),hsv:e=>io(e,["h","s","v"]),cmyk:e=>io(e,["c","m","y","k"]),yiq:e=>io(e,["y","i","q"]),XYZ:e=>io(e,["X","Y","Z"]),xyY:e=>io(e,["x","y","Y"]),lms:e=>io(e,["rho","gamma","beta"]),cielab:e=>io(e,["L","a","b"]),cieluv:e=>io(e,["L","u","v"]),cielch:e=>io(e,["L","C","h"]),hsluv:e=>io(e,["hu","s","l"])},mV=Object.keys(o_);function gV(e){const t=mV.find(n=>o_[n](e));if(!t)throw new Error("No type found for color "+e);return t}const t8=.008856,Sb=903.3,Wm=s_("D65"),CS=e=>Math.pow(e,3)>t8?Math.pow(e,3):(116*e-16)/Sb,vV={XYZ:e=>{const t=(e.L+16)/116,n=e.a/500+t,s=t-e.b/200,o=CS(n),r=CS(s),i=e.L>Sb*t8?Math.pow(t,3):e.L/Sb;return{X:o*Wm.X,Y:i*Wm.Y,Z:r*Wm.Z}}};function kb(e){return e*(Math.PI/180)}const bV={cieluv:e=>{const t=kb(e.h),n=e.C*Math.cos(t),s=e.C*Math.sin(t);return{L:e.L,u:n,v:s}},hsluv:e=>{if(e.L>99.9999999)return{hu:e.h,s:0,l:100};if(e.L<1e-8)return{hu:e.h,s:0,l:0};const t=.008856,n=903.3,s=(e.L+16)/1560896,o=s>t?s:e.L/n,r=kl("INVERSE_SRGB_XYZ");let i=[];for(let f=0;f<3;f++){let h=r[f][0],v=r[f][1],_=r[f][2];for(let S=0;S<2;S++){let k=(284517*h-94839*_)*o,P=(838422*_+769860*v+731718*h)*e.L*o-769860*S*e.L,C=(632260*_-126452*v)*o+126452*S;i.push({m:k/C,b:P/C})}}var a=Number.MAX_VALUE;let c=kb(e.h);i.forEach(f=>{let h=f.b/(Math.sin(c)-f.m*Math.cos(c));h>=0&&(a=Math.min(a,h))});let d=a;return{hu:e.h,s:e.C/d*100,l:e.L}}};function _V(e){return e*(180/Math.PI)}const yV={XYZ:e=>{const s=s_("D65"),o=S=>S.X*4/(S.X+15*S.Y+3*S.Z),r=S=>S.Y*9/(S.X+15*S.Y+3*S.Z),i=o(s),a=r(s),c=1/3*(52*e.L/(e.u+13*e.L*i)-1),d=e.L>903.3*.008856?Math.pow((e.L+16)/116,3):e.L/903.3,f=-5*d,v=(d*(39*e.L/(e.v+13*e.L*a)-5)-f)/(c- -1/3),_=v*c+f;return{X:v*100,Y:d*100,Z:_*100}},cielch:e=>{const t=Math.sqrt(Math.pow(e.u,2)+Math.pow(e.v,2));let n=Math.atan2(e.v,e.u);return n<0&&(n+=2*Math.PI),n=_V(n),{L:e.L,C:t,h:n}}},TS=e=>{var t=255*(1-e.c)*(1-e.k),n=255*(1-e.m)*(1-e.k),s=255*(1-e.y)*(1-e.k);return{r:t,g:n,b:s}},wV={rgb:TS,cssrgb:e=>{const{r:t,g:n,b:s}=TS(e);return"rgb("+Math.round(t)+","+Math.round(n)+","+Math.round(s)+")"}},SV={hsl:e=>{const t=e.replace(/(hsl\(|\)|%|[\s]*)/g,"").split(",").map(n=>parseInt(n,10));return{h:t[0],s:t[1],l:t[2]}}},kV={rgb:e=>{const t=e.replace(/((rgb\(|\))|[\s]*)/g,"").split(",").map(n=>parseInt(n,10));return{r:t[0],g:t[1],b:t[2]}}},$V={rgb:e=>{const t=e.replace("#","").match(/.{2}/g).map(n=>parseInt(n,16));return{r:t[0],g:t[1],b:t[2]}}};function CV(e,t){return(e%t+t)%t}const TV={rgb:e=>{if(e.s===0){var t=e.l/100*255;return{r:t,g:t,b:t}}else{var n,s,o;e.l>=50?n=e.l/100+e.s/100-e.l/100*(e.s/100):n=e.l/100*(1+e.s/100),s=2*(e.l/100)-n,o=e.h/360;var r=(o+.333)%1,i=o,a=CV(o-.333,1),c,d,f;return 6*r<1?c=s+(n-s)*6*r:2*r<1?c=n:3*r<2?c=s+(n-s)*((.666-r)*6):c=s,6*i<1?d=s+(n-s)*6*i:2*i<1?d=n:3*i<2?d=s+(n-s)*((.666-i)*6):d=s,6*a<1?f=s+(n-s)*6*a:2*a<1?f=n:3*a<2?f=s+(n-s)*((.666-a)*6):f=s,c<0&&(c=0),d<0&&(d=0),f<0&&(f=0),{r:c*255,g:d*255,b:f*255}}},csshsl:e=>"hsl("+Math.round(e.h)+","+Math.round(e.s)+"%,"+Math.round(e.l)+"%)",hsv:e=>{const t=Object.assign({},e,{s:e.s/100,l:e.l/100});var n=t.s*(t.l<.5?t.l:1-t.l),s=t.h,o=2*n/(t.l+n),r=t.l+n;return{h:s,s:o*100,v:r*100}}},AV={cielch:e=>{if(e.L>99.9999999)return{L:100,C:0,h:e.hu};if(e.L<1e-8)return{L:0,C:0,h:e.hu};const t=.008856,n=903.3,s=(e.l+16)/1560896,o=s>t?s:e.l/n,r=kl("INVERSE_SRGB_XYZ");let i=[];for(let f=0;f<3;f++){let h=r[f][0],v=r[f][1],_=r[f][2];for(let S=0;S<2;S++){let k=(284517*h-94839*_)*o,P=(838422*_+769860*v+731718*h)*e.l*o-769860*S*e.l,C=(632260*_-126452*v)*o+126452*S;i.push({m:k/C,b:P/C})}}var a=Number.MAX_VALUE;let c=kb(e.hu);i.forEach(f=>{let h=f.b/(Math.sin(c)-f.m*Math.cos(c));h>=0&&(a=Math.min(a,h))});let d=a;return{L:e.l,C:d/100*e.s,h:e.hu}}},EV={hsl:e=>{const t=Object.assign({},e,{h:e.h/360,s:e.s/100,v:e.v/100});let n=t.h,s;(2-t.s)*t.v<1?s=t.s*t.v/((2-t.s)*t.v):s=t.s*t.v/(2-(2-t.s)*t.v);let o=(2-t.s)*t.v/2;return{h:n*360,s:s*100,l:o*100}}},IV={XYZ:e=>{const t=[e.rho,e.gamma,e.beta],s=kl("INVERSE_BRADFORD").map(o=>t.reduce((r,i,a)=>o[a]*i+r,0));return{X:s[0]*100,Y:s[1]*100,Z:s[2]*100}}};function $l(e,t){return e<t[0]?e=t[0]:e>t[1]&&(e=t[1]),e}const Gm=e=>$l(e,[0,255]);function PV(e){return{r:Gm(e.r),g:Gm(e.g),b:Gm(e.b)}}function AS(e){if(Math.cbrt)return Math.cbrt(e);var t=Math.pow(Math.abs(e),.3333333333333333);return e<0?-t:t}const ES=.008856,IS=903.3,rl=s_("D65"),n8={rgb:e=>{let t=[e.X,e.Y,e.Z].map(a=>a/100),s=kl("INVERSE_SRGB_XYZ").map(a=>t.reduce((c,d,f)=>a[f]*d+c,0)),[o,r,i]=s.map(a=>a<=.0031308?a*12.92:1.055*Math.pow(a,1/2.4)-.055).map(a=>a*255);return PV({r:o,g:r,b:i})},lms:e=>{let t=[e.X,e.Y,e.Z].map(o=>o/100),s=kl("BRADFORD").map(o=>t.reduce((r,i,a)=>o[a]*i+r,0));return{rho:s[0],gamma:s[1],beta:s[2]}},cielab:e=>{const t=e.X/rl.X,n=e.Y/rl.Y,s=e.Z/rl.Z,o=c=>c>ES?AS(c):(IS*c+16)/116,r=o(t),i=o(n),a=o(s);return{L:116*i-16,a:500*(r-i),b:200*(i-a)}},cieluv:e=>{const t=e.Y/rl.Y,n=t>ES?116*AS(t)-16:IS*t,s=a=>a.X*4/(a.X+15*a.Y+3*a.Z),o=a=>a.Y*9/(a.X+15*a.Y+3*a.Z),r=13*n*(s(e)-s(rl)),i=13*n*(o(e)-o(rl));return{L:n,u:r,v:i}},xyY:e=>{const t=e.X/(e.X+e.Y+e.Z),n=e.Y/(e.X+e.Y+e.Z);return{x:t,y:n,Y:e.Y}}},{lms:LV,cielab:OV,cieluv:RV,xyY:MV}=n8,PS=e=>{var t=e.r/255,n=e.g/255,s=e.b/255,o=[t,n,s].sort(),r=(o[0]+o[2])/2*100,i,a;return o[0]===o[2]?(i=0,a=0):(r>=50?i=(o[2]-o[0])/(2-o[2]-o[0])*100:i=(o[2]-o[0])/(o[2]+o[0])*100,o[2]===t?a=(n-s)/(o[2]-o[0])*60:o[2]===n?a=(2+(s-t)/(o[2]-o[0]))*60:a=(4+(t-n)/(o[2]-o[0]))*60,a<0?a+=360:a>360&&(a=a%360)),{h:a,s:i,l:r}},NV=e=>RV(Dc(e)),Dc=e=>{let n=[e.r,e.g,e.b].map(a=>a/255).map(a=>a<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)),s=kl("SRGB_XYZ"),[o,r,i]=s.map(a=>n.reduce((c,d,f)=>a[f]*d+c,0)).map(a=>a*100);return{X:o,Y:r,Z:i}},FV={hex:e=>{var t=Math.round(e.r).toString(16);t.length===1&&(t="0"+t);var n=Math.round(e.g).toString(16);n.length===1&&(n="0"+n);var s=Math.round(e.b).toString(16);return s.length===1&&(s="0"+s),"#"+t+n+s},cssrgb:e=>"rgb("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+")",hsl:PS,csshsl:e=>{var{h:t,s:n,l:s}=PS(e);return"hsl("+Math.round(t)+","+Math.round(n)+"%,"+Math.round(s)+"%)"},cmyk:e=>{var t=e.r/255,n=e.g/255,s=e.b/255,o=1-Math.max(t,n,s);return o!==1?{c:(1-t-o)/(1-o),m:(1-n-o)/(1-o),y:(1-s-o)/(1-o),k:o}:{c:0,m:0,y:0,k:o}},yiq:e=>{var t=.299*(e.r/255)+.587*(e.g/255)+.114*(e.b/255),n=.596*(e.r/255)+-.274*(e.g/255)+-.322*(e.b/255),s=.211*(e.r/255)+-.523*(e.g/255)+.312*(e.b/255);return n=$l(n,[-.5957,.5957]),s=$l(s,[-.5226,.5226]),{y:t,i:n,q:s}},XYZ:Dc,lms:e=>LV(Dc(e)),cielab:e=>OV(Dc(e)),cieluv:NV,xyY:e=>MV(Dc(e))},DV={XYZ:e=>{const{x:t,y:n,Y:s}=e,o=s/n*t,r=s/n*(1-t-n);return{X:o,Y:s,Z:r}}},Km=e=>$l(e,[0,255]),UV={rgb:e=>{const t=$l(e.i,[-.5957,.5957]),n=$l(e.q,[-.5226,.5226]),s=255*Km(e.y+.956*t+.621*n),o=255*Km(e.y+-.272*t+-.647*n),r=255*Km(e.y+-1.106*t+-1.703*n);return{r:s,g:o,b:r}}},s8=Object.freeze(Object.defineProperty({__proto__:null,XYZ:n8,cielab:vV,cielch:bV,cieluv:yV,cmyk:wV,csshsl:SV,cssrgb:kV,hex:$V,hsl:TV,hsluv:AV,hsv:EV,lms:IV,rgb:FV,xyY:DV,yiq:UV},Symbol.toStringTag,{value:"Module"})),jV={rgb:{default:"XYZ",csshsl:"hsl",hsv:"hsl"},hex:"rgb",hsl:"rgb",hsv:"hsl",csshsl:"hsl",cssrgb:"rgb",cmyk:"rgb",XYZ:{default:"rgb",cielch:"cieluv",hsluv:"cieluv"},xyY:"XYZ",lms:"XYZ",cieluv:{default:"XYZ",hsluv:"cielch"},cielch:"cieluv",cielab:"XYZ",yiq:"rgb",hsluv:"cielch"};function Cl(e,t,n){if(t===void 0)throw new Error("No value provided");const s=n||gV(t);if(s===e)return t;if(s8[s][e])return LS(s,e,t);const o=jV[s],r=typeof o=="string"?o:o[e]||o.default,i=LS(s,r,t);return Cl(e,i,r)}const LS=(e,t,n)=>s8[e][t](n),BV=Object.keys(o_);function Tt(e){const t={};return BV.forEach(n=>{Object.defineProperty(t,n,{get:()=>zV(n,e),enumerable:!0})}),t}const zV=(e,t)=>Array.isArray(t)?t.map(n=>Cl(e,n)):Cl(e,t);function Es(e,t){var n=Cl("hsl",t);return n.l+=e,n.l<0?n.l=0:n.l>100&&(n.l=100),Tt(n)}function o8(e){var t=Cl("rgb",e),n=(t.r*299+t.g*587+t.b*114)/1e3;return n>=128?t={r:0,g:0,b:0}:t={r:255,g:255,b:255},Tt(t)}function r8(e){var t=Cl("hsl",e);return t.l=100-t.l,Tt(t)}var xm,OS;function qV(){if(OS)return xm;OS=1;function e(i,a){for(;i.length<a;)i="0"+i;return i}function t(i,a){var c,d,f;if(a.length===0)return i;for(c=0,f=a.length;c<f;c++)d=a.charCodeAt(c),i=(i<<5)-i+d,i|=0;return i<0?i*-2:i}function n(i,a,c){return Object.keys(a).sort().reduce(d,i);function d(f,h){return s(f,a[h],h,c)}}function s(i,a,c,d){var f=t(t(t(i,c),o(a)),typeof a);if(a===null)return t(f,"null");if(a===void 0)return t(f,"undefined");if(typeof a=="object"||typeof a=="function"){if(d.indexOf(a)!==-1)return t(f,"[Circular]"+c);d.push(a);var h=n(f,a,d);if(!("valueOf"in a)||typeof a.valueOf!="function")return h;try{return t(h,String(a.valueOf()))}catch(v){return t(h,"[valueOf exception]"+(v.stack||v.message))}}return t(f,a.toString())}function o(i){return Object.prototype.toString.call(i)}function r(i){return e(s(0,i,"",[]).toString(16),8)}return xm=r,xm}var HV=qV();const i8=Gs(HV),zf=(e,t,n)=>{if(!(e===null||typeof e>"u"))return e[0]==="#"||e==="transparent"?e:(typeof e=="object"&&({r:e,g:t,b:n}=e),[e,t,n]=[e,t,n].map(s=>(s=Math.ceil(s),s=s<0?0:s,s=s>255?255:s,s)),`#${((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)}`)},Ym=e=>{const t=e/255;return t<.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},ba=e=>{const t=Ym(e.r),n=Ym(e.g),s=Ym(e.b);return .2126*t+.7152*n+.0722*s},Uc=(e,t)=>{const n=ba(e),s=ba(t),[o,r]=n>s?[n,s]:[s,n];return(o+.05)/(r+.05)},oCe=(e,t,n)=>Uc($b(n,t),e),$r=(e,t,n)=>t===1||typeof t>"u"?e:{r:e.r*t+n.r*(1-t),g:e.g*t+n.g*(1-t),b:e.b*t+n.b*(1-t)},$b=(e,t)=>t.reduce((n,[s,o])=>$r(s,o,n),e),r_=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},sa=(e,t)=>({r:(e.r+t.r)/2,g:(e.g+t.g)/2,b:(e.b+t.b)/2}),Tl=function(e){const t={r:0,g:0,b:0,a:1};return e!==null?(e.r!==void 0&&!isNaN(e.r)&&(t.r=e.r),e.g!==void 0&&!isNaN(e.g)&&(t.g=e.g),e.b!==void 0&&!isNaN(e.b)&&(t.b=e.b),e.a!==void 0&&!isNaN(e.a)&&(t.a=e.a)):(t.r=255,t.g=255,t.b=255),`rgba(${Math.floor(t.r)}, ${Math.floor(t.g)}, ${Math.floor(t.b)}, ${t.a})`},i_=function(e,t,n){const s=Uc(e,t);if(!n&&s<4.5)return o8(e).rgb;const o=Tt(t).hex,r=r8(o).hex,i=Uc(e,Tt(r).rgb);let a;i>s?a=r:a=o;let c=Uc(e,t);const d=Tt(zf(a)).hsl,f=d.l>=50?1:-1,h=1;for(;c<4.5&&d.l>20&&d.l<80;)d.l+=f*h,d.l=Math.min(100,Math.max(0,d.l)),c=Uc(e,Tt(d).rgb);const v=typeof t.a<"u"?{a:t.a}:{};return Object.assign(Tt(d).rgb,v)},a8=(e,t)=>{let n={};if(typeof e=="object")n=e;else if(typeof e=="string")if(e.startsWith("#"))n=r_(e);else return e;return Tl({...n,a:t})},l8=(e,t,{findColor:n,findShadow:s},{dynamicVars:o,staticVars:r})=>{const{funcName:i,argsString:a}=/\$(?<funcName>\w+)\((?<argsString>[#a-zA-Z0-9-,.'"\s]*)\)/.exec(e).groups,c=a.split(/ /g).map(f=>f.trim()),d=t[i];if(c.length<d.argsNeeded)throw new Error(`$${i} requires at least ${d.argsNeeded} arguments, but ${c.length} were provided`);return d.exec(c,{findColor:n,findShadow:s},{dynamicVars:o,staticVars:r})},VV={alpha:{argsNeeded:2,documentation:"Changes alpha value of the color only to be used for CSS variables",args:["color: source color used","amount: alpha value"],exec:(e,{findColor:t},{dynamicVars:n,staticVars:s})=>{const[o,r]=e,i=Tt(t(o,{dynamicVars:n,staticVars:s})).rgb,a=Number(r);return{...i,a}}},brightness:{argsNeeded:2,document:"Changes brightness/lightness of color in HSL colorspace",args:["color: source color used","amount: lightness value"],exec:(e,{findColor:t},{dynamicVars:n,staticVars:s})=>{const[o,r]=e,i=Tt(t(o,{dynamicVars:n,staticVars:s})).hsl;return i.l+=Number(r),{...Tt(i).rgb}}},textColor:{argsNeeded:2,documentation:"Get text color with adequate contrast for given background and intended text color. Same function is used internally",args:["background: color of backdrop where text will be shown","foreground: intended text color",`[preserve]: (optional) intended color preservation:
'preserve' - try to preserve the color
'no-preserve' - if can't get adequate color - fall back to black or white
'no-auto' - don't do anything (useless as a color function)`],exec:(e,{findColor:t},{dynamicVars:n,staticVars:s})=>{const[o,r,i="preserve"]=e,a=Tt(t(o,{dynamicVars:n,staticVars:s})).rgb,c=Tt(t(r,{dynamicVars:n,staticVars:s})).rgb;return i_(a,c,i==="preserve")}},blend:{argsNeeded:3,documentation:"Alpha blending between two colors",args:["background: bottom layer color","amount: opacity of top layer","foreground: upper layer color"],exec:(e,{findColor:t},{dynamicVars:n,staticVars:s})=>{const[o,r,i]=e,a=Tt(t(o,{dynamicVars:n,staticVars:s})).rgb,c=Tt(t(i,{dynamicVars:n,staticVars:s})).rgb,d=Number(r);return $r(a,d,c)}},boost:{argsNeeded:2,documentation:"If given color is dark makes it darker, if color is light - makes it lighter",args:["color: source color","amount: how much darken/brighten the color"],exec:(e,{findColor:t},{dynamicVars:n,staticVars:s})=>{const[o,r]=e,i=Tt(t(o,{dynamicVars:n,staticVars:s})).rgb,a=Number(r),d=ba(i)<.5?-1:1;return Es(a*d,i).rgb}},mod:{argsNeeded:2,documentation:"Old function that increases or decreases brightness depending if background color is dark or light. Advised against using it as it might give unexpected results.",args:["color: source color","amount: how much darken/brighten the color"],exec:(e,{findColor:t},{dynamicVars:n,staticVars:s})=>{const[o,r]=e,i=Tt(t(o,{dynamicVars:n,staticVars:s})).rgb,a=Number(r),c=n.lowerLevelBackground??i,f=ba(Tt(c).rgb)<.5?1:-1;return Es(a*f,i).rgb}}},WV={borderSide:{argsNeeded:3,documentation:"Simulate a border on a side with a shadow, best works on inset border",args:["color: border color",'side: string indicating on which side border should be, takes either one word or two words joined by dash (i.e. "left" or "bottom-right")',"width: border width (thickness)","[alpha]: (Optional) border opacity, defaults to 1 (fully opaque)","[inset]: (Optional) whether border should be on the inside or outside, defaults to inside"],exec:e=>{const[t,n,s="1",o="1",r="inset"]=e,i=Number(o),a=r==="inset",c={x:0,y:0,blur:0,spread:0,color:t,alpha:Number(s),inset:a};return n.split("-").forEach(d=>{switch(d){case"left":c.x=i*(r?1:-1);break;case"right":c.x=-1*i*(r?1:-1);break;case"top":c.y=i*(r?1:-1);break;case"bottom":c.y=-1*i*(r?1:-1);break}}),[c]}}},qf=e=>{const t=[];let n=e;for(;n;)t.push(n),n=n.parent;return t},GV=e=>{const t=[e.map(n=>[n])];for(let n=2;n<=e.length;n++){const r=t[t.length-1].map(c=>{const d=new Set;return c.forEach(h=>d.add(h)),e.filter(h=>!d.has(h)).map(h=>[...c,h])}).reduce((c,d)=>[...c,...d],[]),i=new Set,a=r.map(Z.sortBy).filter(c=>i.has(c.join())?!1:(i.add(c.join()),!0));t.push(a)}return t.reduce((n,s)=>[...n,...s],[])},c8=e=>(t,n,s,o)=>{const r=!!o;if(!t&&!r)return null;const i=e[t.component],{states:a={},variants:c={},outOfTreeSelector:d}=i,f=(T=[],R=[])=>T.length===0?R.map(q=>[q]):R.length===0?T.map(q=>[q]):T.map(q=>R.map(D=>[q,D])).flat();let h=Array.isArray(i.selector)?i.selector:[i.selector];(n||s)&&(h=[h[0]]),h=h.map(T=>T===":root"?"":r?T:d&&!n?d:T);const v=t.variant||"normal";let _=null;v!=="normal"?_=c[v]:_=(c==null?void 0:c.normal)??"",_=Array.isArray(_)?_:[_],(n||s)&&(_=[_[0]]);const P=(t.state||[]).filter(T=>T!=="normal").map(T=>{const R=a[T]||"";let q=Array.isArray(R)?R:[R];return(n||s)&&(q=[q[0]]),q.sort(D=>D.startsWith(":")?1:/^[a-z]/.exec(D)?-1:0).join(""),q}).reduce((T,R)=>f(T,R).map(q=>q.join("")),[]),C=f(h,_).map(T=>T.join("")),$=f(C,P).map(T=>T.join("")),L=f($,o).map(T=>T.join(" "));return t.parent?c8(e)(t.parent,n,s,L):L.join(", ").trim()},RS=(e,t,n)=>{if(e.component!==t.component||(t.variant!=="normal"||n)&&e.variant!==t.variant)return!1;if(t.state.length>1||n){const s=new Set(t.state),o=new Set(e.state);if(!([...o].every(i=>s.has(i))&&[...s].every(i=>o.has(i))))return!1}return!0},Xm=(e,t)=>n=>{if(e.parent===null&&n.parent||!RS(e,n,t))return!1;if(e.parent!==void 0&&e.parent!==null){if(!n.parent)return!0;const s=qf(e),o=qf(n);if(s.length<o.length)return!1;for(let r=0;r<s.length;r++){const i=s[r],a=o[r];if(!a)return!0;if(!RS(i,a,t))return!1}}return!0},MS=e=>{e.variant=e.variant??"normal",e.state=[...new Set(["normal",...e.state||[]])]},u8=e=>{const t=["_full","inset","x","y","blur","spread","color","alpha","name"],n=["^","(?:(inset)\\s+)?","(?:(-?[0-9]+(?:\\.[0-9]+)?)\\s+)","(?:(-?[0-9]+(?:\\.[0-9]+)?)\\s+)","(?:(-?[0-9]+(?:\\.[0-9]+)?)\\s+)?","(?:(-?[0-9]+(?:\\.[0-9]+)?)\\s+)?","(#[0-9a-f]{6}|--[a-z0-9\\-_]+|\\$[a-z0-9\\-()_ ]+)","(?:\\s+\\/\\s+([0-9]+(?:\\.[0-9]+)?)\\s*)?","(?:\\s+#(\\w+)\\s*)?","$"].join(""),o=new RegExp(n,"gis").exec(e);if(o==null){if(e.startsWith("$")||e.startsWith("--"))return e;throw new Error(`Invalid shadow definition: '${e}'`)}else{const r=new Set(["x","y","blur","spread","alpha"]),{x:i,y:a,blur:c,spread:d,alpha:f,inset:h,color:v,name:_}=Object.fromEntries(t.map((S,k)=>{if(r.has(S)){const P=Number(o[k]);return Number.isNaN(P)?S==="alpha"?[S,1]:[S,0]:[S,P]}else return S==="inset"?[S,!!o[k]]:[S,o[k]]}).filter(([,S])=>S!==!1).slice(1));return{x:i,y:a,blur:c,spread:d,color:v,alpha:f,inset:h,name:_}}},KV=e=>{const t=[{selector:null,content:[]}];let n="";const s=()=>{let r=t[t.length-1];return r==null&&(r={selector:null,content:[]}),r},o=r=>{n!==""&&(r==="content"?s().content.push(n.trim()):s().selector=n.trim(),n="")};for(let r=0;r<e.length;r++){const i=e[r];i===";"?o("content"):i==="{"?o("header"):i==="}"?(o("content"),t.push({selector:null,content:[]}),n=""):n+=i}return t},xV=e=>{const n=KV(e).filter(s=>s.selector!=null).map(s=>{const{selector:o,content:r}=s;let i=0;return o.split(/,/g).map(d=>{const f={component:""};let h=null;return d.split(/ /g).reverse().forEach((v,_,S)=>{const k={component:""};let P="component";for(let C=0;C<v.length;C++){const $=v[C];switch($){case".":{P="variant",k.variant="";break}case":":{P="state",k.state=k.state||[],i++;break}default:P==="state"?(k.state[i-1]==null&&k.state.push(""),k.state[i-1]+=$):k[P]+=$}}h!==null?(h.parent={...k},h=h.parent):(Object.keys(k).forEach(C=>{f[C]=k[C]}),_!==S.length-1&&(f.parent={component:""}),h=f)}),f.directives=Object.fromEntries(r.map(v=>{const[_,S]=v.split(":");let k=(S||"").trim();return _==="shadow"&&(k==="none"?k=[]:k=S.split(",").map(P=>u8(P.trim()))),Number.isNaN(Number(S))||(k=Number(S)),[_,k]})),f})});return Z.flattenDeep(n)},Bn={Root:null,Text:null,FunText:null,Link:null,Icon:null,Border:null,PanelHeader:null,Attachment:null,Panel:null,Chat:null,ChatMessage:null,Button:null},Cb=(e,{dynamicVars:t,staticVars:n})=>(e||[]).map(s=>{let o;if(typeof s=="string")if(s.startsWith("$"))o=l8(s,WV,{findColor:pa,findShadow:Cb},{dynamicVars:t,staticVars:n});else if(s.startsWith("--")){const i=s.substring(2);return Cb(n[i],{dynamicVars:t,staticVars:n})}else o=u8(s);else o=s;return(Array.isArray(o)?o:[o]).map(i=>({...i,color:pa(i.color,{dynamicVars:t,staticVars:n})}))}),pa=(e,{dynamicVars:t,staticVars:n})=>{try{if(typeof e!="string"||!e.startsWith("--")&&!e.startsWith("$"))return e;let s=null;if(e.startsWith("--")){const[o,r]=e.split(/,/g).map(a=>a.trim()),i=o.substring(2);if(i==="stack"){const{r:a,g:c,b:d}=t.stacked;s={r:a,g:c,b:d}}else if(i.startsWith("parent"))if(i==="parent"){const{r:a,g:c,b:d}=t.lowerLevelBackground??{};s={r:a,g:c,b:d}}else{const a=i.replace(/^parent/,"");s=Tt(t.lowerLevelVirtualDirectivesRaw[a]).rgb}else{const a=n[i],c=t[i];!a&&!c&&(console.warn(t,i,t[i]),console.warn(`Couldn't find variable "${i}", falling back to magenta. Variables are:
Static:
${JSON.stringify(n,null,2)}
Dynamic:
${JSON.stringify(t,null,2)}`)),s=Tt(a??c??"#FF00FF").rgb}if(r){const a=t.lowerLevelBackground??s,d=ba(Tt(a).rgb)<.5?1:-1;s=Es(Number.parseFloat(r)*d,s).rgb}}if(e.startsWith("$"))try{s=l8(e,VV,{findColor:pa},{dynamicVars:t,staticVars:n})}catch(o){console.error("Failure executing color function",o,`
 Function: `+e),s="#FF00FF"}return s}catch(s){throw new Error(`Couldn't find color "${e}", variables are:
Static:
${JSON.stringify(n,null,2)}
Dynamic:
${JSON.stringify(t,null,2)}
Error: ${s}`)}},YV=(e,t,n,s)=>{const o=e.textOpacity,r=Tt(n.lowerLevelBackground).rgb,i=Tt(pa(t,{dynamicVars:n,staticVars:s})).rgb;if(o==null||o>=1)return Tt(i).hex;if(o===0)return Tt(r).hex;switch(e.textOpacityMode){case"fake":return Tt($r(i,o,r)).hex;case"mixrgb":return Tt(sa(r,i)).hex;default:return Tl({a:o,...i})}},NS=Object.assign({"/src/components/alert.style.js":oH,"/src/components/attachment/attachment.style.js":iH,"/src/components/badge.style.js":lH,"/src/components/border.style.js":uH,"/src/components/button.style.js":fH,"/src/components/button_unstyled.style.js":pH,"/src/components/chat/chat.style.js":gH,"/src/components/chat_message/chat_message.style.js":bH,"/src/components/fun_text.style.js":yH,"/src/components/icon.style.js":SH,"/src/components/input.style.js":$H,"/src/components/link.style.js":TH,"/src/components/list/list_item.style.js":EH,"/src/components/menu_item.style.js":PH,"/src/components/mobile_drawer.style.js":OH,"/src/components/modal/modals.style.js":MH,"/src/components/notification/notification.style.js":FH,"/src/components/panel.style.js":UH,"/src/components/panel_header.style.js":BH,"/src/components/poll/poll_graph.style.js":qH,"/src/components/popover.style.js":VH,"/src/components/rich_content/rich_content.style.js":GH,"/src/components/root.style.js":xH,"/src/components/scrollbar.style.js":XH,"/src/components/scrollbar_element.style.js":ZH,"/src/components/status/post.style.js":eV,"/src/components/tab_switcher/tab.style.js":nV,"/src/components/text.style.js":oV,"/src/components/top_bar.style.js":iV,"/src/components/underlay.style.js":lV,"/src/components/user_avatar/avatar.style.js":uV,"/src/components/user_card/user_card.style.js":fV});Object.keys(NS).forEach(e=>{const t=NS[e].default;Bn[t.name]!=null&&console.warn(`Component in file ${e} is trying to override existing component ${t.name}! You have collisions/duplicates!`),Bn[t.name]=t});Object.keys(Bn).forEach(e=>{e!=="Root"&&(Bn.Root.validInnerComponents=Bn.Root.validInnerComponents||[],Bn.Root.validInnerComponents.push(e))});Object.keys(Bn).forEach(e=>{const t=Bn[e],{validInnerComponents:n=[]}=t;n.forEach(s=>{const o=Bn[s];t.possibleChildren=t.possibleChildren||[],t.possibleChildren.push(o),o.possibleParents=o.possibleParents||[],o.possibleParents.push(t)})});const d8=i8(Bn),Jm=c8(Bn),f8=()=>d8,XV=({inputRuleset:e,ultimateBackgroundColor:t,debug:n=!1,liteMode:s=!1,editMode:o=!1,onlyNormalState:r=!1,initialStaticVars:i={}})=>{const a="Root";if(!e)throw new Error("Ruleset is null or undefined!");const c={...i},d={},f={},v=[...Object.values(Bn).map(V=>(V.defaultRules||[]).map(ce=>({source:"Built-in",component:V.name,...ce}))).reduce((V,ce)=>[...V,...ce],[]),...e].map(V=>{MS(V);let ce=V.parent;for(;ce;)MS(ce),ce=ce.parent;return V}).map((V,ce)=>({data:V,index:ce})).toSorted(({data:V,index:ce},{data:de,index:Le})=>{const Ve=qf(V).length,Ge=qf(de).length;let We=0,Be=0;return We+=Ve*1e3,Be+=Ge*1e3,We+=V.variant!=="normal"?100:0,Be+=de.variant!=="normal"?100:0,We+=V.state.filter(it=>it!=="normal").length*1e3,Be+=de.state.filter(it=>it!=="normal").length*1e3,We+=V.component==="Text"?1:0,Be+=de.component==="Text"?1:0,V._specificityScore=We,de._specificityScore=Be,We===Be?ce-Le:We-Be}).map(({data:V})=>V);t||(console.warn("No ultimate background color provided, falling back to panel color"),t=v.findLast(ce=>{var de;return ce.component==="Root"&&((de=ce.directives)==null?void 0:de["--bg"])}).directives["--bg"].split("|")[1].trim());const _=new Set(Object.values(Bn).filter(V=>V.virtual).map(V=>V.name)),S=new Set(Object.values(Bn).filter(V=>V.transparent).map(V=>V.name)),k=new Set(Object.values(Bn).filter(V=>V.notEditable).map(V=>V.name)),P=new Set([]);Object.values(Bn).forEach(V=>{const ce=v.filter(Ve=>Ve.component===V.name),de=ce.map(Ve=>Ve.directives.background).filter(Ve=>Ve),Le=ce.map(Ve=>Ve.directives.opacity).filter(Ve=>Ve);(de.some(Ve=>Ve.match(/--parent/))||Le.some(Ve=>Ve!=null&&Ve<1))&&P.add(V.name)});const C=V=>{var ce,de,Le,Ve;try{const Ge=Jm(V,!0),We=Jm(V),Be=Ge.split(/ /g).slice(0,-1).join(" "),it=Ge.split(/ /g).slice(-1)[0],$t=Be;let dt=(ce=f[$t])==null?void 0:ce.background;o&&!dt&&(dt="#00FFFF");const bt=(de=f[$t])==null?void 0:de.virtualDirectives,It=(Le=f[$t])==null?void 0:Le.virtualDirectivesRaw,nt=f[Ge]||{lowerLevelSelector:$t,lowerLevelBackground:dt,lowerLevelVirtualDirectives:bt,lowerLevelVirtualDirectivesRaw:It},ft=v.filter(Xm(V)).map(ye=>ye.directives).reduce((ye,Me)=>({...ye,...Me}),{}),qt={...V,directives:ft};if(f[Ge]=f[Ge]||{},f[Ge].computedRule=qt,f[Ge].dynamicVars=nt,f[Ge].virtualDirectives={},f[Ge].virtualDirectivesRaw=((Ve=f[$t])==null?void 0:Ve.virtualDirectivesRaw)||{},_.has(V.component)){const ye=["--",V.component.toLowerCase(),V.variant==="normal"?"":V.variant[0].toUpperCase()+V.variant.slice(1).toLowerCase(),...Z.sortBy(V.state.filter(B=>B!=="normal")).map(B=>B[0].toUpperCase()+B.slice(1).toLowerCase())].join("");let Me=ft.textColor,Fe=ft.textAuto,Ue=ft.textOpacity,pt=ft.textOpacityMode;const H=[...Ge.split(/ /g).slice(0,-1),it].join(" "),W=f[H];(Me==null||Ue==null||pt==null)&&(Me=ft.textColor??W.textColor,Fe=ft.textAuto??W.textAuto,Ue=ft.textOpacity??W.textOpacity,pt=ft.textOpacityMode??W.textOpacityMode);const Q={...qt,directives:{...qt.directives,textColor:Me,textAuto:Fe??"preserve",textOpacity:Ue,textOpacityMode:pt}};nt.inheritedBackground=dt,nt.stacked=Tt(d[$t]).rgb;const pe=Tt(pa(Me,{dynamicVars:nt,staticVars:c})).rgb,we=Q.directives.textAuto==="no-auto"?pe:i_(Tt(d[$t]).rgb,pe,Q.directives.textAuto==="preserve"),_e={...f[$t].virtualDirectives||{}},U={...f[$t].virtualDirectivesRaw||{}};return _e[ye]=YV(Q.directives,we,nt),U[ye]=we,f[$t].virtualDirectives=_e,f[$t].virtualDirectivesRaw=U,{dynamicVars:nt,selector:We.split(/ /g).slice(0,-1).join(" "),...V,directives:{},virtualDirectives:_e,virtualDirectivesRaw:U}}else{f[Ge]=f[Ge]||{};const ye=d[$t]||Tt(t).rgb;if(ft.background){let Ue=null;const pt=v.filter(Xm({component:V.component,variant:V.variant,parent:V.parent})),H=pt[pt.length-1];if(H)Ue=H;else{const we=v.filter(Xm({component:V.component,parent:V.parent}));Ue=we[we.length-1]}const W=Jm({...Ue,parent:V.parent},!0),Q=f[W].background;nt.inheritedBackground=Q;const pe=Tt(pa(ft.background,{dynamicVars:nt,staticVars:c})).rgb;if(!d[Ge]){let we;const _e=ft.opacity??1;_e>=1?we=pe:_e<=0?we=ye:we=$r(pe,ft.opacity,ye),d[Ge]=we,f[Ge].background={...pe,a:ft.opacity??1}}}return ft.shadow&&(nt.shadow=Z.flattenDeep(Cb(Z.flattenDeep(ft.shadow),{dynamicVars:nt,staticVars:c}))),d[Ge]||(ft.background="transparent",ft.opacity=0,d[Ge]=ye,f[Ge].background={...ye,a:0}),nt.stacked=d[Ge],nt.background=f[Ge].background,Object.entries(ft).filter(([Ue])=>Ue.startsWith("--")).forEach(([Ue,pt])=>{const[H,W]=pt.split("|").map(Q=>Q.trim());switch(H){case"color":{const Q=pa(W,{dynamicVars:nt,staticVars:c});nt[Ue]=Q,V.component===a&&(c[Ue.substring(2)]=Q);break}case"shadow":{const Q=W.split(/,/g).map(pe=>pe.trim()).filter(pe=>pe);nt[Ue]=Q,V.component===a&&(c[Ue.substring(2)]=Q);break}case"generic":{nt[Ue]=W,V.component===a&&(c[Ue.substring(2)]=W);break}}}),{dynamicVars:nt,selector:We,...V,directives:ft}}}catch(Ge){const{component:We,variant:Be,state:it}=V;throw new Error(`Error processing combination ${We}.${Be}:${it.join(":")}: ${Ge}`)}},$=(V,ce)=>{var It,nt;const de=[],{states:Le={},variants:Ve={}}=V;let Ge;o?Ge=(V.validInnerComponentsLite||V.validInnerComponents||[]).filter(ft=>_.has(ft)&&!k.has(ft)):s?Ge=V.validInnerComponentsLite||V.validInnerComponents||[]:V.name==="Root"||V.states!=null||(It=V.background)!=null&&It.includes("--parent")?Ge=V.validInnerComponents||[]:Ge=((nt=V.validInnerComponents)==null?void 0:nt.filter(yt=>_.has(yt)||S.has(yt)||P.has(yt)))||[];const We={normal:"",...Le},Be={normal:"",...Ve},it=Ge.map(yt=>{const ft=Bn[yt];return ft===void 0&&console.error(`Component ${V.name} references a component ${yt} which does not exist!`),ft}),$t=Object.keys(We).filter(yt=>yt!=="normal"),dt=r&&!_.has(V.name)?[["normal"]]:[["normal"],...GV($t).map(yt=>["normal",...yt]).filter(yt=>yt.indexOf("disabled")>=0?!(yt.indexOf("hover")>=0||yt.indexOf("focused")>=0||yt.indexOf("pressed")>=0):!0)];return Object.keys(Be).map(yt=>dt.map(ft=>({variant:yt,state:ft}))).reduce((yt,ft)=>[...yt,...ft],[]).forEach(yt=>{yt.component=V.name,yt.lazy=V.lazy||(ce==null?void 0:ce.lazy),yt.parent=ce,!s&&yt.state.indexOf("hover")>=0&&(yt.lazy=!0),!s&&(ce==null?void 0:ce.component)!=="Root"&&!_.has(V.name)&&!S.has(V.name)&&P.has(V.name)&&(yt.lazy=!0),de.push(yt),it.forEach(ft=>{de.push(...$(ft,yt))})}),de},L=performance.now(),T=$(Bn[a]??Bn.Root),R=performance.now();n&&console.debug("Tree traveral took "+(R-L)+" ms");const q=T.map(V=>V.lazy?async()=>C(V):C(V)).filter(V=>V),D=performance.now();n&&console.debug("Eager processing took "+(D-R)+" ms");const x=[],oe=[];return q.forEach(V=>{typeof V=="function"?oe.push(V):x.push(V)}),{lazy:oe,eager:x,staticVars:c,engineChecksum:d8,themeChecksum:i8([oe,x])}},Qc=(e,t=1)=>Tl({...Tt(e).rgb,a:t}),FS=(e,t)=>e.length===0?"none":e.filter(n=>t?n.inset:n).map(n=>[n.x,n.y,n.blur,n.spread].map(s=>s+"px ").concat([Qc(n.color,n.alpha),n.inset?"inset":""]).join(" ")).join(", "),JV=e=>e.length===0?"none":e.filter(t=>!t.inset&&Number(t.spread)===0).map(t=>[t.x,t.y,t.blur/2].map(n=>n+"px").concat([Qc(t.color,t.alpha)]).join(" ")).map(t=>`drop-shadow(${t})`).join(" "),DS=(e,t)=>e.map(n=>{let s=n.selector;s||(s="html");const o=s+" {",r="}",i=Object.entries(n.virtualDirectives||{}).map(([c,d])=>"  "+c+": "+d).join(`;
`),a=Object.entries(n.directives).map(([c,d])=>{switch(c){case"roundness":return"  "+["--roundness: "+d+"px"].join(`;
  `);case"shadow":return n.dynamicVars.shadow?"  "+["--shadow: "+FS(n.dynamicVars.shadow),"--shadowFilter: "+JV(n.dynamicVars.shadow),"--shadowInset: "+FS(n.dynamicVars.shadow,!0)].join(`;
  `):"";case"background":{if(t)return`
            --background: ${Qc(n.dynamicVars.stacked)};
            background-color: ${Qc(n.dynamicVars.stacked)};
          `;if(d==="transparent")return n.component==="Root"?null:[n.directives.backgroundNoCssColor!=="yes"?"background-color: "+d:"","  --background: "+d].filter(v=>v).join(`;
`);const f=Qc(n.dynamicVars.background,n.directives.opacity),h=["--background: "+f];return n.directives.backgroundNoCssColor!=="yes"&&h.push("background-color: "+f),h.filter(v=>v).join(`;
`)}case"blur":{const f=[];return n.directives.opacity<1&&(f.push(`--backdrop-filter: blur(${d}) `),n.directives.backgroundNoCssColor!=="yes"&&f.push(`backdrop-filter: blur(${d}) `)),f.join(`;
`)}case"font":return"font-family: "+d;case"textColor":return n.directives.textNoCssColor==="yes"?"":"color: "+d;default:if(c.startsWith("--")){const[f,h]=d.split("|").map(v=>v.trim());switch(f){case"color":{const v=n.dynamicVars[c];return typeof v=="string"?c+": "+Tl(r_(v)):c+": "+Tl(v)}case"generic":return c+": "+h;default:return null}}return null}}).filter(c=>c).map(c=>"  "+c+";").join(`
`);return[o,a,n.component==="Text"&&n.state.indexOf("faint")<0&&n.directives.textNoCssColor!=="yes"?"  color: var(--text);":"",i,r].filter(c=>c).join(`
`)}).filter(n=>n),rCe=(e,t)=>e.map(n=>n.startsWith("html")?n.replace("html",t):n.startsWith("#content")?n.replace("#content",t):t+" > "+n),ZV=(window.navigator.language||"en").split("-")[0],eu={expertLevel:0,theme:void 0,colors:{},customTheme:void 0,customThemeSource:void 0,style:null,styleCustomData:null,palette:null,paletteCustomData:null,themeDebug:!1,forceThemeRecompilation:!1,theme3hacks:{underlay:"none",fonts:{interface:void 0,input:void 0,post:void 0,monospace:void 0}},hideISP:!1,hideInstanceWallpaper:!1,hideShoutbox:!1,hideMutedPosts:void 0,hideMutedThreads:void 0,hideWordFilteredPosts:void 0,muteBotStatuses:void 0,muteSensitiveStatuses:void 0,collapseMessageWithSubject:void 0,padEmoji:!0,hideAttachments:!1,hideAttachmentsInConv:!1,hideScrobbles:!1,hideScrobblesAfter:"2d",maxThumbnails:16,hideNsfw:!0,preloadImage:!0,loopVideo:!0,loopVideoSilentOnly:!0,streaming:!1,emojiReactionsOnTimeline:!0,alwaysShowNewPostButton:!1,autohideFloatingPostButton:!1,pauseOnUnfocused:!0,stopGifs:!0,replyVisibility:"all",thirdColumnMode:"notifications",notificationVisibility:{follows:!0,mentions:!0,statuses:!0,likes:!0,repeats:!0,moves:!0,emojiReactions:!0,followRequest:!0,reports:!0,chatMention:!0,polls:!0},notificationNative:{follows:!0,mentions:!0,statuses:!0,likes:!1,repeats:!1,moves:!1,emojiReactions:!1,followRequest:!0,reports:!0,chatMention:!0,polls:!0},webPushNotifications:!1,webPushAlwaysShowNotifications:!1,muteWords:[],highlight:{},interfaceLanguage:ZV,hideScopeNotice:!1,useStreamingApi:!1,sidebarRight:void 0,scopeCopy:void 0,subjectLineBehavior:void 0,alwaysShowSubjectInput:void 0,postContentType:void 0,minimalScopesMode:void 0,hideFilteredStatuses:void 0,modalOnRepeat:void 0,modalOnUnfollow:void 0,modalOnBlock:void 0,modalOnMute:void 0,modalOnMuteConversation:void 0,modalOnMuteDomain:void 0,modalOnDelete:void 0,modalOnLogout:void 0,modalOnApproveFollow:void 0,modalOnDenyFollow:void 0,modalOnRemoveUserFromFollowers:void 0,modalMobileCenter:void 0,playVideosInModal:!1,useOneClickNsfw:!1,useContainFit:!0,disableStickyHeaders:!1,showScrollbars:!1,userPopoverAvatarAction:"open",userPopoverOverlay:!1,sidebarColumnWidth:"25rem",contentColumnWidth:"45rem",notifsColumnWidth:"25rem",themeEditorMinWidth:void 0,emojiReactionsScale:void 0,textSize:void 0,emojiSize:void 0,navbarSize:void 0,panelHeaderSize:void 0,forcedRoundness:void 0,navbarColumnStretch:!1,greentext:void 0,mentionLinkDisplay:void 0,mentionLinkShowTooltip:void 0,mentionLinkShowAvatar:void 0,mentionLinkFadeDomain:void 0,mentionLinkShowYous:void 0,mentionLinkBoldenYou:void 0,hidePostStats:void 0,hideBotIndication:void 0,hideUserStats:void 0,virtualScrolling:void 0,sensitiveByDefault:void 0,conversationDisplay:void 0,conversationTreeAdvanced:void 0,conversationOtherRepliesButton:void 0,conversationTreeFadeAncestors:void 0,showExtraNotifications:void 0,showExtraNotificationsTip:void 0,showChatsInExtraNotifications:void 0,showAnnouncementsInExtraNotifications:void 0,showFollowRequestsInExtraNotifications:void 0,maxDepthInThread:void 0,autocompleteSelect:void 0,closingDrawerMarksAsSeen:void 0,unseenAtTop:void 0,ignoreInactionableSeen:void 0,unsavedPostAction:void 0,autoSaveDraft:void 0,useAbsoluteTimeFormat:void 0,absoluteTimeFormatMinAge:void 0,absoluteTime12h:void 0,imageCompression:!0,alwaysUseJpeg:!1};function Zd(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zm={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var US;function QV(){return US||(US=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(s,o,r){function i(d,f){if(!o[d]){if(!s[d]){var h=typeof Zd=="function"&&Zd;if(!f&&h)return h(d,!0);if(a)return a(d,!0);var v=new Error("Cannot find module '"+d+"'");throw v.code="MODULE_NOT_FOUND",v}var _=o[d]={exports:{}};s[d][0].call(_.exports,function(S){var k=s[d][1][S];return i(k||S)},_,_.exports,n,s,o,r)}return o[d].exports}for(var a=typeof Zd=="function"&&Zd,c=0;c<r.length;c++)i(r[c]);return i}({1:[function(n,s,o){(function(r){var i=r.MutationObserver||r.WebKitMutationObserver,a;if(i){var c=0,d=new i(S),f=r.document.createTextNode("");d.observe(f,{characterData:!0}),a=function(){f.data=c=++c%2}}else if(!r.setImmediate&&typeof r.MessageChannel<"u"){var h=new r.MessageChannel;h.port1.onmessage=S,a=function(){h.port2.postMessage(0)}}else"document"in r&&"onreadystatechange"in r.document.createElement("script")?a=function(){var P=r.document.createElement("script");P.onreadystatechange=function(){S(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},r.document.documentElement.appendChild(P)}:a=function(){setTimeout(S,0)};var v,_=[];function S(){v=!0;for(var P,C,$=_.length;$;){for(C=_,_=[],P=-1;++P<$;)C[P]();$=_.length}v=!1}s.exports=k;function k(P){_.push(P)===1&&!v&&a()}}).call(this,typeof cs<"u"?cs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,s,o){var r=n(1);function i(){}var a={},c=["REJECTED"],d=["FULFILLED"],f=["PENDING"];s.exports=h;function h(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,R!==i&&k(this,R)}h.prototype.catch=function(R){return this.then(null,R)},h.prototype.then=function(R,q){if(typeof R!="function"&&this.state===d||typeof q!="function"&&this.state===c)return this;var D=new this.constructor(i);if(this.state!==f){var x=this.state===d?R:q;_(D,x,this.outcome)}else this.queue.push(new v(D,R,q));return D};function v(R,q,D){this.promise=R,typeof q=="function"&&(this.onFulfilled=q,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(R){a.resolve(this.promise,R)},v.prototype.otherCallFulfilled=function(R){_(this.promise,this.onFulfilled,R)},v.prototype.callRejected=function(R){a.reject(this.promise,R)},v.prototype.otherCallRejected=function(R){_(this.promise,this.onRejected,R)};function _(R,q,D){r(function(){var x;try{x=q(D)}catch(oe){return a.reject(R,oe)}x===R?a.reject(R,new TypeError("Cannot resolve promise with itself")):a.resolve(R,x)})}a.resolve=function(R,q){var D=P(S,q);if(D.status==="error")return a.reject(R,D.value);var x=D.value;if(x)k(R,x);else{R.state=d,R.outcome=q;for(var oe=-1,V=R.queue.length;++oe<V;)R.queue[oe].callFulfilled(q)}return R},a.reject=function(R,q){R.state=c,R.outcome=q;for(var D=-1,x=R.queue.length;++D<x;)R.queue[D].callRejected(q);return R};function S(R){var q=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof q=="function")return function(){q.apply(R,arguments)}}function k(R,q){var D=!1;function x(de){D||(D=!0,a.reject(R,de))}function oe(de){D||(D=!0,a.resolve(R,de))}function V(){q(oe,x)}var ce=P(V);ce.status==="error"&&x(ce.value)}function P(R,q){var D={};try{D.value=R(q),D.status="success"}catch(x){D.status="error",D.value=x}return D}h.resolve=C;function C(R){return R instanceof this?R:a.resolve(new this(i),R)}h.reject=$;function $(R){var q=new this(i);return a.reject(q,R)}h.all=L;function L(R){var q=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=R.length,x=!1;if(!D)return this.resolve([]);for(var oe=new Array(D),V=0,ce=-1,de=new this(i);++ce<D;)Le(R[ce],ce);return de;function Le(Ve,Ge){q.resolve(Ve).then(We,function(Be){x||(x=!0,a.reject(de,Be))});function We(Be){oe[Ge]=Be,++V===D&&!x&&(x=!0,a.resolve(de,oe))}}}h.race=T;function T(R){var q=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=R.length,x=!1;if(!D)return this.resolve([]);for(var oe=-1,V=new this(i);++oe<D;)ce(R[oe]);return V;function ce(de){q.resolve(de).then(function(Le){x||(x=!0,a.resolve(V,Le))},function(Le){x||(x=!0,a.reject(V,Le))})}}},{1:1}],3:[function(n,s,o){(function(r){typeof r.Promise!="function"&&(r.Promise=n(2))}).call(this,typeof cs<"u"?cs:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,s,o){var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N};function i(N,Y){if(!(N instanceof Y))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=a();function d(){try{if(!c||!c.open)return!1;var N=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Y=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!N||Y)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function f(N,Y){N=N||[],Y=Y||{};try{return new Blob(N,Y)}catch(ee){if(ee.name!=="TypeError")throw ee;for(var j=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ne=new j,ae=0;ae<N.length;ae+=1)ne.append(N[ae]);return ne.getBlob(Y.type)}}typeof Promise>"u"&&n(3);var h=Promise;function v(N,Y){Y&&N.then(function(j){Y(null,j)},function(j){Y(j)})}function _(N,Y,j){typeof Y=="function"&&N.then(Y),typeof j=="function"&&N.catch(j)}function S(N){return typeof N!="string"&&(console.warn(N+" used as a key, but it is not a string."),N=String(N)),N}function k(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var P="local-forage-detect-blob-support",C=void 0,$={},L=Object.prototype.toString,T="readonly",R="readwrite";function q(N){for(var Y=N.length,j=new ArrayBuffer(Y),ne=new Uint8Array(j),ae=0;ae<Y;ae++)ne[ae]=N.charCodeAt(ae);return j}function D(N){return new h(function(Y){var j=N.transaction(P,R),ne=f([""]);j.objectStore(P).put(ne,"key"),j.onabort=function(ae){ae.preventDefault(),ae.stopPropagation(),Y(!1)},j.oncomplete=function(){var ae=navigator.userAgent.match(/Chrome\/(\d+)/),ee=navigator.userAgent.match(/Edge\//);Y(ee||!ae||parseInt(ae[1],10)>=43)}}).catch(function(){return!1})}function x(N){return typeof C=="boolean"?h.resolve(C):D(N).then(function(Y){return C=Y,C})}function oe(N){var Y=$[N.name],j={};j.promise=new h(function(ne,ae){j.resolve=ne,j.reject=ae}),Y.deferredOperations.push(j),Y.dbReady?Y.dbReady=Y.dbReady.then(function(){return j.promise}):Y.dbReady=j.promise}function V(N){var Y=$[N.name],j=Y.deferredOperations.pop();if(j)return j.resolve(),j.promise}function ce(N,Y){var j=$[N.name],ne=j.deferredOperations.pop();if(ne)return ne.reject(Y),ne.promise}function de(N,Y){return new h(function(j,ne){if($[N.name]=$[N.name]||It(),N.db)if(Y)oe(N),N.db.close();else return j(N.db);var ae=[N.name];Y&&ae.push(N.version);var ee=c.open.apply(c,ae);Y&&(ee.onupgradeneeded=function(Ce){var Ie=ee.result;try{Ie.createObjectStore(N.storeName),Ce.oldVersion<=1&&Ie.createObjectStore(P)}catch(Oe){if(Oe.name==="ConstraintError")console.warn('The database "'+N.name+'" has been upgraded from version '+Ce.oldVersion+" to version "+Ce.newVersion+', but the storage "'+N.storeName+'" already exists.');else throw Oe}}),ee.onerror=function(Ce){Ce.preventDefault(),ne(ee.error)},ee.onsuccess=function(){var Ce=ee.result;Ce.onversionchange=function(Ie){Ie.target.close()},j(Ce),V(N)}})}function Le(N){return de(N,!1)}function Ve(N){return de(N,!0)}function Ge(N,Y){if(!N.db)return!0;var j=!N.db.objectStoreNames.contains(N.storeName),ne=N.version<N.db.version,ae=N.version>N.db.version;if(ne&&(N.version!==Y&&console.warn('The database "'+N.name+`" can't be downgraded from version `+N.db.version+" to version "+N.version+"."),N.version=N.db.version),ae||j){if(j){var ee=N.db.version+1;ee>N.version&&(N.version=ee)}return!0}return!1}function We(N){return new h(function(Y,j){var ne=new FileReader;ne.onerror=j,ne.onloadend=function(ae){var ee=btoa(ae.target.result||"");Y({__local_forage_encoded_blob:!0,data:ee,type:N.type})},ne.readAsBinaryString(N)})}function Be(N){var Y=q(atob(N.data));return f([Y],{type:N.type})}function it(N){return N&&N.__local_forage_encoded_blob}function $t(N){var Y=this,j=Y._initReady().then(function(){var ne=$[Y._dbInfo.name];if(ne&&ne.dbReady)return ne.dbReady});return _(j,N,N),j}function dt(N){oe(N);for(var Y=$[N.name],j=Y.forages,ne=0;ne<j.length;ne++){var ae=j[ne];ae._dbInfo.db&&(ae._dbInfo.db.close(),ae._dbInfo.db=null)}return N.db=null,Le(N).then(function(ee){return N.db=ee,Ge(N)?Ve(N):ee}).then(function(ee){N.db=Y.db=ee;for(var Ce=0;Ce<j.length;Ce++)j[Ce]._dbInfo.db=ee}).catch(function(ee){throw ce(N,ee),ee})}function bt(N,Y,j,ne){ne===void 0&&(ne=1);try{var ae=N.db.transaction(N.storeName,Y);j(null,ae)}catch(ee){if(ne>0&&(!N.db||ee.name==="InvalidStateError"||ee.name==="NotFoundError"))return h.resolve().then(function(){if(!N.db||ee.name==="NotFoundError"&&!N.db.objectStoreNames.contains(N.storeName)&&N.version<=N.db.version)return N.db&&(N.version=N.db.version+1),Ve(N)}).then(function(){return dt(N).then(function(){bt(N,Y,j,ne-1)})}).catch(j);j(ee)}}function It(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function nt(N){var Y=this,j={db:null};if(N)for(var ne in N)j[ne]=N[ne];var ae=$[j.name];ae||(ae=It(),$[j.name]=ae),ae.forages.push(Y),Y._initReady||(Y._initReady=Y.ready,Y.ready=$t);var ee=[];function Ce(){return h.resolve()}for(var Ie=0;Ie<ae.forages.length;Ie++){var Oe=ae.forages[Ie];Oe!==Y&&ee.push(Oe._initReady().catch(Ce))}var Re=ae.forages.slice(0);return h.all(ee).then(function(){return j.db=ae.db,Le(j)}).then(function(De){return j.db=De,Ge(j,Y._defaultConfig.version)?Ve(j):De}).then(function(De){j.db=ae.db=De,Y._dbInfo=j;for(var Xe=0;Xe<Re.length;Xe++){var Ct=Re[Xe];Ct!==Y&&(Ct._dbInfo.db=j.db,Ct._dbInfo.version=j.version)}})}function yt(N,Y){var j=this;N=S(N);var ne=new h(function(ae,ee){j.ready().then(function(){bt(j._dbInfo,T,function(Ce,Ie){if(Ce)return ee(Ce);try{var Oe=Ie.objectStore(j._dbInfo.storeName),Re=Oe.get(N);Re.onsuccess=function(){var De=Re.result;De===void 0&&(De=null),it(De)&&(De=Be(De)),ae(De)},Re.onerror=function(){ee(Re.error)}}catch(De){ee(De)}})}).catch(ee)});return v(ne,Y),ne}function ft(N,Y){var j=this,ne=new h(function(ae,ee){j.ready().then(function(){bt(j._dbInfo,T,function(Ce,Ie){if(Ce)return ee(Ce);try{var Oe=Ie.objectStore(j._dbInfo.storeName),Re=Oe.openCursor(),De=1;Re.onsuccess=function(){var Xe=Re.result;if(Xe){var Ct=Xe.value;it(Ct)&&(Ct=Be(Ct));var jt=N(Ct,Xe.key,De++);jt!==void 0?ae(jt):Xe.continue()}else ae()},Re.onerror=function(){ee(Re.error)}}catch(Xe){ee(Xe)}})}).catch(ee)});return v(ne,Y),ne}function qt(N,Y,j){var ne=this;N=S(N);var ae=new h(function(ee,Ce){var Ie;ne.ready().then(function(){return Ie=ne._dbInfo,L.call(Y)==="[object Blob]"?x(Ie.db).then(function(Oe){return Oe?Y:We(Y)}):Y}).then(function(Oe){bt(ne._dbInfo,R,function(Re,De){if(Re)return Ce(Re);try{var Xe=De.objectStore(ne._dbInfo.storeName);Oe===null&&(Oe=void 0);var Ct=Xe.put(Oe,N);De.oncomplete=function(){Oe===void 0&&(Oe=null),ee(Oe)},De.onabort=De.onerror=function(){var jt=Ct.error?Ct.error:Ct.transaction.error;Ce(jt)}}catch(jt){Ce(jt)}})}).catch(Ce)});return v(ae,j),ae}function ye(N,Y){var j=this;N=S(N);var ne=new h(function(ae,ee){j.ready().then(function(){bt(j._dbInfo,R,function(Ce,Ie){if(Ce)return ee(Ce);try{var Oe=Ie.objectStore(j._dbInfo.storeName),Re=Oe.delete(N);Ie.oncomplete=function(){ae()},Ie.onerror=function(){ee(Re.error)},Ie.onabort=function(){var De=Re.error?Re.error:Re.transaction.error;ee(De)}}catch(De){ee(De)}})}).catch(ee)});return v(ne,Y),ne}function Me(N){var Y=this,j=new h(function(ne,ae){Y.ready().then(function(){bt(Y._dbInfo,R,function(ee,Ce){if(ee)return ae(ee);try{var Ie=Ce.objectStore(Y._dbInfo.storeName),Oe=Ie.clear();Ce.oncomplete=function(){ne()},Ce.onabort=Ce.onerror=function(){var Re=Oe.error?Oe.error:Oe.transaction.error;ae(Re)}}catch(Re){ae(Re)}})}).catch(ae)});return v(j,N),j}function Fe(N){var Y=this,j=new h(function(ne,ae){Y.ready().then(function(){bt(Y._dbInfo,T,function(ee,Ce){if(ee)return ae(ee);try{var Ie=Ce.objectStore(Y._dbInfo.storeName),Oe=Ie.count();Oe.onsuccess=function(){ne(Oe.result)},Oe.onerror=function(){ae(Oe.error)}}catch(Re){ae(Re)}})}).catch(ae)});return v(j,N),j}function Ue(N,Y){var j=this,ne=new h(function(ae,ee){if(N<0){ae(null);return}j.ready().then(function(){bt(j._dbInfo,T,function(Ce,Ie){if(Ce)return ee(Ce);try{var Oe=Ie.objectStore(j._dbInfo.storeName),Re=!1,De=Oe.openKeyCursor();De.onsuccess=function(){var Xe=De.result;if(!Xe){ae(null);return}N===0||Re?ae(Xe.key):(Re=!0,Xe.advance(N))},De.onerror=function(){ee(De.error)}}catch(Xe){ee(Xe)}})}).catch(ee)});return v(ne,Y),ne}function pt(N){var Y=this,j=new h(function(ne,ae){Y.ready().then(function(){bt(Y._dbInfo,T,function(ee,Ce){if(ee)return ae(ee);try{var Ie=Ce.objectStore(Y._dbInfo.storeName),Oe=Ie.openKeyCursor(),Re=[];Oe.onsuccess=function(){var De=Oe.result;if(!De){ne(Re);return}Re.push(De.key),De.continue()},Oe.onerror=function(){ae(Oe.error)}}catch(De){ae(De)}})}).catch(ae)});return v(j,N),j}function H(N,Y){Y=k.apply(this,arguments);var j=this.config();N=typeof N!="function"&&N||{},N.name||(N.name=N.name||j.name,N.storeName=N.storeName||j.storeName);var ne=this,ae;if(!N.name)ae=h.reject("Invalid arguments");else{var ee=N.name===j.name&&ne._dbInfo.db,Ce=ee?h.resolve(ne._dbInfo.db):Le(N).then(function(Ie){var Oe=$[N.name],Re=Oe.forages;Oe.db=Ie;for(var De=0;De<Re.length;De++)Re[De]._dbInfo.db=Ie;return Ie});N.storeName?ae=Ce.then(function(Ie){if(Ie.objectStoreNames.contains(N.storeName)){var Oe=Ie.version+1;oe(N);var Re=$[N.name],De=Re.forages;Ie.close();for(var Xe=0;Xe<De.length;Xe++){var Ct=De[Xe];Ct._dbInfo.db=null,Ct._dbInfo.version=Oe}var jt=new h(function(Bt,ln){var Kt=c.open(N.name,Oe);Kt.onerror=function(Xn){var Mo=Kt.result;Mo.close(),ln(Xn)},Kt.onupgradeneeded=function(){var Xn=Kt.result;Xn.deleteObjectStore(N.storeName)},Kt.onsuccess=function(){var Xn=Kt.result;Xn.close(),Bt(Xn)}});return jt.then(function(Bt){Re.db=Bt;for(var ln=0;ln<De.length;ln++){var Kt=De[ln];Kt._dbInfo.db=Bt,V(Kt._dbInfo)}}).catch(function(Bt){throw(ce(N,Bt)||h.resolve()).catch(function(){}),Bt})}}):ae=Ce.then(function(Ie){oe(N);var Oe=$[N.name],Re=Oe.forages;Ie.close();for(var De=0;De<Re.length;De++){var Xe=Re[De];Xe._dbInfo.db=null}var Ct=new h(function(jt,Bt){var ln=c.deleteDatabase(N.name);ln.onerror=function(){var Kt=ln.result;Kt&&Kt.close(),Bt(ln.error)},ln.onblocked=function(){console.warn('dropInstance blocked for database "'+N.name+'" until all open connections are closed')},ln.onsuccess=function(){var Kt=ln.result;Kt&&Kt.close(),jt(Kt)}});return Ct.then(function(jt){Oe.db=jt;for(var Bt=0;Bt<Re.length;Bt++){var ln=Re[Bt];V(ln._dbInfo)}}).catch(function(jt){throw(ce(N,jt)||h.resolve()).catch(function(){}),jt})})}return v(ae,Y),ae}var W={_driver:"asyncStorage",_initStorage:nt,_support:d(),iterate:ft,getItem:yt,setItem:qt,removeItem:ye,clear:Me,length:Fe,key:Ue,keys:pt,dropInstance:H};function Q(){return typeof openDatabase=="function"}var pe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",we="~~local_forage_type~",_e=/^~~local_forage_type~([^~]+)~/,U="__lfsc__:",B=U.length,te="arbf",ue="blob",je="si08",ke="ui08",se="uic8",me="si16",xe="si32",rt="ur16",ut="ui32",sn="fl32",Vt="fl64",Tn=B+te.length,In=Object.prototype.toString;function ws(N){var Y=N.length*.75,j=N.length,ne,ae=0,ee,Ce,Ie,Oe;N[N.length-1]==="="&&(Y--,N[N.length-2]==="="&&Y--);var Re=new ArrayBuffer(Y),De=new Uint8Array(Re);for(ne=0;ne<j;ne+=4)ee=pe.indexOf(N[ne]),Ce=pe.indexOf(N[ne+1]),Ie=pe.indexOf(N[ne+2]),Oe=pe.indexOf(N[ne+3]),De[ae++]=ee<<2|Ce>>4,De[ae++]=(Ce&15)<<4|Ie>>2,De[ae++]=(Ie&3)<<6|Oe&63;return Re}function Ys(N){var Y=new Uint8Array(N),j="",ne;for(ne=0;ne<Y.length;ne+=3)j+=pe[Y[ne]>>2],j+=pe[(Y[ne]&3)<<4|Y[ne+1]>>4],j+=pe[(Y[ne+1]&15)<<2|Y[ne+2]>>6],j+=pe[Y[ne+2]&63];return Y.length%3===2?j=j.substring(0,j.length-1)+"=":Y.length%3===1&&(j=j.substring(0,j.length-2)+"=="),j}function an(N,Y){var j="";if(N&&(j=In.call(N)),N&&(j==="[object ArrayBuffer]"||N.buffer&&In.call(N.buffer)==="[object ArrayBuffer]")){var ne,ae=U;N instanceof ArrayBuffer?(ne=N,ae+=te):(ne=N.buffer,j==="[object Int8Array]"?ae+=je:j==="[object Uint8Array]"?ae+=ke:j==="[object Uint8ClampedArray]"?ae+=se:j==="[object Int16Array]"?ae+=me:j==="[object Uint16Array]"?ae+=rt:j==="[object Int32Array]"?ae+=xe:j==="[object Uint32Array]"?ae+=ut:j==="[object Float32Array]"?ae+=sn:j==="[object Float64Array]"?ae+=Vt:Y(new Error("Failed to get type for BinaryArray"))),Y(ae+Ys(ne))}else if(j==="[object Blob]"){var ee=new FileReader;ee.onload=function(){var Ce=we+N.type+"~"+Ys(this.result);Y(U+ue+Ce)},ee.readAsArrayBuffer(N)}else try{Y(JSON.stringify(N))}catch(Ce){console.error("Couldn't convert value into a JSON string: ",N),Y(null,Ce)}}function Pn(N){if(N.substring(0,B)!==U)return JSON.parse(N);var Y=N.substring(Tn),j=N.substring(B,Tn),ne;if(j===ue&&_e.test(Y)){var ae=Y.match(_e);ne=ae[1],Y=Y.substring(ae[0].length)}var ee=ws(Y);switch(j){case te:return ee;case ue:return f([ee],{type:ne});case je:return new Int8Array(ee);case ke:return new Uint8Array(ee);case se:return new Uint8ClampedArray(ee);case me:return new Int16Array(ee);case rt:return new Uint16Array(ee);case xe:return new Int32Array(ee);case ut:return new Uint32Array(ee);case sn:return new Float32Array(ee);case Vt:return new Float64Array(ee);default:throw new Error("Unkown type: "+j)}}var Xs={serialize:an,deserialize:Pn,stringToBuffer:ws,bufferToString:Ys};function Ui(N,Y,j,ne){N.executeSql("CREATE TABLE IF NOT EXISTS "+Y.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],j,ne)}function Hl(N){var Y=this,j={db:null};if(N)for(var ne in N)j[ne]=typeof N[ne]!="string"?N[ne].toString():N[ne];var ae=new h(function(ee,Ce){try{j.db=openDatabase(j.name,String(j.version),j.description,j.size)}catch(Ie){return Ce(Ie)}j.db.transaction(function(Ie){Ui(Ie,j,function(){Y._dbInfo=j,ee()},function(Oe,Re){Ce(Re)})},Ce)});return j.serializer=Xs,ae}function Os(N,Y,j,ne,ae,ee){N.executeSql(j,ne,ae,function(Ce,Ie){Ie.code===Ie.SYNTAX_ERR?Ce.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Y.storeName],function(Oe,Re){Re.rows.length?ee(Oe,Ie):Ui(Oe,Y,function(){Oe.executeSql(j,ne,ae,ee)},ee)},ee):ee(Ce,Ie)},ee)}function Lo(N,Y){var j=this;N=S(N);var ne=new h(function(ae,ee){j.ready().then(function(){var Ce=j._dbInfo;Ce.db.transaction(function(Ie){Os(Ie,Ce,"SELECT * FROM "+Ce.storeName+" WHERE key = ? LIMIT 1",[N],function(Oe,Re){var De=Re.rows.length?Re.rows.item(0).value:null;De&&(De=Ce.serializer.deserialize(De)),ae(De)},function(Oe,Re){ee(Re)})})}).catch(ee)});return v(ne,Y),ne}function Oa(N,Y){var j=this,ne=new h(function(ae,ee){j.ready().then(function(){var Ce=j._dbInfo;Ce.db.transaction(function(Ie){Os(Ie,Ce,"SELECT * FROM "+Ce.storeName,[],function(Oe,Re){for(var De=Re.rows,Xe=De.length,Ct=0;Ct<Xe;Ct++){var jt=De.item(Ct),Bt=jt.value;if(Bt&&(Bt=Ce.serializer.deserialize(Bt)),Bt=N(Bt,jt.key,Ct+1),Bt!==void 0){ae(Bt);return}}ae()},function(Oe,Re){ee(Re)})})}).catch(ee)});return v(ne,Y),ne}function Js(N,Y,j,ne){var ae=this;N=S(N);var ee=new h(function(Ce,Ie){ae.ready().then(function(){Y===void 0&&(Y=null);var Oe=Y,Re=ae._dbInfo;Re.serializer.serialize(Y,function(De,Xe){Xe?Ie(Xe):Re.db.transaction(function(Ct){Os(Ct,Re,"INSERT OR REPLACE INTO "+Re.storeName+" (key, value) VALUES (?, ?)",[N,De],function(){Ce(Oe)},function(jt,Bt){Ie(Bt)})},function(Ct){if(Ct.code===Ct.QUOTA_ERR){if(ne>0){Ce(Js.apply(ae,[N,Oe,j,ne-1]));return}Ie(Ct)}})})}).catch(Ie)});return v(ee,j),ee}function Vl(N,Y,j){return Js.apply(this,[N,Y,j,1])}function Wl(N,Y){var j=this;N=S(N);var ne=new h(function(ae,ee){j.ready().then(function(){var Ce=j._dbInfo;Ce.db.transaction(function(Ie){Os(Ie,Ce,"DELETE FROM "+Ce.storeName+" WHERE key = ?",[N],function(){ae()},function(Oe,Re){ee(Re)})})}).catch(ee)});return v(ne,Y),ne}function Gl(N){var Y=this,j=new h(function(ne,ae){Y.ready().then(function(){var ee=Y._dbInfo;ee.db.transaction(function(Ce){Os(Ce,ee,"DELETE FROM "+ee.storeName,[],function(){ne()},function(Ie,Oe){ae(Oe)})})}).catch(ae)});return v(j,N),j}function Ra(N){var Y=this,j=new h(function(ne,ae){Y.ready().then(function(){var ee=Y._dbInfo;ee.db.transaction(function(Ce){Os(Ce,ee,"SELECT COUNT(key) as c FROM "+ee.storeName,[],function(Ie,Oe){var Re=Oe.rows.item(0).c;ne(Re)},function(Ie,Oe){ae(Oe)})})}).catch(ae)});return v(j,N),j}function Kl(N,Y){var j=this,ne=new h(function(ae,ee){j.ready().then(function(){var Ce=j._dbInfo;Ce.db.transaction(function(Ie){Os(Ie,Ce,"SELECT key FROM "+Ce.storeName+" WHERE id = ? LIMIT 1",[N+1],function(Oe,Re){var De=Re.rows.length?Re.rows.item(0).key:null;ae(De)},function(Oe,Re){ee(Re)})})}).catch(ee)});return v(ne,Y),ne}function Rs(N){var Y=this,j=new h(function(ne,ae){Y.ready().then(function(){var ee=Y._dbInfo;ee.db.transaction(function(Ce){Os(Ce,ee,"SELECT key FROM "+ee.storeName,[],function(Ie,Oe){for(var Re=[],De=0;De<Oe.rows.length;De++)Re.push(Oe.rows.item(De).key);ne(Re)},function(Ie,Oe){ae(Oe)})})}).catch(ae)});return v(j,N),j}function xl(N){return new h(function(Y,j){N.transaction(function(ne){ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ae,ee){for(var Ce=[],Ie=0;Ie<ee.rows.length;Ie++)Ce.push(ee.rows.item(Ie).name);Y({db:N,storeNames:Ce})},function(ae,ee){j(ee)})},function(ne){j(ne)})})}function ji(N,Y){Y=k.apply(this,arguments);var j=this.config();N=typeof N!="function"&&N||{},N.name||(N.name=N.name||j.name,N.storeName=N.storeName||j.storeName);var ne=this,ae;return N.name?ae=new h(function(ee){var Ce;N.name===j.name?Ce=ne._dbInfo.db:Ce=openDatabase(N.name,"","",0),N.storeName?ee({db:Ce,storeNames:[N.storeName]}):ee(xl(Ce))}).then(function(ee){return new h(function(Ce,Ie){ee.db.transaction(function(Oe){function Re(jt){return new h(function(Bt,ln){Oe.executeSql("DROP TABLE IF EXISTS "+jt,[],function(){Bt()},function(Kt,Xn){ln(Xn)})})}for(var De=[],Xe=0,Ct=ee.storeNames.length;Xe<Ct;Xe++)De.push(Re(ee.storeNames[Xe]));h.all(De).then(function(){Ce()}).catch(function(jt){Ie(jt)})},function(Oe){Ie(Oe)})})}):ae=h.reject("Invalid arguments"),v(ae,Y),ae}var Yl={_driver:"webSQLStorage",_initStorage:Hl,_support:Q(),iterate:Oa,getItem:Lo,setItem:Vl,removeItem:Wl,clear:Gl,length:Ra,key:Kl,keys:Rs,dropInstance:ji};function Bi(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ma(N,Y){var j=N.name+"/";return N.storeName!==Y.storeName&&(j+=N.storeName+"/"),j}function Oo(){var N="_localforage_support_test";try{return localStorage.setItem(N,!0),localStorage.removeItem(N),!1}catch{return!0}}function Xl(){return!Oo()||localStorage.length>0}function Jl(N){var Y=this,j={};if(N)for(var ne in N)j[ne]=N[ne];return j.keyPrefix=Ma(N,Y._defaultConfig),Xl()?(Y._dbInfo=j,j.serializer=Xs,h.resolve()):h.reject()}function Zl(N){var Y=this,j=Y.ready().then(function(){for(var ne=Y._dbInfo.keyPrefix,ae=localStorage.length-1;ae>=0;ae--){var ee=localStorage.key(ae);ee.indexOf(ne)===0&&localStorage.removeItem(ee)}});return v(j,N),j}function Ql(N,Y){var j=this;N=S(N);var ne=j.ready().then(function(){var ae=j._dbInfo,ee=localStorage.getItem(ae.keyPrefix+N);return ee&&(ee=ae.serializer.deserialize(ee)),ee});return v(ne,Y),ne}function ec(N,Y){var j=this,ne=j.ready().then(function(){for(var ae=j._dbInfo,ee=ae.keyPrefix,Ce=ee.length,Ie=localStorage.length,Oe=1,Re=0;Re<Ie;Re++){var De=localStorage.key(Re);if(De.indexOf(ee)===0){var Xe=localStorage.getItem(De);if(Xe&&(Xe=ae.serializer.deserialize(Xe)),Xe=N(Xe,De.substring(Ce),Oe++),Xe!==void 0)return Xe}}});return v(ne,Y),ne}function Ro(N,Y){var j=this,ne=j.ready().then(function(){var ae=j._dbInfo,ee;try{ee=localStorage.key(N)}catch{ee=null}return ee&&(ee=ee.substring(ae.keyPrefix.length)),ee});return v(ne,Y),ne}function Na(N){var Y=this,j=Y.ready().then(function(){for(var ne=Y._dbInfo,ae=localStorage.length,ee=[],Ce=0;Ce<ae;Ce++){var Ie=localStorage.key(Ce);Ie.indexOf(ne.keyPrefix)===0&&ee.push(Ie.substring(ne.keyPrefix.length))}return ee});return v(j,N),j}function tc(N){var Y=this,j=Y.keys().then(function(ne){return ne.length});return v(j,N),j}function nc(N,Y){var j=this;N=S(N);var ne=j.ready().then(function(){var ae=j._dbInfo;localStorage.removeItem(ae.keyPrefix+N)});return v(ne,Y),ne}function sc(N,Y,j){var ne=this;N=S(N);var ae=ne.ready().then(function(){Y===void 0&&(Y=null);var ee=Y;return new h(function(Ce,Ie){var Oe=ne._dbInfo;Oe.serializer.serialize(Y,function(Re,De){if(De)Ie(De);else try{localStorage.setItem(Oe.keyPrefix+N,Re),Ce(ee)}catch(Xe){(Xe.name==="QuotaExceededError"||Xe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ie(Xe),Ie(Xe)}})})});return v(ae,j),ae}function oc(N,Y){if(Y=k.apply(this,arguments),N=typeof N!="function"&&N||{},!N.name){var j=this.config();N.name=N.name||j.name,N.storeName=N.storeName||j.storeName}var ne=this,ae;return N.name?ae=new h(function(ee){N.storeName?ee(Ma(N,ne._defaultConfig)):ee(N.name+"/")}).then(function(ee){for(var Ce=localStorage.length-1;Ce>=0;Ce--){var Ie=localStorage.key(Ce);Ie.indexOf(ee)===0&&localStorage.removeItem(Ie)}}):ae=h.reject("Invalid arguments"),v(ae,Y),ae}var rc={_driver:"localStorageWrapper",_initStorage:Jl,_support:Bi(),iterate:ec,getItem:Ql,setItem:sc,removeItem:nc,clear:Zl,length:tc,key:Ro,keys:Na,dropInstance:oc},zi=function(Y,j){return Y===j||typeof Y=="number"&&typeof j=="number"&&isNaN(Y)&&isNaN(j)},zr=function(Y,j){for(var ne=Y.length,ae=0;ae<ne;){if(zi(Y[ae],j))return!0;ae++}return!1},Qo=Array.isArray||function(N){return Object.prototype.toString.call(N)==="[object Array]"},Ss={},Fa={},Ms={INDEXEDDB:W,WEBSQL:Yl,LOCALSTORAGE:rc},Da=[Ms.INDEXEDDB._driver,Ms.WEBSQL._driver,Ms.LOCALSTORAGE._driver],er=["dropInstance"],qr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(er),Ua={description:"",driver:Da.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ja(N,Y){N[Y]=function(){var j=arguments;return N.ready().then(function(){return N[Y].apply(N,j)})}}function qi(){for(var N=1;N<arguments.length;N++){var Y=arguments[N];if(Y)for(var j in Y)Y.hasOwnProperty(j)&&(Qo(Y[j])?arguments[0][j]=Y[j].slice():arguments[0][j]=Y[j])}return arguments[0]}var ic=function(){function N(Y){i(this,N);for(var j in Ms)if(Ms.hasOwnProperty(j)){var ne=Ms[j],ae=ne._driver;this[j]=ae,Ss[ae]||this.defineDriver(ne)}this._defaultConfig=qi({},Ua),this._config=qi({},this._defaultConfig,Y),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return N.prototype.config=function(j){if((typeof j>"u"?"undefined":r(j))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ne in j){if(ne==="storeName"&&(j[ne]=j[ne].replace(/\W/g,"_")),ne==="version"&&typeof j[ne]!="number")return new Error("Database version must be a number.");this._config[ne]=j[ne]}return"driver"in j&&j.driver?this.setDriver(this._config.driver):!0}else return typeof j=="string"?this._config[j]:this._config},N.prototype.defineDriver=function(j,ne,ae){var ee=new h(function(Ce,Ie){try{var Oe=j._driver,Re=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!j._driver){Ie(Re);return}for(var De=qr.concat("_initStorage"),Xe=0,Ct=De.length;Xe<Ct;Xe++){var jt=De[Xe],Bt=!zr(er,jt);if((Bt||j[jt])&&typeof j[jt]!="function"){Ie(Re);return}}var ln=function(){for(var Mo=function(nr){return function(){var Hi=new Error("Method "+nr+" is not implemented by the current driver"),Vr=h.reject(Hi);return v(Vr,arguments[arguments.length-1]),Vr}},tr=0,Ba=er.length;tr<Ba;tr++){var Hr=er[tr];j[Hr]||(j[Hr]=Mo(Hr))}};ln();var Kt=function(Mo){Ss[Oe]&&console.info("Redefining LocalForage driver: "+Oe),Ss[Oe]=j,Fa[Oe]=Mo,Ce()};"_support"in j?j._support&&typeof j._support=="function"?j._support().then(Kt,Ie):Kt(!!j._support):Kt(!0)}catch(Xn){Ie(Xn)}});return _(ee,ne,ae),ee},N.prototype.driver=function(){return this._driver||null},N.prototype.getDriver=function(j,ne,ae){var ee=Ss[j]?h.resolve(Ss[j]):h.reject(new Error("Driver not found."));return _(ee,ne,ae),ee},N.prototype.getSerializer=function(j){var ne=h.resolve(Xs);return _(ne,j),ne},N.prototype.ready=function(j){var ne=this,ae=ne._driverSet.then(function(){return ne._ready===null&&(ne._ready=ne._initDriver()),ne._ready});return _(ae,j,j),ae},N.prototype.setDriver=function(j,ne,ae){var ee=this;Qo(j)||(j=[j]);var Ce=this._getSupportedDrivers(j);function Ie(){ee._config.driver=ee.driver()}function Oe(Xe){return ee._extend(Xe),Ie(),ee._ready=ee._initStorage(ee._config),ee._ready}function Re(Xe){return function(){var Ct=0;function jt(){for(;Ct<Xe.length;){var Bt=Xe[Ct];return Ct++,ee._dbInfo=null,ee._ready=null,ee.getDriver(Bt).then(Oe).catch(jt)}Ie();var ln=new Error("No available storage method found.");return ee._driverSet=h.reject(ln),ee._driverSet}return jt()}}var De=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=De.then(function(){var Xe=Ce[0];return ee._dbInfo=null,ee._ready=null,ee.getDriver(Xe).then(function(Ct){ee._driver=Ct._driver,Ie(),ee._wrapLibraryMethodsWithReady(),ee._initDriver=Re(Ce)})}).catch(function(){Ie();var Xe=new Error("No available storage method found.");return ee._driverSet=h.reject(Xe),ee._driverSet}),_(this._driverSet,ne,ae),this._driverSet},N.prototype.supports=function(j){return!!Fa[j]},N.prototype._extend=function(j){qi(this,j)},N.prototype._getSupportedDrivers=function(j){for(var ne=[],ae=0,ee=j.length;ae<ee;ae++){var Ce=j[ae];this.supports(Ce)&&ne.push(Ce)}return ne},N.prototype._wrapLibraryMethodsWithReady=function(){for(var j=0,ne=qr.length;j<ne;j++)ja(this,qr[j])},N.prototype.createInstance=function(j){return new N(j)},N}(),ac=new ic;s.exports=ac},{3:3}]},{},[4])(4)})}(Zm)),Zm.exports}var eW=QV();const a_=Gs(eW),h8=!!document.adoptedStyleSheets,Hf=e=>{if(h8)return{el:null,sheet:new CSSStyleSheet,rules:[]};const t=document.getElementById(e);for(let n=t.sheet.cssRules.length-1;n>=0;--n)t.sheet.deleteRule(n);return{el:t,sheet:t.sheet,rules:[]}},p8="pleroma-eager-styles",m8="pleroma-lazy-styles",Tb=e=>{h8&&(document.adoptedStyleSheets=e.map(t=>t.sheet))},tW=(e,t,n)=>{const{onNewRule:s=()=>{},onLazyFinished:o=()=>{},onEagerFinished:r=()=>{}}=t,i=XV({inputRuleset:e,debug:n});DS(i.eager,n).forEach(f=>{s(f,!1)}),r();let a=0;const c=Z.chunk(i.lazy,200),d=()=>{const f=c[a];Promise.all(f.map(h=>h())).then(h=>{DS(h.filter(v=>v),n).forEach(v=>{s(v,!0)}),a+=1,a<c.length?setTimeout(d,0):o()})};return{lazyProcessFunc:d}},nW=async()=>{console.info("Trying to load compiled theme data from cache");const e=await a_.getItem("pleromafe-theme-cache");if(!e)return null;try{if(e.engineChecksum===f8()){const t=Hf(p8),n=Hf(m8);return e.data[0].forEach(s=>t.sheet.insertRule(s,"index-max")),e.data[1].forEach(s=>n.sheet.insertRule(s,"index-max")),Tb([t,n]),console.info("Loaded theme from cache"),!0}else console.warn("Engine checksum doesn't match, cache not usable, clearing"),localStorage.removeItem("pleroma-fe-theme-cache")}catch(t){return console.error("Failed to load theme cache:",t),!1}},sW=(e,t=()=>{},n=()=>{},s)=>{const o=Hf(p8),r=Hf(m8),i=(c,d)=>{try{try{c.sheet.insertRule(d,"index-max"),c.rules.push(d)}catch{c.sheet.insertRule(d,c.sheet.cssRules.length),c.rules.push(d)}}catch(f){console.warn("Can't insert rule due to lack of support",f,d);try{let h=d.replace(/backdrop-filter:[^;]+;/g,"").replace(/var\(--shadowFilter\)[^;]*;/g,"");h!==d&&(c.sheet.insertRule(h,c.sheet.cssRules.length),c.rules.push(h))}catch(h){console.error("Failed to insert even sanitized rule",h)}}},{lazyProcessFunc:a}=tW(e,{onNewRule(c,d){i(d?r:o,c)},onEagerFinished(){Tb([o]),t(),console.info("Eager part of theme finished, waiting for lazy part to finish to store cache")},onLazyFinished(){Tb([o,r]);const c={engineChecksum:f8(),data:[o.rules,r.rules]};n(c),a_.setItem("pleromafe-theme-cache",c),console.info("Theme cache stored")}},s);setTimeout(a,0)},g8=({sidebarColumnWidth:e,contentColumnWidth:t,notifsColumnWidth:n,themeEditorMinWidth:s,emojiReactionsScale:o,emojiSize:r,navbarSize:i,panelHeaderSize:a,textSize:c,forcedRoundness:d})=>{const f={sidebarColumnWidth:e,contentColumnWidth:t,notifsColumnWidth:n,themeEditorMinWidth:parseInt(s)===0?"fit-content":s,emojiReactionsScale:o,emojiSize:r,navbarSize:i,panelHeaderSize:a,textSize:c};switch(d){case"disable":break;case"0":f.forcedRoundness="0";break;case"1":f.forcedRoundness="1px";break;case"2":f.forcedRoundness="0.4rem";break}return f},oW=g8(eu),Ab=e=>{var i;const t=g8(e);if(t===oW)return;const n=document.head,s=Object.entries(t).filter(([,a])=>a).map(([a,c])=>`--${a}: ${c}`).join(";");(i=document.getElementById("style-config"))==null||i.remove();const o=document.createElement("style");o.id="style-config",n.appendChild(o);const r=o.sheet;r.toString(),r.insertRule(`:root { ${s} }`,"index-max"),Object.prototype.hasOwnProperty.call(t,"forcedRoundness")&&r.insertRule(` *:not(.preview-block) {
        --roundness: var(--forcedRoundness) !important;
    }`,"index-max")},Qm=async(e,t=JSON.parse)=>{const n="no-store",s=e.replace(/\.(\w+)$/,".custom.$1");let o,r;const i=c=>Object.entries(c).map(([d,f])=>typeof f=="object"?[d,()=>Promise.resolve(f)]:typeof f=="string"?[d,()=>window.fetch(f,{cache:n}).then(h=>h.text()).then(h=>t(h)).catch(h=>(console.error(h),null))]:(console.error(`Unknown resource format - ${d} is a ${typeof f}`),[d,null]));try{const d=await(await window.fetch(e,{cache:n})).json();o=i(d)}catch{o=[],console.warn(`Builtin resources at ${e} unavailable`)}try{const d=await(await window.fetch(s,{cache:n})).json();r=i(d)}catch{r=[],console.warn(`Custom resources at ${s} unavailable`)}const a=[...r,...o];return a.length===0?Promise.reject(new Error(`Resource at ${e} and ${s} completely unavailable. Panicking`)):Promise.resolve(Object.fromEntries(a))},v8=["ar","ca","cs","de","eo","en","es","et","eu","fi","fr","ga","he","hu","it","ja","ja_easy","ko","nan-TW","nb","nl","oc","pl","pdc","pt","ro","ru","sk","te","uk","zh","zh_Hant"],rW={ja:"ja_pedantic"},iW=e=>rW[e]||e,l_=e=>{const t=Array.isArray(e)?e:[e];return t.includes("en")?t:t.concat(["en"])},b8={mrf:{federation:"Federation",keyword:{keyword_policies:"Keyword policies",ftl_removal:'Removal from "The Whole Known Network" Timeline',reject:"Reject",replace:"Replace",is_replaced_by:""},mrf_policies:"Enabled MRF policies",mrf_policies_desc:"MRF policies manipulate the federation behaviour of the instance.  The following policies are enabled:",simple:{simple_policies:"Instance-specific policies",instance:"Instance",reason:"Reason",not_applicable:"N/A",accept:"Accept",accept_desc:"This instance only accepts messages from the following instances:",reject:"Reject",reject_desc:"This instance will not accept messages from the following instances:",quarantine:"Quarantine",quarantine_desc:"This instance will send only public posts to the following instances:",ftl_removal:'Removal from "Known Network" Timeline',ftl_removal_desc:'This instance removes these instances from "Known Network" timeline:',media_removal:"Media Removal",media_removal_desc:"This instance removes media from posts on the following instances:",media_nsfw:"Media force-set as sensitive",media_nsfw_desc:"This instance forces media to be set sensitive in posts on the following instances:"}},staff:"Staff",terms:"Terms of Service"},_8={page_header:"Announcements",title:"Announcement",mark_as_read_action:"Mark as read",post_form_header:"Post announcement",post_placeholder:"Type your announcement content here...",post_action:"Post",post_error:"Error: {error}",close_error:"Close",delete_action:"Delete",start_time_prompt:"Start time: ",end_time_prompt:"End time: ",all_day_prompt:"This is an all-day event",published_time_display:"Published at {time}",start_time_display:"Starts at {time}",end_time_display:"Ends at {time}",edit_action:"Edit",submit_edit_action:"Submit",cancel_edit_action:"Cancel",inactive_message:"This announcement is inactive"},y8={title:"Shoutbox"},w8={mute:"Mute",mute_progress:"Muting",unmute:"Unmute",unmute_progress:"Unmuting"},S8={export:"Export",processing:"Processing, you'll soon be asked to download your file"},k8={shout:"Shoutbox",pleroma_chat_messages:"Pleroma Chat",gopher:"Gopher",media_proxy:"Media proxy",scope_options:"Scope options",text_limit:"Text limit",title:"Features",who_to_follow:"Who to follow",upload_limit:"Upload limit"},$8={error_fetching_user:"Error fetching user",find_user:"Find user"},C8={apply:"Apply",submit:"Submit",more:"More",loading:"Loading",generic_error:"An error occured",generic_error_message:"An error occured: {0}",error_retry:"Please try again",retry:"Try again",optional:"optional",show_more:"Show more",show_less:"Show less",never_show_again:"Never show again",dismiss:"Dismiss",cancel:"Cancel",disable:"Disable",enable:"Enable",confirm:"Confirm",verify:"Verify",close:"Close",undo:"Undo",yes:"Yes",no:"No",peek:"Peek",scroll_to_top:"Scroll to top",role:{admin:"Admin",moderator:"Moderator"},unpin:"Unpin item",pin:"Pin item",flash_content:"Click to show Flash content using Ruffle (Experimental, may not work).",flash_security:"Note that this can be potentially dangerous since Flash content is still arbitrary code.",flash_fail:"Failed to load flash content, see console for details.",scope_in_timeline:{direct:"Direct",private:"Followers-only",public:"Public",unlisted:"Unlisted"}},T8={crop_picture:"Crop picture",save:"Save",save_without_cropping:"Save without cropping",cancel:"Cancel"},A8={submit:"Submit",success:"Imported successfully.",error:"An error occured while importing this file."},E8={login:"Log in",description:"Log in with OAuth",logout:"Log out",logout_confirm_title:"Logout confirmation",logout_confirm:"Do you really want to logout?",logout_confirm_accept_button:"Logout",logout_confirm_cancel_button:"Do not logout",password:"Password",placeholder:"e.g. lain",register:"Register",username:"Username",hint:"Log in to join the discussion",authentication_code:"Authentication code",enter_recovery_code:"Enter a recovery code",enter_two_factor_code:"Enter a two-factor code",recovery_code:"Recovery code",heading:{totp:"Two-factor authentication",recovery:"Two-factor recovery"}},I8={previous:"Previous",next:"Next",counter:"{current} / {total}",hide:"Close media viewer"},P8={about:"About",administration:"Administration",back:"Back",friend_requests:"Follow requests",mentions:"Mentions",interactions:"Interactions",dms:"Direct messages",public_tl:"Public timeline",timeline:"Timeline",home_timeline:"Home timeline",twkn:"Known Network",bookmarks:"Bookmarks",all_bookmarks:"All bookmarks",bookmark_folders:"Bookmark folders",user_search:"User Search",search:"Search",search_close:"Close search bar",who_to_follow:"Who to follow",preferences:"Preferences",timelines:"Timelines",chats:"Chats",lists:"Lists",edit_nav_mobile:"Customize navigation bar",edit_pinned:"Edit pinned items",edit_finish:"Done editing",mobile_sidebar:"Toggle mobile sidebar",mobile_notifications:"Open notifications (there are unread ones)",mobile_notifications_close:"Close notifications",mobile_notifications_mark_as_seen:"Mark all as seen",announcements:"Announcements",quotes:"Quotes",drafts:"Drafts"},L8={broken_favorite:"Unknown status, searching for it",error:"Error fetching notifications: {0}",favorited_you:"favorited your status",followed_you:"followed you",follow_request:"wants to follow you",load_older:"Load older notifications",notifications:"Notifications",read:"Read!",repeated_you:"repeated your status",no_more_notifications:"No more notifications",migrated_to:"migrated to",reacted_with:"reacted with {0}",submitted_report:"submitted a report",poll_ended:"poll has ended",unread_announcements:"{num} unread announcement | {num} unread announcements",unread_chats:"{num} unread chat | {num} unread chats",unread_follow_requests:"{num} new follow request | {num} new follow requests",configuration_tip:"You can customize what to display here in {theSettings}. {dismiss}",configuration_tip_settings:"the settings",configuration_tip_dismiss:"Do not show again",subscribed_status:"posted"},O8={add_poll:"Add poll",add_option:"Add option",option:"Option",votes:"votes",people_voted_count:"{count} person voted | {count} people voted",votes_count:"{count} vote | {count} votes",vote:"Vote",type:"Poll type",single_choice:"Single choice",multiple_choices:"Multiple choices",expiry:"Poll age",expires_at:"Poll ends {0}",expires_in:"Poll ends in {0}",expired:"Poll ended {0} ago",expired_at:"Poll ended {0}",not_enough_options:"Too few unique options in poll",non_anonymous:"Public poll",non_anonymous_title:"Other instances may display the options you voted for"},R8={stickers:"Stickers",emoji:"Emoji",keep_open:"Keep picker open",search_emoji:"Search for an emoji",add_emoji:"Insert emoji",custom:"Custom emoji",hide_custom_emoji:"Hide custom emojis",unpacked:"Unpacked emoji",unicode:"Unicode emoji",unicode_groups:{activities:"Activities","animals-and-nature":"Animals & Nature",flags:"Flags","food-and-drink":"Food & Drink",objects:"Objects","people-and-body":"People & Body","smileys-and-emotion":"Smileys & Emotion",symbols:"Symbols","travel-and-places":"Travel & Places"},load_all_hint:"Loaded first {saneAmount} emoji, loading all emoji may cause performance issues.",load_all:"Loading all {emojiAmount} emoji",regional_indicator:"Regional indicator {letter}"},M8={storage_unavailable:"Pleroma could not access browser storage. Your login or your local settings won't be saved and you might encounter unexpected issues. Try enabling cookies."},N8={favs_repeats:"Repeats and favorites",follows:"New follows",emoji_reactions:"Emoji Reactions",reports:"Reports",moves:"User migrates",load_older:"Load older interactions",statuses:"Subscriptions"},F8={edit_status:"Edit status",new_status:"Post new status",reply_option:"Reply to this status",quote_option:"Quote this status",account_not_locked_warning:"Your account is not {0}. Anyone can follow you to view your follower-only posts.",account_not_locked_warning_link:"locked",attachments_sensitive:"Mark attachments as sensitive",media_description:"Media description",content_type:{"text/plain":"Plain text","text/html":"HTML","text/markdown":"Markdown","text/bbcode":"BBCode"},content_type_selection:"Post format",content_warning:"Subject (optional)",default:"Just landed in L.A.",direct_warning_to_all:"This post will be visible to all the mentioned users.",direct_warning_to_first_only:"This post will only be visible to the mentioned users at the beginning of the message.",edit_remote_warning:"Other remote instances may not support editing and unable to receive the latest version of your post.",edit_unsupported_warning:"Pleroma does not support editing mentions or polls.",posting:"Posting",post:"Post",preview:"Preview",preview_empty:"Empty",empty_status_error:"Can't post an empty status with no files",media_description_error:"Failed to update media, try again",scope_notice:{public:"This post will be visible to everyone",private:"This post will be visible to your followers only",unlisted:"This post will not be visible in Public Timeline and The Whole Known Network"},scope_notice_dismiss:"Close this notice",scope:{direct:"Direct - post to mentioned users only",private:"Followers-only - post to followers only",public:"Public - post to public timelines",unlisted:"Unlisted - do not post to public timelines"},close_confirm_title:"Closing post form",close_confirm:"What do you want to do with your current writing?",close_confirm_save_button:"Save",close_confirm_discard_button:"Discard",close_confirm_continue_composing_button:"Continue composing",auto_save_nothing_new:"Nothing new to save.",auto_save_saved:"Saved.",auto_save_saving:"Saving...",save_to_drafts_button:"Save to drafts",save_to_drafts_and_close_button:"Save to drafts and close",more_post_actions:"More post actions..."},D8={bio_optional:"Bio (optional)",email:"Email",email_optional:"Email (optional)",fullname:"Display name",password_confirm:"Password confirmation",registration:"Registration",token:"Invite token",captcha:"CAPTCHA",new_captcha:"Click the image to get a new captcha",username_placeholder:"e.g. lain",fullname_placeholder:"e.g. Lain Iwakura",bio_placeholder:`e.g.
Hi, I'm Lain.
Im an anime girl living in suburban Japan. You may know me from the Wired.`,reason:"Reason to register",reason_placeholder:`This instance approves registrations manually.
Let the administration know why you want to register.`,register:"Register",validations:{username_required:"cannot be left blank",fullname_required:"cannot be left blank",email_required:"cannot be left blank",password_required:"cannot be left blank",password_confirmation_required:"cannot be left blank",password_confirmation_match:"should be the same as password",birthday_required:"cannot be left blank",birthday_min_age:"must be on or before {date}"},email_language:"In which language do you want to receive emails from the server?",birthday:"Birthday:",birthday_optional:"Birthday (optional):"},U8={remote_user_resolver:"Remote user resolver",searching_for:"Searching for",error:"Not found."},j8={reporter:"Reporter:",reported_user:"Reported user:",reported_statuses:"Reported statuses:",notes:"Notes:",state:"State:",state_open:"Open",state_closed:"Closed",state_resolved:"Resolved"},B8={select_all:"Select all"},z8=JSON.parse(`{"add_language":"Add fallback language","remove_language":"Remove","primary_language":"Primary language:","fallback_language":"Fallback language {index}:","actor_type":"This account is:","actor_type_description":"Marking your account as a group will make it automatically repeat statuses that mention it.","actor_type_Person":"a normal user","actor_type_Service":"a bot","actor_type_Group":"a group","mobile_center_dialog":"Vertically center dialogs on mobile","app_name":"App name","expert_mode":"Show advanced","save":"Save changes","security":"Security","setting_changed":"Setting is different from default","setting_server_side":"This setting is tied to your profile and affects all sessions and clients","enter_current_password_to_confirm":"Enter your current password to confirm your identity","post_look_feel":"Posts Look & Feel","mention_links":"Mention links","appearance":"Appearance","confirm_new_setting":"Confirm new setting?","confirm_new_question":"Does this look ok? Setting will be reverted in 10 seconds.","revert":"Revert","confirm":"Confirm","text_size":"Text and interface size","text_size_tip":"Use {0} for absolute values, {1} will scale with browser default text size.","text_size_tip2":"Values other than {0} might break some things and themes","emoji_size":"Emoji size","navbar_size":"Top bar size","panel_header_size":"Panel header size","visual_tweaks":"Minor visual tweaks","theme_debug":"Show what background theme engine assumes when dealing with transparancy (DEBUG)","scale_and_layout":"Interface scale and layout","enabled":"Enabled","filter":{"clutter":"Remove clutter","mute_filter":"Mute Filters","type":"Filter type","regexp":"RegExp","plain":"Simple","user":"User (Simple)","user_regexp":"User (RegExp)","hide":"Hide completely","name":"Name","value":"Value","expires":"Expires","expired":"Expired","copy":"Duplicate","save":"Save","delete":"Remove","new":"Create new","import":"Import","export":"Export","regexp_error":"Invalid Regular Expression","never_expires":"Never","total_count":"Total {count} custom filter|Total {count} custom filters","expired_count":"{count} expired filter|{count} expired filters","custom_filters":"Custom filters","purge_expired":"Remove expired filters","import_failure":"The selected file is not a supported Pleroma filter.","help":{"word":"Simple and RegExp filters test against post's content and subject.","user":"User filter matches full user handle (user{'@'}domain) in the following: author, reply-to and mentions","regexp":"Regex variants are more advanced and use {link} to match instead of simple substring search.","regexp_link":"Regular Expressions","regexp_url":"https://en.wikipedia.org/wiki/Regular_expression"}},"mfa":{"otp":"OTP","setup_otp":"Setup OTP","wait_pre_setup_otp":"presetting OTP","confirm_and_enable":"Confirm & enable OTP","title":"Two-factor Authentication","generate_new_recovery_codes":"Generate new recovery codes","warning_of_generate_new_codes":"When you generate new recovery codes, your old codes wont work anymore.","recovery_codes":"Recovery codes.","waiting_a_recovery_codes":"Receiving backup codes","recovery_codes_warning":"Write the codes down or save them somewhere secure - otherwise you won't see them again. If you lose access to your 2FA app and recovery codes you'll be locked out of your account.","authentication_methods":"Authentication methods","scan":{"title":"Scan","desc":"Using your two-factor app, scan this QR code or enter text key:","secret_code":"Key"},"verify":{"desc":"To enable two-factor authentication, enter the code from your two-factor app:"}},"units":{"time":{"m":"minutes","s":"seconds","h":"hours","d":"days"}},"lists_navigation":"Show lists in navigation","allow_following_move":"Allow auto-follow when following account moves","attachmentRadius":"Attachments","attachments":"Attachments","image_compression":"Compress images before uploading","always_use_jpeg":"Always convert images to JPEG format","avatar":"Avatar","avatarAltRadius":"Avatars (notifications)","avatarRadius":"Avatars","background":"Background","bio":"Bio","email_language":"Language for receiving emails from the server","block_export":"Block export","block_export_button":"Export your blocks to a csv file","block_import":"Block import","block_import_error":"Error importing blocks","blocks_imported":"Blocks imported! Processing them will take a while.","mute_export":"Mute export","mute_export_button":"Export your mutes to a csv file","mute_import":"Mute import","mute_import_error":"Error importing mutes","mutes_imported":"Mutes imported! Processing them will take a while.","import_mutes_from_a_csv_file":"Import mutes from a csv file","account_backup":"Account backup","account_backup_description":"This allows you to download an archive of your account information and your posts, but they cannot yet be imported into a Pleroma account.","account_backup_table_head":"Backup","download_backup":"Download","backup_not_ready":"This backup is not ready yet.","backup_running":"This backup is in progress, processed {number} record. | This backup is in progress, processed {number} records.","backup_failed":"This backup has failed.","remove_backup":"Remove","list_backups_error":"Error fetching backup list: {error}","add_backup":"Create a new backup","added_backup":"Added a new backup.","add_backup_error":"Error adding a new backup: {error}","blocks_tab":"Blocks","btnRadius":"Buttons","cBlue":"Blue (Reply, follow)","cGreen":"Green (Retweet)","cOrange":"Orange (Favorite)","cRed":"Red (Cancel)","change_email":"Change email","change_email_error":"There was an issue changing your email.","changed_email":"Email changed successfully!","change_password":"Change password","change_password_error":"There was an issue changing your password.","changed_password":"Password changed successfully!","chatMessageRadius":"Chat message","collapse_subject":"Collapse posts with subjects","composing":"Composing","confirm_new_password":"Confirm new password","current_password":"Current password","confirm_dialogs":"Ask for confirmation when","confirm_dialogs_repeat":"repeating a status","confirm_dialogs_unfollow":"unfollowing a user","confirm_dialogs_block":"blocking a user","confirm_dialogs_mute":"muting a user","confirm_dialogs_mute_domain":"muting domains","confirm_dialogs_mute_conversation":"muting conversations","confirm_dialogs_delete":"deleting a status","confirm_dialogs_logout":"logging out","confirm_dialogs_approve_follow":"approving a follower","confirm_dialogs_deny_follow":"denying a follower","confirm_dialogs_remove_follower":"removing a follower","mutes_and_blocks":"Mutes and Blocks","data_import_export_tab":"Data import / export","default_vis":"Default visibility scope","delete_account":"Delete account","delete_account_description":"Permanently delete your data and deactivate your account.","delete_account_error":"There was an issue deleting your account. If this persists please contact your instance administrator.","delete_account_instructions":"Type your password in the input below to confirm account deletion.","account_alias":"Account aliases","account_alias_table_head":"Alias","list_aliases_error":"Error fetching aliases: {error}","hide_list_aliases_error_action":"Close","remove_alias":"Remove this alias","new_alias_target":"Add a new alias (e.g. {example})","added_alias":"Alias is added.","add_alias_error":"Error adding alias: {error}","move_account":"Move account","move_account_notes":"If you want to move the account somewhere else, you must go to your target account and add an alias pointing here.","move_account_target":"Target account (e.g. {example})","moved_account":"Account is moved.","move_account_error":"Error moving account: {error}","discoverable":"Allow discovery of this account in search results and other services","domain_mutes":"Domains","avatar_size_instruction":"The recommended minimum size for avatar images is 150x150 pixels.","pad_emoji":"Pad emoji with spaces when adding from picker","autocomplete_select_first":"Automatically select the first candidate when autocomplete results are available","unsaved_post_action":"When you try to close an unsaved posting form","unsaved_post_action_save":"Save it to drafts","unsaved_post_action_discard":"Discard it","unsaved_post_action_confirm":"Ask every time","auto_save_draft":"Save drafts as you compose","emoji_reactions_on_timeline":"Show emoji reactions on timeline","emoji_reactions_scale":"Reactions scale factor","absolute_time_format":"Use absolute time format","absolute_time_format_min_age":"Only use for time older than this amount of time","absolute_time_format_12h":"Time format","absolute_time_format_12h_12h":"12 hour format (i.e. 10:00 PM)","absolute_time_format_12h_24h":"24 hour format (i.e. 22:00)","export_theme":"Save preset","filtering":"Filtering","wordfilter":"Wordfilter","filtering_explanation":"All statuses containing these words will be muted, one per line","word_filter_and_more":"Word filter and more...","follow_export":"Follow export","follow_export_button":"Export your follows to a csv file","follow_import":"Follow import","follow_import_error":"Error importing followers","follows_imported":"Follows imported! Processing them will take a while.","accent":"Accent","foreground":"Foreground","general":"General","hide_attachments_in_convo":"Hide attachments in conversations","hide_attachments_in_tl":"Hide attachments in timeline","hide_media_previews":"Hide media previews","hide_muted_posts":"Hide posts of muted users","mute_bot_posts":"Mute bot posts","hide_actor_type_indication":"Hide actor type (bots, groups, etc.) indication in posts","hide_scrobbles":"Hide scrobbles","hide_scrobbles_after":"Hide scrobbles older than","mute_sensitive_posts":"Mute sensitive posts","hide_all_muted_posts":"Hide muted posts","max_thumbnails":"Maximum amount of thumbnails per post (empty = no limit)","hide_isp":"Hide instance-specific panel","hide_shoutbox":"Hide instance shoutbox","right_sidebar":"Reverse order of columns","navbar_column_stretch":"Stretch navbar to columns width","always_show_post_button":"Always show floating New Post button","hide_wallpaper":"Hide instance wallpaper","preload_images":"Preload images","use_one_click_nsfw":"Open NSFW attachments with just one click","hide_post_stats":"Hide post statistics (e.g. the number of favorites)","hide_user_stats":"Hide user statistics (e.g. the number of followers)","hide_filtered_statuses":"Hide all filtered posts","hide_muted_statuses":"Completely hide all muted posts","hide_wordfiltered_statuses":"Hide word-filtered statuses","hide_muted_threads":"Hide muted threads","import_blocks_from_a_csv_file":"Import blocks from a csv file","import_followers_from_a_csv_file":"Import follows from a csv file","import_theme":"Load preset","inputRadius":"Input fields","checkboxRadius":"Checkboxes","instance_default":"(default: {value})","instance_default_simple":"(default)","interface":"Interface","interfaceLanguage":"Interface language","invalid_theme_imported":"The selected file is not a supported Pleroma theme. No changes to your theme were made.","limited_availability":"Unavailable in your browser","links":"Links","lock_account_description":"Restrict your account to approved followers only","loop_video":"Loop videos","loop_video_silent_only":"Loop only videos without sound (i.e. Mastodon's \\"gifs\\")","mutes_tab":"Mutes","play_videos_in_modal":"Play videos in a popup frame","url":"URL","preview":"Preview","file_export_import":{"backup_restore":"Settings backup","backup_settings":"Backup settings to file","backup_settings_theme":"Backup settings and theme to file","restore_settings":"Restore settings from file","errors":{"invalid_file":"The selected file is not a supported Pleroma settings backup. No changes were made.","file_too_new":"Incompatile major version: {fileMajor}, this PleromaFE (settings ver {feMajor}) is too old to handle it","file_too_old":"Incompatile major version: {fileMajor}, file version is too old and not supported (min. set. ver. {feMajor})","file_slightly_new":"File minor version is different, some settings might not load"}},"profile_fields":{"label":"Profile metadata","add_field":"Add field","name":"Label","value":"Content"},"birthday":{"label":"Birthday","show_birthday":"Show my birthday"},"account_privacy":"Privacy","use_contain_fit":"Don't crop the attachment in thumbnails","name":"Name","name_bio":"Name & bio","new_email":"New email","new_password":"New password","posts":"Posts","user_profiles":"User Profiles","notification_visibility":"Types of notifications to show","notification_visibility_in_column":"Show in notifications column/drawer","notification_visibility_native_notifications":"Show a native notification","notification_visibility_follows":"Follows","notification_visibility_follow_requests":"Follow requests","notification_visibility_likes":"Favorites","notification_visibility_mentions":"Mentions","notification_visibility_repeats":"Repeats","notification_visibility_reports":"Reports","notification_visibility_moves":"User Migrates","notification_visibility_emoji_reactions":"Reactions","notification_visibility_polls":"Ends of polls you voted in","notification_visibility_statuses":"Subscriptions","notification_show_extra":"Show extra notifications in the notifications column","notification_extra_chats":"Show unread chats","notification_extra_announcements":"Show unread announcements","notification_extra_follow_requests":"Show new follow requests","notification_extra_tip":"Show the customization tip for extra notifications","no_rich_text_description":"Strip rich text formatting from all posts","no_blocks":"No blocks","no_mutes":"No mutes","hide_favorites_description":"Don't show list of my favorites (people still get notified)","hide_follows_description":"Don't show who I'm following","hide_followers_description":"Don't show who's following me","hide_follows_count_description":"Don't show follow count","hide_followers_count_description":"Don't show follower count","show_admin_badge":"Show \\"Admin\\" badge in my profile","show_moderator_badge":"Show \\"Moderator\\" badge in my profile","nsfw_clickthrough":"Hide sensitive/NSFW media","oauth_tokens":"OAuth tokens","token":"Token","refresh_token":"Refresh token","valid_until":"Valid until","revoke_token":"Revoke","panelRadius":"Panels","pause_on_unfocused":"Pause when tab is not focused","presets":"Presets","profile_background":"Profile background","profile_banner":"Profile banner","profile_tab":"Profile","radii_help":"Set up interface edge rounding (in pixels)","replies_in_timeline":"Replies in timeline","reply_visibility_all":"Show all replies","reply_visibility_following":"Only show replies directed at me or users I'm following","reply_visibility_self":"Only show replies directed at me","reply_visibility_following_short":"Show replies to my follows","reply_visibility_self_short":"Show replies to self only","autohide_floating_post_button":"Automatically hide New Post button (mobile)","saving_err":"Error saving settings","saving_ok":"Settings saved","search_user_to_block":"Search whom you want to block","search_user_to_mute":"Search whom you want to mute","security_tab":"Security","scope_copy":"Copy scope when replying (DMs are always copied)","minimal_scopes_mode":"Minimize post scope selection options","set_new_avatar":"Set new avatar","set_new_profile_background":"Set new profile background","set_new_profile_banner":"Set new profile banner","reset_avatar":"Reset avatar","reset_profile_background":"Reset profile background","reset_profile_banner":"Reset profile banner","reset_avatar_confirm":"Do you really want to reset the avatar?","reset_banner_confirm":"Do you really want to reset the banner?","reset_background_confirm":"Do you really want to reset the background?","settings":"Settings","subject_input_always_show":"Always show subject field","subject_line_behavior":"Copy subject when replying","subject_line_email":"Like email: \\"re: subject\\"","subject_line_mastodon":"Like mastodon: copy as is","subject_line_noop":"Do not copy","force_theme_recompilation_debug":"Disable theme cahe, force recompile on each boot (DEBUG)","conversation_display":"Conversation display style","conversation_display_tree":"Tree-style","conversation_display_tree_quick":"Tree view","disable_sticky_headers":"Don't stick column headers to top of the screen","show_scrollbars":"Show side column's scrollbars","third_column_mode":"When there's enough space, show third column containing","third_column_mode_none":"Don't show third column at all","third_column_mode_notifications":"Notifications column","third_column_mode_postform":"Main post form and navigation","columns":"Columns","column_sizes":"Column sizes","column_sizes_sidebar":"Sidebar","column_sizes_content":"Content","column_sizes_notifs":"Notifications","theme_editor_min_width":"Minimum width of theme editor (0 for \\"fit-content\\")","tree_advanced":"Allow more flexible navigation in tree view","tree_fade_ancestors":"Display ancestors of the current status in faint text","conversation_display_linear":"Linear-style","conversation_display_linear_quick":"Linear view","conversation_other_replies_button":"Show the \\"other replies\\" button","conversation_other_replies_button_below":"Below statuses","conversation_other_replies_button_inside":"Inside statuses","max_depth_in_thread":"Maximum number of levels in thread to display by default","post_status_content_type":"Post status content type","sensitive_by_default":"Mark posts as sensitive by default","stop_gifs":"Pause animated images until you hover on them","streaming":"Automatically show new posts when scrolled to the top","auto_update":"Show new posts automatically","user_mutes":"Users","useStreamingApi":"Receive posts and notifications real-time","use_websockets":"Use websockets (Realtime updates)","text":"Text","theme":"Theme","theme_old":"Theme editor (old)","theme_help":"Use hex color codes (#rrggbb) to customize your color theme.","theme_help_v2_1":"You can also override certain component's colors and opacity by toggling the checkbox, use \\"Clear all\\" button to clear all overrides.","theme_help_v2_2":"Icons underneath some entries are background/text contrast indicators, hover over for detailed info. Please keep in mind that when using transparency contrast indicators show the worst possible case.","tooltipRadius":"Tooltips/alerts","type_domains_to_mute":"Search domains to mute","upload_a_photo":"Upload a photo","user_settings":"User Settings","values":{"false":"no","true":"yes"},"virtual_scrolling":"Optimize timeline rendering","use_at_icon":"Display {'@'} symbol as an icon instead of text","mention_link_display":"Display mention links","mention_link_display_short":"always as short names (e.g. {'@'}foo)","mention_link_display_full_for_remote":"as full names only for remote users (e.g. {'@'}foo{'@'}example.org)","mention_link_display_full":"always as full names (e.g. {'@'}foo{'@'}example.org)","mention_link_use_tooltip":"Show user card when clicking mention links","mention_link_show_avatar":"Show user avatar beside the link","mention_link_show_avatar_quick":"Show user avatar next to mentions","mention_link_fade_domain":"Fade domains (e.g. {'@'}example.org in {'@'}foo{'@'}example.org)","mention_link_bolden_you":"Highlight mention of you when you are mentioned","user_popover_avatar_action":"Popover avatar click action","user_popover_avatar_action_zoom":"Zoom the avatar","user_popover_avatar_action_close":"Close the popover","user_popover_avatar_action_open":"Open profile","user_popover_avatar_overlay":"Show user popover over user avatar","fun":"Fun","greentext":"Meme arrows","show_yous":"Show (You)s","notifications":"Notifications","notification_setting_annoyance":"Annoyance","notification_setting_drawer_marks_as_seen":"Closing drawer (mobile) marks all notifications as read","notification_setting_ignore_inactionable_seen":"Ignore read state of inactionable notifications (likes, repeats etc)","notification_setting_ignore_inactionable_seen_tip":"This will not actually mark those notifications as read, and you'll still get desktop notifications about them if you chose so","notification_setting_unseen_at_top":"Show unread notifications above others","notification_setting_filters":"Filters","notification_setting_filters_chrome_push":"On some browsers (chrome) it might be impossible to completely filter out notifications by type when they arrive by Push","notification_setting_block_from_strangers":"Block notifications from users who you do not follow","notification_setting_privacy":"Privacy","notification_setting_hide_notification_contents":"Hide the sender and contents of push notifications","notification_mutes":"To stop receiving notifications from a specific user, use a mute.","notification_blocks":"Blocking a user stops all notifications as well as unsubscribes them.","enable_web_push_notifications":"Enable web push notifications","enable_web_push_always_show":"Always show web push notifications","enable_web_push_always_show_tip":"Some browsers (Chromium, Chrome) require that push messages always result in a notification, otherwise generic 'Website was updated in background' is shown, enable this to prevent this notification from showing, as Chrome seem to hide push notifications if tab is in focus. Can result in showing duplicate notifications on other browsers.","more_settings":"More settings","style":{"custom_theme_used":"(Custom theme)","custom_style_used":"(Custom style)","stock_theme_used":"(Stock theme)","themes2_outdated":"Editor for Themes V2 is being phased out and will eventually be replaced with a new one that takes advantage of new Themes V3 engine. It should still work but experience might be degraded and inconsistent.","appearance_tab_note":"Changes on this tab do not affect the theme used, so exported theme will be different from what seen in the UI","update_preview":"Update preview","themes3":{"define":"Override","palette":{"label":"Color schemes","name_label":"Color scheme name","import":"Import palette","export":"Export palette","apply":"Apply palette","bg":"Panel background","fg":"Buttons etc.","text":"Text","link":"Links","accent":"Accent color","cRed":"Red color","cBlue":"Blue color","cGreen":"Green color","cOrange":"Orange color","wallpaper":"Wallpaper","v2_unsupported":"Older v2 themes don't support palettes. Switch to v3 theme to make use of palettes","bundled":"Bundled palettes","style":"Palettes provided by selected style","user":"Custom palette","imported":"Imported"},"editor":{"title":"Style editor","reset_style":"Reset","load_style":"Open from file","save_style":"Save","style_name":"Stylesheet name","style_author":"Made by","style_license":"License","style_website":"Website","component_selector":"Component","variant_selector":"Variant","states_selector":"States","main_tab":"Main","shadows_tab":"Shadows","background":"Background color","text_color":"Text color","icon_color":"Icon color","link_color":"Link color","contrast":"Text contrast","roundness":"Roundness","opacity":"Opacity","border_color":"Border color","include_in_rule":"Add to rule","test_string":"TEST","invalid":"Invalid","refresh_preview":"Refresh preview","apply_preview":"Apply","text_auto":{"label":"Auto-contrast","no-preserve":"Black or White","preserve":"Keep color","no-auto":"Disabled"},"component_tab":"Components style","palette_tab":"Color schemes","variables_tab":"Variables (Advanced)","variables":{"label":"Variables","name_label":"Name:","type_label":"Type:","type_shadow":"Shadow","type_color":"Color","type_generic":"Generic","virtual_color":"Variable color value"}},"hacks":{"underlay_overrides":"Change underlay","underlay_override_mode_none":"Theme default","underlay_override_mode_opaque":"Replace with solid color","underlay_override_mode_transparent":"Remove entirely (might break some themes)","force_interface_roundness":"Override interface roundness/sharpness","forced_roundness_mode_disabled":"Use theme defaults","forced_roundness_mode_sharp":"Force sharp edges","forced_roundness_mode_nonsharp":"Force not-so-sharp (1px roundness) edges","forced_roundness_mode_round":"Force round edges"},"font":{"group-builtin":"Browser default fonts","builtin":{"serif":"Serif","sans-serif":"Sans-serif","monospace":"Monospace","inherit":"Unchanged"},"group-local":"Locally installed fonts","local-unavailable1":"List of locally installed fonts unavailalbe","local-unavailable2":"Use manual entry to specify custom font","font_list_unavailable":"Couldn't get locally installed fonts: {error}","lookup_local_fonts":"Load list of fonts installed on this computer","enter_manually":"Enter font name family manually","entry":"Enter {fontFamily}","select":"Select font","label":"{label} font"}},"interface_font_user_override":"Override theme/browser font used","switcher":{"keep_color":"Keep colors","keep_shadows":"Keep shadows","keep_opacity":"Keep opacity","keep_roundness":"Keep roundness","keep_fonts":"Keep fonts","save_load_hint":"\\"Keep\\" options preserve currently set options when selecting or loading themes, it also stores said options when exporting a theme. When all checkboxes unset, exporting theme will save everything.","reset":"Reset","clear_all":"Clear all","clear_opacity":"Clear opacity","load_theme":"Load theme","keep_as_is":"Keep as is","use_snapshot":"Old version","use_source":"New version","help":{"upgraded_from_v2":"PleromaFE has been upgraded, theme could look a little bit different than you remember.","v2_imported":"File you imported was made for older FE. We try to maximize compatibility but there still could be inconsistencies.","future_version_imported":"File you imported was made in newer version of FE.","older_version_imported":"File you imported was made in older version of FE.","snapshot_present":"Theme snapshot is loaded, so all values are overriden. You can load theme's actual data instead.","snapshot_missing":"No theme snapshot was in the file so it could look different than originally envisioned.","fe_upgraded":"PleromaFE's theme engine upgraded after version update.","fe_downgraded":"PleromaFE's version rolled back.","migration_snapshot_ok":"Just to be safe, theme snapshot loaded. You can try loading theme data.","migration_napshot_gone":"For whatever reason snapshot was missing, some stuff could look different than you remember.","snapshot_source_mismatch":"Versions conflict: most likely FE was rolled back and updated again, if you changed theme using older version of FE you most likely want to use old version, otherwise use new version."}},"common":{"color":"Color","opacity":"Opacity","contrast":{"hint":"Contrast ratio is {ratio}, it {level} {context}","level":{"aa":"meets Level AA guideline (minimal)","aaa":"meets Level AAA guideline (recommended)","bad":"doesn't meet any accessibility guidelines"},"context":{"18pt":"for large (18pt+) text","text":"for text"}}},"common_colors":{"_tab_label":"Common","main":"Common colors","foreground_hint":"See \\"Advanced\\" tab for more detailed control","rgbo":"Icons, accents, badges"},"advanced_colors":{"_tab_label":"Advanced","alert":"Alert background","alert_error":"Error","alert_warning":"Warning","alert_neutral":"Neutral","post":"Posts/User bios","badge":"Badge background","popover":"Tooltips, menus, popovers","badge_notification":"Notification","panel_header":"Panel header","top_bar":"Top bar","borders":"Borders","buttons":"Buttons","inputs":"Input fields","faint_text":"Faded text","underlay":"Underlay","wallpaper":"Wallpaper","poll":"Poll graph","icons":"Icons","highlight":"Highlighted elements","pressed":"Pressed","selectedPost":"Selected post","selectedMenu":"Selected menu item","disabled":"Disabled","toggled":"Toggled","tabs":"Tabs","chat":{"incoming":"Incoming","outgoing":"Outgoing","border":"Border"}},"radii":{"_tab_label":"Roundness"},"shadows":{"_tab_label":"Shadow and lighting","component":"Component","override":"Override","shadow_id":"Shadow #{value}","offset":"Shadow offset","zoom":"Zoom","offset-x":"x:","offset-y":"y:","light_grid":"Use light checkerboard","color_override":"Use different color","name":"Name","blur":"Blur","spread":"Spread","inset":"Inset","raw":"Plain shadow","expression":"Expression (advanced)","empty_expression":"Empty expression","hintV3":"For shadows you can also use the {0} notation to use other color slot.","filter_hint":{"always_drop_shadow":"Warning, this shadow always uses {0} when browser supports it.","drop_shadow_syntax":"{0} does not support {1} parameter and {2} keyword.","avatar_inset_short":"Separate inset shadow","avatar_inset":"Please note that combining both inset and non-inset shadows on avatars might give unexpected results with transparent avatars.","spread_zero":"Shadows with spread > 0 will appear as if it was set to zero","inset_classic":"Inset shadows will be using {0}"},"components":{"panel":"Panel","panelHeader":"Panel header","topBar":"Top bar","avatar":"User avatar (in profile view)","avatarStatus":"User avatar (in post display)","popup":"Popups and tooltips","button":"Button","buttonHover":"Button (hover)","buttonPressed":"Button (pressed)","buttonPressedHover":"Button (pressed+hover)","input":"Input field"}},"fonts":{"_tab_label":"Fonts","help":"Select font to use for elements of UI. For \\"custom\\" you have to enter exact font name as it appears in system.","components":{"interface":"Interface","input":"Input fields","post":"Post text","monospace":"Monospaced text"},"family":"Font name","size":"Size (in px)","weight":"Weight (boldness)","custom":"Custom"},"preview":{"header":"Preview","content":"Content","error":"Example error","button":"Button","text":"A bunch of more {0} and {1}","mono":"content","input":"Just landed in L.A.","faint_link":"helpful manual","fine_print":"Read our {0} to learn nothing useful!","header_faint":"This is fine","checkbox":"I have skimmed over terms and conditions","link":"a nice lil' link"}},"version":{"title":"Version","backend_version":"Backend version","frontend_version":"Frontend version"},"commit_value":"Save","commit_value_tooltip":"Value is not saved, press this button to commit your changes","reset_value":"Reset","reset_value_tooltip":"Reset draft","hard_reset_value":"Hard reset","hard_reset_value_tooltip":"Remove setting from storage, forcing use of default value"}`),q8={window_title:"Administration",wip_notice:"This admin dashboard is experimental and WIP, {adminFeLink}.",old_ui_link:"old admin UI available here",reset_all:"Reset all",commit_all:"Save all",tabs:{nodb:"No DB Config",instance:"Instance",limits:"Limits",frontends:"Front-ends",emoji:"Emoji"},nodb:{heading:"Database config is disabled",text:"You need to change backend config files so that {property} is set to {value}, see more in {documentation}.",documentation:"documentation",text2:"Most configuration options will be unavailable."},captcha:{native:"Native",kocaptcha:"KoCaptcha"},instance:{instance:"Instance information",registrations:"User sign-ups",captcha_header:"CAPTCHA",kocaptcha:"KoCaptcha settings",access:"Instance access",restrict:{header:"Restrict access for anonymous visitors",description:"Detailed setting for allowing/disallowing access to certain aspects of API. By default (indeterminate state) it will disallow if instance is not public, ticked checkbox means disallow access even if instance is public, unticked means allow access even if instance is private. Please note that unexpected behavior might happen if some settings are set, i.e. if profile access is disabled posts will show without profile information.",timelines:"Timelines access",profiles:"User profiles access",activities:"Statuses/activities access"}},limits:{arbitrary_limits:"Arbitrary limits",posts:"Post limits",uploads:"Attachments limits",users:"User profile limits",profile_fields:"Profile fields limits",user_uploads:"Profile media limits"},frontend:{repository:"Repository link",versions:"Available versions",build_url:"Build URL",reinstall:"Reinstall",is_default:"(Default)",is_default_custom:"(Default, version: {version})",install:"Install",install_version:"Install version {version}",more_install_options:"More install options",more_default_options:"More default setting options",set_default:"Set default",set_default_version:"Set version {version} as default",wip_notice:"Please note that this section is a WIP and lacks certain features as backend implementation of front-end management is incomplete.",default_frontend:"Default frontend",default_frontend_tip:"Default frontend will be shown to all users. Currently there's no way to for a user to select personal frontend. If you switch away from PleromaFE you'll most likely have to use old and buggy AdminFE to do instance configuration until we replace it.",default_frontend_unavail:"Default frontend settings are not available, as this requires configuration in the database",available_frontends:"Available for install",failure_installing_frontend:"Failed to install frontend {version}: {reason}",success_installing_frontend:"Frontend {version} successfully installed"},emoji:{global_actions:"Global actions",reload:"Reload emoji",importFS:"Import emoji from filesystem",error:"Error: {0}",create_pack:"Create pack",delete_pack:"Delete pack",new_pack_name:"New pack name",create:"Create",emoji_packs:"Emoji packs",remote_packs:"Remote packs",do_list:"List",remote_pack_instance:"Remote pack instance",emoji_pack:"Emoji pack",edit_pack:"Edit pack",description:"Description",homepage:"Homepage",fallback_src:"Fallback source",fallback_sha256:"Fallback SHA256",share:"Share",save:"Save",save_meta:"Save metadata",revert_meta:"Revert metadata",delete:"Delete",revert:"Revert",add_file:"Add file",adding_new:"Adding new emoji",shortcode:"Shortcode",filename:"Filename",new_shortcode:"Shortcode, leave blank to infer",new_filename:"Filename, leave blank to infer",delete_confirm:"Are you sure you want to delete {0}?",download_pack:"Download pack",downloading_pack:"Downloading {0}",download:"Download",download_as_name:"New name",download_as_name_full:"New name, leave blank to reuse",files:"Files",editing:"Editing {0}",delete_title:"Delete?",metadata_changed:"Metadata different from saved",emoji_changed:"Unsaved emoji file changes, check highlighted emoji",replace_warning:"This will REPLACE the local pack of the same name"},temp_overrides:{":pleroma":{":instance":{":public":{label:"Instance is public",description:"Disabling this will make all API accessible only for logged-in users, this will make Public and Federated timelines inaccessible to anonymous visitors."},":limit_to_local_content":{label:"Limit search to local content",description:"Disables global network search for unauthenticated (default), all users or none"},":description_limit":{label:"Limit",description:"Character limit for attachment descriptions"},":background_image":{label:"Background image",description:"Background image (primarily used by PleromaFE)"}}}}},H8={unit:{days:"{0} day | {0} days",days_short:"{0}d",hours:"{0} hour | {0} hours",hours_short:"{0}h",minutes:"{0} minute | {0} minutes",minutes_short:"{0}min",months:"{0} month | {0} months",months_short:"{0}mo",seconds:"{0} second | {0} seconds",seconds_short:"{0}s",weeks:"{0} week | {0} weeks",weeks_short:"{0}w",years:"{0} year | {0} years",years_short:"{0}y"},in_future:"in {0}",in_past:"{0} ago",now:"just now",now_short:"now"},V8={collapse:"Collapse",conversation:"Conversation",error:"Error fetching timeline: {0}",load_older:"Load older statuses",no_retweet_hint:"Post is marked as followers-only or direct and cannot be repeated",repeated:"repeated",show_new:"Show new",reload:"Reload",up_to_date:"Up-to-date",no_more_statuses:"No more statuses",no_statuses:"No statuses",socket_reconnected:"Realtime connection established",socket_broke:"Realtime connection lost: CloseEvent code {0}",quick_view_settings:"Quick view settings",quick_filter_settings:"Quick filter settings",filter_settings:"Filter"},W8={favorites:"Favorites",repeats:"Repeats",quotes:"Quotes",repeat_confirm:"Do you really want to repeat this status?",repeat_confirm_title:"Repeat confirmation",repeat_confirm_accept_button:"Repeat",repeat_confirm_cancel_button:"Do not repeat",delete:"Delete status",delete_error:"Error deleting status: {0}",edit:"Edit status",edited_at:"(last edited {time})",pin:"Pin on profile",unpin:"Unpin from profile",pinned:"Pinned",bookmark:"Bookmark",unbookmark:"Unbookmark",delete_confirm:"Do you really want to delete this status?",delete_confirm_title:"Delete confirmation",delete_confirm_accept_button:"Delete",delete_confirm_cancel_button:"Keep",reply_to:"Reply to",reply_to_with_icon:"{icon} {replyTo}",reply_to_with_arg:"{replyToWithIcon} {user}",mentions:"Mentions",replies_list:"Replies:",replies_list_with_others:"Replies (+{numReplies} other): | Replies (+{numReplies} others):",mute_ellipsis:"Mute",mute_user:"Mute user",unmute_user:"Unmute user",mute_domain:"Mute domain",unmute_domain:"Unmute domain",mute_conversation:"Mute conversation",unmute_conversation:"Unmute conversation",status_unavailable:"Status unavailable",copy_link:"Copy link to status",external_source:"External source",muted_words:"Wordfiltered: {word} | Wordfiltered: {word} and {numWordsMore} more words",muted_filters:"Filtered: {name} | Wordfiltered: {name} and {filtersMore} more words",multi_reason_mute:"{main} + one more reason | {main} + {numReasonsMore} more reasons",muted_user:"User muted",thread_muted:"Thread muted",thread_muted_and_words:", has words:",sensitive_muted:"Muting sensitive content",bot_muted:"Muting bot content",show_full_subject:"Show full subject",hide_full_subject:"Hide full subject",show_content:"Show content",hide_content:"Hide content",status_deleted:"This post was deleted",nsfw:"NSFW",expand:"Expand",you:"(You)",plus_more:"+{number} more",many_attachments:"Post has {number} attachment(s)",collapse_attachments:"Collapse attachments",show_all_attachments:"Show all attachments",show_attachment_in_modal:"Show in media modal",show_attachment_description:"Preview description (open attachment for full description)",hide_attachment:"Hide attachment",remove_attachment:"Remove attachment",attachment_stop_flash:"Stop Flash player",move_up:"Shift attachment left",move_down:"Shift attachment right",open_gallery:"Open gallery",thread_hide:"Hide this thread",thread_show:"Show this thread",thread_show_full:"Show everything under this thread ({numStatus} status in total, max depth {depth}) | Show everything under this thread ({numStatus} statuses in total, max depth {depth})",thread_show_full_with_icon:"{icon} {text}",thread_follow:"See the remaining part of this thread ({numStatus} status in total) | See the remaining part of this thread ({numStatus} statuses in total)",thread_follow_with_icon:"{icon} {text}",ancestor_follow:"See {numReplies} other reply under this status | See {numReplies} other replies under this status",ancestor_follow_with_icon:"{icon} {text}",show_all_conversation_with_icon:"{icon} {text}",show_all_conversation:"Show full conversation ({numStatus} other status) | Show full conversation ({numStatus} other statuses)",show_only_conversation_under_this:"Only show replies to this status",status_history:"Status history",reaction_count_label:"{num} person reacted | {num} people reacted",hide_quote:"Hide the quoted status",display_quote:"Display the quoted status",invisible_quote:"Quoted status unavailable: {link}",more_actions:"More actions on this status",loading:"Loading...",load_error:"Unable to load status: {error}"},G8={approve:"Approve",approve_confirm_title:"Approve confirmation",approve_confirm_accept_button:"Approve",approve_confirm_cancel_button:"Do not approve",approve_confirm:"Do you want to approve {user}'s follow request?",block:"Block",blocked:"Blocked!",block_confirm_title:"Block confirmation",block_confirm:"Do you really want to block {user}?",block_confirm_accept_button:"Block",block_confirm_cancel_button:"Do not block",deactivated:"Deactivated",deny:"Deny",deny_confirm_title:"Deny confirmation",deny_confirm_accept_button:"Deny",deny_confirm_cancel_button:"Do not deny",deny_confirm:"Do you want to deny {user}'s follow request?",edit_profile:"Edit profile",favorites:"Favorites",follow:"Follow",follow_cancel:"Cancel request",follow_sent:"Request sent!",follow_progress:"Requesting",follow_unfollow:"Unfollow",unfollow_confirm_title:"Unfollow confirmation",unfollow_confirm:"Do you really want to unfollow {user}?",unfollow_confirm_accept_button:"Unfollow",unfollow_confirm_cancel_button:"Do not unfollow",followees:"Following",followers:"Followers",following:"Following!",follows_you:"Follows you!",hidden:"Hidden",its_you:"It's you!",media:"Media",mention:"Mention",message:"Message",mute:"Mute",muted:"Muted",mute_confirm_title:"Mute confirmation",mute_confirm:"Do you really want to mute {user}?",mute_confirm_accept_button:"Mute",mute_confirm_cancel_button:"Do not mute",mute_duration_prompt:"Mute this user for (0 for indefinite time):",per_day:"per day",remote_follow:"Remote follow",remove_follower:"Remove follower",remove_follower_confirm_title:"Remove follower confirmation",remove_follower_confirm_accept_button:"Remove",remove_follower_confirm_cancel_button:"Keep",remove_follower_confirm:"Do you really want to remove {user} from your followers?",report:"Report",statuses:"Statuses",subscribe:"Subscribe",unsubscribe:"Unsubscribe",unblock:"Unblock",unblock_progress:"Unblocking",block_progress:"Blocking",unmute:"Unmute",unmute_progress:"Unmuting",mute_progress:"Muting",hide_repeats:"Hide repeats",show_repeats:"Show repeats",bot:"Bot",group:"Group",birthday:"Born {birthday}",admin_menu:{moderation:"Moderation",grant_admin:"Grant Admin",revoke_admin:"Revoke Admin",grant_moderator:"Grant Moderator",revoke_moderator:"Revoke Moderator",activate_account:"Activate account",deactivate_account:"Deactivate account",delete_account:"Delete account",force_nsfw:"Mark all posts as NSFW",strip_media:"Remove media from posts",force_unlisted:"Force posts to be unlisted",sandbox:"Force posts to be followers-only",disable_remote_subscription:"Disallow following user from remote instances",disable_any_subscription:"Disallow following user at all",quarantine:"Disallow user posts from federating",delete_user:"Delete user",delete_user_data_and_deactivate_confirmation:"This will permanently delete the data from this account and deactivate it. Are you absolutely sure?"},highlight:{disabled:"No highlight",solid:"Solid bg",striped:"Striped bg",side:"Side stripe"},note:"Note",note_blank:"(None)",edit_note:"Edit note",edit_note_apply:"Apply",edit_note_cancel:"Cancel"},K8={timeline_title:"User timeline",profile_does_not_exist:"Sorry, this profile does not exist.",profile_loading_error:"Sorry, there was an error loading this profile."},x8={title:"Reporting {0}",add_comment_description:"The report will be sent to your instance moderators. You can provide an explanation of why you are reporting this account below:",additional_comments:"Additional comments",forward_description:"The account is from another server. Send a copy of the report there as well?",forward_to:"Forward to {0}",submit:"Submit",generic_error:"An error occurred while processing your request."},Y8={more:"More",who_to_follow:"Who to follow"},X8={media_upload:"Upload media",mentions:"Mentions",repeat:"Repeat",unrepeat:"Unrepeat",reply:"Reply",add_reaction:"Add Reaction",favorite:"Favorite",unfavorite:"Unfavorite",user_settings:"User Settings",accept_follow_request:"Accept follow request",reject_follow_request:"Reject follow request",bookmark:"Bookmark",toggle_expand:"Expand or collapse notification to show post in full",toggle_mute:"Expand or collapse notification to reveal muted content",autocomplete_available:"{number} result is available. Use up and down keys to navigate through them. | {number} results are available. Use up and down keys to navigate through them."},J8={error:{base:"Upload failed.",message:"Upload failed: {0}",file_too_big:"File too big [{filesize}{filesizeunit} / {allowedsize}{allowedsizeunit}]",default:"Try again later"},file_size_units:{B:"B",KiB:"KiB",MiB:"MiB",GiB:"GiB",TiB:"TiB"}},Z8={people:"People",hashtags:"Hashtags",person_talking:"{count} person talking",people_talking:"{count} people talking",no_results:"No results",no_more_results:"No more results",load_more:"Load more results"},Q8={forgot_password:"Forgot password?",password_reset:"Password reset",instruction:"Enter your email address or username. We will send you a link to reset your password.",placeholder:"Your email or username",check_email:"Check your email for a link to reset your password.",return_home:"Return to the home page",too_many_requests:"You have reached the limit of attempts, try again later.",password_reset_disabled:"Password reset is disabled. Please contact your instance administrator.",password_reset_required:"You must reset your password to log in.",password_reset_required_but_mailer_is_disabled:"You must reset your password, but password reset is disabled. Please contact your instance administrator."},eA={you:"You:",message_user:"Message {nickname}",delete:"Delete",chats:"Chats",new:"New Chat",empty_message_error:"Cannot post empty message",more:"More",delete_confirm:"Do you really want to delete this message?",error_loading_chat:"Something went wrong when loading the chat.",error_sending_message:"Something went wrong when sending the message.",empty_chat_list_placeholder:"You don't have any chats yet. Start a new chat!"},tA={manage_bookmark_folders:"Manage bookmark folders"},nA={lists:"Lists",new:"New List",title:"List title",search:"Search users",create:"Create",save:"Save changes",delete:"Delete list",following_only:"Limit to Following",manage_lists:"Manage lists",manage_members:"Manage list members",add_members:"Search for more users",remove_from_list:"Remove from list",add_to_list:"Add to list",is_in_list:"Already in list",editing_list:"Editing list {listTitle}",creating_list:"Creating new list",update_title:"Save Title",really_delete:"Really delete list?",error:"Error manipulating lists: {0}"},sA={audio:"Audio",video:"Video",image:"Image",file:"File"},oA={today:"Today"},rA={big_update_title:"Please bear with us",big_update_content:"We haven't had a release in a while, so things might look and feel different than what you're used to.",update_bugs:"Please report any issues and bugs on {pleromaGitlab}, as we have changed a lot, and although we test thoroughly and use development versions ourselves, we may have missed some things. We welcome your feedback and suggestions on issues you might encounter, or how to improve Pleroma and Pleroma-FE.",update_bugs_gitlab:"Pleroma GitLab",update_changelog:"For more details on what's changed, see {theFullChangelog}.",update_changelog_here:"the full changelog",art_by:"Art by {linkToArtist}"},iA={tooltip:"This domain contains non-ascii characters."},aA={drafts:"Drafts",no_drafts:"You have no drafts",empty:"(No content)",poll_tooltip:"Draft contains a poll",continue:"Continue composing",save:"Save without posting",abandon:"Abandon draft",abandon_confirm_title:"Abandon confirmation",abandon_confirm:"Do you really want to abandon this draft?",abandon_confirm_accept_button:"Abandon",abandon_confirm_cancel_button:"Keep",replying:"Replying to {statusLink}",editing:"Editing {statusLink}",unavailable:"(unavailable)"},lA={loading:"Loading...",theme:"Applying theme, please wait warmly...",fun_1:"Drink more water",fun_2:"Take it easy!",fun_3:"Suya...",fun_4:"My Pleroma machine is full power!",error:"Something went wrong"},cA={select_folder:"Select bookmark folder",creating_folder:"Creating bookmark folder",editing_folder:"Editing folder {folderName}",emoji:"Emoji",name:"Folder name",new:"New Folder",create:"Create folder",delete:"Delete folder",update_folder:"Save changes",really_delete:"Do you really want to delete the folder?",error:"Error manipulating bookmark folders: {0}"},uA={about:b8,announcements:_8,shoutbox:y8,domain_mute_card:w8,exporter:S8,features_panel:k8,finder:$8,general:C8,image_cropper:T8,importer:A8,login:E8,media_modal:I8,nav:P8,notifications:L8,polls:O8,emoji:R8,errors:M8,interactions:N8,post_status:F8,registration:D8,remote_user_resolver:U8,report:j8,selectable_list:B8,settings:z8,admin_dash:q8,time:H8,timeline:V8,status:W8,user_card:G8,user_profile:K8,user_reporting:x8,who_to_follow:Y8,tool_tip:X8,upload:J8,search:Z8,password_reset:Q8,chats:eA,bookmarks:tA,lists:nA,file_type:sA,display_date:oA,update:rA,unicode_domain_indicator:iA,drafts:aA,splash:lA,bookmark_folders:cA},aW=Object.freeze(Object.defineProperty({__proto__:null,about:b8,admin_dash:q8,announcements:_8,bookmark_folders:cA,bookmarks:tA,chats:eA,default:uA,display_date:oA,domain_mute_card:w8,drafts:aA,emoji:R8,errors:M8,exporter:S8,features_panel:k8,file_type:sA,finder:$8,general:C8,image_cropper:T8,importer:A8,interactions:N8,lists:nA,login:E8,media_modal:I8,nav:P8,notifications:L8,password_reset:Q8,polls:O8,post_status:F8,registration:D8,remote_user_resolver:U8,report:j8,search:Z8,selectable_list:B8,settings:z8,shoutbox:y8,splash:lA,status:W8,time:H8,timeline:V8,tool_tip:X8,unicode_domain_indicator:iA,update:rA,upload:J8,user_card:G8,user_profile:K8,user_reporting:x8,who_to_follow:Y8},Symbol.toStringTag,{value:"Module"})),jS="en",lW=e=>v8.includes(e),cW=Object.assign({"./ar.json":()=>He(()=>import("./ar.Cr-3kZBh.js"),[]),"./ca.json":()=>He(()=>import("./ca.Bv4d2Muy.js"),[]),"./cs.json":()=>He(()=>import("./cs.EyNXpVXW.js"),[]),"./de.json":()=>He(()=>import("./de.CvXWIhiF.js"),[]),"./en.json":()=>He(()=>Promise.resolve().then(()=>aW),void 0),"./eo.json":()=>He(()=>import("./eo.C9h09SOv.js"),[]),"./es.json":()=>He(()=>import("./es.BFMlvXsf.js"),[]),"./et.json":()=>He(()=>import("./et.fhuMKZXQ.js"),[]),"./eu.json":()=>He(()=>import("./eu.C1UxLEb6.js"),[]),"./fa.json":()=>He(()=>import("./fa.BxVyTR8q.js"),[]),"./fi.json":()=>He(()=>import("./fi.Brm9lhAA.js"),[]),"./fr.json":()=>He(()=>import("./fr.DzBG0KvL.js"),[]),"./ga.json":()=>He(()=>import("./ga.CPJnGxWv.js"),[]),"./he.json":()=>He(()=>import("./he.BllNuLoC.js"),[]),"./hu.json":()=>He(()=>import("./hu.CljyAvQa.js"),[]),"./id.json":()=>He(()=>import("./id.DLjgbCu5.js"),[]),"./it.json":()=>He(()=>import("./it.ERg696CD.js"),[]),"./ja_easy.json":()=>He(()=>import("./ja_easy.PsomvmuF.js"),[]),"./ja_pedantic.json":()=>He(()=>import("./ja_pedantic.VWLd9bHt.js"),[]),"./ko.json":()=>He(()=>import("./ko.b1sv0xRp.js"),[]),"./nan-TW.json":()=>He(()=>import("./nan-TW.Ci98X1S7.js"),[]),"./nb.json":()=>He(()=>import("./nb.DCCmz1gh.js"),[]),"./nl.json":()=>He(()=>import("./nl.D6wYIlyz.js"),[]),"./oc.json":()=>He(()=>import("./oc.C4DhJxhs.js"),[]),"./pdc.json":()=>He(()=>import("./pdc.FmFgRqLi.js"),[]),"./pl.json":()=>He(()=>import("./pl.CPLK-gPs.js"),[]),"./pt.json":()=>He(()=>import("./pt.BzQabObA.js"),[]),"./ro.json":()=>He(()=>import("./ro.BA9koejw.js"),[]),"./ru.json":()=>He(()=>import("./ru.CYi-PMDA.js"),[]),"./sk.json":()=>He(()=>import("./sk.fGdLyyK_.js"),[]),"./te.json":()=>He(()=>import("./te.CikZ4jPW.js"),[]),"./uk.json":()=>He(()=>import("./uk.CkmtgYNq.js"),[]),"./vi.json":()=>He(()=>import("./vi.BsGK9mjD.js"),[]),"./zh.json":()=>He(()=>import("./zh.BZkJuR5j.js"),[]),"./zh_Hant.json":()=>He(()=>import("./zh_Hant.dSMADUQ9.js"),[])}),uW=e=>{const t=iW(e);return cW[`./${t}.json`]()},Nh={languages:v8,default:{en:uA},setLanguage:async(e,t)=>{const n=(Array.isArray(t)?t:[t]).filter(r=>r);n.includes(jS)||n.push(jS);const[s,...o]=n;if(!(s===e.locale&&Z.isEqual(o,e.fallbackLocale))){for(const r of n)if(lW(r)){const i=await uW(r);e.setLocaleMessage(r,i.default)}e.fallbackLocale=o,e.locale=s}}};var eg,BS;function dW(){return BS||(BS=1,eg={aa:{name:"Afar",nativeName:"Afaraf"},ab:{name:"Abkhaz",nativeName:" "},ae:{name:"Avestan",nativeName:"avesta"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},am:{name:"Amharic",nativeName:""},an:{name:"Aragonese",nativeName:"aragons"},ar:{name:"Arabic",nativeName:""},as:{name:"Assamese",nativeName:""},av:{name:"Avaric",nativeName:" "},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azrbaycan dili"},ba:{name:"Bashkir",nativeName:" "},be:{name:"Belarusian",nativeName:" "},bg:{name:"Bulgarian",nativeName:" "},bi:{name:"Bislama",nativeName:"Bislama"},bm:{name:"Bambara",nativeName:"bamanankan"},bn:{name:"Bengali",nativeName:""},bo:{name:"Tibetan",nativeName:""},br:{name:"Breton",nativeName:"brezhoneg"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},ca:{name:"Catalan",nativeName:"Catal"},ce:{name:"Chechen",nativeName:" "},ch:{name:"Chamorro",nativeName:"Chamoru"},co:{name:"Corsican",nativeName:"corsu"},cr:{name:"Cree",nativeName:""},cs:{name:"Czech",nativeName:"etina"},cu:{name:"Old Church Slavonic",nativeName:" "},cv:{name:"Chuvash",nativeName:" "},cy:{name:"Welsh",nativeName:"Cymraeg"},da:{name:"Danish",nativeName:"Dansk"},de:{name:"German",nativeName:"Deutsch"},dv:{name:"Divehi",nativeName:""},dz:{name:"Dzongkha",nativeName:""},ee:{name:"Ewe",nativeName:"Eegbe"},el:{name:"Greek",nativeName:""},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},es:{name:"Spanish",nativeName:"Espaol"},et:{name:"Estonian",nativeName:"eesti"},eu:{name:"Basque",nativeName:"euskara"},fa:{name:"Persian",nativeName:""},ff:{name:"Fula",nativeName:"Fulfulde"},fi:{name:"Finnish",nativeName:"suomi"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fo:{name:"Faroese",nativeName:"Froyskt"},fr:{name:"French",nativeName:"Franais"},fy:{name:"Western Frisian",nativeName:"Frysk"},ga:{name:"Irish",nativeName:"Gaeilge"},gd:{name:"Scottish Gaelic",nativeName:"Gidhlig"},gl:{name:"Galician",nativeName:"galego"},gn:{name:"Guaran",nativeName:"Avae'"},gu:{name:"Gujarati",nativeName:""},gv:{name:"Manx",nativeName:"Gaelg"},ha:{name:"Hausa",nativeName:""},he:{name:"Hebrew",nativeName:""},hi:{name:"Hindi",nativeName:""},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hr:{name:"Croatian",nativeName:"Hrvatski"},ht:{name:"Haitian",nativeName:"Kreyl ayisyen"},hu:{name:"Hungarian",nativeName:"magyar"},hy:{name:"Armenian",nativeName:""},hz:{name:"Herero",nativeName:"Otjiherero"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Interlingue"},ig:{name:"Igbo",nativeName:"Ass Igbo"},ii:{name:"Nuosu",nativeName:" Nuosuhxop"},ik:{name:"Inupiaq",nativeName:"Iupiaq"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"slenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:""},ja:{name:"Japanese",nativeName:""},jv:{name:"Javanese",nativeName:"basa Jawa"},ka:{name:"Georgian",nativeName:""},kg:{name:"Kongo",nativeName:"Kikongo"},ki:{name:"Kikuyu",nativeName:"Gky"},kj:{name:"Kwanyama",nativeName:"Kuanyama"},kk:{name:"Kazakh",nativeName:" "},kl:{name:"Kalaallisut",nativeName:"kalaallisut"},km:{name:"Khmer",nativeName:""},kn:{name:"Kannada",nativeName:""},ko:{name:"Korean",nativeName:""},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:""},ku:{name:"Kurdish",nativeName:"Kurd"},kv:{name:"Komi",nativeName:" "},kw:{name:"Cornish",nativeName:"Kernewek"},ky:{name:"Kyrgyz",nativeName:""},la:{name:"Latin",nativeName:"latine"},lb:{name:"Luxembourgish",nativeName:"Ltzebuergesch"},lg:{name:"Ganda",nativeName:"Luganda"},li:{name:"Limburgish",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Lingla"},lo:{name:"Lao",nativeName:""},lt:{name:"Lithuanian",nativeName:"lietuvi kalba"},lu:{name:"Luba-Katanga",nativeName:"Kiluba"},lv:{name:"Latvian",nativeName:"latvieu valoda"},mg:{name:"Malagasy",nativeName:"fiteny malagasy"},mh:{name:"Marshallese",nativeName:"Kajin Maje"},mi:{name:"Mori",nativeName:"te reo Mori"},mk:{name:"Macedonian",nativeName:" "},ml:{name:"Malayalam",nativeName:""},mn:{name:"Mongolian",nativeName:" "},mr:{name:"Marathi",nativeName:""},ms:{name:"Malay",nativeName:"Bahasa Melayu"},mt:{name:"Maltese",nativeName:"Malti"},my:{name:"Burmese",nativeName:""},na:{name:"Nauru",nativeName:"Dorerin Naoero"},nb:{name:"Norwegian Bokml",nativeName:"Norsk bokml"},nd:{name:"Northern Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:""},ng:{name:"Ndonga",nativeName:"Owambo"},nl:{name:"Dutch",nativeName:"Nederlands"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},nr:{name:"Southern Ndebele",nativeName:"isiNdebele"},nv:{name:"Navajo",nativeName:"Din bizaad"},ny:{name:"Chichewa",nativeName:"chiChea"},oc:{name:"Occitan",nativeName:"occitan"},oj:{name:"Ojibwe",nativeName:""},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:""},os:{name:"Ossetian",nativeName:" "},pa:{name:"Panjabi",nativeName:""},pi:{name:"Pli",nativeName:""},pl:{name:"Polish",nativeName:"Polski"},ps:{name:"Pashto",nativeName:""},pt:{name:"Portuguese",nativeName:"Portugus"},qu:{name:"Quechua",nativeName:"Runa Simi"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"Ikirundi"},ro:{name:"Romanian",nativeName:"Romn"},ru:{name:"Russian",nativeName:""},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},sa:{name:"Sanskrit",nativeName:""},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:""},se:{name:"Northern Sami",nativeName:"Davvismegiella"},sg:{name:"Sango",nativeName:"yng t sng"},si:{name:"Sinhala",nativeName:""},sk:{name:"Slovak",nativeName:"Slovenina"},sl:{name:"Slovenian",nativeName:"slovenina"},sm:{name:"Samoan",nativeName:"gagana fa'a Samoa"},sn:{name:"Shona",nativeName:"chiShona"},so:{name:"Somali",nativeName:"Soomaaliga"},sq:{name:"Albanian",nativeName:"Shqip"},sr:{name:"Serbian",nativeName:" "},ss:{name:"Swati",nativeName:"SiSwati"},st:{name:"Southern Sotho",nativeName:"Sesotho"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sv:{name:"Swedish",nativeName:"Svenska"},sw:{name:"Swahili",nativeName:"Kiswahili"},ta:{name:"Tamil",nativeName:""},te:{name:"Telugu",nativeName:""},tg:{name:"Tajik",nativeName:""},th:{name:"Thai",nativeName:""},ti:{name:"Tigrinya",nativeName:""},tk:{name:"Turkmen",nativeName:"Trkmene"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"Trke"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:" "},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uyghur",nativeName:""},uk:{name:"Ukrainian",nativeName:""},ur:{name:"Urdu",nativeName:""},uz:{name:"Uzbek",nativeName:""},ve:{name:"Venda",nativeName:"Tshivena"},vi:{name:"Vietnamese",nativeName:"Ting Vit"},vo:{name:"Volapk",nativeName:"Volapk"},wa:{name:"Walloon",nativeName:"walon"},wo:{name:"Wolof",nativeName:"Wollof"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:""},yo:{name:"Yoruba",nativeName:"Yorb"},za:{name:"Zhuang",nativeName:"Sa cue"},zh:{name:"Chinese",nativeName:""},zu:{name:"Zulu",nativeName:"isiZulu"}}),eg}var tg,zS;function fW(){if(zS)return tg;zS=1;const e=dW(),t={},n={},s=[],o=[],r=[];for(const i in e){const{name:a,nativeName:c}=e[i];t[i]=n[a.toLowerCase()]=n[c.toLowerCase()]={code:i,name:a,nativeName:c},s.push(i),o.push(a),r.push(c)}return tg=class vf{static getLanguages(a=[]){return a.map(c=>vf.validate(c)?Object.assign({},t[c]):{code:c,name:"",nativeName:""})}static getName(a){return vf.validate(a)?e[a].name:""}static getAllNames(){return o.slice()}static getNativeName(a){return vf.validate(a)?e[a].nativeName:""}static getAllNativeNames(){return r.slice()}static getCode(a){return a=a.toLowerCase(),n.hasOwnProperty(a)?n[a].code:""}static getAllCodes(){return s.slice()}static validate(a){return e.hasOwnProperty(a)}},tg}var hW=fW();const pW=Gs(hW),mW={pdc:"en",ja_easy:"ja",zh_Hant:"zh-HANT",zh:"zh-Hans"},c_=e=>mW[e]||e,dA=e=>c_(e).replace("_","-"),gW=e=>(Array.isArray(e)?e:[e]).map(dA).join(","),fA=e=>{const n={pdc:"Pennsilfaanisch-Deitsch",ja_easy:"","nan-TW":"",zh:"",zh_Hant:""}[e]||pW.getNativeName(e),s=c_(e);return n.charAt(0).toLocaleUpperCase(s)+n.slice(1)},vW=Si.map(Nh.languages,e=>({code:e,name:fA(e)})).sort((e,t)=>e.name.localeCompare(t.name)),ko={internalToBrowserLocale:c_,internalToBackendLocale:dA,internalToBackendLocaleMulti:gW,languages:vW,getLanguageName:fA},hA={undelay:null,topBar:null,badge:null,profileTint:null,fg:null,bg:"underlay",highlight:"bg",panel:"bg",popover:"bg",selectedMenu:"popover",btn:"bg",btnPanel:"panel",btnTopBar:"topBar",input:"bg",inputPanel:"panel",inputTopBar:"topBar",alert:"bg",alertPanel:"panel",poll:"bg",chatBg:"underlay",chatMessage:"chatBg"},bW={profileTint:.5,alert:.5,input:.5,faint:.5,underlay:.15,alertPopup:.95},$i={bg:{depends:[],opacity:"bg",priority:1},wallpaper:{depends:["bg"],color:(e,t)=>Es(-2*e,t).rgb},fg:{depends:[],priority:1},text:{depends:[],layer:"bg",opacity:null,priority:1},underlay:{default:"#000000",opacity:"underlay"},link:{depends:["accent"],priority:1},accent:{depends:["link"],priority:1},faint:{depends:["text"],opacity:"faint"},faintLink:{depends:["link"],opacity:"faint"},postFaintLink:{depends:["postLink"],opacity:"faint"},cBlue:"#0000ff",cRed:"#FF0000",cGreen:"#00FF00",cOrange:"#E3FF00",profileBg:{depends:["bg"],color:(e,t)=>({r:Math.floor(t.r*.53),g:Math.floor(t.g*.56),b:Math.floor(t.b*.59)})},profileTint:{depends:["bg"],layer:"profileTint",opacity:"profileTint"},highlight:{depends:["bg"],color:(e,t)=>Es(5*e,t).rgb},highlightLightText:{depends:["lightText"],layer:"highlight",textColor:!0},highlightPostLink:{depends:["postLink"],layer:"highlight",textColor:"preserve"},highlightFaintText:{depends:["faint"],layer:"highlight",textColor:!0},highlightFaintLink:{depends:["faintLink"],layer:"highlight",textColor:"preserve"},highlightPostFaintLink:{depends:["postFaintLink"],layer:"highlight",textColor:"preserve"},highlightText:{depends:["text"],layer:"highlight",textColor:!0},highlightLink:{depends:["link"],layer:"highlight",textColor:"preserve"},highlightIcon:{depends:["highlight","highlightText"],color:(e,t,n)=>sa(t,n)},popover:{depends:["bg"],opacity:"popover"},popoverLightText:{depends:["lightText"],layer:"popover",textColor:!0},popoverPostLink:{depends:["postLink"],layer:"popover",textColor:"preserve"},popoverFaintText:{depends:["faint"],layer:"popover",textColor:!0},popoverFaintLink:{depends:["faintLink"],layer:"popover",textColor:"preserve"},popoverPostFaintLink:{depends:["postFaintLink"],layer:"popover",textColor:"preserve"},popoverText:{depends:["text"],layer:"popover",textColor:!0},popoverLink:{depends:["link"],layer:"popover",textColor:"preserve"},popoverIcon:{depends:["popover","popoverText"],color:(e,t,n)=>sa(t,n)},selectedPost:"--highlight",selectedPostFaintText:{depends:["highlightFaintText"],layer:"highlight",variant:"selectedPost",textColor:!0},selectedPostLightText:{depends:["highlightLightText"],layer:"highlight",variant:"selectedPost",textColor:!0},selectedPostPostLink:{depends:["highlightPostLink"],layer:"highlight",variant:"selectedPost",textColor:"preserve"},selectedPostFaintLink:{depends:["highlightFaintLink"],layer:"highlight",variant:"selectedPost",textColor:"preserve"},selectedPostText:{depends:["highlightText"],layer:"highlight",variant:"selectedPost",textColor:!0},selectedPostLink:{depends:["highlightLink"],layer:"highlight",variant:"selectedPost",textColor:"preserve"},selectedPostIcon:{depends:["selectedPost","selectedPostText"],color:(e,t,n)=>sa(t,n)},selectedMenu:{depends:["bg"],color:(e,t)=>Es(5*e,t).rgb},selectedMenuLightText:{depends:["highlightLightText"],layer:"selectedMenu",variant:"selectedMenu",textColor:!0},selectedMenuFaintText:{depends:["highlightFaintText"],layer:"selectedMenu",variant:"selectedMenu",textColor:!0},selectedMenuFaintLink:{depends:["highlightFaintLink"],layer:"selectedMenu",variant:"selectedMenu",textColor:"preserve"},selectedMenuText:{depends:["highlightText"],layer:"selectedMenu",variant:"selectedMenu",textColor:!0},selectedMenuLink:{depends:["highlightLink"],layer:"selectedMenu",variant:"selectedMenu",textColor:"preserve"},selectedMenuIcon:{depends:["selectedMenu","selectedMenuText"],color:(e,t,n)=>sa(t,n)},selectedMenuPopover:{depends:["popover"],color:(e,t)=>Es(5*e,t).rgb},selectedMenuPopoverLightText:{depends:["selectedMenuLightText"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:!0},selectedMenuPopoverFaintText:{depends:["selectedMenuFaintText"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:!0},selectedMenuPopoverFaintLink:{depends:["selectedMenuFaintLink"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:"preserve"},selectedMenuPopoverText:{depends:["selectedMenuText"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:!0},selectedMenuPopoverLink:{depends:["selectedMenuLink"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:"preserve"},selectedMenuPopoverIcon:{depends:["selectedMenuPopover","selectedMenuText"],color:(e,t,n)=>sa(t,n)},lightText:{depends:["text"],layer:"bg",textColor:"preserve",color:(e,t)=>Es(20*e,t).rgb},postLink:{depends:["link"],layer:"bg",textColor:"preserve"},postGreentext:{depends:["cGreen"],layer:"bg",textColor:"preserve"},postCyantext:{depends:["cBlue"],layer:"bg",textColor:"preserve"},border:{depends:["fg"],opacity:"border",color:(e,t)=>Es(2*e,t).rgb},poll:{depends:["accent","bg"],copacity:"poll",color:(e,t,n)=>$r(t,.4,n)},pollText:{depends:["text"],layer:"poll",textColor:!0},icon:{depends:["bg","text"],inheritsOpacity:!1,color:(e,t,n)=>sa(t,n)},fgText:{depends:["text"],layer:"fg",textColor:!0},fgLink:{depends:["link"],layer:"fg",textColor:"preserve"},panel:{depends:["fg"],opacity:"panel"},panelText:{depends:["text"],layer:"panel",textColor:!0},panelFaint:{depends:["fgText"],layer:"panel",opacity:"faint",textColor:!0},panelLink:{depends:["fgLink"],layer:"panel",textColor:"preserve"},topBar:"--fg",topBarText:{depends:["fgText"],layer:"topBar",textColor:!0},topBarLink:{depends:["fgLink"],layer:"topBar",textColor:"preserve"},tab:{depends:["btn"]},tabText:{depends:["btnText"],layer:"btn",textColor:!0},tabActiveText:{depends:["text"],layer:"bg",textColor:!0},btn:{depends:["fg"],variant:"btn",opacity:"btn"},btnText:{depends:["fgText"],layer:"btn",textColor:!0},btnPanelText:{depends:["btnText"],layer:"btnPanel",variant:"btn",textColor:!0},btnTopBarText:{depends:["btnText"],layer:"btnTopBar",variant:"btn",textColor:!0},btnPressed:{depends:["btn"],layer:"btn"},btnPressedText:{depends:["btnText"],layer:"btn",variant:"btnPressed",textColor:!0},btnPressedPanel:{depends:["btnPressed"],layer:"btn"},btnPressedPanelText:{depends:["btnPanelText"],layer:"btnPanel",variant:"btnPressed",textColor:!0},btnPressedTopBar:{depends:["btnPressed"],layer:"btn"},btnPressedTopBarText:{depends:["btnTopBarText"],layer:"btnTopBar",variant:"btnPressed",textColor:!0},btnToggled:{depends:["btn"],layer:"btn",color:(e,t)=>Es(e*20,t).rgb},btnToggledText:{depends:["btnText"],layer:"btn",variant:"btnToggled",textColor:!0},btnToggledPanelText:{depends:["btnPanelText"],layer:"btnPanel",variant:"btnToggled",textColor:!0},btnToggledTopBarText:{depends:["btnTopBarText"],layer:"btnTopBar",variant:"btnToggled",textColor:!0},btnDisabled:{depends:["btn","bg"],color:(e,t,n)=>$r(t,.25,n)},btnDisabledText:{depends:["btnText","btnDisabled"],layer:"btn",variant:"btnDisabled",color:(e,t,n)=>$r(t,.25,n)},btnDisabledPanelText:{depends:["btnPanelText","btnDisabled"],layer:"btnPanel",variant:"btnDisabled",color:(e,t,n)=>$r(t,.25,n)},btnDisabledTopBarText:{depends:["btnTopBarText","btnDisabled"],layer:"btnTopBar",variant:"btnDisabled",color:(e,t,n)=>$r(t,.25,n)},input:{depends:["fg"],opacity:"input"},inputText:{depends:["text"],layer:"input",textColor:!0},inputPanelText:{depends:["panelText"],layer:"inputPanel",variant:"input",textColor:!0},inputTopbarText:{depends:["topBarText"],layer:"inputTopBar",variant:"input",textColor:!0},alertError:{depends:["cRed"],opacity:"alert"},alertErrorText:{depends:["text"],layer:"alert",variant:"alertError",textColor:!0},alertErrorPanelText:{depends:["panelText"],layer:"alertPanel",variant:"alertError",textColor:!0},alertWarning:{depends:["cOrange"],opacity:"alert"},alertWarningText:{depends:["text"],layer:"alert",variant:"alertWarning",textColor:!0},alertWarningPanelText:{depends:["panelText"],layer:"alertPanel",variant:"alertWarning",textColor:!0},alertSuccess:{depends:["cGreen"],opacity:"alert"},alertSuccessText:{depends:["text"],layer:"alert",variant:"alertSuccess",textColor:!0},alertSuccessPanelText:{depends:["panelText"],layer:"alertPanel",variant:"alertSuccess",textColor:!0},alertNeutral:{depends:["text"],opacity:"alert"},alertNeutralText:{depends:["text"],layer:"alert",variant:"alertNeutral",color:(e,t)=>r8(t).rgb,textColor:!0},alertNeutralPanelText:{depends:["panelText"],layer:"alertPanel",variant:"alertNeutral",textColor:!0},alertPopupError:{depends:["alertError"],opacity:"alertPopup"},alertPopupErrorText:{depends:["alertErrorText"],layer:"popover",variant:"alertPopupError",textColor:!0},alertPopupWarning:{depends:["alertWarning"],opacity:"alertPopup"},alertPopupWarningText:{depends:["alertWarningText"],layer:"popover",variant:"alertPopupWarning",textColor:!0},alertPopupSuccess:{depends:["alertSuccess"],opacity:"alertPopup"},alertPopupSuccessText:{depends:["alertSuccessText"],layer:"popover",variant:"alertPopupSuccess",textColor:!0},alertPopupNeutral:{depends:["alertNeutral"],opacity:"alertPopup"},alertPopupNeutralText:{depends:["alertNeutralText"],layer:"popover",variant:"alertPopupNeutral",textColor:!0},badgeNotification:"--cRed",badgeNotificationText:{depends:["text","badgeNotification"],layer:"badge",variant:"badgeNotification",textColor:"bw"},badgeNeutral:"--cGreen",badgeNeutralText:{depends:["text","badgeNeutral"],layer:"badge",variant:"badgeNeutral",textColor:"bw"},chatBg:{depends:["bg"]},chatMessageIncomingBg:{depends:["chatBg"]},chatMessageIncomingText:{depends:["text"],layer:"chatMessage",variant:"chatMessageIncomingBg",textColor:!0},chatMessageIncomingLink:{depends:["link"],layer:"chatMessage",variant:"chatMessageIncomingBg",textColor:"preserve"},chatMessageIncomingBorder:{depends:["border"],opacity:"border",color:(e,t)=>Es(2*e,t).rgb},chatMessageOutgoingBg:{depends:["chatMessageIncomingBg"],color:(e,t)=>Es(5*e,t).rgb},chatMessageOutgoingText:{depends:["text"],layer:"chatMessage",variant:"chatMessageOutgoingBg",textColor:!0},chatMessageOutgoingLink:{depends:["link"],layer:"chatMessage",variant:"chatMessageOutgoingBg",textColor:"preserve"},chatMessageOutgoingBorder:{depends:["chatMessageOutgoingBg"],opacity:"border",color:(e,t)=>Es(2*e,t).rgb}},_W=3,pA=(e,t=hA)=>{const n=[e];let s=t[e];for(;s;)n.unshift(s),s=t[s];return n},qS=(e,t=e,n,s,o)=>pA(e).map(r=>[r===e?s[t]:s[r],r===e?o[n]||1:o[r]]),Nu=(e,t)=>{const n=t[e];if(typeof n=="string"&&n.startsWith("--"))return[n.substring(2)];{if(n===null)return[];const{depends:s,layer:o,variant:r}=n,i=o?pA(o).map(a=>a===o?r||o:a):[];return Array.isArray(s)?[...s,...i]:[...i]}},yW=(e=$i,t=Nu)=>{const n=Object.keys(e),s=new Set(n),o=new Set,r=new Set,i=[...n],a=[],c=d=>{if(s.has(d))s.delete(d),o.add(d),t(d,e).forEach(c),o.delete(d),r.add(d),a.push(d);else if(o.has(d))a.push(d);else if(!r.has(d))throw new Error("Unintended condition in topoSort!")};for(;i.length>0;)c(i.pop());return a.map((d,f)=>({data:d,index:f})).sort(({data:d,index:f},{data:h,index:v})=>{const _=t(d,e).length,S=t(h,e).length;return _===S||S!==0&&_!==0?f-v:_===0&&S!==0?-1:S===0&&_!==0?1:0}).map(({data:d})=>d)},u_=e=>typeof e=="object"?e:{depends:e.startsWith("--")?[e.substring(2)]:[],default:e.startsWith("#")?e:void 0},tu=(e,t=$i,n=Nu)=>{const s=u_(t[e]);if(s.opacity===null)return;if(s.opacity)return s.opacity;const o=(r,i=[e])=>{const a=n(r,t)[0];if(a===void 0)return;const c=t[a];if(c!==void 0)return c.opacity||c===null?c.opacity:c.depends&&i.includes(a)?o(a,[...i,a]):null};if(s.depends)return o(e)},HS=(e,t=$i,n=Nu)=>{const s=u_(t[e]);if(hA[e])return e;if(s.layer===null)return;if(s.layer)return s.layer;const o=(r,i=[e])=>{const a=n(r,t)[0];if(a===void 0)return;const c=t[a];if(c!==void 0)return c.layer||c===null?c.layer:c.depends?o(c,[...i,a]):null};if(s.depends)return o(e)},wW=yW(Object.entries($i).sort(([,e],[,t])=>(e&&e.priority||0)-(t&&t.priority||0)).reduce((e,[t,n])=>({...e,[t]:n}),{})),SW=Object.entries($i).reduce((e,[t])=>{const n=tu(t,$i,Nu);return n?{...e,[n]:{defaultValue:bW[n]||1,affectedSlots:[...e[n]&&e[n].affectedSlots||[],t]}}:e},{}),mA=(e,t,n)=>{if(typeof e!="string"||!e.startsWith("--"))return e;let s=null;const[o,r]=e.split(/,/g).map(a=>a.trim()),i=o.substring(2);return s=t(i),r&&(s=Es(Number.parseFloat(r)*n,s).rgb),s},kW=(e,t)=>wW.reduce(({colors:n,opacity:s},o)=>{const r=e[o],i=u_($i[o]),a=Nu(o,$i),c=!!i.textColor,d=i.variant||i.layer;let f=null;c?f=$b({...n[a[0]]||Tt(e[o]||"#FF00FF").rgb},qS(HS(o)||"bg",d||"bg",tu(d),n,s)):d&&d!==o?f=n[d]||Tt(e[d]).rgb:f=n.bg||Tt(e.bg);const v=ba(f)<.5?1:-1;let _=null;if(r){let P=r;if(P==="transparent"){const C=qS(HS(o),o,tu(o)||o,n,s).slice(0,-1);P={...$b(Tt("#FF00FF").rgb,C),a:0}}else typeof r=="string"&&r.startsWith("--")?P=mA(r,C=>n[C]||e[C],v):typeof r=="string"&&r.startsWith("#")&&(P=Tt(P).rgb);_={...P}}else if(i.default)_=Tt(i.default).rgb;else{const P=($,L)=>({...L}),C=i.color||P;if(i.textColor)if(i.textColor==="bw")_=o8(f).rgb;else{let $={...n[a[0]]};i.color&&($=C(v,...a.map(L=>({...n[L]})))),_=i_(f,{...$},i.textColor==="preserve")}else _=C(v,...a.map($=>({...n[$]})))}if(!_)throw new Error("Couldn't generate color for "+o);const S=i.opacity||tu(o),k=i.opacity;if(k===null)_.a=1;else if(r==="transparent")_.a=0;else{const P=k&&t[S]!==void 0,C=a[0],$=C&&n[C];!k&&$&&!i.textColor&&k!==null?_.a=$.a:!$&&!S?delete _.a:$&&$.a===0?_.a=0:_.a=Number(P?t[S]:(SW[S]||{}).defaultValue)}return(Number.isNaN(_.a)||_.a===void 0)&&(_.a=1),S?{colors:{...n,[o]:_},opacity:{...s,[S]:_.a}}:{colors:{...n,[o]:_},opacity:s}},{colors:{},opacity:{}}),$W=(e,t,n,s)=>({rules:{...n.rules,...e.rules,...t.rules,...s.rules},theme:{...n.theme,...e.theme,...t.theme,...s.theme}}),VS=e=>{const t=TW(e);return $W(t,AW(e),PW(e,t.theme.colors),EW(e))},WS=(e,t)=>e.length===0?"none":e.filter(n=>t?n.inset:n).map(n=>[n.x,n.y,n.blur,n.spread].map(s=>s+"px").concat([a8(n.color,n.alpha),n.inset?"inset":""]).join(" ")).join(", "),CW=e=>e.length===0?"none":e.filter(t=>!t.inset&&Number(t.spread)===0).map(t=>[t.x,t.y,t.blur/2].map(n=>n+"px").concat([a8(t.color,t.alpha)]).join(" ")).map(t=>`drop-shadow(${t})`).join(" "),TW=e=>{const t=e.themeEngineVersion?e.colors||e:OW(e.colors||e),{colors:n,opacity:s}=kW(t,e.opacity||{}),o=Object.entries(n).reduce((r,[i,a])=>(a&&(r.solid[i]=zf(a),r.complete[i]=typeof a.a>"u"?zf(a):Tl(a)),r),{complete:{},solid:{}});return{rules:{colors:Object.entries(o.complete).filter(([,r])=>r).map(([r,i])=>`--${r}: ${i}`).join(";")},theme:{colors:o.solid,opacity:s}}},AW=e=>{let t=e.radii||{};typeof e.btnRadius<"u"&&(t=Object.entries(e).filter(([s])=>s.endsWith("Radius")).reduce((s,o)=>(s[o[0].split("Radius")[0]]=o[1],s),{}));const n=Object.entries(t).filter(([,s])=>s).reduce((s,[o,r])=>(s[o]=r,s),{btn:4,input:4,checkbox:2,panel:10,avatar:5,avatarAlt:50,tooltip:2,attachment:5,chatMessage:t.panel});return{rules:{radii:Object.entries(n).filter(([,s])=>s).map(([s,o])=>`--${s}Radius: ${o}px`).join(";")},theme:{radii:n}}},EW=e=>{const t=Object.entries(e.fonts||{}).filter(([,n])=>n).reduce((n,[s,o])=>(n[s]=Object.entries(o).filter(([,r])=>r).reduce((r,[i,a])=>(r[i]=a,r),n[s]),n),{interface:{family:"sans-serif"},input:{family:"inherit"},post:{family:"inherit"},postCode:{family:"monospace"}});return{rules:{fonts:Object.entries(t).filter(([,n])=>n).map(([n,s])=>`--${n}Font: ${s.family}`).join(";")},theme:{fonts:t}}},Vf=(e,t)=>({x:0,y:e?1:-1,blur:0,spread:0,color:t?"#000000":"#FFFFFF",alpha:.2,inset:!0}),GS=[Vf(!0,!1),Vf(!1,!0)],KS=[Vf(!0,!0),Vf(!1,!1)],xS={x:0,y:0,blur:4,spread:0,color:"--faint",alpha:1},IW={panel:[{x:1,y:1,blur:4,spread:0,color:"#000000",alpha:.6}],topBar:[{x:0,y:0,blur:4,spread:0,color:"#000000",alpha:.6}],popup:[{x:2,y:2,blur:3,spread:0,color:"#000000",alpha:.5}],avatar:[{x:0,y:1,blur:8,spread:0,color:"#000000",alpha:.7}],avatarStatus:[],panelHeader:[],button:[{x:0,y:0,blur:2,spread:0,color:"#000000",alpha:1},...GS],buttonHover:[xS,...GS],buttonPressed:[xS,...KS],input:[...KS,{x:0,y:0,blur:2,inset:!0,spread:0,color:"#000000",alpha:1}]},PW=(e,t)=>{const n={button:"btn",panel:"bg",top:"topBar",popup:"popover",avatar:"bg",panelHeader:"panel",input:"input"},s=Object.fromEntries(Object.entries(e.shadows||{}).map(([i,a])=>[i,a.map(c=>({color:"#000000",...c}))])),o=s&&!e.themeEngineVersion?LW(s,e.opacity):s||{},r=Object.entries({...IW,...o}).reduce((i,[a,c])=>{const d=a.replace(/[A-Z].*$/,""),f=n[d],v=ba(Tt(t[f]).rgb)<.5?1:-1,_=c.reduce((S,k)=>[...S,{...k,color:zf(mA(k.color,P=>Tt(t[P]).rgb,v))}],[]);return{...i,[a]:_}},{});return{rules:{shadows:Object.entries(r).map(([i,a])=>[`--${i}Shadow: ${WS(a)}`,`--${i}ShadowFilter: ${CW(a)}`,`--${i}ShadowInset: ${WS(a,!0)}`].join(";")).join(";")},theme:{shadows:r}}},LW=(e,t)=>Object.entries(e).reduce((n,[s,o])=>{const r=({color:c="#000000"})=>c.startsWith("--"),i=({color:c})=>t[tu(c.substring(2).split(",")[0])],a=o.reduce((c,d)=>[...c,{...d,alpha:r(d)?i(d)||1:d.alpha}],[]);return{...n,[s]:a}},{}),OW=e=>Object.entries(e).reduce((t,[n,s])=>{const o=["","Panel","TopBar"];switch(n){case"lightBg":return{...t,highlight:s};case"btnText":return{...t,...o.reduce((r,i)=>({...r,["btn"+i+"Text"]:s}),{})};default:return{...t,[n]:s}}},{}),RW=["bg","wallpaper","fg","text","underlay","link","accent","faint","faintLink","postFaintLink","cBlue","cRed","cGreen","cOrange","profileBg","profileTint","highlight","highlightLightText","highlightPostLink","highlightFaintText","highlightFaintLink","highlightPostFaintLink","highlightText","highlightLink","highlightIcon","popover","popoverLightText","popoverPostLink","popoverFaintText","popoverFaintLink","popoverPostFaintLink","popoverText","popoverLink","popoverIcon","selectedPost","selectedPostFaintText","selectedPostLightText","selectedPostPostLink","selectedPostFaintLink","selectedPostText","selectedPostLink","selectedPostIcon","selectedMenu","selectedMenuLightText","selectedMenuFaintText","selectedMenuFaintLink","selectedMenuText","selectedMenuLink","selectedMenuIcon","selectedMenuPopover","selectedMenuPopoverLightText","selectedMenuPopoverFaintText","selectedMenuPopoverFaintLink","selectedMenuPopoverText","selectedMenuPopoverLink","selectedMenuPopoverIcon","lightText","postLink","postGreentext","postCyantext","border","poll","pollText","icon","fgText","fgLink","panel","panelText","panelFaint","panelLink","topBar","topBarText","topBarLink","tab","tabText","tabActiveText","btn","btnText","btnPanelText","btnTopBarText","btnPressed","btnPressedText","btnPressedPanel","btnPressedPanelText","btnPressedTopBar","btnPressedTopBarText","btnToggled","btnToggledText","btnToggledPanelText","btnToggledTopBarText","btnDisabled","btnDisabledText","btnDisabledPanelText","btnDisabledTopBarText","input","inputText","inputPanelText","inputTopbarText","alertError","alertErrorText","alertErrorPanelText","alertWarning","alertWarningText","alertWarningPanelText","alertSuccess","alertSuccessText","alertSuccessPanelText","alertNeutral","alertNeutralText","alertNeutralPanelText","alertPopupError","alertPopupErrorText","alertPopupWarning","alertPopupWarningText","alertPopupSuccess","alertPopupSuccessText","alertPopupNeutral","alertPopupNeutralText","badgeNeutral","badgeNeutralText","badgeNotification","badgeNotificationText","chatBg","chatMessageIncomingBg","chatMessageIncomingText","chatMessageIncomingLink","chatMessageIncomingBorder","chatMessageOutgoingBg","chatMessageOutgoingText","chatMessageOutgoingLink","chatMessageOutgoingBorder"],MW=new Set(["bg","fg","text","link","accent","cBlue","cRed","cGreen","cOrange","wallpaper"]),NW=new Set(["interface","input","post","postCode"]),FW=new Set(["alert","alertPopup","bg","border","btn","faint","input","panel","popover","profileTint","underlay"]),DW=new Set(["panel","topBar","popup","avatar","avatarStatus","panelHeader","button","buttonHover","buttonPressed","input"]),UW=new Set(["btn","input","checkbox","panel","avatar","avatarAlt","tooltip","attachment","chatMessage"]),jW=["border","icon","highlight","lightText","popover","panel","topBar","tab","btn","input","selectedMenu","alert","alertPopup","badge","post","selectedPost","poll","chatBg","chatMessage"],BW=new Set(["border","icon","highlight","lightText","chatBg"]),zW=Object.fromEntries(jW.map(e=>[e,RW.filter(t=>e==="alert"?t.startsWith(e)&&!t.startsWith("alertPopup"):t.startsWith(e))])),qW=e=>{e.colors.accent=e.colors.accent||e.colors.link,e.colors.link=e.colors.link||e.colors.accent;const t=()=>{const c={};return MW.forEach(d=>{c["--"+d]="color | "+Tt(e.colors[d]).hex}),{component:"Root",directives:c}},n=()=>{const c=[];return Object.keys(e.opacity||{}).forEach(d=>{if(!FW.has(d)||e.opacity[d]===void 0)return null;const f=e.opacity[d],h={source:"2to3"};switch(d){case"alert":h.component="Alert";break;case"alertPopup":h.component="Alert",h.parent={component:"Popover"};break;case"bg":h.component="Panel";break;case"border":h.component="Border";break;case"btn":h.component="Button";break;case"faint":h.component="Text",h.state=["faint"];break;case"input":h.component="Input";break;case"panel":h.component="PanelHeader";break;case"popover":h.component="Popover";break;case"profileTint":return null;case"underlay":h.component="Underlay";break}switch(d){case"alert":case"alertPopup":case"bg":case"btn":case"input":case"panel":case"popover":case"underlay":h.directives={opacity:f};break;case"faint":case"border":h.directives={textOpacity:f};break}c.push(h),h.component==="Button"&&(c.push({...h,component:"ScrollbarElement"}),c.push({...h,component:"Tab"}),c.push({...h,component:"Tab",state:["active"],directives:{opacity:0}})),h.component==="Panel"&&c.push({...h,component:"Post"})}),c},s=()=>{const c=[];return Object.keys(e.radii||{}).forEach(d=>{if(!UW.has(d)||e.radii[d]===void 0)return null;const f=e.radii[d],h={source:"2to3"};switch(d){case"btn":h.component="Button";break;case"tab":h.component="Tab";break;case"input":h.component="Input";break;case"checkbox":h.component="Input",h.variant="checkbox";break;case"panel":h.component="Panel";break;case"avatar":h.component="Avatar";break;case"avatarAlt":h.component="Avatar",h.variant="compact";break;case"tooltip":h.component="Popover";break;case"attachment":h.component="Attachment";break;case"ChatMessage":h.component="Button";break}h.directives={roundness:f},c.push(h),h.component==="Button"&&(c.push({...h,component:"ScrollbarElement"}),c.push({...h,component:"Tab"}))}),c},o=()=>{const c=[];return Object.keys(e.fonts||{}).forEach(d=>{if(!NW.has(d)||!e.fonts[d])return;const f=e.fonts[d].family,h={source:"2to3"};switch(d){case"interface":case"postCode":h.component="Root";break;case"input":h.component="Input";break;case"post":h.component="RichContent";break}switch(d){case"interface":case"input":case"post":h.directives={"--font":"generic | "+f};break;case"postCode":h.directives={"--monoFont":"generic | "+f},c.push({...h,component:"RichContent"});break}c.push(h)}),c},r=()=>{const c=[];return Object.keys(e.shadows||{}).forEach(d=>{if(!DW.has(d))return;const f=e.shadows[d],h={source:"2to3"};switch(d){case"panel":h.component="Panel";break;case"topBar":h.component="TopBar";break;case"popup":h.component="Popover";break;case"avatar":h.component="Avatar";break;case"avatarStatus":h.component="Avatar",h.parent={component:"Post"};break;case"panelHeader":h.component="PanelHeader";break;case"button":h.component="Button";break;case"buttonHover":h.component="Button",h.state=["hover"];break;case"buttonPressed":h.component="Button",h.state=["pressed"];break;case"input":h.component="Input";break}h.directives={shadow:f},c.push(h),d==="topBar"&&c.push({...h,component:"PanelHeader",parent:{component:"MobileDrawer"}}),d==="avatarStatus"&&c.push({...h,parent:{component:"Notification"}}),d==="buttonPressed"&&(c.push({...h,state:["toggled"]}),c.push({...h,state:["toggled","focus"]}),c.push({...h,state:["pressed","focus"]}),c.push({...h,state:["toggled","focus","hover"]}),c.push({...h,state:["pressed","focus","hover"]})),h.component==="Button"&&(c.push({...h,component:"ScrollbarElement"}),c.push({...h,component:"Tab"}))}),c},a=Object.entries(zW).map(([c,d])=>{if(BW.has(c))return null;const f={source:"2to3"};return c==="alertPopup"?(f.component="Alert",f.parent={component:"Popover"}):c==="selectedPost"?(f.component="Post",f.state=["selected"]):c==="selectedMenu"?(f.component="MenuItem",f.state=["hover"]):c==="chatMessageIncoming"?f.component="ChatMessage":c==="chatMessageOutgoing"?(f.component="ChatMessage",f.variant="outgoing"):c==="panel"?f.component="PanelHeader":c==="topBar"?f.component="TopBar":c==="chatMessage"?f.component="ChatMessage":c==="poll"?f.component="PollGraph":c==="btn"?f.component="Button":f.component=c[0].toUpperCase()+c.slice(1).toLowerCase(),d.map(h=>{var C,$;if(!e.colors[h])return null;const _=(h.replace(c,"")||"Bg").match(/[A-Z][a-z]*/g),S=_.slice(-1)[0];let k={source:"2to3",directives:{}},P=[];switch(S){case"Text":case"Faint":case"Link":case"Icon":case"Greentext":case"Cyantext":case"Border":k.parent=f,k.directives.textColor=e.colors[h],P=_.slice(0,-1);break;default:k={...f,directives:{}},k.directives.background=e.colors[h],P=_;break}if(S==="Text"||S==="Link"){const L=_.slice(-2)[0];if(L==="Light")return null;L==="Faint"&&(k.state=["faint"],P=_.slice(0,-2))}switch(S){case"Text":case"Link":case"Icon":case"Border":k.component=S;break;case"Greentext":case"Cyantext":k.component="FunText",k.variant=S.toLowerCase();break;case"Faint":k.component="Text",k.state=["faint"];break}switch(P=P.filter(L=>L!=="Bg"),S==="Link"&&c==="selectedPost"&&(P=P.filter(L=>L!=="Post")),c==="popover"&&P[0]==="Post"&&(k.component="Post",k.parent={source:"2to3hack",component:"Popover"},P=P.filter(L=>L!=="Post")),c==="selectedMenu"&&P[0]==="Popover"&&(k.parent={source:"2to3hack",component:"Popover"},P=P.filter(L=>L!=="Popover")),c){case"btn":case"input":case"alert":{P.find(R=>R==="Panel")&&(k.parent={source:"2to3hack",component:"PanelHeader",parent:k.parent},P=P.filter(R=>R!=="Panel")),P.find(R=>R==="Top")&&(k.parent={source:"2to3hack",component:"TopBar",parent:k.parent},P=P.filter(R=>R!=="Top"&&R!=="Bar"));break}}if(P.length>0&&(c==="btn"?k.state=P.map(L=>L.toLowerCase()):k.variant=P[0].toLowerCase()),k.component==="Panel")return[k,{...k,component:"MobileDrawer"}];if(k.component==="Button"){const L=[k,{...k,component:"Tab"},{...k,component:"ScrollbarElement"}];return((C=k.state)==null?void 0:C.indexOf("toggled"))>=0&&(L.push({...k,state:[...k.state,"focused"]}),L.push({...k,state:[...k.state,"hover"]}),L.push({...k,state:[...k.state,"hover","focused"]})),(($=k.state)==null?void 0:$.indexOf("hover"))>=0&&L.push({...k,state:[...k.state,"focused"]}),L}else return k.component==="Badge"?k.variant==="notification"?[k,{component:"Root",directives:{"--badgeNotification":"color | "+k.directives.background}}]:k.variant==="neutral"?[{...k,variant:"normal"}]:[k]:k.component==="TopBar"?[k,{...k,parent:{component:"MobileDrawer"},component:"PanelHeader"}]:[k]})}).filter(c=>c).reduce((c,d)=>[...c,...d],[]).filter(c=>c).reduce((c,d)=>[...c,...d],[]);return[t(),...r(),...s(),...n(),...o(),...a]},Qe=ys("interface",{state:()=>({localFonts:null,themeApplied:!1,themeChangeInProgress:!1,themeVersion:"v3",styleNameUsed:null,styleDataUsed:null,useStylePalette:!1,paletteNameUsed:null,paletteDataUsed:null,themeNameUsed:null,themeDataUsed:null,temporaryChangesTimeoutId:null,temporaryChangesConfirm:()=>{},temporaryChangesRevert:()=>{},settingsModalState:"hidden",settingsModalLoadedUser:!1,settingsModalLoadedAdmin:!1,settingsModalTargetTab:null,settingsModalMode:"user",settings:{currentSaveStateNotice:null,noticeClearTimeout:null,notificationPermission:null},browserSupport:{cssFilter:window.CSS&&window.CSS.supports&&(window.CSS.supports("filter","drop-shadow(0 0)")||window.CSS.supports("-webkit-filter","drop-shadow(0 0)")),localFonts:typeof window.queryLocalFonts=="function"},layoutType:"normal",globalNotices:[],layoutHeight:0,lastTimeline:null}),actions:{setTemporaryChanges({timeoutId:e,confirm:t,revert:n}){this.temporaryChangesTimeoutId=e,this.temporaryChangesConfirm=t,this.temporaryChangesRevert=n},clearTemporaryChanges(){clearTimeout(this.temporaryChangesTimeoutId),this.temporaryChangesTimeoutId=null,this.temporaryChangesConfirm=()=>{},this.temporaryChangesRevert=()=>{}},setPageTitle(e=""){try{document.title=`${e} ${window.vuex.state.instance.name}`}catch(t){console.error(`${t}`)}},settingsSaved({success:e,error:t}){e?(this.noticeClearTimeout&&clearTimeout(this.noticeClearTimeout),this.settings.currentSaveStateNotice={error:!1,data:e},this.settings.noticeClearTimeout=setTimeout(()=>delete this.settings.currentSaveStateNotice,2e3)):this.settings.currentSaveStateNotice={error:!0,errorData:t}},setNotificationPermission(e){this.notificationPermission=e},closeSettingsModal(){this.settingsModalState="hidden"},openSettingsModal(e){this.settingsModalMode=e,this.settingsModalState="visible",e==="user"?this.settingsModalLoadedUser||(this.settingsModalLoadedUser=!0):e==="admin"&&(this.settingsModalLoadedAdmin||(this.settingsModalLoadedAdmin=!0))},togglePeekSettingsModal(){switch(this.settingsModalState){case"minimized":this.settingsModalState="visible";return;case"visible":this.settingsModalState="minimized";return;default:throw new Error("Illegal minimization state of settings modal")}},clearSettingsModalTargetTab(){this.settingsModalTargetTab=null},openSettingsModalTab(e,t="user"){this.settingsModalTargetTab=e,this.openSettingsModal(t)},removeGlobalNotice(e){this.globalNotices=this.globalNotices.filter(t=>t!==e)},pushGlobalNotice({messageKey:e,messageArgs:t={},level:n="error",timeout:s=0}){const o={messageKey:e,messageArgs:t,level:n};this.globalNotices.push(o);const r=this.globalNotices[this.globalNotices.length-1];return s&&setTimeout(()=>this.removeGlobalNotice(r),s),r},setLayoutHeight(e){this.layoutHeight=e},setLayoutWidth(e){let t=e;e!==void 0?this.layoutWidth=e:t=this.layoutWidth;const s=t<=800?"mobile":"normal",{thirdColumnMode:o}=window.vuex.getters.mergedConfig;if(o==="none"||!window.vuex.state.users.currentUser)this.layoutType=s;else{const r=t>=1300;this.layoutType=r?"wide":s}},setFontsList(e){this.localFonts=[...new Set(e.map(t=>t.family)).values()]},queryLocalFonts(){this.localFonts===null&&(this.setFontsList([]),this.browserSupport.localFonts&&window.queryLocalFonts().then(e=>{this.setFontsList(e)}).catch(e=>{this.pushGlobalNotice({messageKey:"settings.style.themes3.font.font_list_unavailable",messageArgs:{error:e},level:"error"})}))},setLastTimeline(e){this.lastTimeline=e},async fetchPalettesIndex(){try{const e=await Qm("/static/palettes/index.json");return window.vuex.commit("setInstanceOption",{name:"palettesIndex",value:e}),e}catch(e){return console.error("Could not fetch palettes index",e),window.vuex.commit("setInstanceOption",{name:"palettesIndex",value:{_error:e}}),Promise.resolve({})}},setPalette(e){this.resetThemeV3Palette(),this.resetThemeV2(),window.vuex.commit("setOption",{name:"palette",value:e}),this.applyTheme({recompile:!0})},setPaletteCustom(e){this.resetThemeV3Palette(),this.resetThemeV2(),window.vuex.commit("setOption",{name:"paletteCustomData",value:e}),this.applyTheme({recompile:!0})},async fetchStylesIndex(){try{const e=await Qm("/static/styles/index.json",xV);return window.vuex.commit("setInstanceOption",{name:"stylesIndex",value:e}),e}catch(e){return console.error("Could not fetch styles index",e),window.vuex.commit("setInstanceOption",{name:"stylesIndex",value:{_error:e}}),Promise.resolve({})}},setStyle(e){this.resetThemeV3(),this.resetThemeV2(),this.resetThemeV3Palette(),window.vuex.commit("setOption",{name:"style",value:e}),this.useStylePalette=!0,this.applyTheme({recompile:!0}).then(()=>{this.useStylePalette=!1})},setStyleCustom(e){this.resetThemeV3(),this.resetThemeV2(),this.resetThemeV3Palette(),window.vuex.commit("setOption",{name:"styleCustomData",value:e}),this.useStylePalette=!0,this.applyTheme({recompile:!0}).then(()=>{this.useStylePalette=!1})},async fetchThemesIndex(){try{const e=await Qm("/static/styles.json");return window.vuex.commit("setInstanceOption",{name:"themesIndex",value:e}),e}catch(e){return console.error("Could not fetch themes index",e),window.vuex.commit("setInstanceOption",{name:"themesIndex",value:{_error:e}}),Promise.resolve({})}},setTheme(e){this.resetThemeV3(),this.resetThemeV3Palette(),this.resetThemeV2(),window.vuex.commit("setOption",{name:"theme",value:e}),this.applyTheme({recompile:!0})},setThemeCustom(e){this.resetThemeV3(),this.resetThemeV3Palette(),this.resetThemeV2(),window.vuex.commit("setOption",{name:"customTheme",value:e}),window.vuex.commit("setOption",{name:"customThemeSource",value:e}),this.applyTheme({recompile:!0})},resetThemeV3(){window.vuex.commit("setOption",{name:"style",value:null}),window.vuex.commit("setOption",{name:"styleCustomData",value:null})},resetThemeV3Palette(){window.vuex.commit("setOption",{name:"palette",value:null}),window.vuex.commit("setOption",{name:"paletteCustomData",value:null})},resetThemeV2(){window.vuex.commit("setOption",{name:"theme",value:null}),window.vuex.commit("setOption",{name:"customTheme",value:null}),window.vuex.commit("setOption",{name:"customThemeSource",value:null})},async getThemeData(){var k;const e=async(P,C,$,L)=>{const T=P[0].toUpperCase()+P.slice(1),R={};if($)R.nameUsed="custom",R.dataUsed=$;else{if(R.nameUsed=L,R.nameUsed==null)return R.dataUsed=null,R;let q=C[R.nameUsed];if(!q){if(P==="style"||P==="palette")return R;const D=Object.keys(C)[0];q=C[D],console.warn(`${T} with id '${this.styleNameUsed}' not found, trying back to '${D}'`),q||(console.warn(`${T} doesn't have a fallback, defaulting to stock.`),q=()=>Promise.resolve(null))}R.dataUsed=await q()}return R},{style:t,palette:n}=window.vuex.state.instance;let{theme:s,themesIndex:o,stylesIndex:r,palettesIndex:i}=window.vuex.state.instance;const{style:a,styleCustomData:c,palette:d,paletteCustomData:f}=window.vuex.state.config;let{theme:h,customTheme:v,customThemeSource:_}=window.vuex.state.config,S;if(console.debug(`User V3 palette: ${d}, style: ${a} , custom: ${!!c}`),console.debug(`User V2 name: ${h}, source: ${!!_}, snapshot: ${!!v}`),console.debug(`Instance V3 palette: ${n}, style: ${t}`),console.debug("Instance V2 theme: "+s),d||f||a||c||(n||t)&&s==null&&h==null?(s=null,h=null,_=null,v=null,S="v3"):h||v||_||s?S="v2":S="v3",S==="v3"){const P=await Promise.all([this.fetchPalettesIndex(),this.fetchStylesIndex()]);i=P[0],r=P[1]}else o=(await Promise.all([this.fetchThemesIndex()]))[0];if(this.themeVersion=S,console.debug("Version used",S),S==="v3"){this.themeDataUsed=null,this.themeNameUsed=null;const P=await e("style",r,c,a||t);this.styleNameUsed=P.nameUsed,this.styleDataUsed=P.dataUsed;let C=null;(k=P.dataUsed)==null||k.filter(L=>L.component==="@palette").map(L=>{const T=Object.fromEntries(Object.entries(L.directives).filter(([R])=>R));return{name:L.variant,...T}}).forEach(L=>{const T="style."+L.name.toLowerCase().replace(/ /g,"_");C||(C=T),i[T]=()=>Promise.resolve(L)});const $=await e("palette",i,f,this.useStylePalette?C:d||n);if(this.useStylePalette&&window.vuex.commit("setOption",{name:"palette",value:C}),this.paletteNameUsed=$.nameUsed,this.paletteDataUsed=$.dataUsed,this.paletteDataUsed&&(this.paletteDataUsed.link=this.paletteDataUsed.link||this.paletteDataUsed.accent,this.paletteDataUsed.accent=this.paletteDataUsed.accent||this.paletteDataUsed.link),Array.isArray(this.paletteDataUsed)){const[L,T,R,q,D,x="#FF0000",oe="#00FF00",V="#0000FF",ce="#E3FF00"]=$.dataUsed;this.paletteDataUsed={name:L,bg:T,fg:R,text:q,link:D,accent:D,cRed:x,cBlue:V,cGreen:oe,cOrange:ce}}console.debug("Palette data used",$.dataUsed)}else{this.styleNameUsed=null,this.styleDataUsed=null,this.paletteNameUsed=null,this.paletteDataUsed=null;const P=await e("theme",o,_||v,h||s);this.themeNameUsed=P.nameUsed,this.themeDataUsed=P.dataUsed}},async setThemeApplied(){this.themeApplied=!0},async applyTheme({recompile:e=!1}={}){const{forceThemeRecompilation:t,themeDebug:n,theme3hacks:s}=window.vuex.state.config;this.themeChangeInProgress=!0;const o=t||e;if(await this.getThemeData(),!o&&!n&&await nW())return this.themeChangeInProgress=!1,this.setThemeApplied();window.splashUpdate("splash.theme");try{const r=(()=>{if(!this.paletteDataUsed)return null;const d={component:"Root",directives:{}};return Object.entries(this.paletteDataUsed).filter(([f])=>f!=="name").forEach(([f,h])=>{let v;switch(f){case"background":v="bg";break;case"foreground":v="fg";break;default:v=f}d.directives["--"+v]="color | "+h}),d})(),i=this.themeDataUsed&&qW(gA(this.themeDataUsed)),a=[];Object.entries(s).forEach(([d,f])=>{switch(d){case"fonts":{Object.entries(s.fonts).forEach(([h,v])=>{if(v!=null&&v.family)switch(h){case"interface":a.push({component:"Root",directives:{"--font":"generic | "+v.family}});break;case"input":a.push({component:"Input",directives:{"--font":"generic | "+v.family}});break;case"post":a.push({component:"RichContent",directives:{"--font":"generic | "+v.family}});break;case"monospace":a.push({component:"Root",directives:{"--monoFont":"generic | "+v.family}});break}});break}case"underlay":{if(f!=="none"){const h={component:"Underlay",directives:{}};f==="opaque"&&(h.directives.opacity=1,h.directives.background="--wallpaper"),f==="transparent"&&(h.directives.opacity=0),a.push(h)}break}}});const c=[i,this.styleDataUsed,r,a].filter(d=>d);return sW(c.flat(),()=>this.setThemeApplied(),()=>{this.themeChangeInProgress=!1},n)}catch(r){window.splashError(r)}}}}),gA=e=>{let t,n;if(e.themeFileVerison===1)return VS(e).theme;Object.prototype.hasOwnProperty.call(e,"_pleroma_theme_version")||Object.prototype.hasOwnProperty.call(e,"source")||Object.prototype.hasOwnProperty.call(e,"theme")?(t=e.theme,n=e.source):(Object.prototype.hasOwnProperty.call(e,"themeEngineVersion")||Object.prototype.hasOwnProperty.call(e,"colors"))&&(t=e,n=e);let s;return n&&n.themeEngineVersion===_W?s={...t||{},...n}:s=t,VS(s).theme},HW=Object.freeze(Object.defineProperty({__proto__:null,normalizeThemeData:gA,useInterfaceStore:Qe},Symbol.toStringTag,{value:"Module"})),VW="userLanguage",WW=new Set(["sidebarColumnWidth","contentColumnWidth","notifsColumnWidth","themeEditorMinWidth","textSize","navbarSize","panelHeaderSize","forcedRoundness","emojiSize","emojiReactionsScale"]),vA=Object.entries(eu).filter(([,e])=>e===void 0).map(([e])=>e),GW={state:{...eu},getters:{defaultConfig(e,t,n){const{instance:s}=n;return{...eu,...Object.fromEntries(vA.map(o=>[o,s[o]]))}},mergedConfig(e,t,n,s){const{defaultConfig:o}=s;return{...o,...Object.fromEntries(Object.entries(e).filter(([,r])=>r!==void 0))}}},mutations:{setOptionTemporarily(e,{name:t,value:n}){Z.set(e,t,n),Ab(e)},setOption(e,{name:t,value:n}){Z.set(e,t,n)},setHighlight(e,{user:t,color:n,type:s}){const o=this.state.config.highlight[t];n||s?e.highlight[t]={color:n||o.color,type:s||o.type}:delete e.highlight[t]}},actions:{loadSettings({dispatch:e},t){const n=new Set(Object.keys(eu)),s=new Set(Object.keys(t)),o=new Set;for(const r of s)n.has(r)&&o.add(r);o.forEach(r=>e("setOption",{name:r,value:t[r]}))},setHighlight({commit:e},{user:t,color:n,type:s}){e("setHighlight",{user:t,color:n,type:s})},setOptionTemporarily({commit:e,dispatch:t,state:n},{name:s,value:o}){if(Qe().temporaryChangesTimeoutId!==null){console.warn("Can't track more than one temporary change");return}const r=n[s];e("setOptionTemporarily",{name:s,value:o});const i=()=>{t("setOption",{name:s,value:o}),Qe().clearTemporaryChanges()},a=()=>{e("setOptionTemporarily",{name:s,value:r}),Qe().clearTemporaryChanges()};Qe().setTemporaryChanges({timeoutId:setTimeout(a,1e4),confirm:i,revert:a})},setThemeV2({commit:e,dispatch:t},{customTheme:n,customThemeSource:s}){e("setOption",{name:"theme",value:"custom"}),e("setOption",{name:"customTheme",value:n}),e("setOption",{name:"customThemeSource",value:s}),t("setTheme",{themeData:s,recompile:!0})},setOption({commit:e,dispatch:t,state:n},{name:s,value:o}){if(new Set(["useStreamingApi"]).has(s))switch(s){case"useStreamingApi":{t(o?"enableMastoSockets":"disableMastoSockets").then(()=>{e("setOption",{name:"useStreamingApi",value:o})}).catch(a=>{console.error("Failed starting MastoAPI Streaming socket",a),t("disableMastoSockets"),t("setOption",{name:"useStreamingApi",value:!1})});break}}else switch(e("setOption",{name:s,value:o}),WW.has(s)&&Ab(n),s.startsWith("theme3hacks")&&t("applyTheme",{recompile:!0}),s){case"theme":if(o==="custom")break;t("setTheme",{themeName:o,recompile:!0,saveData:!0});break;case"themeDebug":{t("setTheme",{recompile:!0});break}case"interfaceLanguage":Nh.setLanguage(Rh().i18n,o),t("loadUnicodeEmojiData",o),nH.set(VW,ko.internalToBackendLocaleMulti(o));break;case"thirdColumnMode":Qe().setLayoutWidth(void 0);break}}}},KW={ar:()=>He(()=>import("./ar.B8mhZA6U.js"),[]),ca:()=>He(()=>import("./ca.BNs7Pavf.js"),[]),cs:()=>He(()=>import("./cs.CdaRuLZ2.js"),[]),de:()=>He(()=>import("./de.i-ePE-E2.js"),[]),en:()=>He(()=>import("./en.UxzeFsjk.js"),[]),es:()=>He(()=>import("./es.BgprEtDA.js"),[]),et:()=>He(()=>import("./et.RsBIeRrK.js"),[]),eu:()=>He(()=>import("./eu.DflrXXOX.js"),[]),fi:()=>He(()=>import("./fi.BQTjfiqL.js"),[]),fr:()=>He(()=>import("./fr.6uuBHV2n.js"),[]),ga:()=>He(()=>import("./ga.D-L92xRm.js"),[]),he:()=>He(()=>import("./he.Ql7ZB6oR.js"),[]),hu:()=>He(()=>import("./hu.CfFMlYJN.js"),[]),it:()=>He(()=>import("./it.CjUsZ0f4.js"),[]),ja:()=>He(()=>import("./ja.Cp7hRpKj.js"),[]),ja_easy:()=>He(()=>import("./ja.Cp7hRpKj.js"),[]),ko:()=>He(()=>import("./ko.DGjjBGsA.js"),[]),nl:()=>He(()=>import("./nl.BCmP3XAV.js"),[]),pl:()=>He(()=>import("./pl.C1i62U33.js"),[]),pt:()=>He(()=>import("./pt.qcD2jbqr.js"),[]),ro:()=>He(()=>import("./ro.Q0r94aGX.js"),[]),ru:()=>He(()=>import("./ru.BsjC3M1d.js"),[]),sk:()=>He(()=>import("./sk.BrZ6jXEe.js"),[]),te:()=>He(()=>import("./te.3rQpXN4b.js"),[]),uk:()=>He(()=>import("./uk.C7RXZT0o.js"),[]),zh:()=>He(()=>import("./zh.DXJ_1nIQ.js"),[]),zh_Hant:()=>He(()=>import("./zh_Hant.ccXyIXaI.js"),[])},YS=["smileys-and-emotion","people-and-body","animals-and-nature","food-and-drink","travel-and-places","activities","objects","symbols","flags"],xW=(()=>{const n="A".codePointAt(0),s=new Array(26);for(let o=127462;o<=127487;++o){const r=String.fromCodePoint(n+o-127462);s[o-127462]={replacement:String.fromCodePoint(o),imageUrl:!1,displayText:"regional_indicator_"+r,displayTextI18n:{key:"emoji.regional_indicator",args:{letter:r}}}}return s})(),YW="/main/ostatus",XW={name:"Pleroma FE",registrationOpen:!0,server:"http://localhost:4040/",textlimit:5e3,themesIndex:void 0,stylesIndex:void 0,palettesIndex:void 0,themeData:void 0,vapidPublicKey:void 0,alwaysShowSubjectInput:!0,defaultAvatar:"/images/avi.png",defaultBanner:"/images/banner.png",background:"/static/aurora_borealis.jpg",embeddedToS:!0,collapseMessageWithSubject:!1,greentext:!1,mentionLinkDisplay:"short",mentionLinkShowTooltip:!0,mentionLinkShowAvatar:!1,mentionLinkFadeDomain:!0,mentionLinkShowYous:!1,mentionLinkBoldenYou:!0,hideFilteredStatuses:!1,hideMutedPosts:!1,hideMutedThreads:!0,hideWordFilteredPosts:!1,hidePostStats:!1,hideBotIndication:!1,hideSitename:!1,hideUserStats:!1,muteBotStatuses:!1,muteSensitiveStatuses:!1,modalOnRepeat:!1,modalOnUnfollow:!1,modalOnBlock:!0,modalOnMute:!1,modalOnMuteConversation:!1,modalOnMuteDomain:!0,modalOnDelete:!0,modalOnLogout:!0,modalOnApproveFollow:!1,modalOnDenyFollow:!1,modalOnRemoveUserFromFollowers:!1,modalMobileCenter:!1,loginMethod:"password",logo:"/static/logo.svg",logoMargin:".2em",logoMask:!0,logoLeft:!1,disableUpdateNotification:!1,minimalScopesMode:!1,nsfwCensorImage:void 0,postContentType:"text/plain",redirectRootLogin:"/main/friends",redirectRootNoLogin:"/main/all",scopeCopy:!0,showFeaturesPanel:!0,showInstanceSpecificPanel:!1,sidebarRight:!1,subjectLineBehavior:"email",theme:"pleroma-dark",palette:null,style:null,emojiReactionsScale:.5,textSize:"14px",emojiSize:"2.2rem",navbarSize:"3.5rem",panelHeaderSize:"3.2rem",themeEditorMinWidth:"0rem",forcedRoundness:-1,fontsOverride:{},virtualScrolling:!0,sensitiveByDefault:!1,conversationDisplay:"linear",conversationTreeAdvanced:!1,conversationOtherRepliesButton:"below",conversationTreeFadeAncestors:!1,showExtraNotifications:!0,showExtraNotificationsTip:!0,showChatsInExtraNotifications:!0,showAnnouncementsInExtraNotifications:!0,showFollowRequestsInExtraNotifications:!0,maxDepthInThread:6,autocompleteSelect:!1,closingDrawerMarksAsSeen:!0,unseenAtTop:!1,ignoreInactionableSeen:!1,unsavedPostAction:"confirm",autoSaveDraft:!1,useAbsoluteTimeFormat:!1,absoluteTimeFormatMinAge:"0d",absoluteTime12h:"24h",customEmoji:[],customEmojiFetched:!1,emoji:{},emojiFetched:!1,unicodeEmojiAnnotations:{},pleromaBackend:!0,postFormats:[],restrictedNicknames:[],safeDM:!0,knownDomains:[],birthdayRequired:!1,birthdayMinAge:0,shoutAvailable:!1,pleromaChatMessagesAvailable:!1,pleromaCustomEmojiReactionsAvailable:!1,pleromaBookmarkFoldersAvailable:!1,gopherAvailable:!1,mediaProxyAvailable:!1,suggestionsEnabled:!1,suggestionsWeb:"",quotingAvailable:!1,groupActorAvailable:!1,instanceSpecificPanelContent:"",tos:"",backendVersion:"",backendRepository:"",frontendVersion:"",pollsAvailable:!1,pollLimits:{max_options:4,max_option_chars:255,min_expiration:60,max_expiration:60*60*24}},JW=e=>KW[e]().then(t=>t.default),XS=(e,t)=>{const n=Object.keys(t);return{...e,annotations:n.reduce((s,o)=>(s[o]=t[o][e.replacement],s),{})}},ZW=e=>(e.symbols.push(...xW),e),QW={state:XW,mutations:{setInstanceOption(e,{name:t,value:n}){typeof n<"u"&&(e[t]=n)},setKnownDomains(e,t){e.knownDomains=t},setUnicodeEmojiAnnotations(e,{lang:t,annotations:n}){e.unicodeEmojiAnnotations[t]=n}},getters:{instanceDefaultConfig(e){return vA.map(t=>[t,e[t]]).reduce((t,[n,s])=>({...t,[n]:s}),{})},groupedCustomEmojis(e){const t=n=>{const s=n.tags.filter(o=>o.startsWith("pack:")).map(o=>{const r=o.slice(5);return{id:`custom-${r}`,text:r}});return s.length?s:[{id:"unpacked"}]};return e.customEmoji.reduce((n,s)=>(t(s).forEach(({id:o,text:r})=>{n[o]||(n[o]={id:o,text:r,image:s.imageUrl,emojis:[]}),n[o].emojis.push(s)}),n),{})},standardEmojiList(e){return YS.map(t=>(e.emoji[t]||[]).map(n=>XS(n,e.unicodeEmojiAnnotations))).reduce((t,n)=>t.concat(n),[])},standardEmojiGroupList(e){return YS.map(t=>({id:t,emojis:(e.emoji[t]||[]).map(n=>XS(n,e.unicodeEmojiAnnotations))}))},instanceDomain(e){return new URL(e.server).hostname},remoteInteractionLink(e){const n=(e.server.endsWith("/")?e.server.slice(0,-1):e.server)+YW;return({statusId:s,nickname:o})=>s?`${n}?status_id=${s}`:`${n}?nickname=${o}`}},actions:{setInstanceOption({commit:e,dispatch:t},{name:n,value:s}){switch(e("setInstanceOption",{name:n,value:s}),n){case"name":Qe().setPageTitle();break;case"shoutAvailable":s&&t("initializeSocket");break}},async getStaticEmoji({commit:e}){try{const t=(await He(async()=>{const{default:s}=await import("./emoji.CF2IDMqM.js");return{default:s}},[])).default,n=Object.keys(t).reduce((s,o)=>(s[o]=t[o].map(r=>({displayText:r.slug,imageUrl:!1,replacement:r.emoji})),s),{});e("setInstanceOption",{name:"emoji",value:ZW(n)})}catch(t){console.warn(`Can't load static emoji
`,t)}},loadUnicodeEmojiData({commit:e,state:t},n){const s=l_(n);return Promise.all(s.map(async o=>{if(!t.unicodeEmojiAnnotations[o])try{const r=await JW(o);e("setUnicodeEmojiAnnotations",{lang:o,annotations:r})}catch(r){console.warn(`Error loading unicode emoji annotations for ${o}: `,r)}}))},async getCustomEmoji({commit:e,state:t}){try{const n=await window.fetch("/api/pleroma/emoji.json");if(n.ok){const s=await n.json(),o=Array.isArray(s)?Object.assign({},...s):s,r=(d,f)=>{const h=d.toLowerCase(),v=f.toLowerCase();return h>v?1:h<v?-1:0},i=(d,f)=>{const h=d==="",v=f==="";return h===v?0:h&&!v?1:-1},a=(d,f)=>{const h=S=>(S.tags.filter(k=>k.startsWith("pack:"))[0]||"").slice(5),v=h(d),_=h(f);return i(v,_)||r(v,_)||r(d.displayText,f.displayText)},c=Object.entries(o).map(([d,f])=>{const h=f.image_url;return{displayText:d,imageUrl:h?t.server+h:f,tags:h?f.tags.sort((v,_)=>v>_?1:0):["utf"],replacement:`:${d}: `}}).sort(a);e("setInstanceOption",{name:"customEmoji",value:c})}else throw n}catch(n){console.warn(`Can't load custom emojis
`,n)}},fetchEmoji({dispatch:e,state:t}){t.customEmojiFetched||(t.customEmojiFetched=!0,e("getCustomEmoji")),t.emojiFetched||(t.emojiFetched=!0,e("getStaticEmoji"))},async getKnownDomains({commit:e,rootState:t}){try{const n=await En.fetchKnownDomains({credentials:t.users.currentUser.credentials});e("setKnownDomains",n)}catch(n){console.warn(`Can't load known domains
`,n)}}}},ao=(e=0)=>({statuses:[],statusesObject:{},faves:[],visibleStatuses:[],visibleStatusesObject:{},newStatusCount:0,maxId:0,minId:0,minVisibleId:0,loading:!1,followers:[],friends:[],userId:e,flushMarker:0}),bA=()=>({allStatuses:[],scrobblesNextFetch:{},allStatusesObject:{},conversationsObject:{},maxId:0,favorites:new Set,timelines:{mentions:ao(),public:ao(),user:ao(),favorites:ao(),media:ao(),publicAndExternal:ao(),friends:ao(),tag:ao(),dms:ao(),bookmarks:ao(),list:ao()}}),eG=e=>(e.deleted=!1,e.attachments=e.attachments||[],e),jc=(e,t,n)=>{const s=t[n.id];return s?(Z.merge(s,Z.omitBy(n,(o,r)=>o===null||r==="user")),s.attachments.splice(s.attachments.length),{item:s,new:!1}):(eG(n),e.push(n),t[n.id]=n,{item:n,new:!0})},JS=(e,t)=>{const n=Number(e.id),s=Number(t.id),o=!Number.isNaN(n),r=!Number.isNaN(s);return o&&r?n>s?-1:1:o&&!r?1:!o&&r||e.id>t.id?-1:1},ng=e=>(e.visibleStatuses=e.visibleStatuses.sort(JS),e.statuses=e.statuses.sort(JS),e.minVisibleId=(Z.last(e.visibleStatuses)||{}).id,e),tG=(e,t)=>{e.scrobblesNextFetch[t.id]&&e.scrobblesNextFetch[t.id]>Date.now()||(e.scrobblesNextFetch[t.id]=Date.now()+24*60*60*1e3,En.fetchScrobbles({accountId:t.id}).then(n=>{n.length>0&&(t.latestScrobble=n[0],e.scrobblesNextFetch[t.id]=Date.now()+60*1e3)}).catch(n=>{console.warn("cannot fetch scrobbles",n)}))},nG=(e,t)=>{tG(e,t.user);const n=jc(e.allStatuses,e.allStatusesObject,t);if(n.new){const s=n.item,o=e.conversationsObject,r=s.statusnet_conversation_id;o[r]?o[r].push(s):o[r]=[s]}return n},sG=(e,{statuses:t,showImmediately:n=!1,timeline:s,user:o={},noIdUpdate:r=!1,userId:i,pagination:a={}})=>{if(!Z.isArray(t))return!1;const c=e.allStatuses,d=e.timelines[s],f=a.maxId||(t.length>0?Z.minBy(t,"id").id:0),h=a.minId||(t.length>0?Z.maxBy(t,"id").id:0),v=s&&(h>d.maxId||d.maxId===0)&&t.length>0,_=s&&(f<d.minId||d.minId===0)&&t.length>0;if(!r&&v&&(d.maxId=h),!r&&_&&(d.minId=f),(s==="user"||s==="media")&&d.userId!==i)return;const S=(C,$,L=!0)=>{const T=nG(e,C),R=T.item;if(T.new){if(R.type==="status"&&Z.find(R.attentions,{id:o.id})){const D=e.timelines.mentions;d!==D&&(jc(D.statuses,D.statusesObject,R),D.newStatusCount+=1,ng(D))}if(R.visibility==="direct"){const D=e.timelines.dms;jc(D.statuses,D.statusesObject,R),D.newStatusCount+=1,ng(D)}}let q;return s&&L&&(q=jc(d.statuses,d.statusesObject,R)),s&&$?jc(d.visibleStatuses,d.visibleStatusesObject,R):s&&L&&q.new&&(d.newStatusCount+=1),R.quote&&S(R.quote,!1,!1),R},k=C=>{const $=Z.find(c,{id:C.in_reply_to_status_id});return $&&(C.user.id===o.id?$.favorited=!0:$.fave_num+=1),$},P={status:C=>{S(C,n)},edit:C=>{S(C,n)},retweet:C=>{const $=S(C.retweeted_status,!1,!1);let L;s&&Z.find(d.statuses,T=>T.retweeted_status?T.id===$.id||T.retweeted_status.id===$.id:T.id===$.id)?L=S(C,!1,!1):L=S(C,n),L.retweeted_status=$},favorite:C=>{e.favorites.has(C.id)||(e.favorites.add(C.id),k(C))},follow:()=>{},default:C=>{console.warn("unknown status type"),console.warn(C)}};Z.each(t,C=>{const $=C.type;(P[$]||P.default)(C)}),s&&s!=="bookmarks"&&ng(d)},oG=(e,{timeline:t,userId:n})=>{const s=e.timelines[t];n&&(Z.remove(s.statuses,{user:{id:n}}),Z.remove(s.visibleStatuses,{user:{id:n}}),s.minVisibleId=s.visibleStatuses.length>0?Z.last(s.visibleStatuses).id:0,s.maxId=s.statuses.length>0?Z.first(s.statuses).id:0)},rG={addNewStatuses:sG,removeStatus:oG,showNewStatuses(e,{timeline:t}){const n=e.timelines[t];n.newStatusCount=0,n.visibleStatuses=Z.slice(n.statuses,0,50),n.minVisibleId=Z.last(n.visibleStatuses).id,n.minId=n.minVisibleId,n.visibleStatusesObject={},Z.each(n.visibleStatuses,s=>{n.visibleStatusesObject[s.id]=s})},resetStatuses(e){const t=bA();Object.entries(t).forEach(([n,s])=>{e[n]=s})},clearTimeline(e,{timeline:t,excludeUserId:n=!1}){const s=n?e.timelines[t].userId:void 0;e.timelines[t]=ao(s)},setFavorited(e,{status:t,value:n}){const s=e.allStatusesObject[t.id];s.favorited!==n&&(n?s.fave_num++:s.fave_num--),s.favorited=n},setFavoritedConfirm(e,{status:t,user:n}){const s=e.allStatusesObject[t.id];s.favorited=t.favorited,s.fave_num=t.fave_num;const o=Z.findIndex(s.favoritedBy,{id:n.id});o!==-1&&!s.favorited?s.favoritedBy.splice(o,1):o===-1&&s.favorited&&s.favoritedBy.push(n)},setMutedStatus(e,t){const n=e.allStatusesObject[t.id];n.thread_muted=t.thread_muted,n.thread_muted!==void 0&&e.conversationsObject[n.statusnet_conversation_id].forEach(s=>{s.thread_muted=n.thread_muted})},setRetweeted(e,{status:t,value:n}){const s=e.allStatusesObject[t.id];s.repeated!==n&&(n?s.repeat_num++:s.repeat_num--),s.repeated=n},setRetweetedConfirm(e,{status:t,user:n}){const s=e.allStatusesObject[t.id];s.repeated=t.repeated,s.repeat_num=t.repeat_num;const o=Z.findIndex(s.rebloggedBy,{id:n.id});o!==-1&&!s.repeated?s.rebloggedBy.splice(o,1):o===-1&&s.repeated&&s.rebloggedBy.push(n)},setBookmarked(e,{status:t,value:n}){const s=e.allStatusesObject[t.id];s.bookmarked=n,s.bookmark_folder_id=t.bookmark_folder_id},setBookmarkedConfirm(e,{status:t}){const n=e.allStatusesObject[t.id];n.bookmarked=t.bookmarked,t.pleroma&&(n.bookmark_folder_id=t.pleroma.bookmark_folder)},setDeleted(e,{status:t}){const n=e.allStatusesObject[t.id];n&&(n.deleted=!0)},setManyDeleted(e,t){Object.values(e.allStatusesObject).forEach(n=>{t(n)&&(n.deleted=!0)})},setLoading(e,{timeline:t,value:n}){e.timelines[t].loading=n},setNsfw(e,{id:t,nsfw:n}){const s=e.allStatusesObject[t];s.nsfw=n},queueFlush(e,{timeline:t,id:n}){e.timelines[t].flushMarker=n},queueFlushAll(e){Object.keys(e.timelines).forEach(t=>{e.timelines[t].flushMarker=e.timelines[t].maxId})},addRepeats(e,{id:t,rebloggedByUsers:n,currentUser:s}){const o=e.allStatusesObject[t];o.rebloggedBy=n.filter(r=>r),o.repeat_num=o.rebloggedBy.length,o.repeated=!!o.rebloggedBy.find(({id:r})=>s.id===r)},addFavs(e,{id:t,favoritedByUsers:n,currentUser:s}){const o=e.allStatusesObject[t];o.favoritedBy=n.filter(r=>r),o.fave_num=o.favoritedBy.length,o.favorited=!!o.favoritedBy.find(({id:r})=>s.id===r)},addEmojiReactionsBy(e,{id:t,emojiReactions:n}){const s=e.allStatusesObject[t];s.emoji_reactions=n},addOwnReaction(e,{id:t,emoji:n,currentUser:s}){const o=e.allStatusesObject[t],r=Z.findIndex(o.emoji_reactions,{name:n}),i=o.emoji_reactions[r]||{name:n,count:0,accounts:[]},a={...i,count:i.count+1,me:!0,accounts:[...i.accounts,s]};r>=0?o.emoji_reactions[r]=a:o.emoji_reactions=[...o.emoji_reactions,a]},removeOwnReaction(e,{id:t,emoji:n,currentUser:s}){const o=e.allStatusesObject[t],r=Z.findIndex(o.emoji_reactions,{name:n});if(r<0)return;const i=o.emoji_reactions[r],a=i.accounts||[],c={...i,count:i.count-1,me:!1,accounts:a.filter(d=>d.id!==s.id)};c.count>0?o.emoji_reactions[r]=c:o.emoji_reactions=o.emoji_reactions.filter(d=>d.name!==n)},updateStatusWithPoll(e,{id:t,poll:n}){const s=e.allStatusesObject[t];s.poll=n},setVirtualHeight(e,{statusId:t,height:n}){e.allStatusesObject[t].virtualHeight=n}},iG={state:bA(),actions:{addNewStatuses({rootState:e,commit:t},{statuses:n,showImmediately:s=!1,timeline:o=!1,noIdUpdate:r=!1,userId:i,pagination:a}){t("addNewStatuses",{statuses:n,showImmediately:s,timeline:o,noIdUpdate:r,user:e.users.currentUser,userId:i,pagination:a})},fetchStatus({rootState:e,dispatch:t},n){return e.api.backendInteractor.fetchStatus({id:n}).then(s=>t("addNewStatuses",{statuses:[s]}))},fetchStatusSource({rootState:e},t){return En.fetchStatusSource({id:t.id,credentials:e.users.currentUser.credentials})},fetchStatusHistory(e,t){return En.fetchStatusHistory({status:t})},deleteStatus({rootState:e,commit:t},n){En.deleteStatus({id:n.id,credentials:e.users.currentUser.credentials}).then(()=>{t("setDeleted",{status:n})}).catch(s=>{Qe().pushGlobalNotice({level:"error",messageKey:"status.delete_error",messageArgs:[s.message],timeout:5e3})})},deleteStatusById({rootState:e,commit:t},n){const s=e.statuses.allStatusesObject[n];t("setDeleted",{status:s})},markStatusesAsDeleted({commit:e},t){e("setManyDeleted",t)},favorite({rootState:e,commit:t},n){t("setFavorited",{status:n,value:!0}),e.api.backendInteractor.favorite({id:n.id}).then(s=>t("setFavoritedConfirm",{status:s,user:e.users.currentUser}))},unfavorite({rootState:e,commit:t},n){t("setFavorited",{status:n,value:!1}),e.api.backendInteractor.unfavorite({id:n.id}).then(s=>t("setFavoritedConfirm",{status:s,user:e.users.currentUser}))},fetchPinnedStatuses({rootState:e,dispatch:t},n){e.api.backendInteractor.fetchPinnedStatuses({id:n}).then(s=>t("addNewStatuses",{statuses:s,timeline:"user",userId:n,showImmediately:!0,noIdUpdate:!0}))},pinStatus({rootState:e,dispatch:t},n){return e.api.backendInteractor.pinOwnStatus({id:n}).then(s=>t("addNewStatuses",{statuses:[s]}))},unpinStatus({rootState:e,dispatch:t},n){e.api.backendInteractor.unpinOwnStatus({id:n}).then(s=>t("addNewStatuses",{statuses:[s]}))},muteConversation({rootState:e,commit:t},{id:n}){return e.api.backendInteractor.muteConversation({id:n}).then(s=>t("setMutedStatus",s))},unmuteConversation({rootState:e,commit:t},{id:n}){return e.api.backendInteractor.unmuteConversation({id:n}).then(s=>t("setMutedStatus",s))},retweet({rootState:e,commit:t},n){t("setRetweeted",{status:n,value:!0}),e.api.backendInteractor.retweet({id:n.id}).then(s=>t("setRetweetedConfirm",{status:s.retweeted_status,user:e.users.currentUser}))},unretweet({rootState:e,commit:t},n){t("setRetweeted",{status:n,value:!1}),e.api.backendInteractor.unretweet({id:n.id}).then(s=>t("setRetweetedConfirm",{status:s,user:e.users.currentUser}))},bookmark({rootState:e,commit:t},n){t("setBookmarked",{status:n,value:!0}),e.api.backendInteractor.bookmarkStatus({id:n.id,folder_id:n.bookmark_folder_id}).then(s=>{t("setBookmarkedConfirm",{status:s})})},unbookmark({rootState:e,commit:t},n){t("setBookmarked",{status:n,value:!1}),e.api.backendInteractor.unbookmarkStatus({id:n.id}).then(s=>{t("setBookmarkedConfirm",{status:s})})},queueFlush({commit:e},{timeline:t,id:n}){e("queueFlush",{timeline:t,id:n})},queueFlushAll({commit:e}){e("queueFlushAll")},fetchFavsAndRepeats({rootState:e,commit:t},n){Promise.all([e.api.backendInteractor.fetchFavoritedByUsers({id:n}),e.api.backendInteractor.fetchRebloggedByUsers({id:n})]).then(([s,o])=>{t("addFavs",{id:n,favoritedByUsers:s,currentUser:e.users.currentUser}),t("addRepeats",{id:n,rebloggedByUsers:o,currentUser:e.users.currentUser})})},reactWithEmoji({rootState:e,dispatch:t,commit:n},{id:s,emoji:o}){const r=e.users.currentUser;r&&(n("addOwnReaction",{id:s,emoji:o,currentUser:r}),e.api.backendInteractor.reactWithEmoji({id:s,emoji:o}).then(()=>{t("fetchEmojiReactionsBy",s)}))},unreactWithEmoji({rootState:e,dispatch:t,commit:n},{id:s,emoji:o}){const r=e.users.currentUser;r&&(n("removeOwnReaction",{id:s,emoji:o,currentUser:r}),e.api.backendInteractor.unreactWithEmoji({id:s,emoji:o}).then(()=>{t("fetchEmojiReactionsBy",s)}))},fetchEmojiReactionsBy({rootState:e,commit:t},n){return e.api.backendInteractor.fetchEmojiReactions({id:n}).then(s=>{t("addEmojiReactionsBy",{id:n,emojiReactions:s,currentUser:e.users.currentUser})})},fetchFavs({rootState:e,commit:t},n){e.api.backendInteractor.fetchFavoritedByUsers({id:n}).then(s=>t("addFavs",{id:n,favoritedByUsers:s,currentUser:e.users.currentUser}))},fetchRepeats({rootState:e,commit:t},n){e.api.backendInteractor.fetchRebloggedByUsers({id:n}).then(s=>t("addRepeats",{id:n,rebloggedByUsers:s,currentUser:e.users.currentUser}))},search(e,{q:t,resolve:n,limit:s,offset:o,following:r,type:i}){return e.rootState.api.backendInteractor.search2({q:t,resolve:n,limit:s,offset:o,following:r,type:i}).then(a=>(e.commit("addNewUsers",a.accounts),e.commit("addNewUsers",a.statuses.map(c=>c.user).filter(c=>c)),e.commit("addNewStatuses",{statuses:a.statuses}),a))},setVirtualHeight({commit:e},{statusId:t,height:n}){e("setVirtualHeight",{statusId:t,height:n})}},mutations:rG},be=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},aG={provide:{popoversZLayer:"modals"},props:{isOpen:{type:Boolean,default:!0},noBackground:{type:Boolean,default:!1}},emits:["backdropClicked"],computed:{classes(){return{"modal-background":!this.noBackground,open:this.isOpen}}}};function lG(e,t,n,s,o,r){const i=Dl("body-scroll-lock");return ot((m(),b("div",{class:he(["modal-view",r.classes]),onClick:t[0]||(t[0]=Se(a=>e.$emit("backdropClicked"),["self"]))},[Ft(e.$slots,"default")],2)),[[Wn,n.isOpen],[i,n.isOpen&&!n.noBackground]])}const Fu=be(aG,[["render",lG]]);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function cG(e,t,n){return(t=dG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(n),!0).forEach(function(s){cG(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZS(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function uG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dG(e){var t=uG(e,"string");return typeof t=="symbol"?t:t+""}const QS=()=>{};let d_={},_A={},yA=null,wA={mark:QS,measure:QS};try{typeof window<"u"&&(d_=window),typeof document<"u"&&(_A=document),typeof MutationObserver<"u"&&(yA=MutationObserver),typeof performance<"u"&&(wA=performance)}catch{}const{userAgent:ek=""}=d_.navigator||{},Ci=d_,yn=_A,tk=yA,Qd=wA;Ci.document;const Ur=!!yn.documentElement&&!!yn.head&&typeof yn.addEventListener=="function"&&typeof yn.createElement=="function",SA=~ek.indexOf("MSIE")||~ek.indexOf("Trident/");var fG=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,hG=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,kA={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},pG={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},$A=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],ds="classic",Fh="duotone",mG="sharp",gG="sharp-duotone",CA=[ds,Fh,mG,gG],vG={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},bG={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},_G=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),yG={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},wG=["fak","fa-kit","fakd","fa-kit-duotone"],nk={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},SG=["kit"],kG={kit:{"fa-kit":"fak"}},$G=["fak","fakd"],CG={kit:{fak:"fa-kit"}},sk={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},ef={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},TG=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],AG=["fak","fa-kit","fakd","fa-kit-duotone"],EG={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},IG={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},PG={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Eb={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},LG=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Ib=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...TG,...LG],OG=["solid","regular","light","thin","duotone","brands"],TA=[1,2,3,4,5,6,7,8,9,10],RG=TA.concat([11,12,13,14,15,16,17,18,19,20]),MG=[...Object.keys(PG),...OG,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ef.GROUP,ef.SWAP_OPACITY,ef.PRIMARY,ef.SECONDARY].concat(TA.map(e=>"".concat(e,"x"))).concat(RG.map(e=>"w-".concat(e))),NG={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Or="___FONT_AWESOME___",Pb=16,AA="fa",EA="svg-inline--fa",_a="data-fa-i2svg",Lb="data-fa-pseudo-element",FG="data-fa-pseudo-element-pending",f_="data-prefix",h_="data-icon",ok="fontawesome-i2svg",DG="async",UG=["HTML","HEAD","STYLE","SCRIPT"],IA=(()=>{try{return!0}catch{return!1}})();function Du(e){return new Proxy(e,{get(t,n){return n in t?t[n]:t[ds]}})}const PA=Ne({},kA);PA[ds]=Ne(Ne(Ne(Ne({},{"fa-duotone":"duotone"}),kA[ds]),nk.kit),nk["kit-duotone"]);const jG=Du(PA),Ob=Ne({},yG);Ob[ds]=Ne(Ne(Ne(Ne({},{duotone:"fad"}),Ob[ds]),sk.kit),sk["kit-duotone"]);const rk=Du(Ob),Rb=Ne({},Eb);Rb[ds]=Ne(Ne({},Rb[ds]),CG.kit);const p_=Du(Rb),Mb=Ne({},IG);Mb[ds]=Ne(Ne({},Mb[ds]),kG.kit);Du(Mb);const BG=fG,LA="fa-layers-text",zG=hG,qG=Ne({},vG);Du(qG);const HG=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],sg=pG,VG=[...SG,...MG],nu=Ci.FontAwesomeConfig||{};function WG(e){var t=yn.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function GG(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}yn&&typeof yn.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[n,s]=t;const o=GG(WG(n));o!=null&&(nu[s]=o)});const OA={styleDefault:"solid",familyDefault:ds,cssPrefix:AA,replacementClass:EA,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};nu.familyPrefix&&(nu.cssPrefix=nu.familyPrefix);const Al=Ne(Ne({},OA),nu);Al.autoReplaceSvg||(Al.observeMutations=!1);const at={};Object.keys(OA).forEach(e=>{Object.defineProperty(at,e,{enumerable:!0,set:function(t){Al[e]=t,su.forEach(n=>n(at))},get:function(){return Al[e]}})});Object.defineProperty(at,"familyPrefix",{enumerable:!0,set:function(e){Al.cssPrefix=e,su.forEach(t=>t(at))},get:function(){return Al.cssPrefix}});Ci.FontAwesomeConfig=at;const su=[];function KG(e){return su.push(e),()=>{su.splice(su.indexOf(e),1)}}const ti=Pb,Wo={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function xG(e){if(!e||!Ur)return;const t=yn.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=yn.head.childNodes;let s=null;for(let o=n.length-1;o>-1;o--){const r=n[o],i=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(i)>-1&&(s=r)}return yn.head.insertBefore(t,s),e}const YG="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function _u(){let e=12,t="";for(;e-- >0;)t+=YG[Math.random()*62|0];return t}function jl(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function m_(e){return e.classList?jl(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function RA(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function XG(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(RA(e[n]),'" '),"").trim()}function Dh(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function g_(e){return e.size!==Wo.size||e.x!==Wo.x||e.y!==Wo.y||e.rotate!==Wo.rotate||e.flipX||e.flipY}function JG(e){let{transform:t,containerWidth:n,iconWidth:s}=e;const o={transform:"translate(".concat(n/2," 256)")},r="translate(".concat(t.x*32,", ").concat(t.y*32,") "),i="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)"),c={transform:"".concat(r," ").concat(i," ").concat(a)},d={transform:"translate(".concat(s/2*-1," -256)")};return{outer:o,inner:c,path:d}}function ZG(e){let{transform:t,width:n=Pb,height:s=Pb,startCentered:o=!1}=e,r="";return o&&SA?r+="translate(".concat(t.x/ti-n/2,"em, ").concat(t.y/ti-s/2,"em) "):o?r+="translate(calc(-50% + ".concat(t.x/ti,"em), calc(-50% + ").concat(t.y/ti,"em)) "):r+="translate(".concat(t.x/ti,"em, ").concat(t.y/ti,"em) "),r+="scale(".concat(t.size/ti*(t.flipX?-1:1),", ").concat(t.size/ti*(t.flipY?-1:1),") "),r+="rotate(".concat(t.rotate,"deg) "),r}var QG=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function MA(){const e=AA,t=EA,n=at.cssPrefix,s=at.replacementClass;let o=QG;if(n!==e||s!==t){const r=new RegExp("\\.".concat(e,"\\-"),"g"),i=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");o=o.replace(r,".".concat(n,"-")).replace(i,"--".concat(n,"-")).replace(a,".".concat(s))}return o}let ik=!1;function og(){at.autoAddCss&&!ik&&(xG(MA()),ik=!0)}var eK={mixout(){return{dom:{css:MA,insertCss:og}}},hooks(){return{beforeDOMElementCreation(){og()},beforeI2svg(){og()}}}};const Rr=Ci||{};Rr[Or]||(Rr[Or]={});Rr[Or].styles||(Rr[Or].styles={});Rr[Or].hooks||(Rr[Or].hooks={});Rr[Or].shims||(Rr[Or].shims=[]);var Go=Rr[Or];const NA=[],FA=function(){yn.removeEventListener("DOMContentLoaded",FA),Wf=1,NA.map(e=>e())};let Wf=!1;Ur&&(Wf=(yn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(yn.readyState),Wf||yn.addEventListener("DOMContentLoaded",FA));function tK(e){Ur&&(Wf?setTimeout(e,0):NA.push(e))}function Uu(e){const{tag:t,attributes:n={},children:s=[]}=e;return typeof e=="string"?RA(e):"<".concat(t," ").concat(XG(n),">").concat(s.map(Uu).join(""),"</").concat(t,">")}function ak(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var rg=function(t,n,s,o){var r=Object.keys(t),i=r.length,a=n,c,d,f;for(s===void 0?(c=1,f=t[r[0]]):(c=0,f=s);c<i;c++)d=r[c],f=a(f,t[d],d,t);return f};function nK(e){const t=[];let n=0;const s=e.length;for(;n<s;){const o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<s){const r=e.charCodeAt(n++);(r&64512)==56320?t.push(((o&1023)<<10)+(r&1023)+65536):(t.push(o),n--)}else t.push(o)}return t}function Nb(e){const t=nK(e);return t.length===1?t[0].toString(16):null}function sK(e,t){const n=e.length;let s=e.charCodeAt(t),o;return s>=55296&&s<=56319&&n>t+1&&(o=e.charCodeAt(t+1),o>=56320&&o<=57343)?(s-55296)*1024+o-56320+65536:s}function lk(e){return Object.keys(e).reduce((t,n)=>{const s=e[n];return!!s.icon?t[s.iconName]=s.icon:t[n]=s,t},{})}function Fb(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:s=!1}=n,o=lk(t);typeof Go.hooks.addPack=="function"&&!s?Go.hooks.addPack(e,lk(t)):Go.styles[e]=Ne(Ne({},Go.styles[e]||{}),o),e==="fas"&&Fb("fa",t)}const{styles:yu,shims:oK}=Go,DA=Object.keys(p_),rK=DA.reduce((e,t)=>(e[t]=Object.keys(p_[t]),e),{});let v_=null,UA={},jA={},BA={},zA={},qA={};function iK(e){return~VG.indexOf(e)}function aK(e,t){const n=t.split("-"),s=n[0],o=n.slice(1).join("-");return s===e&&o!==""&&!iK(o)?o:null}const HA=()=>{const e=s=>rg(yu,(o,r,i)=>(o[i]=rg(r,s,{}),o),{});UA=e((s,o,r)=>(o[3]&&(s[o[3]]=r),o[2]&&o[2].filter(a=>typeof a=="number").forEach(a=>{s[a.toString(16)]=r}),s)),jA=e((s,o,r)=>(s[r]=r,o[2]&&o[2].filter(a=>typeof a=="string").forEach(a=>{s[a]=r}),s)),qA=e((s,o,r)=>{const i=o[2];return s[r]=r,i.forEach(a=>{s[a]=r}),s});const t="far"in yu||at.autoFetchSvg,n=rg(oK,(s,o)=>{const r=o[0];let i=o[1];const a=o[2];return i==="far"&&!t&&(i="fas"),typeof r=="string"&&(s.names[r]={prefix:i,iconName:a}),typeof r=="number"&&(s.unicodes[r.toString(16)]={prefix:i,iconName:a}),s},{names:{},unicodes:{}});BA=n.names,zA=n.unicodes,v_=Uh(at.styleDefault,{family:at.familyDefault})};KG(e=>{v_=Uh(e.styleDefault,{family:at.familyDefault})});HA();function b_(e,t){return(UA[e]||{})[t]}function lK(e,t){return(jA[e]||{})[t]}function ia(e,t){return(qA[e]||{})[t]}function VA(e){return BA[e]||{prefix:null,iconName:null}}function cK(e){const t=zA[e],n=b_("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Ti(){return v_}const WA=()=>({prefix:null,iconName:null,rest:[]});function uK(e){let t=ds;const n=DA.reduce((s,o)=>(s[o]="".concat(at.cssPrefix,"-").concat(o),s),{});return CA.forEach(s=>{(e.includes(n[s])||e.some(o=>rK[s].includes(o)))&&(t=s)}),t}function Uh(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=ds}=t,s=jG[n][e];if(n===Fh&&!e)return"fad";const o=rk[n][e]||rk[n][s],r=e in Go.styles?e:null;return o||r||null}function dK(e){let t=[],n=null;return e.forEach(s=>{const o=aK(at.cssPrefix,s);o?n=o:s&&t.push(s)}),{iconName:n,rest:t}}function ck(e){return e.sort().filter((t,n,s)=>s.indexOf(t)===n)}function jh(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=t;let s=null;const o=Ib.concat(AG),r=ck(e.filter(h=>o.includes(h))),i=ck(e.filter(h=>!Ib.includes(h))),a=r.filter(h=>(s=h,!$A.includes(h))),[c=null]=a,d=uK(r),f=Ne(Ne({},dK(i)),{},{prefix:Uh(c,{family:d})});return Ne(Ne(Ne({},f),mK({values:e,family:d,styles:yu,config:at,canonical:f,givenPrefix:s})),fK(n,s,f))}function fK(e,t,n){let{prefix:s,iconName:o}=n;if(e||!s||!o)return{prefix:s,iconName:o};const r=t==="fa"?VA(o):{},i=ia(s,o);return o=r.iconName||i||o,s=r.prefix||s,s==="far"&&!yu.far&&yu.fas&&!at.autoFetchSvg&&(s="fas"),{prefix:s,iconName:o}}const hK=CA.filter(e=>e!==ds||e!==Fh),pK=Object.keys(Eb).filter(e=>e!==ds).map(e=>Object.keys(Eb[e])).flat();function mK(e){const{values:t,family:n,canonical:s,givenPrefix:o="",styles:r={},config:i={}}=e,a=n===Fh,c=t.includes("fa-duotone")||t.includes("fad"),d=i.familyDefault==="duotone",f=s.prefix==="fad"||s.prefix==="fa-duotone";if(!a&&(c||d||f)&&(s.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(s.prefix="fab"),!s.prefix&&hK.includes(n)&&(Object.keys(r).find(v=>pK.includes(v))||i.autoFetchSvg)){const v=_G.get(n).defaultShortPrefixId;s.prefix=v,s.iconName=ia(s.prefix,s.iconName)||s.iconName}return(s.prefix==="fa"||o==="fa")&&(s.prefix=Ti()||"fas"),s}class gK{constructor(){this.definitions={}}add(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];const o=n.reduce(this._pullDefinitions,{});Object.keys(o).forEach(r=>{this.definitions[r]=Ne(Ne({},this.definitions[r]||{}),o[r]),Fb(r,o[r]);const i=p_[ds][r];i&&Fb(i,o[r]),HA()})}reset(){this.definitions={}}_pullDefinitions(t,n){const s=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(s).map(o=>{const{prefix:r,iconName:i,icon:a}=s[o],c=a[2];t[r]||(t[r]={}),c.length>0&&c.forEach(d=>{typeof d=="string"&&(t[r][d]=a)}),t[r][i]=a}),t}}let uk=[],dl={};const bl={},vK=Object.keys(bl);function bK(e,t){let{mixoutsTo:n}=t;return uk=e,dl={},Object.keys(bl).forEach(s=>{vK.indexOf(s)===-1&&delete bl[s]}),uk.forEach(s=>{const o=s.mixout?s.mixout():{};if(Object.keys(o).forEach(r=>{typeof o[r]=="function"&&(n[r]=o[r]),typeof o[r]=="object"&&Object.keys(o[r]).forEach(i=>{n[r]||(n[r]={}),n[r][i]=o[r][i]})}),s.hooks){const r=s.hooks();Object.keys(r).forEach(i=>{dl[i]||(dl[i]=[]),dl[i].push(r[i])})}s.provides&&s.provides(bl)}),n}function Db(e,t){for(var n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o];return(dl[e]||[]).forEach(i=>{t=i.apply(null,[t,...s])}),t}function ya(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];(dl[e]||[]).forEach(r=>{r.apply(null,n)})}function Ai(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return bl[e]?bl[e].apply(null,t):void 0}function Ub(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||Ti();if(t)return t=ia(n,t)||t,ak(GA.definitions,n,t)||ak(Go.styles,n,t)}const GA=new gK,_K=()=>{at.autoReplaceSvg=!1,at.observeMutations=!1,ya("noAuto")},yK={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ur?(ya("beforeI2svg",e),Ai("pseudoElements2svg",e),Ai("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;at.autoReplaceSvg===!1&&(at.autoReplaceSvg=!0),at.observeMutations=!0,tK(()=>{SK({autoReplaceSvgRoot:t}),ya("watch",e)})}},wK={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:ia(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],n=Uh(e[0]);return{prefix:n,iconName:ia(n,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(at.cssPrefix,"-"))>-1||e.match(BG))){const t=jh(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||Ti(),iconName:ia(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=Ti();return{prefix:t,iconName:ia(t,e)||e}}}},Ks={noAuto:_K,config:at,dom:yK,parse:wK,library:GA,findIconDefinition:Ub,toHtml:Uu},SK=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=yn}=e;(Object.keys(Go.styles).length>0||at.autoFetchSvg)&&Ur&&at.autoReplaceSvg&&Ks.dom.i2svg({node:t})};function Bh(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(n=>Uu(n))}}),Object.defineProperty(e,"node",{get:function(){if(!Ur)return;const n=yn.createElement("div");return n.innerHTML=e.html,n.children}}),e}function kK(e){let{children:t,main:n,mask:s,attributes:o,styles:r,transform:i}=e;if(g_(i)&&n.found&&!s.found){const{width:a,height:c}=n,d={x:a/c/2,y:.5};o.style=Dh(Ne(Ne({},r),{},{"transform-origin":"".concat(d.x+i.x/16,"em ").concat(d.y+i.y/16,"em")}))}return[{tag:"svg",attributes:o,children:t}]}function $K(e){let{prefix:t,iconName:n,children:s,attributes:o,symbol:r}=e;const i=r===!0?"".concat(t,"-").concat(at.cssPrefix,"-").concat(n):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ne(Ne({},o),{},{id:i}),children:s}]}]}function __(e){const{icons:{main:t,mask:n},prefix:s,iconName:o,transform:r,symbol:i,title:a,maskId:c,titleId:d,extra:f,watchable:h=!1}=e,{width:v,height:_}=n.found?n:t,S=$G.includes(s),k=[at.replacementClass,o?"".concat(at.cssPrefix,"-").concat(o):""].filter(R=>f.classes.indexOf(R)===-1).filter(R=>R!==""||!!R).concat(f.classes).join(" ");let P={children:[],attributes:Ne(Ne({},f.attributes),{},{"data-prefix":s,"data-icon":o,class:k,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(_)})};const C=S&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/_*16*.0625,"em")}:{};h&&(P.attributes[_a]=""),a&&(P.children.push({tag:"title",attributes:{id:P.attributes["aria-labelledby"]||"title-".concat(d||_u())},children:[a]}),delete P.attributes.title);const $=Ne(Ne({},P),{},{prefix:s,iconName:o,main:t,mask:n,maskId:c,transform:r,symbol:i,styles:Ne(Ne({},C),f.styles)}),{children:L,attributes:T}=n.found&&t.found?Ai("generateAbstractMask",$)||{children:[],attributes:{}}:Ai("generateAbstractIcon",$)||{children:[],attributes:{}};return $.children=L,$.attributes=T,i?$K($):kK($)}function dk(e){const{content:t,width:n,height:s,transform:o,title:r,extra:i,watchable:a=!1}=e,c=Ne(Ne(Ne({},i.attributes),r?{title:r}:{}),{},{class:i.classes.join(" ")});a&&(c[_a]="");const d=Ne({},i.styles);g_(o)&&(d.transform=ZG({transform:o,startCentered:!0,width:n,height:s}),d["-webkit-transform"]=d.transform);const f=Dh(d);f.length>0&&(c.style=f);const h=[];return h.push({tag:"span",attributes:c,children:[t]}),r&&h.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),h}function CK(e){const{content:t,title:n,extra:s}=e,o=Ne(Ne(Ne({},s.attributes),n?{title:n}:{}),{},{class:s.classes.join(" ")}),r=Dh(s.styles);r.length>0&&(o.style=r);const i=[];return i.push({tag:"span",attributes:o,children:[t]}),n&&i.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),i}const{styles:ig}=Go;function jb(e){const t=e[0],n=e[1],[s]=e.slice(4);let o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(at.cssPrefix,"-").concat(sg.GROUP)},children:[{tag:"path",attributes:{class:"".concat(at.cssPrefix,"-").concat(sg.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(at.cssPrefix,"-").concat(sg.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:t,height:n,icon:o}}const TK={found:!1,width:512,height:512};function AK(e,t){!IA&&!at.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Bb(e,t){let n=t;return t==="fa"&&at.styleDefault!==null&&(t=Ti()),new Promise((s,o)=>{if(n==="fa"){const r=VA(e)||{};e=r.iconName||e,t=r.prefix||t}if(e&&t&&ig[t]&&ig[t][e]){const r=ig[t][e];return s(jb(r))}AK(e,t),s(Ne(Ne({},TK),{},{icon:at.showMissingIcons&&e?Ai("missingIconAbstract")||{}:{}}))})}const fk=()=>{},zb=at.measurePerformance&&Qd&&Qd.mark&&Qd.measure?Qd:{mark:fk,measure:fk},Bc='FA "6.7.2"',EK=e=>(zb.mark("".concat(Bc," ").concat(e," begins")),()=>KA(e)),KA=e=>{zb.mark("".concat(Bc," ").concat(e," ends")),zb.measure("".concat(Bc," ").concat(e),"".concat(Bc," ").concat(e," begins"),"".concat(Bc," ").concat(e," ends"))};var y_={begin:EK,end:KA};const bf=()=>{};function hk(e){return typeof(e.getAttribute?e.getAttribute(_a):null)=="string"}function IK(e){const t=e.getAttribute?e.getAttribute(f_):null,n=e.getAttribute?e.getAttribute(h_):null;return t&&n}function PK(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(at.replacementClass)}function LK(){return at.autoReplaceSvg===!0?_f.replace:_f[at.autoReplaceSvg]||_f.replace}function OK(e){return yn.createElementNS("http://www.w3.org/2000/svg",e)}function RK(e){return yn.createElement(e)}function xA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=e.tag==="svg"?OK:RK}=t;if(typeof e=="string")return yn.createTextNode(e);const s=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(r){s.setAttribute(r,e.attributes[r])}),(e.children||[]).forEach(function(r){s.appendChild(xA(r,{ceFn:n}))}),s}function MK(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const _f={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(n=>{t.parentNode.insertBefore(xA(n),t)}),t.getAttribute(_a)===null&&at.keepOriginalSource){let n=yn.createComment(MK(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~m_(t).indexOf(at.replacementClass))return _f.replace(e);const s=new RegExp("".concat(at.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const r=n[0].attributes.class.split(" ").reduce((i,a)=>(a===at.replacementClass||a.match(s)?i.toSvg.push(a):i.toNode.push(a),i),{toNode:[],toSvg:[]});n[0].attributes.class=r.toSvg.join(" "),r.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",r.toNode.join(" "))}const o=n.map(r=>Uu(r)).join(`
`);t.setAttribute(_a,""),t.innerHTML=o}};function pk(e){e()}function YA(e,t){const n=typeof t=="function"?t:bf;if(e.length===0)n();else{let s=pk;at.mutateApproach===DG&&(s=Ci.requestAnimationFrame||pk),s(()=>{const o=LK(),r=y_.begin("mutate");e.map(o),r(),n()})}}let w_=!1;function XA(){w_=!0}function qb(){w_=!1}let Gf=null;function mk(e){if(!tk||!at.observeMutations)return;const{treeCallback:t=bf,nodeCallback:n=bf,pseudoElementsCallback:s=bf,observeMutationsRoot:o=yn}=e;Gf=new tk(r=>{if(w_)return;const i=Ti();jl(r).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!hk(a.addedNodes[0])&&(at.searchPseudoElements&&s(a.target),t(a.target)),a.type==="attributes"&&a.target.parentNode&&at.searchPseudoElements&&s(a.target.parentNode),a.type==="attributes"&&hk(a.target)&&~HG.indexOf(a.attributeName))if(a.attributeName==="class"&&IK(a.target)){const{prefix:c,iconName:d}=jh(m_(a.target));a.target.setAttribute(f_,c||i),d&&a.target.setAttribute(h_,d)}else PK(a.target)&&n(a.target)})}),Ur&&Gf.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function NK(){Gf&&Gf.disconnect()}function FK(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((s,o)=>{const r=o.split(":"),i=r[0],a=r.slice(1);return i&&a.length>0&&(s[i]=a.join(":").trim()),s},{})),n}function DK(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),s=e.innerText!==void 0?e.innerText.trim():"";let o=jh(m_(e));return o.prefix||(o.prefix=Ti()),t&&n&&(o.prefix=t,o.iconName=n),o.iconName&&o.prefix||(o.prefix&&s.length>0&&(o.iconName=lK(o.prefix,e.innerText)||b_(o.prefix,Nb(e.innerText))),!o.iconName&&at.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=e.firstChild.data)),o}function UK(e){const t=jl(e.attributes).reduce((o,r)=>(o.name!=="class"&&o.name!=="style"&&(o[r.name]=r.value),o),{}),n=e.getAttribute("title"),s=e.getAttribute("data-fa-title-id");return at.autoA11y&&(n?t["aria-labelledby"]="".concat(at.replacementClass,"-title-").concat(s||_u()):(t["aria-hidden"]="true",t.focusable="false")),t}function jK(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Wo,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function gk(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:s,rest:o}=DK(e),r=UK(e),i=Db("parseNodeAttributes",{},e);let a=t.styleParser?FK(e):[];return Ne({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:s,transform:Wo,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:a,attributes:r}},i)}const{styles:BK}=Go;function JA(e){const t=at.autoReplaceSvg==="nest"?gk(e,{styleParser:!1}):gk(e);return~t.extra.classes.indexOf(LA)?Ai("generateLayersText",e,t):Ai("generateSvgReplacementMutation",e,t)}function zK(){return[...wG,...Ib]}function vk(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Ur)return Promise.resolve();const n=yn.documentElement.classList,s=f=>n.add("".concat(ok,"-").concat(f)),o=f=>n.remove("".concat(ok,"-").concat(f)),r=at.autoFetchSvg?zK():$A.concat(Object.keys(BK));r.includes("fa")||r.push("fa");const i=[".".concat(LA,":not([").concat(_a,"])")].concat(r.map(f=>".".concat(f,":not([").concat(_a,"])"))).join(", ");if(i.length===0)return Promise.resolve();let a=[];try{a=jl(e.querySelectorAll(i))}catch{}if(a.length>0)s("pending"),o("complete");else return Promise.resolve();const c=y_.begin("onTree"),d=a.reduce((f,h)=>{try{const v=JA(h);v&&f.push(v)}catch(v){IA||v.name==="MissingIcon"&&console.error(v)}return f},[]);return new Promise((f,h)=>{Promise.all(d).then(v=>{YA(v,()=>{s("active"),s("complete"),o("pending"),typeof t=="function"&&t(),c(),f()})}).catch(v=>{c(),h(v)})})}function qK(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;JA(e).then(n=>{n&&YA([n],t)})}function HK(e){return function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=(t||{}).icon?t:Ub(t||{});let{mask:o}=n;return o&&(o=(o||{}).icon?o:Ub(o||{})),e(s,Ne(Ne({},n),{},{mask:o}))}}const VK=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Wo,symbol:s=!1,mask:o=null,maskId:r=null,title:i=null,titleId:a=null,classes:c=[],attributes:d={},styles:f={}}=t;if(!e)return;const{prefix:h,iconName:v,icon:_}=e;return Bh(Ne({type:"icon"},e),()=>(ya("beforeDOMElementCreation",{iconDefinition:e,params:t}),at.autoA11y&&(i?d["aria-labelledby"]="".concat(at.replacementClass,"-title-").concat(a||_u()):(d["aria-hidden"]="true",d.focusable="false")),__({icons:{main:jb(_),mask:o?jb(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:v,transform:Ne(Ne({},Wo),n),symbol:s,title:i,maskId:r,titleId:a,extra:{attributes:d,styles:f,classes:c}})))};var WK={mixout(){return{icon:HK(VK)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=vk,e.nodeCallback=qK,e}}},provides(e){e.i2svg=function(t){const{node:n=yn,callback:s=()=>{}}=t;return vk(n,s)},e.generateSvgReplacementMutation=function(t,n){const{iconName:s,title:o,titleId:r,prefix:i,transform:a,symbol:c,mask:d,maskId:f,extra:h}=n;return new Promise((v,_)=>{Promise.all([Bb(s,i),d.iconName?Bb(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(S=>{let[k,P]=S;v([t,__({icons:{main:k,mask:P},prefix:i,iconName:s,transform:a,symbol:c,maskId:f,title:o,titleId:r,extra:h,watchable:!0})])}).catch(_)})},e.generateAbstractIcon=function(t){let{children:n,attributes:s,main:o,transform:r,styles:i}=t;const a=Dh(i);a.length>0&&(s.style=a);let c;return g_(r)&&(c=Ai("generateAbstractTransformGrouping",{main:o,transform:r,containerWidth:o.width,iconWidth:o.width})),n.push(c||o.icon),{children:n,attributes:s}}}},GK={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=t;return Bh({type:"layer"},()=>{ya("beforeDOMElementCreation",{assembler:e,params:t});let s=[];return e(o=>{Array.isArray(o)?o.map(r=>{s=s.concat(r.abstract)}):s=s.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(at.cssPrefix,"-layers"),...n].join(" ")},children:s}]})}}}},KK={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:s=[],attributes:o={},styles:r={}}=t;return Bh({type:"counter",content:e},()=>(ya("beforeDOMElementCreation",{content:e,params:t}),CK({content:e.toString(),title:n,extra:{attributes:o,styles:r,classes:["".concat(at.cssPrefix,"-layers-counter"),...s]}})))}}}},xK={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Wo,title:s=null,classes:o=[],attributes:r={},styles:i={}}=t;return Bh({type:"text",content:e},()=>(ya("beforeDOMElementCreation",{content:e,params:t}),dk({content:e,transform:Ne(Ne({},Wo),n),title:s,extra:{attributes:r,styles:i,classes:["".concat(at.cssPrefix,"-layers-text"),...o]}})))}}},provides(e){e.generateLayersText=function(t,n){const{title:s,transform:o,extra:r}=n;let i=null,a=null;if(SA){const c=parseInt(getComputedStyle(t).fontSize,10),d=t.getBoundingClientRect();i=d.width/c,a=d.height/c}return at.autoA11y&&!s&&(r.attributes["aria-hidden"]="true"),Promise.resolve([t,dk({content:t.innerHTML,width:i,height:a,transform:o,title:s,extra:r,watchable:!0})])}}};const YK=new RegExp('"',"ug"),bk=[1105920,1112319],_k=Ne(Ne(Ne(Ne({},{FontAwesome:{normal:"fas",400:"fas"}}),bG),NG),EG),Hb=Object.keys(_k).reduce((e,t)=>(e[t.toLowerCase()]=_k[t],e),{}),XK=Object.keys(Hb).reduce((e,t)=>{const n=Hb[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function JK(e){const t=e.replace(YK,""),n=sK(t,0),s=n>=bk[0]&&n<=bk[1],o=t.length===2?t[0]===t[1]:!1;return{value:Nb(o?t[0]:t),isSecondary:s||o}}function ZK(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),s=parseInt(t),o=isNaN(s)?"normal":s;return(Hb[n]||{})[o]||XK[n]}function yk(e,t){const n="".concat(FG).concat(t.replace(":","-"));return new Promise((s,o)=>{if(e.getAttribute(n)!==null)return s();const i=jl(e.children).filter(v=>v.getAttribute(Lb)===t)[0],a=Ci.getComputedStyle(e,t),c=a.getPropertyValue("font-family"),d=c.match(zG),f=a.getPropertyValue("font-weight"),h=a.getPropertyValue("content");if(i&&!d)return e.removeChild(i),s();if(d&&h!=="none"&&h!==""){const v=a.getPropertyValue("content");let _=ZK(c,f);const{value:S,isSecondary:k}=JK(v),P=d[0].startsWith("FontAwesome");let C=b_(_,S),$=C;if(P){const L=cK(S);L.iconName&&L.prefix&&(C=L.iconName,_=L.prefix)}if(C&&!k&&(!i||i.getAttribute(f_)!==_||i.getAttribute(h_)!==$)){e.setAttribute(n,$),i&&e.removeChild(i);const L=jK(),{extra:T}=L;T.attributes[Lb]=t,Bb(C,_).then(R=>{const q=__(Ne(Ne({},L),{},{icons:{main:R,mask:WA()},prefix:_,iconName:$,extra:T,watchable:!0})),D=yn.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(D,e.firstChild):e.appendChild(D),D.outerHTML=q.map(x=>Uu(x)).join(`
`),e.removeAttribute(n),s()}).catch(o)}else s()}else s()})}function QK(e){return Promise.all([yk(e,"::before"),yk(e,"::after")])}function ex(e){return e.parentNode!==document.head&&!~UG.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Lb)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function wk(e){if(Ur)return new Promise((t,n)=>{const s=jl(e.querySelectorAll("*")).filter(ex).map(QK),o=y_.begin("searchPseudoElements");XA(),Promise.all(s).then(()=>{o(),qb(),t()}).catch(()=>{o(),qb(),n()})})}var tx={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=wk,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:n=yn}=t;at.searchPseudoElements&&wk(n)}}};let Sk=!1;var nx={mixout(){return{dom:{unwatch(){XA(),Sk=!0}}}},hooks(){return{bootstrap(){mk(Db("mutationObserverCallbacks",{}))},noAuto(){NK()},watch(e){const{observeMutationsRoot:t}=e;Sk?qb():mk(Db("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const kk=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((n,s)=>{const o=s.toLowerCase().split("-"),r=o[0];let i=o.slice(1).join("-");if(r&&i==="h")return n.flipX=!0,n;if(r&&i==="v")return n.flipY=!0,n;if(i=parseFloat(i),isNaN(i))return n;switch(r){case"grow":n.size=n.size+i;break;case"shrink":n.size=n.size-i;break;case"left":n.x=n.x-i;break;case"right":n.x=n.x+i;break;case"up":n.y=n.y-i;break;case"down":n.y=n.y+i;break;case"rotate":n.rotate=n.rotate+i;break}return n},t)};var sx={mixout(){return{parse:{transform:e=>kk(e)}}},hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=kk(n)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:n,transform:s,containerWidth:o,iconWidth:r}=t;const i={transform:"translate(".concat(o/2," 256)")},a="translate(".concat(s.x*32,", ").concat(s.y*32,") "),c="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),d="rotate(".concat(s.rotate," 0 0)"),f={transform:"".concat(a," ").concat(c," ").concat(d)},h={transform:"translate(".concat(r/2*-1," -256)")},v={outer:i,inner:f,path:h};return{tag:"g",attributes:Ne({},v.outer),children:[{tag:"g",attributes:Ne({},v.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:Ne(Ne({},n.icon.attributes),v.path)}]}]}}}};const ag={x:0,y:0,width:"100%",height:"100%"};function $k(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function ox(e){return e.tag==="g"?e.children:[e]}var rx={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),s=n?jh(n.split(" ").map(o=>o.trim())):WA();return s.prefix||(s.prefix=Ti()),e.mask=s,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:n,attributes:s,main:o,mask:r,maskId:i,transform:a}=t;const{width:c,icon:d}=o,{width:f,icon:h}=r,v=JG({transform:a,containerWidth:f,iconWidth:c}),_={tag:"rect",attributes:Ne(Ne({},ag),{},{fill:"white"})},S=d.children?{children:d.children.map($k)}:{},k={tag:"g",attributes:Ne({},v.inner),children:[$k(Ne({tag:d.tag,attributes:Ne(Ne({},d.attributes),v.path)},S))]},P={tag:"g",attributes:Ne({},v.outer),children:[k]},C="mask-".concat(i||_u()),$="clip-".concat(i||_u()),L={tag:"mask",attributes:Ne(Ne({},ag),{},{id:C,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[_,P]},T={tag:"defs",children:[{tag:"clipPath",attributes:{id:$},children:ox(h)},L]};return n.push(T,{tag:"rect",attributes:Ne({fill:"currentColor","clip-path":"url(#".concat($,")"),mask:"url(#".concat(C,")")},ag)}),{children:n,attributes:s}}}},ix={provides(e){let t=!1;Ci.matchMedia&&(t=Ci.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const n=[],s={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:Ne(Ne({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const r=Ne(Ne({},o),{},{attributeName:"opacity"}),i={tag:"circle",attributes:Ne(Ne({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||i.children.push({tag:"animate",attributes:Ne(Ne({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ne(Ne({},r),{},{values:"1;0;1;1;0;1;"})}),n.push(i),n.push({tag:"path",attributes:Ne(Ne({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Ne(Ne({},r),{},{values:"1;0;0;0;0;1;"})}]}),t||n.push({tag:"path",attributes:Ne(Ne({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ne(Ne({},r),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},ax={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),s=n===null?!1:n===""?!0:n;return e.symbol=s,e}}}},lx=[eK,WK,GK,KK,xK,tx,nx,sx,rx,ix,ax];bK(lx,{mixoutsTo:Ks});Ks.noAuto;const cx=Ks.config,et=Ks.library;Ks.dom;const Vb=Ks.parse;Ks.findIconDefinition;Ks.toHtml;const ux=Ks.icon;Ks.layer;Ks.text;Ks.counter;/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const dx={prefix:"fas",iconName:"at",icon:[512,512,[61946],"40","M256 64C150 64 64 150 64 256s86 192 192 192c17.7 0 32 14.3 32 32s-14.3 32-32 32C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256l0 32c0 53-43 96-96 96c-29.3 0-55.6-13.2-73.2-33.9C320 371.1 289.5 384 256 384c-70.7 0-128-57.3-128-128s57.3-128 128-128c27.9 0 53.7 8.9 74.7 24.1c5.7-5 13.1-8.1 21.3-8.1c17.7 0 32 14.3 32 32l0 80 0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32c0-106-86-192-192-192zm64 192a64 64 0 1 0 -128 0 64 64 0 1 0 128 0z"]},fx={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"]},hx=fx,iCe={prefix:"fas",iconName:"info",icon:[192,512,[],"f129","M48 80a48 48 0 1 1 96 0A48 48 0 1 1 48 80zM0 224c0-17.7 14.3-32 32-32l64 0c17.7 0 32 14.3 32 32l0 224 32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32s14.3-32 32-32l32 0 0-192-32 0c-17.7 0-32-14.3-32-32z"]},px={prefix:"fas",iconName:"down-left-and-up-right-to-center",icon:[512,512,["compress-alt"],"f422","M439 7c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8l-144 0c-13.3 0-24-10.7-24-24l0-144c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39L439 7zM72 272l144 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39L73 505c-9.4 9.4-24.6 9.4-33.9 0L7 473c-9.4-9.4-9.4-24.6 0-33.9l87-87L55 313c-6.9-6.9-8.9-17.2-5.2-26.2s12.5-14.8 22.2-14.8z"]},mx=px,gx={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"]},ZA=gx,vx={prefix:"fas",iconName:"face-smile-beam",icon:[512,512,[128522,"smile-beam"],"f5b8","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM164.1 325.5C182 346.2 212.6 368 256 368s74-21.8 91.9-42.5c5.8-6.7 15.9-7.4 22.6-1.6s7.4 15.9 1.6 22.6C349.8 372.1 311.1 400 256 400s-93.8-27.9-116.1-53.5c-5.8-6.7-5.1-16.8 1.6-22.6s16.8-5.1 22.6 1.6zm53.5-96.7s0 0 0 0c0 0 0 0 0 0l-.2-.2c-.2-.2-.4-.5-.7-.9c-.6-.8-1.6-2-2.8-3.4c-2.5-2.8-6-6.6-10.2-10.3c-8.8-7.8-18.8-14-27.7-14s-18.9 6.2-27.7 14c-4.2 3.7-7.7 7.5-10.2 10.3c-1.2 1.4-2.2 2.6-2.8 3.4c-.3 .4-.6 .7-.7 .9l-.2 .2c0 0 0 0 0 0c0 0 0 0 0 0s0 0 0 0c-2.1 2.8-5.7 3.9-8.9 2.8s-5.5-4.1-5.5-7.6c0-17.9 6.7-35.6 16.6-48.8c9.8-13 23.9-23.2 39.4-23.2s29.6 10.2 39.4 23.2c9.9 13.2 16.6 30.9 16.6 48.8c0 3.4-2.2 6.5-5.5 7.6s-6.9 0-8.9-2.8c0 0 0 0 0 0s0 0 0 0zm160 0c0 0 0 0 0 0l-.2-.2c-.2-.2-.4-.5-.7-.9c-.6-.8-1.6-2-2.8-3.4c-2.5-2.8-6-6.6-10.2-10.3c-8.8-7.8-18.8-14-27.7-14s-18.9 6.2-27.7 14c-4.2 3.7-7.7 7.5-10.2 10.3c-1.2 1.4-2.2 2.6-2.8 3.4c-.3 .4-.6 .7-.7 .9l-.2 .2c0 0 0 0 0 0c0 0 0 0 0 0s0 0 0 0c-2.1 2.8-5.7 3.9-8.9 2.8s-5.5-4.1-5.5-7.6c0-17.9 6.7-35.6 16.6-48.8c9.8-13 23.9-23.2 39.4-23.2s29.6 10.2 39.4 23.2c9.9 13.2 16.6 30.9 16.6 48.8c0 3.4-2.2 6.5-5.5 7.6s-6.9 0-8.9-2.8c0 0 0 0 0 0s0 0 0 0s0 0 0 0z"]},zh=vx,bx={prefix:"fas",iconName:"angles-down",icon:[448,512,["angle-double-down"],"f103","M246.6 470.6c-12.5 12.5-32.8 12.5-45.3 0l-160-160c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L224 402.7 361.4 265.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-160 160zm160-352l-160 160c-12.5 12.5-32.8 12.5-45.3 0l-160-160c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L224 210.7 361.4 73.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3z"]},QA=bx,_x={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"]},yx=_x,ju={prefix:"fas",iconName:"comments",icon:[640,512,[128490,61670],"f086","M208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 38.6 14.7 74.3 39.6 103.4c-3.5 9.4-8.7 17.7-14.2 24.7c-4.8 6.2-9.7 11-13.3 14.3c-1.8 1.6-3.3 2.9-4.3 3.7c-.5 .4-.9 .7-1.1 .8l-.2 .2s0 0 0 0s0 0 0 0C1 327.2-1.4 334.4 .8 340.9S9.1 352 16 352c21.8 0 43.8-5.6 62.1-12.5c9.2-3.5 17.8-7.4 25.2-11.4C134.1 343.3 169.8 352 208 352zM448 176c0 112.3-99.1 196.9-216.5 207C255.8 457.4 336.4 512 432 512c38.2 0 73.9-8.7 104.7-23.9c7.5 4 16 7.9 25.2 11.4c18.3 6.9 40.3 12.5 62.1 12.5c6.9 0 13.1-4.5 15.2-11.1c2.1-6.6-.2-13.8-5.8-17.9c0 0 0 0 0 0s0 0 0 0l-.2-.2c-.2-.2-.6-.4-1.1-.8c-1-.8-2.5-2-4.3-3.7c-3.6-3.3-8.5-8.1-13.3-14.3c-5.5-7-10.7-15.4-14.2-24.7c24.9-29 39.6-64.7 39.6-103.4c0-92.8-84.9-168.9-192.6-175.5c.4 5.1 .6 10.3 .6 15.5z"]},mo={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},wx={prefix:"fas",iconName:"paw",icon:[512,512,[],"f1b0","M226.5 92.9c14.3 42.9-.3 86.2-32.6 96.8s-70.1-15.6-84.4-58.5s.3-86.2 32.6-96.8s70.1 15.6 84.4 58.5zM100.4 198.6c18.9 32.4 14.3 70.1-10.2 84.1s-59.7-.9-78.5-33.3S-2.7 179.3 21.8 165.3s59.7 .9 78.5 33.3zM69.2 401.2C121.6 259.9 214.7 224 256 224s134.4 35.9 186.8 177.2c3.6 9.7 5.2 20.1 5.2 30.5l0 1.6c0 25.8-20.9 46.7-46.7 46.7c-11.5 0-22.9-1.4-34-4.2l-88-22c-15.3-3.8-31.3-3.8-46.6 0l-88 22c-11.1 2.8-22.5 4.2-34 4.2C84.9 480 64 459.1 64 433.3l0-1.6c0-10.4 1.6-20.8 5.2-30.5zM421.8 282.7c-24.5-14-29.1-51.7-10.2-84.1s54-47.3 78.5-33.3s29.1 51.7 10.2 84.1s-54 47.3-78.5 33.3zM310.1 189.7c-32.3-10.6-46.9-53.9-32.6-96.8s52.1-69.1 84.4-58.5s46.9 53.9 32.6 96.8s-52.1 69.1-84.4 58.5z"]},eE={prefix:"fas",iconName:"reply",icon:[512,512,[61714,"mail-reply"],"f3e5","M205 34.8c11.5 5.1 19 16.6 19 29.2l0 64 112 0c97.2 0 176 78.8 176 176c0 113.3-81.5 163.9-100.2 174.1c-2.5 1.4-5.3 1.9-8.1 1.9c-10.9 0-19.7-8.9-19.7-19.7c0-7.5 4.3-14.4 9.8-19.5c9.4-8.8 22.2-26.4 22.2-56.7c0-53-43-96-96-96l-96 0 0 64c0 12.6-7.4 24.1-19 29.2s-25 3-34.4-5.4l-160-144C3.9 225.7 0 217.1 0 208s3.9-17.7 10.6-23.8l160-144c9.4-8.5 22.9-10.6 34.4-5.4z"]},Sx={prefix:"fas",iconName:"compass",icon:[512,512,[129517],"f14e","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm50.7-186.9L162.4 380.6c-19.4 7.5-38.5-11.6-31-31l55.5-144.3c3.3-8.5 9.9-15.1 18.4-18.4l144.3-55.5c19.4-7.5 38.5 11.6 31 31L325.1 306.7c-3.2 8.5-9.9 15.1-18.4 18.4zM288 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},aCe={prefix:"fas",iconName:"laptop-code",icon:[640,512,[],"f5fc","M64 96c0-35.3 28.7-64 64-64l384 0c35.3 0 64 28.7 64 64l0 256-64 0 0-256L128 96l0 256-64 0L64 96zM0 403.2C0 392.6 8.6 384 19.2 384l601.6 0c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8L76.8 480C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]},tE={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},kx={prefix:"fas",iconName:"people-group",icon:[640,512,[],"e533","M72 88a56 56 0 1 1 112 0A56 56 0 1 1 72 88zM64 245.7C54 256.9 48 271.8 48 288s6 31.1 16 42.3l0-84.7zm144.4-49.3C178.7 222.7 160 261.2 160 304c0 34.3 12 65.8 32 90.5l0 21.5c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-26.8C26.2 371.2 0 332.7 0 288c0-61.9 50.1-112 112-112l32 0c24 0 46.2 7.5 64.4 20.3zM448 416l0-21.5c20-24.7 32-56.2 32-90.5c0-42.8-18.7-81.3-48.4-107.7C449.8 183.5 472 176 496 176l32 0c61.9 0 112 50.1 112 112c0 44.7-26.2 83.2-64 101.2l0 26.8c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32zm8-328a56 56 0 1 1 112 0A56 56 0 1 1 456 88zM576 245.7l0 84.7c10-11.3 16-26.1 16-42.3s-6-31.1-16-42.3zM320 32a64 64 0 1 1 0 128 64 64 0 1 1 0-128zM240 304c0 16.2 6 31 16 42.3l0-84.7c-10 11.3-16 26.1-16 42.3zm144-42.3l0 84.7c10-11.3 16-26.1 16-42.3s-6-31.1-16-42.3zM448 304c0 44.7-26.2 83.2-64 101.2l0 42.8c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-42.8c-37.8-18-64-56.5-64-101.2c0-61.9 50.1-112 112-112l32 0c61.9 0 112 50.1 112 112z"]},$x={prefix:"fas",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M272 384c9.6-31.9 29.5-59.1 49.2-86.2c0 0 0 0 0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4c0 0 0 0 0 0c19.8 27.1 39.7 54.4 49.2 86.2l160 0zM192 512c44.2 0 80-35.8 80-80l0-16-160 0 0 16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"]},Cx={prefix:"fas",iconName:"flag",icon:[448,512,[127988,61725],"f024","M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32L0 64 0 368 0 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-128 64.3-16.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30l0-247.7c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L64 48l0-16z"]},qh={prefix:"fas",iconName:"list",icon:[512,512,["list-squares"],"f03a","M40 48C26.7 48 16 58.7 16 72l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24L40 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0z"]},Tx={prefix:"fas",iconName:"paintbrush",icon:[576,512,[128396,"paint-brush"],"f1fc","M339.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L568.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S517.7-4.4 499.1 9.6L262.4 187.2c-24 18-38.2 46.1-38.4 76.1L339.3 367.1zm-19.6 25.4l-116-104.4C143.9 290.3 96 339.6 96 400c0 3.9 .2 7.8 .6 11.6C98.4 429.1 86.4 448 68.8 448L64 448c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"]},lCe=Tx,nE={prefix:"fas",iconName:"lock",icon:[448,512,[128274],"f023","M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"]},Ax={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},Ex=Ax,Ix={prefix:"fas",iconName:"share-nodes",icon:[448,512,["share-alt"],"f1e0","M352 224c53 0 96-43 96-96s-43-96-96-96s-96 43-96 96c0 4 .2 8 .7 11.9l-94.1 47C145.4 170.2 121.9 160 96 160c-53 0-96 43-96 96s43 96 96 96c25.9 0 49.4-10.2 66.6-26.9l94.1 47c-.5 3.9-.7 7.8-.7 11.9c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-25.9 0-49.4 10.2-66.6 26.9l-94.1-47c.5-3.9 .7-7.8 .7-11.9s-.2-8-.7-11.9l94.1-47C302.6 213.8 326.1 224 352 224z"]},Px=Ix,sE={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192l42.7 0c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0L21.3 320C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7l42.7 0C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3l-213.3 0zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352l117.3 0C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7l-330.7 0c-14.7 0-26.7-11.9-26.7-26.7z"]},S_={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},cCe={prefix:"fas",iconName:"hand",icon:[512,512,[129306,9995,"hand-paper"],"f256","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-176c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 272c0 1.5 0 3.1 .1 4.6L67.6 283c-16-15.2-41.3-14.6-56.6 1.4s-14.6 41.3 1.4 56.6L124.8 448c43.1 41.1 100.4 64 160 64l19.2 0c97.2 0 176-78.8 176-176l0-208c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-176c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 176c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208z"]},k_={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},$_={prefix:"fas",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"]},Lx={prefix:"fas",iconName:"folder",icon:[512,512,[128193,128447,61716,"folder-blank"],"f07b","M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H288c-10.1 0-19.6-4.7-25.6-12.8L243.2 57.6C231.1 41.5 212.1 32 192 32H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z"]},C_={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},Bu={prefix:"fas",iconName:"bullhorn",icon:[512,512,[128226,128363],"f0a1","M480 32c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9L381.7 53c-48 48-113.1 75-181 75l-8.7 0-32 0-96 0c-35.3 0-64 28.7-64 64l0 96c0 35.3 28.7 64 64 64l0 128c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-128 8.7 0c67.9 0 133 27 181 75l43.6 43.6c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6l0-147.6c18.6-8.8 32-32.5 32-60.4s-13.4-51.6-32-60.4L480 32zm-64 76.7L416 240l0 131.3C357.2 317.8 280.5 288 200.7 288l-8.7 0 0-96 8.7 0c79.8 0 156.5-29.8 215.3-83.3z"]},zu={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M352 256c0 22.2-1.2 43.6-3.3 64l-185.3 0c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64l185.3 0c2.2 20.4 3.3 41.8 3.3 64zm28.8-64l123.1 0c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64l-123.1 0c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32l-116.7 0c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0l-176.6 0c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 20.9 58.2 27 94.7zm-209 0L18.6 160C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192l123.1 0c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64L8.1 320C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6l176.6 0c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352l116.7 0zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6l116.7 0z"]},Ox={prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M367.2 412.5L99.5 144.8C77.1 176.1 64 214.5 64 256c0 106 86 192 192 192c41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3C434.9 335.9 448 297.5 448 256c0-106-86-192-192-192c-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},T_={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},uCe={prefix:"fas",iconName:"server",icon:[512,512,[],"f233","M64 32C28.7 32 0 60.7 0 96l0 64c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-64c0-35.3-28.7-64-64-64L64 32zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm48 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM64 288c-35.3 0-64 28.7-64 64l0 64c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-64c0-35.3-28.7-64-64-64L64 288zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"]},Rx={prefix:"fas",iconName:"right-to-bracket",icon:[512,512,["sign-in-alt"],"f2f6","M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},oE=Rx,dCe={prefix:"fas",iconName:"folder-open",icon:[576,512,[128194,128449,61717],"f07c","M88.7 223.8L0 375.8 0 96C0 60.7 28.7 32 64 32l117.5 0c17 0 33.3 6.7 45.3 18.7l26.5 26.5c12 12 28.3 18.7 45.3 18.7L416 96c35.3 0 64 28.7 64 64l0 32-336 0c-22.8 0-43.8 12.1-55.3 31.8zm27.6 16.1C122.1 230 132.6 224 144 224l400 0c11.5 0 22 6.1 27.7 16.1s5.7 22.2-.1 32.1l-112 192C453.9 474 443.4 480 432 480L32 480c-11.5 0-22-6.1-27.7-16.1s-5.7-22.2 .1-32.1l112-192z"]},Mx={prefix:"fas",iconName:"file-arrow-up",icon:[384,512,["file-upload"],"f574","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM216 408c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-102.1-31 31c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l72-72c9.4-9.4 24.6-9.4 33.9 0l72 72c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-31-31L216 408z"]},fCe=Mx,hCe={prefix:"fas",iconName:"window-restore",icon:[512,512,[],"f2d2","M432 64L208 64c-8.8 0-16 7.2-16 16l0 16-64 0 0-16c0-44.2 35.8-80 80-80L432 0c44.2 0 80 35.8 80 80l0 224c0 44.2-35.8 80-80 80l-16 0 0-64 16 0c8.8 0 16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zM0 192c0-35.3 28.7-64 64-64l256 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 192zm64 32c0 17.7 14.3 32 32 32l192 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 192c-17.7 0-32 14.3-32 32z"]},Nx={prefix:"fas",iconName:"square-plus",icon:[448,512,[61846,"plus-square"],"f0fe","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM200 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},Fx=Nx,A_={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6l96 0 32 0 208 0c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},Dx={prefix:"fas",iconName:"angles-right",icon:[512,512,[187,"angle-double-right"],"f101","M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"]},rE=Dx,Ux={prefix:"fas",iconName:"circle-play",icon:[512,512,[61469,"play-circle"],"f144","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9l0 176c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z"]},jx=Ux,pCe={prefix:"fas",iconName:"file-import",icon:[512,512,["arrow-right-to-file"],"f56f","M128 64c0-35.3 28.7-64 64-64L352 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64l-256 0c-35.3 0-64-28.7-64-64l0-112 174.1 0-39 39c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l39 39L128 288l0-224zm0 224l0 48L24 336c-13.3 0-24-10.7-24-24s10.7-24 24-24l104 0zM512 128l-128 0L384 0 512 128z"]},Bx={prefix:"fas",iconName:"box-open",icon:[640,512,[],"f49e","M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6l0 167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5l0-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128l2.2 0z"]},mCe={prefix:"fas",iconName:"palette",icon:[512,512,[127912],"f53f","M512 256c0 .9 0 1.8 0 2.7c-.4 36.5-33.6 61.3-70.1 61.3L344 320c-26.5 0-48 21.5-48 48c0 3.4 .4 6.7 1 9.9c2.1 10.2 6.5 20 10.8 29.9c6.1 13.8 12.1 27.5 12.1 42c0 31.8-21.6 60.7-53.4 62c-3.5 .1-7 .2-10.6 .2C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM128 288a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm0-96a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM288 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 96a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]},gCe={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160 352 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l111.5 0c0 0 0 0 0 0l.4 0c17.7 0 32-14.3 32-32l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1L16 432c0 17.7 14.3 32 32 32s32-14.3 32-32l0-35.1 17.6 17.5c0 0 0 0 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.8c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352l34.4 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L48.4 288c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},iE={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},aE={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},lE={prefix:"fas",iconName:"lock-open",icon:[576,512,[],"f3c1","M352 144c0-44.2 35.8-80 80-80s80 35.8 80 80l0 48c0 17.7 14.3 32 32 32s32-14.3 32-32l0-48C576 64.5 511.5 0 432 0S288 64.5 288 144l0 48L64 192c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-192c0-35.3-28.7-64-64-64l-32 0 0-48z"]},zx={prefix:"fas",iconName:"square-poll-horizontal",icon:[448,512,["poll-h"],"f682","M448 96c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320zM256 160c0 17.7-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l96 0c17.7 0 32 14.3 32 32zm64 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l192 0zM192 352c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l32 0c17.7 0 32 14.3 32 32z"]},Hh=zx,qx={prefix:"fas",iconName:"basketball",icon:[512,512,[127936,"basketball-ball"],"f434","M86.6 64l85.2 85.2C194.5 121.7 208 86.4 208 48c0-14.7-2-28.9-5.7-42.4C158.6 15 119 35.5 86.6 64zM64 86.6C35.5 119 15 158.6 5.6 202.3C19.1 206 33.3 208 48 208c38.4 0 73.7-13.5 101.3-36.1L64 86.6zM256 0c-7.3 0-14.6 .3-21.8 .9C238 16 240 31.8 240 48c0 47.3-17.1 90.5-45.4 124L256 233.4 425.4 64C380.2 24.2 320.9 0 256 0zM48 240c-16.2 0-32-2-47.1-5.8C.3 241.4 0 248.7 0 256c0 64.9 24.2 124.2 64 169.4L233.4 256 172 194.6C138.5 222.9 95.3 240 48 240zm463.1 37.8c.6-7.2 .9-14.5 .9-21.8c0-64.9-24.2-124.2-64-169.4L278.6 256 340 317.4c33.4-28.3 76.7-45.4 124-45.4c16.2 0 32 2 47.1 5.8zm-4.7 31.9C492.9 306 478.7 304 464 304c-38.4 0-73.7 13.5-101.3 36.1L448 425.4c28.5-32.3 49.1-71.9 58.4-115.7zM340.1 362.7C317.5 390.3 304 425.6 304 464c0 14.7 2 28.9 5.7 42.4C353.4 497 393 476.5 425.4 448l-85.2-85.2zM317.4 340L256 278.6 86.6 448c45.1 39.8 104.4 64 169.4 64c7.3 0 14.6-.3 21.8-.9C274 496 272 480.2 272 464c0-47.3 17.1-90.5 45.4-124z"]},Hx=qx,E_={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7L336 192c-8.8 0-16-7.2-16-16l0-57.4c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 408a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},vCe={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},Vx={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},Wx={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},Gx={prefix:"fas",iconName:"bus",icon:[576,512,[128653],"f207","M288 0C422.4 0 512 35.2 512 80l0 16 0 32c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32l0 160c0 17.7-14.3 32-32 32l0 32c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-32-192 0 0 32c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-32c-17.7 0-32-14.3-32-32l0-160c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32c0 0 0 0 0 0l0-32s0 0 0 0l0-16C64 35.2 153.6 0 288 0zM128 160l0 96c0 17.7 14.3 32 32 32l112 0 0-160-112 0c-17.7 0-32 14.3-32 32zM304 288l112 0c17.7 0 32-14.3 32-32l0-96c0-17.7-14.3-32-32-32l-112 0 0 160zM144 400a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm288 0a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM384 80c0-8.8-7.2-16-16-16L208 64c-8.8 0-16 7.2-16 16s7.2 16 16 16l160 0c8.8 0 16-7.2 16-16z"]},bCe={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm0 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32L96 224c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},Kx={prefix:"fas",iconName:"up-right-from-square",icon:[512,512,["external-link-alt"],"f35d","M352 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L370.7 96 201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L416 141.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6l0-128c0-17.7-14.3-32-32-32L352 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z"]},cE=Kx,xx={prefix:"fas",iconName:"cake-candles",icon:[448,512,[127874,"birthday-cake","cake"],"f1fd","M86.4 5.5L61.8 47.6C58 54.1 56 61.6 56 69.2L56 72c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L105.6 5.5C103.6 2.1 100 0 96 0s-7.6 2.1-9.6 5.5zm128 0L189.8 47.6c-3.8 6.5-5.8 14-5.8 21.6l0 2.8c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L233.6 5.5C231.6 2.1 228 0 224 0s-7.6 2.1-9.6 5.5zM317.8 47.6c-3.8 6.5-5.8 14-5.8 21.6l0 2.8c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L361.6 5.5C359.6 2.1 356 0 352 0s-7.6 2.1-9.6 5.5L317.8 47.6zM128 176c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48c-35.3 0-64 28.7-64 64l0 71c8.3 5.2 18.1 9 28.8 9c13.5 0 27.2-6.1 38.4-13.4c5.4-3.5 9.9-7.1 13-9.7c1.5-1.3 2.7-2.4 3.5-3.1c.4-.4 .7-.6 .8-.8l.1-.1s0 0 0 0s0 0 0 0s0 0 0 0s0 0 0 0c3.1-3.2 7.4-4.9 11.9-4.8s8.6 2.1 11.6 5.4c0 0 0 0 0 0s0 0 0 0l.1 .1c.1 .1 .4 .4 .7 .7c.7 .7 1.7 1.7 3.1 3c2.8 2.6 6.8 6.1 11.8 9.5c10.2 7.1 23 13.1 36.3 13.1s26.1-6 36.3-13.1c5-3.5 9-6.9 11.8-9.5c1.4-1.3 2.4-2.3 3.1-3c.3-.3 .6-.6 .7-.7l.1-.1c3-3.5 7.4-5.4 12-5.4s9 2 12 5.4l.1 .1c.1 .1 .4 .4 .7 .7c.7 .7 1.7 1.7 3.1 3c2.8 2.6 6.8 6.1 11.8 9.5c10.2 7.1 23 13.1 36.3 13.1s26.1-6 36.3-13.1c5-3.5 9-6.9 11.8-9.5c1.4-1.3 2.4-2.3 3.1-3c.3-.3 .6-.6 .7-.7l.1-.1c2.9-3.4 7.1-5.3 11.6-5.4s8.7 1.6 11.9 4.8c0 0 0 0 0 0s0 0 0 0s0 0 0 0l.1 .1c.2 .2 .4 .4 .8 .8c.8 .7 1.9 1.8 3.5 3.1c3.1 2.6 7.5 6.2 13 9.7c11.2 7.3 24.9 13.4 38.4 13.4c10.7 0 20.5-3.9 28.8-9l0-71c0-35.3-28.7-64-64-64l0-48c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48-64 0 0-48c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48-64 0 0-48zM448 394.6c-8.5 3.3-18.2 5.4-28.8 5.4c-22.5 0-42.4-9.9-55.8-18.6c-4.1-2.7-7.8-5.4-10.9-7.8c-2.8 2.4-6.1 5-9.8 7.5C329.8 390 310.6 400 288 400s-41.8-10-54.6-18.9c-3.5-2.4-6.7-4.9-9.4-7.2c-2.7 2.3-5.9 4.7-9.4 7.2C201.8 390 182.6 400 160 400s-41.8-10-54.6-18.9c-3.7-2.6-7-5.2-9.8-7.5c-3.1 2.4-6.8 5.1-10.9 7.8C71.2 390.1 51.3 400 28.8 400c-10.6 0-20.3-2.2-28.8-5.4L0 480c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32l0-85.4z"]},Yx=xx,Vh={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},Xx={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},Wh=Xx,Jx={prefix:"fas",iconName:"check-double",icon:[448,512,[],"f560","M342.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 178.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l80 80c12.5 12.5 32.8 12.5 45.3 0l160-160zm96 128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 402.7 54.6 297.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l256-256z"]},qu={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"]},Zx={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},I_=Zx,_Ce={prefix:"fas",iconName:"keyboard",icon:[576,512,[9e3],"f11c","M64 64C28.7 64 0 92.7 0 128L0 384c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64L64 64zm16 64l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zM64 240c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zm16 80l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zm80-176c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zm16 80l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zM160 336c0-8.8 7.2-16 16-16l224 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-224 0c-8.8 0-16-7.2-16-16l0-32zM272 128l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zM256 240c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zM368 128l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zM352 240c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zM464 128l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zM448 240c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zm16 80l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16z"]},uE={prefix:"fas",iconName:"folder-tree",icon:[576,512,[],"f802","M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32l0 96L0 384c0 35.3 28.7 64 64 64l192 0 0-64L64 384l0-224 192 0 0-64L64 96l0-64zM288 192c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32l-98.7 0c-8.5 0-16.6-3.4-22.6-9.4L409.4 9.4c-6-6-14.1-9.4-22.6-9.4L320 0c-17.7 0-32 14.3-32 32l0 160zm0 288c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32l-98.7 0c-8.5 0-16.6-3.4-22.6-9.4l-13.3-13.3c-6-6-14.1-9.4-22.6-9.4L320 288c-17.7 0-32 14.3-32 32l0 160z"]},Qx={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"]},eY=Qx,yCe={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},wCe={prefix:"fas",iconName:"eye-dropper",icon:[512,512,["eye-dropper-empty","eyedropper"],"f1fb","M341.6 29.2L240.1 130.8l-9.4-9.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-9.4-9.4L482.8 170.4c39-39 39-102.2 0-141.1s-102.2-39-141.1 0zM55.4 323.3c-15 15-23.4 35.4-23.4 56.6l0 42.4L5.4 462.2c-8.5 12.7-6.8 29.6 4 40.4s27.7 12.5 40.4 4L89.7 480l42.4 0c21.2 0 41.6-8.4 56.6-23.4L309.4 335.9l-45.3-45.3L143.4 411.3c-3 3-7.1 4.7-11.3 4.7L96 416l0-36.1c0-4.2 1.7-8.3 4.7-11.3L221.4 247.9l-45.3-45.3L55.4 323.3z"]},tY={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},dE=tY,fE={prefix:"fas",iconName:"stop",icon:[384,512,[9209],"f04d","M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"]},hE={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3L288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-242.7-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352l128 0c0 35.3 28.7 64 64 64s64-28.7 64-64l128 0c35.3 0 64 28.7 64 64l0 32c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64l0-32c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},nY={prefix:"fas",iconName:"file-arrow-down",icon:[384,512,["file-download"],"f56d","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM216 232l0 102.1 31-31c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-72 72c-9.4 9.4-24.6 9.4-33.9 0l-72-72c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l31 31L168 232c0-13.3 10.7-24 24-24s24 10.7 24 24z"]},SCe=nY,sY={prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"]},Hu=sY,Bl={prefix:"fas",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32l0 19.2C119 66 64 130.6 64 208l0 18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416l384 0c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8l0-18.8c0-77.4-55-142-128-156.8L256 32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z"]},P_={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z"]},oY={prefix:"fas",iconName:"gauge-high",icon:[512,512,[62461,"tachometer-alt","tachometer-alt-fast"],"f625","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM288 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM256 416c35.3 0 64-28.7 64-64c0-17.4-6.9-33.1-18.1-44.6L366 161.7c5.3-12.1-.2-26.3-12.3-31.6s-26.3 .2-31.6 12.3L257.9 288c-.6 0-1.3 0-1.9 0c-35.3 0-64 28.7-64 64s28.7 64 64 64zM176 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM96 288a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm352-32a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},pE=oY,rY={prefix:"fas",iconName:"bars-staggered",icon:[512,512,["reorder","stream"],"f550","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM64 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L96 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},mE=rY,iY={prefix:"fas",iconName:"ice-cream",icon:[448,512,[127848],"f810","M367.1 160c.6-5.3 .9-10.6 .9-16C368 64.5 303.5 0 224 0S80 64.5 80 144c0 5.4 .3 10.7 .9 16l-.9 0c-26.5 0-48 21.5-48 48s21.5 48 48 48l53.5 0 181 0 53.5 0c26.5 0 48-21.5 48-48s-21.5-48-48-48l-.9 0zM96 288L200.8 497.7c4.4 8.8 13.3 14.3 23.2 14.3s18.8-5.5 23.2-14.3L352 288 96 288z"]},gE={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"]},aY={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]},lY={prefix:"fas",iconName:"font",icon:[448,512,[],"f031","M254 52.8C249.3 40.3 237.3 32 224 32s-25.3 8.3-30 20.8L57.8 416 32 416c-17.7 0-32 14.3-32 32s14.3 32 32 32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-1.8 0 18-48 159.6 0 18 48-1.8 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-25.8 0L254 52.8zM279.8 304l-111.6 0L224 155.1 279.8 304z"]},cY={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},$a=cY,vE={prefix:"fas",iconName:"file-pen",icon:[576,512,[128221,"file-edit"],"f31c","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 125.7-86.8 86.8c-10.3 10.3-17.5 23.1-21 37.2l-18.7 74.9c-2.3 9.2-1.8 18.8 1.3 27.5L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zM549.8 235.7l14.4 14.4c15.6 15.6 15.6 40.9 0 56.6l-29.4 29.4-71-71 29.4-29.4c15.6-15.6 40.9-15.6 56.6 0zM311.9 417L441.1 287.8l71 71L382.9 487.9c-4.1 4.1-9.2 7-14.9 8.4l-60.1 15c-5.5 1.4-11.2-.2-15.2-4.2s-5.6-9.7-4.2-15.2l15-60.1c1.4-5.6 4.3-10.8 8.4-14.9z"]},uY={prefix:"fas",iconName:"suitcase-rolling",icon:[384,512,[],"f5c1","M144 56c0-4.4 3.6-8 8-8l80 0c4.4 0 8 3.6 8 8l0 72-96 0 0-72zm176 72l-32 0 0-72c0-30.9-25.1-56-56-56L152 0C121.1 0 96 25.1 96 56l0 72-32 0c-35.3 0-64 28.7-64 64L0 416c0 35.3 28.7 64 64 64c0 17.7 14.3 32 32 32s32-14.3 32-32l128 0c0 17.7 14.3 32 32 32s32-14.3 32-32c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64zM112 224l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 128l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},Ca={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},L_={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},dY={prefix:"fas",iconName:"circle-half-stroke",icon:[512,512,[9680,"adjust"],"f042","M448 256c0-106-86-192-192-192l0 384c106 0 192-86 192-192zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},kCe=dY,O_={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},fY={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Yn=fY,Ta={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},Vu={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},R_={prefix:"fas",iconName:"retweet",icon:[576,512,[],"f079","M272 416c17.7 0 32-14.3 32-32s-14.3-32-32-32l-112 0c-17.7 0-32-14.3-32-32l0-128 32 0c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-64-64c-12.5-12.5-32.8-12.5-45.3 0l-64 64c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l32 0 0 128c0 53 43 96 96 96l112 0zM304 96c-17.7 0-32 14.3-32 32s14.3 32 32 32l112 0c17.7 0 32 14.3 32 32l0 128-32 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l64 64c12.5 12.5 32.8 12.5 45.3 0l64-64c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8l-32 0 0-128c0-53-43-96-96-96L304 96z"]},hY={prefix:"fas",iconName:"face-smile",icon:[512,512,[128578,"smile"],"f118","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM164.1 325.5C182 346.2 212.6 368 256 368s74-21.8 91.9-42.5c5.8-6.7 15.9-7.4 22.6-1.6s7.4 15.9 1.6 22.6C349.8 372.1 311.1 400 256 400s-93.8-27.9-116.1-53.5c-5.8-6.7-5.1-16.8 1.6-22.6s16.8-5.1 22.6 1.6zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},pY=hY,M_={prefix:"fas",iconName:"thumbtack",icon:[384,512,[128204,128392,"thumb-tack"],"f08d","M32 32C32 14.3 46.3 0 64 0L320 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-29.5 0 11.4 148.2c36.7 19.9 65.7 53.2 79.5 94.7l1 3c3.3 9.8 1.6 20.5-4.4 28.8s-15.7 13.3-26 13.3L32 352c-10.3 0-19.9-4.9-26-13.3s-7.7-19.1-4.4-28.8l1-3c13.8-41.5 42.8-74.8 79.5-94.7L93.5 64 64 64C46.3 64 32 49.7 32 32zM160 384l64 0 0 96c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-96z"]},mY={prefix:"fas",iconName:"robot",icon:[640,512,[129302],"f544","M320 0c17.7 0 32 14.3 32 32l0 64 120 0c39.8 0 72 32.2 72 72l0 272c0 39.8-32.2 72-72 72l-304 0c-39.8 0-72-32.2-72-72l0-272c0-39.8 32.2-72 72-72l120 0 0-64c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zM264 256a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80zM48 224l16 0 0 192-16 0c-26.5 0-48-21.5-48-48l0-96c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48l0 96c0 26.5-21.5 48-48 48l-16 0 0-192 16 0z"]},gY={prefix:"fas",iconName:"angles-left",icon:[512,512,[171,"angle-double-left"],"f100","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"]},vY=gY,bY={prefix:"fas",iconName:"clock-rotate-left",icon:[512,512,["history"],"f1da","M75 75L41 41C25.9 25.9 0 36.6 0 57.9L0 168c0 13.3 10.7 24 24 24l110.1 0c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24l0 104c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65 0-94.1c0-13.3-10.7-24-24-24z"]},_Y=bY,$Ce={prefix:"fas",iconName:"file-export",icon:[576,512,["arrow-right-from-file"],"f56e","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 128-168 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l168 0 0 112c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zM384 336l0-48 110.1 0-39-39c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l80 80c9.4 9.4 9.4 24.6 0 33.9l-80 80c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l39-39L384 336zm0-208l-128 0L256 0 384 128z"]},N_={prefix:"fas",iconName:"music",icon:[512,512,[127925],"f001","M499.1 6.3c8.1 6 12.9 15.6 12.9 25.7l0 72 0 264c0 44.2-43 80-96 80s-96-35.8-96-80s43-80 96-80c11.2 0 22 1.6 32 4.6L448 147 192 223.8 192 432c0 44.2-43 80-96 80s-96-35.8-96-80s43-80 96-80c11.2 0 22 1.6 32 4.6L128 200l0-72c0-14.1 9.3-26.6 22.8-30.7l320-96c9.7-2.9 20.2-1.1 28.3 5z"]},yY={prefix:"fas",iconName:"up-right-and-down-left-from-center",icon:[512,512,["expand-alt"],"f424","M344 0L488 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39-87 87c-9.4 9.4-24.6 9.4-33.9 0l-32-32c-9.4-9.4-9.4-24.6 0-33.9l87-87L327 41c-6.9-6.9-8.9-17.2-5.2-26.2S334.3 0 344 0zM168 512L24 512c-13.3 0-24-10.7-24-24L0 344c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39 87-87c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8z"]},bE=yY,wY={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},SY={prefix:"fas",iconName:"rss",icon:[448,512,["feed"],"f09e","M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0A64 64 0 1 1 0 416zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},Gh={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM504 312l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},Kh={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},kY={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},$Y=kY,CY={prefix:"fas",iconName:"align-right",icon:[448,512,[],"f038","M448 64c0 17.7-14.3 32-32 32L192 96c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},TY={prefix:"fas",iconName:"magnifying-glass-plus",icon:[512,512,["search-plus"],"f00e","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM184 296c0 13.3 10.7 24 24 24s24-10.7 24-24l0-64 64 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-64 0 0-64c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 64-64 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l64 0 0 64z"]},_E=TY,CCe={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2l144 0c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48l-97.5 0c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3l0-38.3 0-48 0-24.9c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192l64 0c17.7 0 32 14.3 32 32l0 224c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32L0 224c0-17.7 14.3-32 32-32z"]},AY={prefix:"fas",iconName:"note-sticky",icon:[448,512,[62026,"sticky-note"],"f249","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l224 0 0-112c0-26.5 21.5-48 48-48l112 0 0-224c0-35.3-28.7-64-64-64L64 32zM448 352l-45.3 0L336 352c-8.8 0-16 7.2-16 16l0 66.7 0 45.3 32-32 64-64 32-32z"]},EY=AY,IY={prefix:"fas",iconName:"video",icon:[576,512,["video-camera"],"f03d","M0 128C0 92.7 28.7 64 64 64l256 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 448c-35.3 0-64-28.7-64-64L0 128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2l0 256c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1l0-17.1 0-128 0-17.1 14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"]};et.add(Yn);const PY=1,ou=1,yE=new Date("2022-08-04"),wE=1e3,Wb=1001,Is={dirty:!1,flagStorage:{updateCounter:0,configMigration:0,reset:0},prefsStorage:{_journal:[],simple:{dontShowUpdateNotifs:!1,collapseNav:!1,muteFilters:{}},collections:{pinnedStatusActions:["reply","retweet","favorite","emoji"],pinnedNavItems:["home","dms","chats"]}},raw:null,cache:null},SE={...Is.flagStorage,updateCounter:PY},F_=(e,t,n)=>{const s=e.indexOf(t),o=s+n,r=[...e];return r.splice(s,1),r.splice(Z.clamp(o,0,r.length+1),0,t),r},Ck=(e,t)=>({...e,_user:t,_timestamp:Date.now(),_version:ou}),Tk=e=>e._timestamp>0&&e._version>0,Ak=e=>{e.prefsStorage=e.prefsStorage||{simple:{},collections:{}},Object.entries(Is.prefsStorage.simple).forEach(([t,n])=>{typeof n=="number"||typeof n=="boolean"||typeof n=="object"&&n!=null||(console.warn(`Preference simple.${t} as invalid type, reinitializing`),Z.set(e.prefsStorage.simple,t,Is.prefsStorage.simple[t]))}),Object.entries(Is.prefsStorage.collections).forEach(([t,n])=>{Array.isArray(n)||(console.warn(`Preference collections.${t} as invalid type, reinitializing`),Z.set(e.prefsStorage.collections,t,Is.prefsStorage.collections[t]))})},kE=(e,t,n)=>{const s={recent:null,stale:null,needUpload:!1},o=Tk(e||{}),r=Tk(t||{});!r&&o?(s.needUpload=!0,console.debug("Nothing valid stored on server, assuming cache to be source of truth"),s.recent=e,s.stale=t):!o&&r?(console.debug("Valid storage on server found, no local cache found, using live as source of truth"),s.recent=t,s.stale=e):o&&r?(console.debug("Both sources have valid data, figuring things out..."),t._timestamp===e._timestamp&&t._version===e._version?(console.debug("Same version/timestamp on both source, source of truth irrelevant"),s.recent=e,s.stale=t):(console.debug("Different timestamp, figuring out which one is more recent"),t._timestamp<e._timestamp?(s.recent=e,s.stale=t):(s.recent=t,s.stale=e))):(console.debug("Both sources are invalid, start from scratch"),s.needUpload=!0);const i=(a,c)=>({_user:a._user??c._user,_version:a._version??c._version,_timestamp:a._timestamp??c._timestamp,needUpload:c.needUpload??a.needUpload,prefsStorage:Z.merge(a.prefsStorage,c.prefsStorage),flagStorage:Z.merge(a.flagStorage,c.flagStorage)});return s.recent=n?s.recent:s.recent&&i(Is,s.recent),s.stale=n?s.stale:s.stale&&i(Is,s.stale),s},$E=(e,t)=>Array.from(new Set([...Object.keys(Rt((e||{}).flagStorage||{})),...Object.keys(Rt((t||{}).flagStorage||{}))])),CE=(e,t,n)=>t.flagStorage?e.flagStorage?Object.fromEntries(n.map(s=>{const o=e.flagStorage[s],r=t.flagStorage[s];return[s,Number((o>r?o:r)||0)]})):t.flagStorage:e.flagStorage,TE=(...e)=>{const t=Z.flatten(e.map(o=>Array.isArray(o)?o:[])).filter(o=>Object.prototype.hasOwnProperty.call(o,"path")&&Object.prototype.hasOwnProperty.call(o,"operation")&&Object.prototype.hasOwnProperty.call(o,"args")&&Object.prototype.hasOwnProperty.call(o,"timestamp")),n=Z.groupBy(t,"path"),s=Object.entries(n).map(([o,r])=>{if(r.sort((i,a)=>i.timestamp>a.timestamp?1:-1),o.startsWith("collections")){const i=Z.findLastIndex(r,({operation:c})=>c==="removeFromCollection");let a;return i>0?a=r.slice(i):a=r,Z.uniqWith(a,(c,d)=>c.path!==d.path||c.operation!==d.operation?!1:c.operation==="addToCollection"?c.args[0]===d.args[0]:!1)}else return o.startsWith("simple")?Z.takeRight(r):r});return Z.flatten(s).sort((o,r)=>o.timestamp>r.timestamp?1:-1)},AE=(e,t)=>{if(!t)return e;if(!e)return t;const{_journal:n,...s}=e,{_journal:o}=t,r={...s},i=TE(o,n);return i.forEach(({path:a,operation:c,args:d})=>{if(a.startsWith("_"))throw new Error(`journal contains entry to edit internal (starts with _) field '${a}', something is incorrect here, ignoring.`);switch(c){case"set":if(a.startsWith("collections")||a.startsWith("objectCollections"))throw new Error('Illegal operation "set" on a collection');if(a.split(/\./g).length<=1)throw new Error(`Calling set on depth <= 1 (path: ${a}) is not allowed`);Z.set(r,a,d[0]);break;case"unset":if(a.startsWith("collections")||a.startsWith("objectCollections"))throw new Error('Illegal operation "unset" on a collection');if(a.split(/\./g).length<=2)throw new Error(`Calling unset on depth <= 2 (path: ${a})  is not allowed`);Z.unset(r,a);break;case"addToCollection":Z.set(r,a,Array.from(new Set(Z.get(r,a)).add(d[0])));break;case"removeFromCollection":{const f=new Set(Z.get(r,a));f.delete(d[0]),Z.set(r,a,Array.from(f));break}case"reorderCollection":{const[f,h]=d;Z.set(r,a,F_(Z.get(r,a),f,h));break}default:throw new Error(`Unknown journal operation: '${c}', did we forget to run reverse migrations beforehand?`)}}),{...r,_journal:i}},EE=(e,t=Is.flagStorage)=>{let n={...e};const s=Object.keys(e);if(e.reset>=wE&&e.reset<=Wb){console.debug("Received command to trim the flags");const o=new Set(Object.keys(t));n={},s.forEach(r=>{o.has(r)&&(n[r]=e[r])}),e.reset===Wb&&(console.debug("Received command to reset the flags"),Object.keys(t).forEach(r=>{n[r]=0}))}else e.reset>0&&e.reset<9e3&&(console.debug("Received command to reset the flags"),s.forEach(o=>{n[o]=0}));return n.reset=0,n},IE=e=>e&&(e._version<ou&&(console.debug("Local cached data has older version, seeing if there any migrations that can be applied"),console.debug("No migrations found")),e._version>ou&&(console.debug("Local cached data has newer version, seeing if there any reverse migrations that can be applied"),window._PLEROMA_HOTPATCH&&window._PLEROMA_HOTPATCH.reverseMigrations)?(console.debug("Found hotpatch migration, applying"),window._PLEROMA_HOTPATCH.reverseMigrations.call({},"serverSideStorage",{from:e._version,to:ou},e)):e),bn=ys("serverSideStorage",{state(){return Z.cloneDeep(Is)},actions:{setFlag({flag:e,value:t}){this.flagStorage[e]=t,this.dirty=!0},setPreference({path:e,value:t}){if(e.startsWith("_"))throw new Error(`Tried to edit internal (starts with _) field '${e}', ignoring.`);if(e.startsWith("collections")||e.startsWith("objectCollections"))throw new Error(`Invalid operation 'set' for collection field '${e}', ignoring.`);if(e.split(/\./g).length<=1)throw new Error(`Calling set on depth <= 1 (path: ${e}) is not allowed`);if(e.split(/\./g).length>3)throw new Error(`Calling set on depth > 3 (path: ${e})  is not allowed`);Z.set(this.prefsStorage,e,t),this.prefsStorage._journal=[...this.prefsStorage._journal,{operation:"set",path:e,args:[t],timestamp:Date.now()}],this.dirty=!0},unsetPreference({path:e,value:t}){if(e.startsWith("_"))throw new Error(`Tried to edit internal (starts with _) field '${e}', ignoring.`);if(e.startsWith("collections")||e.startsWith("objectCollections"))throw new Error(`Invalid operation 'unset' for collection field '${e}', ignoring.`);if(e.split(/\./g).length<=2)throw new Error(`Calling unset on depth <= 2 (path: ${e})  is not allowed`);if(e.split(/\./g).length>3)throw new Error(`Calling unset on depth > 3 (path: ${e})  is not allowed`);Z.unset(this.prefsStorage,e,t),this.prefsStorage._journal=[...this.prefsStorage._journal,{operation:"unset",path:e,args:[],timestamp:Date.now()}],this.dirty=!0},addCollectionPreference({path:e,value:t}){if(e.startsWith("_"))throw new Error(`tried to edit internal (starts with _) field '${e}'`);if(e.startsWith("collections")){const n=new Set(Z.get(this.prefsStorage,e));n.add(t),Z.set(this.prefsStorage,e,[...n])}else if(e.startsWith("objectCollections")){const{_key:n}=t;if(!n&&typeof n!="string")throw new Error("Object for storage is missing _key field!");const s=new Set(Z.get(this.prefsStorage,e+".index"));s.add(n),Z.set(this.prefsStorage,e+".index",[...s]),Z.set(this.prefsStorage,e+".data."+n,t)}this.prefsStorage._journal=[...this.prefsStorage._journal,{operation:"addToCollection",path:e,args:[t],timestamp:Date.now()}],this.dirty=!0},removeCollectionPreference({path:e,value:t}){if(e.startsWith("_"))throw new Error(`tried to edit internal (starts with _) field '${e}', ignoring.`);const n=new Set(Z.get(this.prefsStorage,e));n.delete(t),Z.set(this.prefsStorage,e,[...n]),this.prefsStorage._journal=[...this.prefsStorage._journal,{operation:"removeFromCollection",path:e,args:[t],timestamp:Date.now()}],this.dirty=!0},reorderCollectionPreference({path:e,value:t,movement:n}){if(e.startsWith("_"))throw new Error(`tried to edit internal (starts with _) field '${e}', ignoring.`);const s=Z.get(this.prefsStorage,e),o=F_(s,t,n);Z.set(this.prefsStorage,e,o),this.prefsStorage._journal=[...this.prefsStorage._journal,{operation:"arrangeCollection",path:e,args:[t],timestamp:Date.now()}],this.dirty=!0},updateCache({username:e}){this.prefsStorage._journal=TE(this.prefsStorage._journal),this.cache=Ck({flagStorage:Rt(this.flagStorage),prefsStorage:Rt(this.prefsStorage)},e)},clearServerSideStorage(){const e={...Z.cloneDeep(Is)};Object.keys(this).forEach(t=>{this[t]=e[t]})},setServerSideStorage(e){const t=e.storage;this.raw=t;let n=this.cache;n&&n._user!==e.fqn&&(console.warn("Cache belongs to another user! reinitializing local cache!"),n=null),n=IE(n);let{recent:s,stale:o,needUpload:r}=kE(n,t);const i=e.created_at>yE,a=i?SE:Is.flagStorage;let c=!1;if(s===null&&(console.debug(`Data is empty, initializing for ${i?"new":"existing"} user`),s=Ck({flagStorage:{...a},prefsStorage:{...Is.prefsStorage}})),!r&&s&&o){console.debug("Checking if data needs merging...");const{_timestamp:v,_version:_,...S}=s,{_timestamp:k,_version:P,...C}=o;c=!Z.isEqual(S,C),console.debug(`Data ${c?"needs":"doesn't need"} merging`)}const d=$E(s,o);let f,h;c?(console.debug("Merging the data..."),f=CE(s,o,d),Ak(s),Ak(o),h=AE(s.prefsStorage,o.prefsStorage)):(f=s.flagStorage,h=s.prefsStorage),f=EE(f),s.flagStorage={...a,...f},s.prefsStorage={...Is.prefsStorage,...h},this.dirty=c||r,this.cache=s,o&&s&&!this.dirty&&(this.cache._timestamp=Math.min(o._timestamp,s._timestamp)),this.flagStorage=this.cache.flagStorage,this.prefsStorage=this.cache.prefsStorage},pushServerSideStorage({force:e=!1}={}){if(!(this.dirty||e))return;this.updateCache({username:window.vuex.state.users.currentUser.fqn});const n={pleroma_settings_store:{"pleroma-fe":this.cache}};window.vuex.state.api.backendInteractor.updateProfile({params:n}).then(s=>{this.setServerSideStorage(s),this.dirty=!1})}}}),LY=Object.freeze(Object.defineProperty({__proto__:null,COMMAND_TRIM_FLAGS:wE,COMMAND_TRIM_FLAGS_AND_RESET:Wb,NEW_USER_DATE:yE,VERSION:ou,_doMigrations:IE,_getAllFlags:$E,_getRecentData:kE,_mergeFlags:CE,_mergePrefs:AE,_moveItemInArray:F_,_resetFlags:EE,defaultState:Is,newUserFlags:SE,useServerSideStorageStore:bn},Symbol.toStringTag,{value:"Module"}));var lg,Ek;function PE(){if(Ek)return lg;Ek=1;function e(t,n){for(var s=-1,o=t==null?0:t.length,r=0,i=[];++s<o;){var a=t[s];n(a,s,t)&&(i[r++]=a)}return i}return lg=e,lg}var cg,Ik;function OY(){if(Ik)return cg;Ik=1;function e(t){return function(n,s,o){for(var r=-1,i=Object(n),a=o(n),c=a.length;c--;){var d=a[t?c:++r];if(s(i[d],d,i)===!1)break}return n}}return cg=e,cg}var ug,Pk;function RY(){if(Pk)return ug;Pk=1;var e=OY(),t=e();return ug=t,ug}var dg,Lk;function MY(){if(Lk)return dg;Lk=1;function e(t,n){for(var s=-1,o=Array(t);++s<t;)o[s]=n(s);return o}return dg=e,dg}var fg,Ok;function LE(){if(Ok)return fg;Ok=1;var e=typeof cs=="object"&&cs&&cs.Object===Object&&cs;return fg=e,fg}var hg,Rk;function jr(){if(Rk)return hg;Rk=1;var e=LE(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return hg=n,hg}var pg,Mk;function xh(){if(Mk)return pg;Mk=1;var e=jr(),t=e.Symbol;return pg=t,pg}var mg,Nk;function NY(){if(Nk)return mg;Nk=1;var e=xh(),t=Object.prototype,n=t.hasOwnProperty,s=t.toString,o=e?e.toStringTag:void 0;function r(i){var a=n.call(i,o),c=i[o];try{i[o]=void 0;var d=!0}catch{}var f=s.call(i);return d&&(a?i[o]=c:delete i[o]),f}return mg=r,mg}var gg,Fk;function FY(){if(Fk)return gg;Fk=1;var e=Object.prototype,t=e.toString;function n(s){return t.call(s)}return gg=n,gg}var vg,Dk;function Wu(){if(Dk)return vg;Dk=1;var e=xh(),t=NY(),n=FY(),s="[object Null]",o="[object Undefined]",r=e?e.toStringTag:void 0;function i(a){return a==null?a===void 0?o:s:r&&r in Object(a)?t(a):n(a)}return vg=i,vg}var bg,Uk;function Gu(){if(Uk)return bg;Uk=1;function e(t){return t!=null&&typeof t=="object"}return bg=e,bg}var _g,jk;function DY(){if(jk)return _g;jk=1;var e=Wu(),t=Gu(),n="[object Arguments]";function s(o){return t(o)&&e(o)==n}return _g=s,_g}var yg,Bk;function D_(){if(Bk)return yg;Bk=1;var e=DY(),t=Gu(),n=Object.prototype,s=n.hasOwnProperty,o=n.propertyIsEnumerable,r=e(function(){return arguments}())?e:function(i){return t(i)&&s.call(i,"callee")&&!o.call(i,"callee")};return yg=r,yg}var wg,zk;function go(){if(zk)return wg;zk=1;var e=Array.isArray;return wg=e,wg}var zc={exports:{}},Sg,qk;function UY(){if(qk)return Sg;qk=1;function e(){return!1}return Sg=e,Sg}zc.exports;var Hk;function U_(){return Hk||(Hk=1,function(e,t){var n=jr(),s=UY(),o=t&&!t.nodeType&&t,r=o&&!0&&e&&!e.nodeType&&e,i=r&&r.exports===o,a=i?n.Buffer:void 0,c=a?a.isBuffer:void 0,d=c||s;e.exports=d}(zc,zc.exports)),zc.exports}var kg,Vk;function OE(){if(Vk)return kg;Vk=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(s,o){var r=typeof s;return o=o??e,!!o&&(r=="number"||r!="symbol"&&t.test(s))&&s>-1&&s%1==0&&s<o}return kg=n,kg}var $g,Wk;function j_(){if(Wk)return $g;Wk=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return $g=t,$g}var Cg,Gk;function jY(){if(Gk)return Cg;Gk=1;var e=Wu(),t=j_(),n=Gu(),s="[object Arguments]",o="[object Array]",r="[object Boolean]",i="[object Date]",a="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",v="[object RegExp]",_="[object Set]",S="[object String]",k="[object WeakMap]",P="[object ArrayBuffer]",C="[object DataView]",$="[object Float32Array]",L="[object Float64Array]",T="[object Int8Array]",R="[object Int16Array]",q="[object Int32Array]",D="[object Uint8Array]",x="[object Uint8ClampedArray]",oe="[object Uint16Array]",V="[object Uint32Array]",ce={};ce[$]=ce[L]=ce[T]=ce[R]=ce[q]=ce[D]=ce[x]=ce[oe]=ce[V]=!0,ce[s]=ce[o]=ce[P]=ce[r]=ce[C]=ce[i]=ce[a]=ce[c]=ce[d]=ce[f]=ce[h]=ce[v]=ce[_]=ce[S]=ce[k]=!1;function de(Le){return n(Le)&&t(Le.length)&&!!ce[e(Le)]}return Cg=de,Cg}var Tg,Kk;function BY(){if(Kk)return Tg;Kk=1;function e(t){return function(n){return t(n)}}return Tg=e,Tg}var qc={exports:{}};qc.exports;var xk;function zY(){return xk||(xk=1,function(e,t){var n=LE(),s=t&&!t.nodeType&&t,o=s&&!0&&e&&!e.nodeType&&e,r=o&&o.exports===s,i=r&&n.process,a=function(){try{var c=o&&o.require&&o.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=a}(qc,qc.exports)),qc.exports}var Ag,Yk;function B_(){if(Yk)return Ag;Yk=1;var e=jY(),t=BY(),n=zY(),s=n&&n.isTypedArray,o=s?t(s):e;return Ag=o,Ag}var Eg,Xk;function qY(){if(Xk)return Eg;Xk=1;var e=MY(),t=D_(),n=go(),s=U_(),o=OE(),r=B_(),i=Object.prototype,a=i.hasOwnProperty;function c(d,f){var h=n(d),v=!h&&t(d),_=!h&&!v&&s(d),S=!h&&!v&&!_&&r(d),k=h||v||_||S,P=k?e(d.length,String):[],C=P.length;for(var $ in d)(f||a.call(d,$))&&!(k&&($=="length"||_&&($=="offset"||$=="parent")||S&&($=="buffer"||$=="byteLength"||$=="byteOffset")||o($,C)))&&P.push($);return P}return Eg=c,Eg}var Ig,Jk;function RE(){if(Jk)return Ig;Jk=1;var e=Object.prototype;function t(n){var s=n&&n.constructor,o=typeof s=="function"&&s.prototype||e;return n===o}return Ig=t,Ig}var Pg,Zk;function HY(){if(Zk)return Pg;Zk=1;function e(t,n){return function(s){return t(n(s))}}return Pg=e,Pg}var Lg,Qk;function VY(){if(Qk)return Lg;Qk=1;var e=HY(),t=e(Object.keys,Object);return Lg=t,Lg}var Og,e3;function ME(){if(e3)return Og;e3=1;var e=RE(),t=VY(),n=Object.prototype,s=n.hasOwnProperty;function o(r){if(!e(r))return t(r);var i=[];for(var a in Object(r))s.call(r,a)&&a!="constructor"&&i.push(a);return i}return Og=o,Og}var Rg,t3;function z_(){if(t3)return Rg;t3=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Rg=e,Rg}var Mg,n3;function q_(){if(n3)return Mg;n3=1;var e=Wu(),t=z_(),n="[object AsyncFunction]",s="[object Function]",o="[object GeneratorFunction]",r="[object Proxy]";function i(a){if(!t(a))return!1;var c=e(a);return c==s||c==o||c==n||c==r}return Mg=i,Mg}var Ng,s3;function Yh(){if(s3)return Ng;s3=1;var e=q_(),t=j_();function n(s){return s!=null&&t(s.length)&&!e(s)}return Ng=n,Ng}var Fg,o3;function H_(){if(o3)return Fg;o3=1;var e=qY(),t=ME(),n=Yh();function s(o){return n(o)?e(o):t(o)}return Fg=s,Fg}var Dg,r3;function WY(){if(r3)return Dg;r3=1;var e=RY(),t=H_();function n(s,o){return s&&e(s,o,t)}return Dg=n,Dg}var Ug,i3;function GY(){if(i3)return Ug;i3=1;var e=Yh();function t(n,s){return function(o,r){if(o==null)return o;if(!e(o))return n(o,r);for(var i=o.length,a=s?i:-1,c=Object(o);(s?a--:++a<i)&&r(c[a],a,c)!==!1;);return o}}return Ug=t,Ug}var jg,a3;function V_(){if(a3)return jg;a3=1;var e=WY(),t=GY(),n=t(e);return jg=n,jg}var Bg,l3;function KY(){if(l3)return Bg;l3=1;var e=V_();function t(n,s){var o=[];return e(n,function(r,i,a){s(r,i,a)&&o.push(r)}),o}return Bg=t,Bg}var zg,c3;function xY(){if(c3)return zg;c3=1;function e(){this.__data__=[],this.size=0}return zg=e,zg}var qg,u3;function NE(){if(u3)return qg;u3=1;function e(t,n){return t===n||t!==t&&n!==n}return qg=e,qg}var Hg,d3;function Xh(){if(d3)return Hg;d3=1;var e=NE();function t(n,s){for(var o=n.length;o--;)if(e(n[o][0],s))return o;return-1}return Hg=t,Hg}var Vg,f3;function YY(){if(f3)return Vg;f3=1;var e=Xh(),t=Array.prototype,n=t.splice;function s(o){var r=this.__data__,i=e(r,o);if(i<0)return!1;var a=r.length-1;return i==a?r.pop():n.call(r,i,1),--this.size,!0}return Vg=s,Vg}var Wg,h3;function XY(){if(h3)return Wg;h3=1;var e=Xh();function t(n){var s=this.__data__,o=e(s,n);return o<0?void 0:s[o][1]}return Wg=t,Wg}var Gg,p3;function JY(){if(p3)return Gg;p3=1;var e=Xh();function t(n){return e(this.__data__,n)>-1}return Gg=t,Gg}var Kg,m3;function ZY(){if(m3)return Kg;m3=1;var e=Xh();function t(n,s){var o=this.__data__,r=e(o,n);return r<0?(++this.size,o.push([n,s])):o[r][1]=s,this}return Kg=t,Kg}var xg,g3;function Jh(){if(g3)return xg;g3=1;var e=xY(),t=YY(),n=XY(),s=JY(),o=ZY();function r(i){var a=-1,c=i==null?0:i.length;for(this.clear();++a<c;){var d=i[a];this.set(d[0],d[1])}}return r.prototype.clear=e,r.prototype.delete=t,r.prototype.get=n,r.prototype.has=s,r.prototype.set=o,xg=r,xg}var Yg,v3;function QY(){if(v3)return Yg;v3=1;var e=Jh();function t(){this.__data__=new e,this.size=0}return Yg=t,Yg}var Xg,b3;function eX(){if(b3)return Xg;b3=1;function e(t){var n=this.__data__,s=n.delete(t);return this.size=n.size,s}return Xg=e,Xg}var Jg,_3;function tX(){if(_3)return Jg;_3=1;function e(t){return this.__data__.get(t)}return Jg=e,Jg}var Zg,y3;function nX(){if(y3)return Zg;y3=1;function e(t){return this.__data__.has(t)}return Zg=e,Zg}var Qg,w3;function sX(){if(w3)return Qg;w3=1;var e=jr(),t=e["__core-js_shared__"];return Qg=t,Qg}var e1,S3;function oX(){if(S3)return e1;S3=1;var e=sX(),t=function(){var s=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function n(s){return!!t&&t in s}return e1=n,e1}var t1,k3;function FE(){if(k3)return t1;k3=1;var e=Function.prototype,t=e.toString;function n(s){if(s!=null){try{return t.call(s)}catch{}try{return s+""}catch{}}return""}return t1=n,t1}var n1,$3;function rX(){if($3)return n1;$3=1;var e=q_(),t=oX(),n=z_(),s=FE(),o=/[\\^$.*+?()[\]{}|]/g,r=/^\[object .+?Constructor\]$/,i=Function.prototype,a=Object.prototype,c=i.toString,d=a.hasOwnProperty,f=RegExp("^"+c.call(d).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(v){if(!n(v)||t(v))return!1;var _=e(v)?f:r;return _.test(s(v))}return n1=h,n1}var s1,C3;function iX(){if(C3)return s1;C3=1;function e(t,n){return t==null?void 0:t[n]}return s1=e,s1}var o1,T3;function Aa(){if(T3)return o1;T3=1;var e=rX(),t=iX();function n(s,o){var r=t(s,o);return e(r)?r:void 0}return o1=n,o1}var r1,A3;function W_(){if(A3)return r1;A3=1;var e=Aa(),t=jr(),n=e(t,"Map");return r1=n,r1}var i1,E3;function Zh(){if(E3)return i1;E3=1;var e=Aa(),t=e(Object,"create");return i1=t,i1}var a1,I3;function aX(){if(I3)return a1;I3=1;var e=Zh();function t(){this.__data__=e?e(null):{},this.size=0}return a1=t,a1}var l1,P3;function lX(){if(P3)return l1;P3=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return l1=e,l1}var c1,L3;function cX(){if(L3)return c1;L3=1;var e=Zh(),t="__lodash_hash_undefined__",n=Object.prototype,s=n.hasOwnProperty;function o(r){var i=this.__data__;if(e){var a=i[r];return a===t?void 0:a}return s.call(i,r)?i[r]:void 0}return c1=o,c1}var u1,O3;function uX(){if(O3)return u1;O3=1;var e=Zh(),t=Object.prototype,n=t.hasOwnProperty;function s(o){var r=this.__data__;return e?r[o]!==void 0:n.call(r,o)}return u1=s,u1}var d1,R3;function dX(){if(R3)return d1;R3=1;var e=Zh(),t="__lodash_hash_undefined__";function n(s,o){var r=this.__data__;return this.size+=this.has(s)?0:1,r[s]=e&&o===void 0?t:o,this}return d1=n,d1}var f1,M3;function fX(){if(M3)return f1;M3=1;var e=aX(),t=lX(),n=cX(),s=uX(),o=dX();function r(i){var a=-1,c=i==null?0:i.length;for(this.clear();++a<c;){var d=i[a];this.set(d[0],d[1])}}return r.prototype.clear=e,r.prototype.delete=t,r.prototype.get=n,r.prototype.has=s,r.prototype.set=o,f1=r,f1}var h1,N3;function hX(){if(N3)return h1;N3=1;var e=fX(),t=Jh(),n=W_();function s(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return h1=s,h1}var p1,F3;function pX(){if(F3)return p1;F3=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return p1=e,p1}var m1,D3;function Qh(){if(D3)return m1;D3=1;var e=pX();function t(n,s){var o=n.__data__;return e(s)?o[typeof s=="string"?"string":"hash"]:o.map}return m1=t,m1}var g1,U3;function mX(){if(U3)return g1;U3=1;var e=Qh();function t(n){var s=e(this,n).delete(n);return this.size-=s?1:0,s}return g1=t,g1}var v1,j3;function gX(){if(j3)return v1;j3=1;var e=Qh();function t(n){return e(this,n).get(n)}return v1=t,v1}var b1,B3;function vX(){if(B3)return b1;B3=1;var e=Qh();function t(n){return e(this,n).has(n)}return b1=t,b1}var _1,z3;function bX(){if(z3)return _1;z3=1;var e=Qh();function t(n,s){var o=e(this,n),r=o.size;return o.set(n,s),this.size+=o.size==r?0:1,this}return _1=t,_1}var y1,q3;function G_(){if(q3)return y1;q3=1;var e=hX(),t=mX(),n=gX(),s=vX(),o=bX();function r(i){var a=-1,c=i==null?0:i.length;for(this.clear();++a<c;){var d=i[a];this.set(d[0],d[1])}}return r.prototype.clear=e,r.prototype.delete=t,r.prototype.get=n,r.prototype.has=s,r.prototype.set=o,y1=r,y1}var w1,H3;function _X(){if(H3)return w1;H3=1;var e=Jh(),t=W_(),n=G_(),s=200;function o(r,i){var a=this.__data__;if(a instanceof e){var c=a.__data__;if(!t||c.length<s-1)return c.push([r,i]),this.size=++a.size,this;a=this.__data__=new n(c)}return a.set(r,i),this.size=a.size,this}return w1=o,w1}var S1,V3;function DE(){if(V3)return S1;V3=1;var e=Jh(),t=QY(),n=eX(),s=tX(),o=nX(),r=_X();function i(a){var c=this.__data__=new e(a);this.size=c.size}return i.prototype.clear=t,i.prototype.delete=n,i.prototype.get=s,i.prototype.has=o,i.prototype.set=r,S1=i,S1}var k1,W3;function yX(){if(W3)return k1;W3=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return k1=t,k1}var $1,G3;function wX(){if(G3)return $1;G3=1;function e(t){return this.__data__.has(t)}return $1=e,$1}var C1,K3;function SX(){if(K3)return C1;K3=1;var e=G_(),t=yX(),n=wX();function s(o){var r=-1,i=o==null?0:o.length;for(this.__data__=new e;++r<i;)this.add(o[r])}return s.prototype.add=s.prototype.push=t,s.prototype.has=n,C1=s,C1}var T1,x3;function kX(){if(x3)return T1;x3=1;function e(t,n){for(var s=-1,o=t==null?0:t.length;++s<o;)if(n(t[s],s,t))return!0;return!1}return T1=e,T1}var A1,Y3;function $X(){if(Y3)return A1;Y3=1;function e(t,n){return t.has(n)}return A1=e,A1}var E1,X3;function UE(){if(X3)return E1;X3=1;var e=SX(),t=kX(),n=$X(),s=1,o=2;function r(i,a,c,d,f,h){var v=c&s,_=i.length,S=a.length;if(_!=S&&!(v&&S>_))return!1;var k=h.get(i),P=h.get(a);if(k&&P)return k==a&&P==i;var C=-1,$=!0,L=c&o?new e:void 0;for(h.set(i,a),h.set(a,i);++C<_;){var T=i[C],R=a[C];if(d)var q=v?d(R,T,C,a,i,h):d(T,R,C,i,a,h);if(q!==void 0){if(q)continue;$=!1;break}if(L){if(!t(a,function(D,x){if(!n(L,x)&&(T===D||f(T,D,c,d,h)))return L.push(x)})){$=!1;break}}else if(!(T===R||f(T,R,c,d,h))){$=!1;break}}return h.delete(i),h.delete(a),$}return E1=r,E1}var I1,J3;function CX(){if(J3)return I1;J3=1;var e=jr(),t=e.Uint8Array;return I1=t,I1}var P1,Z3;function TX(){if(Z3)return P1;Z3=1;function e(t){var n=-1,s=Array(t.size);return t.forEach(function(o,r){s[++n]=[r,o]}),s}return P1=e,P1}var L1,Q3;function AX(){if(Q3)return L1;Q3=1;function e(t){var n=-1,s=Array(t.size);return t.forEach(function(o){s[++n]=o}),s}return L1=e,L1}var O1,e$;function EX(){if(e$)return O1;e$=1;var e=xh(),t=CX(),n=NE(),s=UE(),o=TX(),r=AX(),i=1,a=2,c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Map]",v="[object Number]",_="[object RegExp]",S="[object Set]",k="[object String]",P="[object Symbol]",C="[object ArrayBuffer]",$="[object DataView]",L=e?e.prototype:void 0,T=L?L.valueOf:void 0;function R(q,D,x,oe,V,ce,de){switch(x){case $:if(q.byteLength!=D.byteLength||q.byteOffset!=D.byteOffset)return!1;q=q.buffer,D=D.buffer;case C:return!(q.byteLength!=D.byteLength||!ce(new t(q),new t(D)));case c:case d:case v:return n(+q,+D);case f:return q.name==D.name&&q.message==D.message;case _:case k:return q==D+"";case h:var Le=o;case S:var Ve=oe&i;if(Le||(Le=r),q.size!=D.size&&!Ve)return!1;var Ge=de.get(q);if(Ge)return Ge==D;oe|=a,de.set(q,D);var We=s(Le(q),Le(D),oe,V,ce,de);return de.delete(q),We;case P:if(T)return T.call(q)==T.call(D)}return!1}return O1=R,O1}var R1,t$;function IX(){if(t$)return R1;t$=1;function e(t,n){for(var s=-1,o=n.length,r=t.length;++s<o;)t[r+s]=n[s];return t}return R1=e,R1}var M1,n$;function PX(){if(n$)return M1;n$=1;var e=IX(),t=go();function n(s,o,r){var i=o(s);return t(s)?i:e(i,r(s))}return M1=n,M1}var N1,s$;function LX(){if(s$)return N1;s$=1;function e(){return[]}return N1=e,N1}var F1,o$;function OX(){if(o$)return F1;o$=1;var e=PE(),t=LX(),n=Object.prototype,s=n.propertyIsEnumerable,o=Object.getOwnPropertySymbols,r=o?function(i){return i==null?[]:(i=Object(i),e(o(i),function(a){return s.call(i,a)}))}:t;return F1=r,F1}var D1,r$;function RX(){if(r$)return D1;r$=1;var e=PX(),t=OX(),n=H_();function s(o){return e(o,n,t)}return D1=s,D1}var U1,i$;function MX(){if(i$)return U1;i$=1;var e=RX(),t=1,n=Object.prototype,s=n.hasOwnProperty;function o(r,i,a,c,d,f){var h=a&t,v=e(r),_=v.length,S=e(i),k=S.length;if(_!=k&&!h)return!1;for(var P=_;P--;){var C=v[P];if(!(h?C in i:s.call(i,C)))return!1}var $=f.get(r),L=f.get(i);if($&&L)return $==i&&L==r;var T=!0;f.set(r,i),f.set(i,r);for(var R=h;++P<_;){C=v[P];var q=r[C],D=i[C];if(c)var x=h?c(D,q,C,i,r,f):c(q,D,C,r,i,f);if(!(x===void 0?q===D||d(q,D,a,c,f):x)){T=!1;break}R||(R=C=="constructor")}if(T&&!R){var oe=r.constructor,V=i.constructor;oe!=V&&"constructor"in r&&"constructor"in i&&!(typeof oe=="function"&&oe instanceof oe&&typeof V=="function"&&V instanceof V)&&(T=!1)}return f.delete(r),f.delete(i),T}return U1=o,U1}var j1,a$;function NX(){if(a$)return j1;a$=1;var e=Aa(),t=jr(),n=e(t,"DataView");return j1=n,j1}var B1,l$;function FX(){if(l$)return B1;l$=1;var e=Aa(),t=jr(),n=e(t,"Promise");return B1=n,B1}var z1,c$;function DX(){if(c$)return z1;c$=1;var e=Aa(),t=jr(),n=e(t,"Set");return z1=n,z1}var q1,u$;function UX(){if(u$)return q1;u$=1;var e=Aa(),t=jr(),n=e(t,"WeakMap");return q1=n,q1}var H1,d$;function jE(){if(d$)return H1;d$=1;var e=NX(),t=W_(),n=FX(),s=DX(),o=UX(),r=Wu(),i=FE(),a="[object Map]",c="[object Object]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",v="[object DataView]",_=i(e),S=i(t),k=i(n),P=i(s),C=i(o),$=r;return(e&&$(new e(new ArrayBuffer(1)))!=v||t&&$(new t)!=a||n&&$(n.resolve())!=d||s&&$(new s)!=f||o&&$(new o)!=h)&&($=function(L){var T=r(L),R=T==c?L.constructor:void 0,q=R?i(R):"";if(q)switch(q){case _:return v;case S:return a;case k:return d;case P:return f;case C:return h}return T}),H1=$,H1}var V1,f$;function jX(){if(f$)return V1;f$=1;var e=DE(),t=UE(),n=EX(),s=MX(),o=jE(),r=go(),i=U_(),a=B_(),c=1,d="[object Arguments]",f="[object Array]",h="[object Object]",v=Object.prototype,_=v.hasOwnProperty;function S(k,P,C,$,L,T){var R=r(k),q=r(P),D=R?f:o(k),x=q?f:o(P);D=D==d?h:D,x=x==d?h:x;var oe=D==h,V=x==h,ce=D==x;if(ce&&i(k)){if(!i(P))return!1;R=!0,oe=!1}if(ce&&!oe)return T||(T=new e),R||a(k)?t(k,P,C,$,L,T):n(k,P,D,C,$,L,T);if(!(C&c)){var de=oe&&_.call(k,"__wrapped__"),Le=V&&_.call(P,"__wrapped__");if(de||Le){var Ve=de?k.value():k,Ge=Le?P.value():P;return T||(T=new e),L(Ve,Ge,C,$,T)}}return ce?(T||(T=new e),s(k,P,C,$,L,T)):!1}return V1=S,V1}var W1,h$;function BE(){if(h$)return W1;h$=1;var e=jX(),t=Gu();function n(s,o,r,i,a){return s===o?!0:s==null||o==null||!t(s)&&!t(o)?s!==s&&o!==o:e(s,o,r,i,n,a)}return W1=n,W1}var G1,p$;function BX(){if(p$)return G1;p$=1;var e=DE(),t=BE(),n=1,s=2;function o(r,i,a,c){var d=a.length,f=d,h=!c;if(r==null)return!f;for(r=Object(r);d--;){var v=a[d];if(h&&v[2]?v[1]!==r[v[0]]:!(v[0]in r))return!1}for(;++d<f;){v=a[d];var _=v[0],S=r[_],k=v[1];if(h&&v[2]){if(S===void 0&&!(_ in r))return!1}else{var P=new e;if(c)var C=c(S,k,_,r,i,P);if(!(C===void 0?t(k,S,n|s,c,P):C))return!1}}return!0}return G1=o,G1}var K1,m$;function zE(){if(m$)return K1;m$=1;var e=z_();function t(n){return n===n&&!e(n)}return K1=t,K1}var x1,g$;function zX(){if(g$)return x1;g$=1;var e=zE(),t=H_();function n(s){for(var o=t(s),r=o.length;r--;){var i=o[r],a=s[i];o[r]=[i,a,e(a)]}return o}return x1=n,x1}var Y1,v$;function qE(){if(v$)return Y1;v$=1;function e(t,n){return function(s){return s==null?!1:s[t]===n&&(n!==void 0||t in Object(s))}}return Y1=e,Y1}var X1,b$;function qX(){if(b$)return X1;b$=1;var e=BX(),t=zX(),n=qE();function s(o){var r=t(o);return r.length==1&&r[0][2]?n(r[0][0],r[0][1]):function(i){return i===o||e(i,o,r)}}return X1=s,X1}var J1,_$;function K_(){if(_$)return J1;_$=1;var e=Wu(),t=Gu(),n="[object Symbol]";function s(o){return typeof o=="symbol"||t(o)&&e(o)==n}return J1=s,J1}var Z1,y$;function x_(){if(y$)return Z1;y$=1;var e=go(),t=K_(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function o(r,i){if(e(r))return!1;var a=typeof r;return a=="number"||a=="symbol"||a=="boolean"||r==null||t(r)?!0:s.test(r)||!n.test(r)||i!=null&&r in Object(i)}return Z1=o,Z1}var Q1,w$;function HX(){if(w$)return Q1;w$=1;var e=G_(),t="Expected a function";function n(s,o){if(typeof s!="function"||o!=null&&typeof o!="function")throw new TypeError(t);var r=function(){var i=arguments,a=o?o.apply(this,i):i[0],c=r.cache;if(c.has(a))return c.get(a);var d=s.apply(this,i);return r.cache=c.set(a,d)||c,d};return r.cache=new(n.Cache||e),r}return n.Cache=e,Q1=n,Q1}var ev,S$;function VX(){if(S$)return ev;S$=1;var e=HX(),t=500;function n(s){var o=e(s,function(i){return r.size===t&&r.clear(),i}),r=o.cache;return o}return ev=n,ev}var tv,k$;function WX(){if(k$)return tv;k$=1;var e=VX(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,s=e(function(o){var r=[];return o.charCodeAt(0)===46&&r.push(""),o.replace(t,function(i,a,c,d){r.push(c?d.replace(n,"$1"):a||i)}),r});return tv=s,tv}var nv,$$;function HE(){if($$)return nv;$$=1;function e(t,n){for(var s=-1,o=t==null?0:t.length,r=Array(o);++s<o;)r[s]=n(t[s],s,t);return r}return nv=e,nv}var sv,C$;function GX(){if(C$)return sv;C$=1;var e=xh(),t=HE(),n=go(),s=K_(),o=e?e.prototype:void 0,r=o?o.toString:void 0;function i(a){if(typeof a=="string")return a;if(n(a))return t(a,i)+"";if(s(a))return r?r.call(a):"";var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}return sv=i,sv}var ov,T$;function KX(){if(T$)return ov;T$=1;var e=GX();function t(n){return n==null?"":e(n)}return ov=t,ov}var rv,A$;function VE(){if(A$)return rv;A$=1;var e=go(),t=x_(),n=WX(),s=KX();function o(r,i){return e(r)?r:t(r,i)?[r]:n(s(r))}return rv=o,rv}var iv,E$;function ep(){if(E$)return iv;E$=1;var e=K_();function t(n){if(typeof n=="string"||e(n))return n;var s=n+"";return s=="0"&&1/n==-1/0?"-0":s}return iv=t,iv}var av,I$;function WE(){if(I$)return av;I$=1;var e=VE(),t=ep();function n(s,o){o=e(o,s);for(var r=0,i=o.length;s!=null&&r<i;)s=s[t(o[r++])];return r&&r==i?s:void 0}return av=n,av}var lv,P$;function GE(){if(P$)return lv;P$=1;var e=WE();function t(n,s,o){var r=n==null?void 0:e(n,s);return r===void 0?o:r}return lv=t,lv}var cv,L$;function xX(){if(L$)return cv;L$=1;function e(t,n){return t!=null&&n in Object(t)}return cv=e,cv}var uv,O$;function YX(){if(O$)return uv;O$=1;var e=VE(),t=D_(),n=go(),s=OE(),o=j_(),r=ep();function i(a,c,d){c=e(c,a);for(var f=-1,h=c.length,v=!1;++f<h;){var _=r(c[f]);if(!(v=a!=null&&d(a,_)))break;a=a[_]}return v||++f!=h?v:(h=a==null?0:a.length,!!h&&o(h)&&s(_,h)&&(n(a)||t(a)))}return uv=i,uv}var dv,R$;function XX(){if(R$)return dv;R$=1;var e=xX(),t=YX();function n(s,o){return s!=null&&t(s,o,e)}return dv=n,dv}var fv,M$;function JX(){if(M$)return fv;M$=1;var e=BE(),t=GE(),n=XX(),s=x_(),o=zE(),r=qE(),i=ep(),a=1,c=2;function d(f,h){return s(f)&&o(h)?r(i(f),h):function(v){var _=t(v,f);return _===void 0&&_===h?n(v,f):e(h,_,a|c)}}return fv=d,fv}var hv,N$;function ZX(){if(N$)return hv;N$=1;function e(t){return t}return hv=e,hv}var pv,F$;function QX(){if(F$)return pv;F$=1;function e(t){return function(n){return n==null?void 0:n[t]}}return pv=e,pv}var mv,D$;function eJ(){if(D$)return mv;D$=1;var e=WE();function t(n){return function(s){return e(s,n)}}return mv=t,mv}var gv,U$;function tJ(){if(U$)return gv;U$=1;var e=QX(),t=eJ(),n=x_(),s=ep();function o(r){return n(r)?e(s(r)):t(r)}return gv=o,gv}var vv,j$;function Y_(){if(j$)return vv;j$=1;var e=qX(),t=JX(),n=ZX(),s=go(),o=tJ();function r(i){return typeof i=="function"?i:i==null?n:typeof i=="object"?s(i)?t(i[0],i[1]):e(i):o(i)}return vv=r,vv}var bv,B$;function nJ(){if(B$)return bv;B$=1;var e=PE(),t=KY(),n=Y_(),s=go();function o(r,i){var a=s(r)?e:t;return a(r,n(i,3))}return bv=o,bv}var sJ=nJ();const oJ=Gs(sJ),Ei=ys("reports",{state:()=>({reportModal:{userId:null,statuses:[],preTickedIds:[],activated:!1},reports:{}}),actions:{openUserReportingModal({userId:e,statusIds:t=[]}){const n=t.map(r=>window.vuex.state.statuses.allStatusesObject[r]),s=t,o=n.concat(oJ(window.vuex.state.statuses.allStatuses,r=>r.user.id===e&&!s.includes(r.id)));this.reportModal.userId=e,this.reportModal.statuses=o,this.reportModal.preTickedIds=s,this.reportModal.activated=!0},closeUserReportingModal(){this.reportModal.activated=!1},setReportState({id:e,state:t}){const n=this.reports[e].state;this.reports[e].state=t,window.vuex.state.api.backendInteractor.setReportState({id:e,state:t}).catch(s=>{console.error("Failed to set report state",s),Qe().pushGlobalNotice({level:"error",messageKey:"general.generic_error_message",messageArgs:[s.message],timeout:5e3}),this.reports[e].state=n})},addReport(e){this.reports[e.id]=e}}}),rJ=Object.freeze(Object.defineProperty({__proto__:null,useReportsStore:Ei},Symbol.toStringTag,{value:"Module"})),iJ=()=>({desktopNotificationSilence:!0,maxId:0,minId:Number.POSITIVE_INFINITY,data:[],idStore:{},loading:!1}),z$=()=>({...iJ()}),aJ={state:z$(),mutations:{addNewNotifications(e,{notifications:t}){t.forEach(n=>{e.data.push(n),e.idStore[n.id]=n})},clearNotifications(e){const t=z$();Object.keys(e).forEach(n=>{e[n]=t[n]})},updateNotificationsMinMaxId(e,t){e.maxId=t>e.maxId?t:e.maxId,e.minId=t<e.minId?t:e.minId},setNotificationsLoading(e,{value:t}){e.loading=t},setNotificationsSilence(e,{value:t}){e.desktopNotificationSilence=t},markNotificationsAsSeen(e){e.data.forEach(t=>{t.seen=!0})},markSingleNotificationAsSeen(e,{id:t}){const n=e.idStore[t];n&&(n.seen=!0)},dismissNotification(e,{id:t}){e.data=e.data.filter(n=>n.id!==t),delete e.idStore[t]},updateNotification(e,{id:t,updater:n}){const s=e.idStore[t];s&&n(s)}},actions:{addNewNotifications(e,{notifications:t}){const{commit:n,dispatch:s,state:o,rootState:r}=e,i=t.filter(c=>g9(c)?!0:(console.error("Invalid notification:",c),n("updateNotificationsMinMaxId",c.id),!1)),a=i.filter(c=>Mu(c.type)&&c.status);n("addNewStatuses",{statuses:a.map(c=>c.status)}),a.forEach(c=>{const d=c.status.id,f=r.statuses.allStatusesObject[d];f&&(c.status=f)}),i.forEach(c=>{c.type==="pleroma:report"&&Ei().addReport(c.report),c.type==="pleroma:emoji_reaction"&&s("fetchEmojiReactionsBy",c.status.id),o.idStore.hasOwnProperty(c.id)?c.seen&&(o.idStore[c.id].seen=!0):(n("updateNotificationsMinMaxId",c.id),n("addNewNotifications",{notifications:[c]}),_9(e,Object.values(bn().prefsStorage.simple.muteFilters)))})},notificationClicked({state:e,dispatch:t},{id:n}){const s=e.idStore[n],{type:o,seen:r}=s;if(!r)switch(o){case"mention":case"pleroma:report":case"follow_request":break;default:t("markSingleNotificationAsSeen",{id:n})}},setNotificationsLoading({commit:e},{value:t}){e("setNotificationsLoading",{value:t})},setNotificationsSilence({commit:e},{value:t}){e("setNotificationsSilence",{value:t})},markNotificationsAsSeen({rootState:e,state:t,commit:n}){n("markNotificationsAsSeen"),En.markNotificationsAsSeen({id:t.maxId,credentials:e.users.currentUser.credentials}).then(()=>{c9()})},markSingleNotificationAsSeen({rootState:e,commit:t},{id:n}){t("markSingleNotificationAsSeen",{id:n}),En.markNotificationsAsSeen({single:!0,id:n,credentials:e.users.currentUser.credentials}).then(()=>{l9(e,{id:n})})},dismissNotificationLocal({commit:e},{id:t}){e("dismissNotification",{id:t})},dismissNotification({rootState:e,commit:t},{id:n}){t("dismissNotification",{id:n}),e.api.backendInteractor.dismissNotification({id:n})},updateNotification({commit:e},{id:t,updater:n}){e("updateNotification",{id:t,updater:n})}}},Ea=(e,t)=>{let n=!1,s=null;const o=()=>{const i=e();if(!(i&&i.finally)){console.warn("promiseInterval: promise call did not return a promise, stopping interval.");return}i.finally(()=>{n||(s=window.setTimeout(o,t))})},r=()=>{n=!0,window.clearTimeout(s)};return s=window.setTimeout(o,t),{stop:r}},lJ=({store:e,statuses:t,timeline:n,showImmediately:s,userId:o,listId:r,pagination:i})=>{const a=Z.camelCase(n);e.dispatch("addNewStatuses",{timeline:a,userId:o,listId:r,statuses:t,showImmediately:s,pagination:i})},Gb=({store:e,credentials:t,timeline:n="friends",older:s=!1,showImmediately:o=!1,userId:r=!1,listId:i=!1,statusId:a=!1,bookmarkFolderId:c=!1,tag:d=!1,until:f,since:h})=>{const v={timeline:n,credentials:t},_=e.rootState||e.state,{getters:S}=e,k=_.statuses.timelines[Z.camelCase(n)],{hideMutedPosts:P,replyVisibility:C}=S.mergedConfig,$=!!_.users.currentUser;s?v.until=f||k.minId:h===void 0?v.since=k.maxId:h!==null&&(v.since=h),v.userId=r,v.listId=i,v.statusId=a,v.bookmarkFolderId=c,v.tag=d,v.withMuted=!P,$&&["friends","public","publicAndExternal"].includes(n)&&(v.replyVisibility=C);const L=k.statuses.length;return En.fetchTimeline(v).then(T=>{if(T.errors)throw new Error(`${T.status} ${T.statusText}`);const{data:R,pagination:q}=T;return!s&&R.length>=20&&!k.loading&&L>0&&e.dispatch("queueFlush",{timeline:n,id:k.maxId}),lJ({store:e,statuses:R,timeline:n,showImmediately:o,userId:r,listId:i,pagination:q}),{statuses:R,pagination:q}}).catch(T=>{Qe().pushGlobalNotice({level:"error",messageKey:"timeline.error",messageArgs:[T.message],timeout:5e3})})},cJ=({timeline:e="friends",credentials:t,store:n,userId:s=!1,listId:o=!1,statusId:r=!1,bookmarkFolderId:i=!1,tag:a=!1})=>{const d=(n.rootState||n.state).statuses.timelines[Z.camelCase(e)],f=d.visibleStatuses.length===0;return d.userId=s,d.listId=o,d.bookmarkFolderId=i,Gb({timeline:e,credentials:t,store:n,showImmediately:f,userId:s,listId:o,statusId:r,bookmarkFolderId:i,tag:a}),Ea(()=>Gb({timeline:e,credentials:t,store:n,userId:s,listId:o,statusId:r,bookmarkFolderId:i,tag:a}),1e4)},Kf={fetchAndUpdate:Gb,startFetching:cJ},uJ=["mention","status","favourite","reblog","follow","follow_request","move","poll","pleroma:emoji_reaction","pleroma:chat_mention","pleroma:report"],dJ=({store:e,notifications:t,older:n})=>{e.dispatch("addNewNotifications",{notifications:t,older:n})},KE=({store:e,credentials:t,older:n=!1,since:s})=>{const o={credentials:t},{getters:r}=e,a=(e.rootState||e.state).notifications,c=r.mergedConfig.hideMutedPosts;if(o.includeTypes=uJ,o.withMuted=!c,o.timeline="notifications",n)return a.minId!==Number.POSITIVE_INFINITY&&(o.until=a.minId),_v({store:e,args:o,older:n});{s===void 0&&a.maxId!==Number.POSITIVE_INFINITY?o.since=a.maxId:s!==null&&(o.since=s);const d=_v({store:e,args:o,older:n}),f=a.data,h=f.filter(_=>_.seen).map(_=>_.id),v=f.filter(_=>!_.seen).map(_=>_.id);if(h.length>0&&h.length>0){const _=Math.min(...v);_!==1/0&&(o.since=!1,o.minId=_-1,_v({store:e,args:o,older:n}))}return d}},_v=({store:e,args:t,older:n})=>En.fetchTimeline(t).then(s=>{if(s.errors)throw new Error(`${s.status} ${s.statusText}`);const o=s.data;return dJ({store:e,notifications:o,older:n}),o}).catch(s=>{Qe().pushGlobalNotice({level:"error",messageKey:"notifications.error",messageArgs:[s.message],timeout:5e3}),console.error(s)}),fJ=({credentials:e,store:t})=>{setTimeout(()=>t.dispatch("setNotificationsSilence",!1),1e4);const n=()=>KE({credentials:e,store:t});return n(),Ea(n,1e4)},Kb={fetchAndUpdate:KE,startFetching:fJ},hJ=({store:e,credentials:t})=>En.fetchFollowRequests({credentials:t}).then(n=>{e.commit("setFollowRequests",n),e.commit("addNewUsers",n)},()=>{}).catch(()=>{}),pJ=({credentials:e,store:t})=>{const n=()=>hJ({credentials:e,store:t});return n(),Ea(n,1e4)},mJ={startFetching:pJ},Rn=ys("lists",{state:()=>({allLists:[],allListsObject:{}}),getters:{findListTitle(){return e=>{if(this.allListsObject[e])return this.allListsObject[e].title}},findListAccounts(){return e=>[...this.allListsObject[e].accountIds]}},actions:{setLists(e){this.allLists=e},createList({title:e}){return window.vuex.state.api.backendInteractor.createList({title:e}).then(t=>(this.setList({listId:t.id,title:e}),t))},fetchList({listId:e}){return window.vuex.state.api.backendInteractor.getList({listId:e}).then(t=>this.setList({listId:t.id,title:t.title}))},fetchListAccounts({listId:e}){return window.vuex.state.api.backendInteractor.getListAccounts({listId:e}).then(t=>{this.allListsObject[e]||(this.allListsObject[e]={accountIds:[]}),this.allListsObject[e].accountIds=t})},setList({listId:e,title:t}){this.allListsObject[e]||(this.allListsObject[e]={accountIds:[]}),this.allListsObject[e].title=t;const n=Z.find(this.allLists,{id:e});n?n.title=t:this.allLists.push({id:e,title:t})},setListAccounts({listId:e,accountIds:t}){var r;const n=((r=this.allListsObject[e])==null?void 0:r.accountIds)||[],s=t.filter(i=>!n.includes(i)),o=n.filter(i=>!t.includes(i));this.allListsObject[e]||(this.allListsObject[e]={accountIds:[]}),this.allListsObject[e].accountIds=t,s.length>0&&window.vuex.state.api.backendInteractor.addAccountsToList({listId:e,accountIds:s}),o.length>0&&window.vuex.state.api.backendInteractor.removeAccountsFromList({listId:e,accountIds:o})},addListAccount({listId:e,accountId:t}){return window.vuex.state.api.backendInteractor.addAccountsToList({listId:e,accountIds:[t]}).then(n=>(this.allListsObject[e]||(this.allListsObject[e]={accountIds:[]}),this.allListsObject[e].accountIds.push(t),n))},removeListAccount({listId:e,accountId:t}){return window.vuex.state.api.backendInteractor.removeAccountsFromList({listId:e,accountIds:[t]}).then(n=>{this.allListsObject[e]||(this.allListsObject[e]={accountIds:[]});const{accountIds:s}=this.allListsObject[e],o=new Set(s);return o.delete(t),this.allListsObject[e].accountIds=[...o],n})},deleteList({listId:e}){window.vuex.state.api.backendInteractor.deleteList({listId:e}),delete this.allListsObject[e],Z.remove(this.allLists,t=>t.id===e)}}}),gJ=Object.freeze(Object.defineProperty({__proto__:null,useListsStore:Rn},Symbol.toStringTag,{value:"Module"})),vJ=({credentials:e})=>En.fetchLists({credentials:e}).then(t=>{Rn().setLists(t)},()=>{}).catch(()=>{}),bJ=({credentials:e,store:t})=>{const n=()=>vJ({credentials:e});return n(),Ea(n,24e4)},_J={startFetching:bJ},Yo=ys("bookmarkFolders",{state:()=>({allFolders:[]}),getters:{findBookmarkFolderName(){return e=>{const t=this.allFolders.find(n=>n.id===e);if(t)return t.name}}},actions:{setBookmarkFolders(e){this.allFolders=e},setBookmarkFolder({id:e,name:t,emoji:n,emoji_url:s}){const o=Z.find(this.allFolders,{id:e});o?(o.name=t,o.emoji=n,o.emoji_url=s):this.allFolders.push({id:e,name:t,emoji:n,emoji_url:s})},createBookmarkFolder({name:e,emoji:t}){return window.vuex.state.api.backendInteractor.createBookmarkFolder({name:e,emoji:t}).then(n=>(this.setBookmarkFolder(n),n))},updateBookmarkFolder({folderId:e,name:t,emoji:n}){return window.vuex.state.api.backendInteractor.updateBookmarkFolder({folderId:e,name:t,emoji:n}).then(s=>(this.setBookmarkFolder(s),s))},deleteBookmarkFolder({folderId:e}){window.vuex.state.api.backendInteractor.deleteBookmarkFolder({folderId:e}),Z.remove(this.allFolders,t=>t.id===e)}}}),yJ=Object.freeze(Object.defineProperty({__proto__:null,useBookmarkFoldersStore:Yo},Symbol.toStringTag,{value:"Module"})),wJ=({credentials:e})=>En.fetchBookmarkFolders({credentials:e}).then(t=>{Yo().setBookmarkFolders(t)},()=>{}).catch(()=>{}),SJ=({credentials:e,store:t})=>{const n=()=>wJ({credentials:e});return n(),Ea(n,24e4)},kJ={startFetching:SJ},xf=e=>({startFetchingTimeline({timeline:t,store:n,userId:s=!1,listId:o=!1,statusId:r=!1,bookmarkFolderId:i=!1,tag:a}){return Kf.startFetching({timeline:t,store:n,credentials:e,userId:s,listId:o,statusId:r,bookmarkFolderId:i,tag:a})},fetchTimeline(t){return Kf.fetchAndUpdate({...t,credentials:e})},startFetchingNotifications({store:t}){return Kb.startFetching({store:t,credentials:e})},fetchNotifications(t){return Kb.fetchAndUpdate({...t,credentials:e})},startFetchingFollowRequests({store:t}){return mJ.startFetching({store:t,credentials:e})},startFetchingLists({store:t}){return _J.startFetching({store:t,credentials:e})},startFetchingBookmarkFolders({store:t}){return kJ.startFetching({store:t,credentials:e})},startUserSocket({store:t}){const n=t.rootState.instance.server.replace("http","ws"),s=Sq({},n);return Cq({url:s,id:"Unified",credentials:e})},...Object.entries(En).reduce((t,[n,s])=>({...t,[n]:o=>s({credentials:e,...o})}),{}),verifyCredentials:En.verifyCredentials}),Yf=()=>window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,Xf=()=>window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,xE=`${window.location.origin}/oauth-callback`,X_=async e=>{if(e.ok)return e.json().catch(t=>{throw new ki(e.status,t,{},e)});throw new ki(e.status,await e.text(),{},e)},$J=e=>{const t=`${e}/api/v1/apps`,n=new window.FormData;return n.append("client_name","PleromaFE"),n.append("website","https://pleroma.social"),n.append("redirect_uris",xE),n.append("scopes","read write follow push admin"),window.fetch(t,{method:"POST",body:n}).then(X_).then(s=>({clientId:s.client_id,clientSecret:s.client_secret}))},CJ=({instance:e,appToken:t})=>window.fetch(`${e}/api/v1/apps/verify_credentials`,{method:"GET",headers:{Authorization:`Bearer ${t}`}}).then(X_),TJ=({instance:e,clientId:t})=>{const n={response_type:"code",client_id:t,redirect_uri:xE,scope:"read write follow push admin"},s=Z.reduce(n,(r,i,a)=>{const c=`${a}=${encodeURIComponent(i)}`;return r?`${r}&${c}`:c},!1),o=`${e}/oauth/authorize?${s}`;window.location.href=o},AJ=({clientId:e,clientSecret:t,instance:n,username:s,password:o})=>{const r=`${n}/oauth/token`,i=new window.FormData;return i.append("client_id",e),i.append("client_secret",t),i.append("grant_type","password"),i.append("username",s),i.append("password",o),window.fetch(r,{method:"POST",body:i}).then(a=>a.json())},EJ=({clientId:e,clientSecret:t,instance:n,code:s})=>{const o=`${n}/oauth/token`,r=new window.FormData;return r.append("client_id",e),r.append("client_secret",t),r.append("grant_type","authorization_code"),r.append("code",s),r.append("redirect_uri",`${window.location.origin}/oauth-callback`),window.fetch(o,{method:"POST",body:r}).then(i=>i.json())},IJ=({clientId:e,clientSecret:t,instance:n})=>{const s=`${n}/oauth/token`,o=new window.FormData;return o.append("client_id",e),o.append("client_secret",t),o.append("grant_type","client_credentials"),o.append("redirect_uri",`${window.location.origin}/oauth-callback`),window.fetch(s,{method:"POST",body:o}).then(X_)},PJ=({app:e,instance:t,mfaToken:n,code:s})=>{const o=`${t}/oauth/mfa/challenge`,r=new window.FormData;return r.append("client_id",e.client_id),r.append("client_secret",e.client_secret),r.append("mfa_token",n),r.append("code",s),r.append("challenge_type","totp"),window.fetch(o,{method:"POST",body:r}).then(i=>i.json())},LJ=({app:e,instance:t,mfaToken:n,code:s})=>{const o=`${t}/oauth/mfa/challenge`,r=new window.FormData;return r.append("client_id",e.client_id),r.append("client_secret",e.client_secret),r.append("mfa_token",n),r.append("code",s),r.append("challenge_type","recovery"),window.fetch(o,{method:"POST",body:r}).then(i=>i.json())},OJ=({app:e,instance:t,token:n})=>{const s=`${t}/oauth/revoke`,o=new window.FormData;return o.append("client_id",e.clientId),o.append("client_secret",e.clientSecret),o.append("token",n),window.fetch(s,{method:"POST",body:o}).then(r=>r.json())},Jf={login:TJ,getToken:EJ,getTokenWithCredentials:AJ,verifyOTPCode:PJ,verifyRecoveryCode:LJ,revokeToken:OJ},RJ=e=>e.statusCode===422||e.statusCode===400||e.statusCode===401,MJ=e=>e.statusCode===401||e.statusCode===400,$o=ys("oauth",{state:()=>({clientId:!1,clientSecret:!1,appToken:!1,userToken:!1}),getters:{getToken(){return this.userToken||this.appToken},getUserToken(){return this.userToken}},actions:{setClientData({clientId:e,clientSecret:t}){this.clientId=e,this.clientSecret=t},setAppToken(e){this.appToken=e},setToken(e){this.userToken=e},clearToken(){this.userToken=!1},async createApp(){const{state:e}=window.vuex,t=e.instance.server,n=await $J(t);return this.setClientData(n),n},async ensureApp(){return this.clientId&&this.clientSecret?{clientId:this.clientId,clientSecret:this.clientSecret}:this.createApp()},async getAppToken(){const{state:e}=window.vuex,t=e.instance.server,n=await IJ({clientId:this.clientId,clientSecret:this.clientSecret,instance:t});return this.setAppToken(n.access_token),n.access_token},async ensureAppToken(){const{state:e}=window.vuex;if(this.appToken)try{return await CJ({instance:e.instance.server,appToken:this.appToken}),this.appToken}catch(t){if(RJ(t))this.setAppToken(!1);else throw t}try{await this.ensureApp()}catch(t){throw console.error("Cannot create app",t),t}try{return await this.getAppToken()}catch(t){if(MJ(t))return this.setClientData({clientId:!1,clientSecret:!1}),await this.createApp(),await this.getAppToken();throw console.error("Cannot get app token",t),t}}},persist:{afterLoad(e){return e.token&&!e.userToken&&(e.userToken=e.token),"token"in e&&delete e.token,e}}}),NJ=Object.freeze(Object.defineProperty({__proto__:null,useOAuthStore:$o},Symbol.toStringTag,{value:"Module"})),Zn=[];for(let e=0;e<256;++e)Zn.push((e+256).toString(16).slice(1));function FJ(e,t=0){return(Zn[e[t+0]]+Zn[e[t+1]]+Zn[e[t+2]]+Zn[e[t+3]]+"-"+Zn[e[t+4]]+Zn[e[t+5]]+"-"+Zn[e[t+6]]+Zn[e[t+7]]+"-"+Zn[e[t+8]]+Zn[e[t+9]]+"-"+Zn[e[t+10]]+Zn[e[t+11]]+Zn[e[t+12]]+Zn[e[t+13]]+Zn[e[t+14]]+Zn[e[t+15]]).toLowerCase()}let yv;const DJ=new Uint8Array(16);function UJ(){if(!yv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");yv=crypto.getRandomValues.bind(crypto)}return yv(DJ)}const jJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),q$={randomUUID:jJ};function BJ(e,t,n){var o;if(q$.randomUUID&&!e)return q$.randomUUID();e=e||{};const s=e.random??((o=e.rng)==null?void 0:o.call(e))??UJ();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,FJ(s)}const zJ=[{field:"muteFilters",store:"server-side",migrationFlag:"configMigration",migrationNum:1,description:"Mute filters, wordfilter/regexp/etc",valueType:"complex",migration(e,t){t.config.muteWords.forEach((n,s)=>{const o=BJ();e.setPreference({path:"simple.muteFilters."+o,value:{type:"word",value:n,name:n,enabled:!0,expires:null,hide:!1,order:s}})})}}],qJ=(e,t,n)=>{if(!n)return!1;const s=t[n.id];return s?(Z.mergeWith(s,n,J_),{item:s,new:!1}):(e.push(n),t[n.id]=n,{item:n,new:!0})},J_=(e,t)=>{if(Z.isArray(e)&&Z.isArray(t))return e.length=t.length,Z.mergeWith(e,t,J_)},HJ=()=>{const e=window.Notification;return e?e.permission==="default"?e.requestPermission():Promise.resolve(e.permission):Promise.resolve(null)},H$=(e,t)=>e.rootState.api.backendInteractor.blockUser({id:t}).then(n=>{e.commit("updateUserRelationship",[n]),e.commit("addBlockId",t),e.commit("removeStatus",{timeline:"friends",userId:t}),e.commit("removeStatus",{timeline:"public",userId:t}),e.commit("removeStatus",{timeline:"publicAndExternal",userId:t})}),V$=(e,t)=>e.rootState.api.backendInteractor.unblockUser({id:t}).then(n=>e.commit("updateUserRelationship",[n])),VJ=(e,t)=>e.rootState.api.backendInteractor.removeUserFromFollowers({id:t}).then(n=>e.commit("updateUserRelationship",[n])),WJ=(e,{id:t,comment:n})=>e.rootState.api.backendInteractor.editUserNote({id:t,comment:n}).then(s=>e.commit("updateUserRelationship",[s])),W$=(e,t)=>{const n=typeof t=="object"?t.id:t,s=typeof t=="object"?t.expiresIn:0,o=e.state.relationships[n]||{id:n};return o.muting=!0,e.commit("updateUserRelationship",[o]),e.commit("addMuteId",n),e.rootState.api.backendInteractor.muteUser({id:n,expiresIn:s}).then(r=>{e.commit("updateUserRelationship",[r]),e.commit("addMuteId",n)})},G$=(e,t)=>{const n=e.state.relationships[t]||{id:t};return n.muting=!1,e.commit("updateUserRelationship",[n]),e.rootState.api.backendInteractor.unmuteUser({id:t}).then(s=>e.commit("updateUserRelationship",[s]))},GJ=(e,t)=>e.rootState.api.backendInteractor.followUser({id:t,reblogs:!1}).then(n=>{e.commit("updateUserRelationship",[n])}),KJ=(e,t)=>e.rootState.api.backendInteractor.followUser({id:t,reblogs:!0}).then(n=>e.commit("updateUserRelationship",[n])),K$=(e,t)=>e.rootState.api.backendInteractor.muteDomain({domain:t}).then(()=>e.commit("addDomainMute",t)),x$=(e,t)=>e.rootState.api.backendInteractor.unmuteDomain({domain:t}).then(()=>e.commit("removeDomainMute",t)),xJ={tagUser(e,{user:{id:t},tag:n}){const s=e.usersObject[t],r=(s.tags||[]).concat([n]);s.tags=r},untagUser(e,{user:{id:t},tag:n}){const s=e.usersObject[t],r=(s.tags||[]).filter(i=>i!==n);s.tags=r},updateRight(e,{user:{id:t},right:n,value:s}){const o=e.usersObject[t],r=o.rights;r[n]=s,o.rights=r},updateActivationStatus(e,{user:{id:t},deactivated:n}){const s=e.usersObject[t];s.deactivated=n},setCurrentUser(e,t){e.lastLoginName=t.screen_name,e.currentUser=Z.mergeWith(e.currentUser||{},t,J_)},clearCurrentUser(e){e.currentUser=!1,e.lastLoginName=!1},beginLogin(e){e.loggingIn=!0},endLogin(e){e.loggingIn=!1},saveFriendIds(e,{id:t,friendIds:n}){const s=e.usersObject[t];s.friendIds=Z.uniq(Z.concat(s.friendIds||[],n))},saveFollowerIds(e,{id:t,followerIds:n}){const s=e.usersObject[t];s.followerIds=Z.uniq(Z.concat(s.followerIds||[],n))},clearFriends(e,t){const n=e.usersObject[t];n&&(n.friendIds=[])},clearFollowers(e,t){const n=e.usersObject[t];n&&(n.followerIds=[])},addNewUsers(e,t){Z.each(t,n=>{n.relationship&&(e.relationships[n.relationship.id]=n.relationship);const s=qJ(e.users,e.usersObject,n),o=s.item;s.new&&o.screen_name&&!o.screen_name.includes("@")&&(e.usersByNameObject[o.screen_name.toLowerCase()]=o)})},updateUserRelationship(e,t){t.forEach(n=>{e.relationships[n.id]=n})},updateUserInLists(e,{id:t,inLists:n}){e.usersObject[t].inLists=n},saveBlockIds(e,t){e.currentUser.blockIds=t},addBlockId(e,t){e.currentUser.blockIds.indexOf(t)===-1&&e.currentUser.blockIds.push(t)},setBlockIdsMaxId(e,t){e.currentUser.blockIdsMaxId=t},saveMuteIds(e,t){e.currentUser.muteIds=t},setMuteIdsMaxId(e,t){e.currentUser.muteIdsMaxId=t},addMuteId(e,t){e.currentUser.muteIds.indexOf(t)===-1&&e.currentUser.muteIds.push(t)},saveDomainMutes(e,t){e.currentUser.domainMutes=t},addDomainMute(e,t){e.currentUser.domainMutes.indexOf(t)===-1&&e.currentUser.domainMutes.push(t)},removeDomainMute(e,t){const n=e.currentUser.domainMutes.indexOf(t);n!==-1&&e.currentUser.domainMutes.splice(n,1)},setPinnedToUser(e,t){const n=e.usersObject[t.user.id];n.pinnedStatusIds=n.pinnedStatusIds||[];const s=n.pinnedStatusIds.indexOf(t.id);t.pinned&&s===-1?n.pinnedStatusIds.push(t.id):!t.pinned&&s!==-1&&n.pinnedStatusIds.splice(s,1)},setUserForStatus(e,t){t.user=e.usersObject[t.user.id]},setUserForNotification(e,t){t.type!=="follow"&&(t.action.user=e.usersObject[t.action.user.id]),t.from_profile=e.usersObject[t.from_profile.id]},setColor(e,{user:{id:t},highlighted:n}){const s=e.usersObject[t];s.highlight=n},signUpPending(e){e.signUpPending=!0,e.signUpErrors=[],e.signUpNotice={}},signUpSuccess(e){e.signUpPending=!1},signUpFailure(e,t){e.signUpPending=!1,e.signUpErrors=t,e.signUpNotice={}},signUpNotice(e,t){e.signUpPending=!1,e.signUpErrors=[],e.signUpNotice=t}},YJ={findUser:e=>t=>e.usersObject[t],findUserByName:e=>t=>e.usersByNameObject[t.toLowerCase()],findUserByUrl:e=>t=>e.users.find(n=>n.statusnet_profile_url&&n.statusnet_profile_url.toLowerCase()===t.toLowerCase()),relationship:e=>t=>t&&e.relationships[t]||{id:t,loading:!0}},XJ={loggingIn:!1,lastLoginName:!1,currentUser:!1,users:[],usersObject:{},usersByNameObject:{},signUpPending:!1,signUpErrors:[],signUpNotice:{},relationships:{}},JJ={state:XJ,mutations:xJ,getters:YJ,actions:{fetchUserIfMissing(e,t){e.getters.findUser(t)||e.dispatch("fetchUser",t)},fetchUser(e,t){return e.rootState.api.backendInteractor.fetchUser({id:t}).then(n=>(e.commit("addNewUsers",[n]),n))},fetchUserByName(e,t){return e.rootState.api.backendInteractor.fetchUserByName({name:t}).then(n=>(e.commit("addNewUsers",[n]),n))},fetchUserRelationship(e,t){e.state.currentUser&&e.rootState.api.backendInteractor.fetchUserRelationship({id:t}).then(n=>e.commit("updateUserRelationship",n))},fetchUserInLists(e,t){e.state.currentUser&&e.rootState.api.backendInteractor.fetchUserInLists({id:t}).then(n=>e.commit("updateUserInLists",{id:t,inLists:n}))},fetchBlocks(e,t){const{reset:n}=t||{},s=e.state.currentUser.blockIdsMaxId;return e.rootState.api.backendInteractor.fetchBlocks({maxId:s}).then(o=>(n?e.commit("saveBlockIds",Z.map(o,"id")):Z.map(o,"id").map(r=>e.commit("addBlockId",r)),o.length&&e.commit("setBlockIdsMaxId",Z.last(o).id),e.commit("addNewUsers",o),o))},blockUser(e,t){return H$(e,t)},unblockUser(e,t){return V$(e,t)},removeUserFromFollowers(e,t){return VJ(e,t)},blockUsers(e,t=[]){return Promise.all(t.map(n=>H$(e,n)))},unblockUsers(e,t=[]){return Promise.all(t.map(n=>V$(e,n)))},editUserNote(e,t){return WJ(e,t)},fetchMutes(e,t){const{reset:n}=t||{},s=e.state.currentUser.muteIdsMaxId;return e.rootState.api.backendInteractor.fetchMutes({maxId:s}).then(o=>(n?e.commit("saveMuteIds",Z.map(o,"id")):Z.map(o,"id").map(r=>e.commit("addMuteId",r)),o.length&&e.commit("setMuteIdsMaxId",Z.last(o).id),e.commit("addNewUsers",o),o))},muteUser(e,t){return W$(e,t)},unmuteUser(e,t){return G$(e,t)},hideReblogs(e,t){return GJ(e,t)},showReblogs(e,t){return KJ(e,t)},muteUsers(e,t=[]){return Promise.all(t.map(n=>W$(e,n)))},unmuteUsers(e,t=[]){return Promise.all(t.map(n=>G$(e,n)))},fetchDomainMutes(e){return e.rootState.api.backendInteractor.fetchDomainMutes().then(t=>(e.commit("saveDomainMutes",t),t))},muteDomain(e,t){return K$(e,t)},unmuteDomain(e,t){return x$(e,t)},muteDomains(e,t=[]){return Promise.all(t.map(n=>K$(e,n)))},unmuteDomains(e,t=[]){return Promise.all(t.map(n=>x$(e,n)))},fetchFriends({rootState:e,commit:t},n){const s=e.users.usersObject[n],o=Z.last(s.friendIds);return e.api.backendInteractor.fetchFriends({id:n,maxId:o}).then(r=>(t("addNewUsers",r),t("saveFriendIds",{id:n,friendIds:Z.map(r,"id")}),r))},fetchFollowers({rootState:e,commit:t},n){const s=e.users.usersObject[n],o=Z.last(s.followerIds);return e.api.backendInteractor.fetchFollowers({id:n,maxId:o}).then(r=>(t("addNewUsers",r),t("saveFollowerIds",{id:n,followerIds:Z.map(r,"id")}),r))},clearFriends({commit:e},t){e("clearFriends",t)},clearFollowers({commit:e},t){e("clearFollowers",t)},subscribeUser({rootState:e,commit:t},n){return e.api.backendInteractor.followUser({id:n,notify:!0}).then(s=>t("updateUserRelationship",[s]))},unsubscribeUser({rootState:e,commit:t},n){return e.api.backendInteractor.followUser({id:n,notify:!1}).then(s=>t("updateUserRelationship",[s]))},toggleActivationStatus({rootState:e,commit:t},{user:n}){(n.deactivated?e.api.backendInteractor.activateUser:e.api.backendInteractor.deactivateUser)({user:n}).then(o=>{const r=!o.is_active;t("updateActivationStatus",{user:o,deactivated:r})})},registerPushNotifications(e){const t=e.state.currentUser.credentials,n=e.rootState.instance.vapidPublicKey,s=e.rootState.config.webPushNotifications,o=e.rootState.config.notificationVisibility;i9(s,n,t,o)},unregisterPushNotifications(e){const t=e.state.currentUser.credentials;a9(t)},addNewUsers({commit:e},t){e("addNewUsers",t)},addNewStatuses(e,{statuses:t}){const n=Z.map(t,"user"),s=Z.compact(Z.map(t,"retweeted_status.user"));e.commit("addNewUsers",n),e.commit("addNewUsers",s),Z.each(t,o=>{e.commit("setUserForStatus",o),e.commit("setPinnedToUser",o)}),Z.each(Z.compact(Z.map(t,"retweeted_status")),o=>{e.commit("setUserForStatus",o),e.commit("setPinnedToUser",o)})},addNewNotifications(e,{notifications:t}){const n=Z.map(t,"from_profile"),s=Z.map(t,"target").filter(a=>a),o=t.map(a=>a.id);e.commit("addNewUsers",n),e.commit("addNewUsers",s);const r=e.rootState.notifications.idStore,i=Object.entries(r).filter(([a])=>o.includes(a)).map(([,a])=>a);Z.each(i,a=>{e.commit("setUserForNotification",a)})},searchUsers({rootState:e,commit:t},{query:n}){return e.api.backendInteractor.searchUsers({query:n}).then(s=>(t("addNewUsers",s),s))},async signUp(e,t){const n=$o();e.commit("signUpPending");try{const s=await n.ensureAppToken(),o=await En.register({credentials:s,params:{...t}});return o.access_token?(e.commit("signUpSuccess"),n.setToken(o.access_token),e.dispatch("loginUser",o.access_token),"ok"):(e.commit("signUpNotice",o),"request_sent")}catch(s){const o=s.message;throw e.commit("signUpFailure",o),s}},async getCaptcha(e){return e.rootState.api.backendInteractor.getCaptcha()},logout(e){const t=$o(),{instance:n}=e.rootState;return t.ensureApp().then(s=>{const o={app:s,instance:n.server,token:t.userToken};return Jf.revokeToken(o)}).then(()=>{e.commit("clearCurrentUser"),e.dispatch("disconnectFromSocket"),t.clearToken(),e.dispatch("stopFetchingTimeline","friends"),e.commit("setBackendInteractor",xf(t.getToken)),e.dispatch("stopFetchingNotifications"),e.dispatch("stopFetchingLists"),e.dispatch("stopFetchingBookmarkFolders"),e.dispatch("stopFetchingFollowRequests"),e.commit("clearNotifications"),e.commit("resetStatuses"),e.dispatch("resetChats"),Qe().setLastTimeline("public-timeline"),Qe().setLayoutWidth(Yf()),Qe().setLayoutHeight(Xf()),e.commit("clearServerSideStorage")})},loginUser(e,t){return new Promise((n,s)=>{const o=e.commit,r=e.dispatch;o("beginLogin"),e.rootState.api.backendInteractor.verifyCredentials(t).then(i=>{if(i.error){const a=i.error;o("endLogin"),[400,401,403,422].includes(a.status)&&$o().clearToken(),a.status===401?s(new Error("Wrong username or password")):s(new Error("An error occurred, please try again"))}else{const a=i;a.credentials=t,a.blockIds=[],a.muteIds=[],a.domainMutes=[],o("setCurrentUser",a),bn().setServerSideStorage(a),o("addNewUsers",[a]),r("fetchEmoji"),HJ().then(f=>Qe().setNotificationPermission(f)),o("setBackendInteractor",xf(t));const{configMigration:c}=bn().flagStorage;zJ.filter(f=>f.store==="server-side"&&f.migrationNum>0&&f.migrationNum>c).toSorted((f,h)=>f.configMigration-h.configMigration).forEach(f=>{f.migration(bn(),e.rootState),bn().setFlag({flag:"configMigration",value:f.migrationNum}),bn().pushServerSideStorage()}),a.token&&(r("setWsToken",a.token),r("initializeSocket"));const d=()=>{r("startFetchingTimeline",{timeline:"friends"}),r("startFetchingNotifications"),r("startFetchingChats")};r("startFetchingLists"),r("startFetchingBookmarkFolders"),a.locked&&r("startFetchingFollowRequests"),e.getters.mergedConfig.useStreamingApi?(r("fetchTimeline",{timeline:"friends",since:null}),r("fetchNotifications",{since:null}),r("enableMastoSockets",!0).catch(f=>{console.error("Failed initializing MastoAPI Streaming socket",f)}).then(()=>{r("fetchChats",{latest:!0}),setTimeout(()=>r("setNotificationsSilence",!1),1e4)})):d(),r("fetchMutes"),Qe().setLayoutWidth(Yf()),Qe().setLayoutHeight(Xf()),e.rootState.api.backendInteractor.fetchFriends({id:a.id}).then(f=>o("addNewUsers",f))}o("endLogin"),n()}).catch(i=>{console.error(i),o("endLogin"),s(new Error("Failed to connect to server, try again"))})})}}},YE=(e,t)=>{if(!t.lastMessage||e.rootState.chats.currentChatId===t.id&&!document.hidden||e.rootState.users.currentUser.id===t.lastMessage.account_id)return;const n={tag:t.lastMessage.id,title:t.account.name,icon:t.account.profile_image_url,body:t.lastMessage.content};t.lastMessage.attachment&&t.lastMessage.attachment.type==="image"&&(n.image=t.lastMessage.attachment.preview_url),A6(e.rootState,n)},ZJ=({content:e,chatId:t,attachments:n,userId:s,idempotencyKey:o})=>{const r={content:e,chat_id:t,created_at:new Date,id:`${new Date().getTime()}`,attachments:n,account_id:s,idempotency_key:o,emojis:[],pending:!0,isNormalized:!0};return n[0]&&(r.attachment=n[0]),r};var ru=e=>typeof e=="function"?e:function(){return e},QJ=typeof self<"u"?self:null,Hc=typeof window<"u"?window:null,ma=QJ||Hc||ma,eZ="2.0.0",qo={connecting:0,open:1,closing:2,closed:3},tZ=1e4,nZ=1e3,zs={closed:"closed",errored:"errored",joined:"joined",joining:"joining",leaving:"leaving"},yr={close:"phx_close",error:"phx_error",join:"phx_join",reply:"phx_reply",leave:"phx_leave"},xb={longpoll:"longpoll",websocket:"websocket"},sZ={complete:4},tf=class{constructor(e,t,n,s){this.channel=e,this.event=t,this.payload=n||function(){return{}},this.receivedResp=null,this.timeout=s,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}resend(e){this.timeout=e,this.reset(),this.send()}send(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}receive(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}reset(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}matchReceive({status:e,response:t,_ref:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}cancelRefEvent(){this.refEvent&&this.channel.off(this.refEvent)}cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}startTimeout(){this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this.cancelRefEvent(),this.cancelTimeout(),this.receivedResp=e,this.matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}trigger(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}},XE=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}},oZ=class{constructor(e,t,n){this.state=zs.closed,this.topic=e,this.params=ru(t||{}),this.socket=n,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new tf(this,yr.join,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new XE(()=>{this.socket.isConnected()&&this.rejoin()},this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError(()=>this.rejoinTimer.reset())),this.stateChangeRefs.push(this.socket.onOpen(()=>{this.rejoinTimer.reset(),this.isErrored()&&this.rejoin()})),this.joinPush.receive("ok",()=>{this.state=zs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this.joinPush.receive("error",()=>{this.state=zs.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.hasLogger()&&this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=zs.closed,this.socket.remove(this)}),this.onError(s=>{this.socket.hasLogger()&&this.socket.log("channel",`error ${this.topic}`,s),this.isJoining()&&this.joinPush.reset(),this.state=zs.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.joinPush.receive("timeout",()=>{this.socket.hasLogger()&&this.socket.log("channel",`timeout ${this.topic} (${this.joinRef()})`,this.joinPush.timeout),new tf(this,yr.leave,ru({}),this.timeout).send(),this.state=zs.errored,this.joinPush.reset(),this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.on(yr.reply,(s,o)=>{this.trigger(this.replyEventName(o),s)})}join(e=this.timeout){if(this.joinedOnce)throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush}onClose(e){this.on(yr.close,e)}onError(e){return this.on(yr.error,t=>e(t))}on(e,t){let n=this.bindingRef++;return this.bindings.push({event:e,ref:n,callback:t}),n}off(e,t){this.bindings=this.bindings.filter(n=>!(n.event===e&&(typeof t>"u"||t===n.ref)))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,n=this.timeout){if(t=t||{},!this.joinedOnce)throw new Error(`tried to push '${e}' to '${this.topic}' before joining. Use channel.join() before pushing events`);let s=new tf(this,e,function(){return t},n);return this.canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}leave(e=this.timeout){this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=zs.leaving;let t=()=>{this.socket.hasLogger()&&this.socket.log("channel",`leave ${this.topic}`),this.trigger(yr.close,"leave")},n=new tf(this,yr.leave,ru({}),e);return n.receive("ok",()=>t()).receive("timeout",()=>t()),n.send(),this.canPush()||n.trigger("ok",{}),n}onMessage(e,t,n){return t}isMember(e,t,n,s){return this.topic!==e?!1:s&&s!==this.joinRef()?(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:n,joinRef:s}),!1):!0}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=zs.joining,this.joinPush.resend(e))}trigger(e,t,n,s){let o=this.onMessage(e,t,n,s);if(t&&!o)throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");let r=this.bindings.filter(i=>i.event===e);for(let i=0;i<r.length;i++)r[i].callback(o,n,s||this.joinRef())}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===zs.closed}isErrored(){return this.state===zs.errored}isJoined(){return this.state===zs.joined}isJoining(){return this.state===zs.joining}isLeaving(){return this.state===zs.leaving}},Zf=class{static request(e,t,n,s,o,r,i){if(ma.XDomainRequest){let a=new ma.XDomainRequest;return this.xdomainRequest(a,e,t,s,o,r,i)}else{let a=new ma.XMLHttpRequest;return this.xhrRequest(a,e,t,n,s,o,r,i)}}static xdomainRequest(e,t,n,s,o,r,i){return e.timeout=o,e.open(t,n),e.onload=()=>{let a=this.parseJSON(e.responseText);i&&i(a)},r&&(e.ontimeout=r),e.onprogress=()=>{},e.send(s),e}static xhrRequest(e,t,n,s,o,r,i,a){return e.open(t,n,!0),e.timeout=r,e.setRequestHeader("Content-Type",s),e.onerror=()=>a&&a(null),e.onreadystatechange=()=>{if(e.readyState===sZ.complete&&a){let c=this.parseJSON(e.responseText);a(c)}},i&&(e.ontimeout=i),e.send(o),e}static parseJSON(e){if(!e||e==="")return null;try{return JSON.parse(e)}catch{return console&&console.log("failed to parse JSON response",e),null}}static serialize(e,t){let n=[];for(var s in e){if(!Object.prototype.hasOwnProperty.call(e,s))continue;let o=t?`${t}[${s}]`:s,r=e[s];typeof r=="object"?n.push(this.serialize(r,o)):n.push(encodeURIComponent(o)+"="+encodeURIComponent(r))}return n.join("&")}static appendParams(e,t){if(Object.keys(t).length===0)return e;let n=e.match(/\?/)?"&":"?";return`${e}${n}${this.serialize(t)}`}},rZ=e=>{let t="",n=new Uint8Array(e),s=n.byteLength;for(let o=0;o<s;o++)t+=String.fromCharCode(n[o]);return btoa(t)},Pc=class{constructor(e){this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.reqs=new Set,this.awaitingBatchAck=!1,this.currentBatch=null,this.currentBatchTimer=null,this.batchBuffer=[],this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(e),this.readyState=qo.connecting,setTimeout(()=>this.poll(),0)}normalizeEndpoint(e){return e.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+xb.websocket),"$1/"+xb.longpoll)}endpointURL(){return Zf.appendParams(this.pollEndpoint,{token:this.token})}closeAndRetry(e,t,n){this.close(e,t,n),this.readyState=qo.connecting}ontimeout(){this.onerror("timeout"),this.closeAndRetry(1005,"timeout",!1)}isActive(){return this.readyState===qo.open||this.readyState===qo.connecting}poll(){this.ajax("GET","application/json",null,()=>this.ontimeout(),e=>{if(e){var{status:t,token:n,messages:s}=e;this.token=n}else t=0;switch(t){case 200:s.forEach(o=>{setTimeout(()=>this.onmessage({data:o}),0)}),this.poll();break;case 204:this.poll();break;case 410:this.readyState=qo.open,this.onopen({}),this.poll();break;case 403:this.onerror(403),this.close(1008,"forbidden",!1);break;case 0:case 500:this.onerror(500),this.closeAndRetry(1011,"internal server error",500);break;default:throw new Error(`unhandled poll status ${t}`)}})}send(e){typeof e!="string"&&(e=rZ(e)),this.currentBatch?this.currentBatch.push(e):this.awaitingBatchAck?this.batchBuffer.push(e):(this.currentBatch=[e],this.currentBatchTimer=setTimeout(()=>{this.batchSend(this.currentBatch),this.currentBatch=null},0))}batchSend(e){this.awaitingBatchAck=!0,this.ajax("POST","application/x-ndjson",e.join(`
`),()=>this.onerror("timeout"),t=>{this.awaitingBatchAck=!1,!t||t.status!==200?(this.onerror(t&&t.status),this.closeAndRetry(1011,"internal server error",!1)):this.batchBuffer.length>0&&(this.batchSend(this.batchBuffer),this.batchBuffer=[])})}close(e,t,n){for(let o of this.reqs)o.abort();this.readyState=qo.closed;let s=Object.assign({code:1e3,reason:void 0,wasClean:!0},{code:e,reason:t,wasClean:n});this.batchBuffer=[],clearTimeout(this.currentBatchTimer),this.currentBatchTimer=null,typeof CloseEvent<"u"?this.onclose(new CloseEvent("close",s)):this.onclose(s)}ajax(e,t,n,s,o){let r,i=()=>{this.reqs.delete(r),s()};r=Zf.request(e,this.endpointURL(),t,n,this.timeout,i,a=>{this.reqs.delete(r),this.isActive()&&o(a)}),this.reqs.add(r)}},nf={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode(e,t){if(e.payload.constructor===ArrayBuffer)return t(this.binaryEncode(e));{let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}},decode(e,t){if(e.constructor===ArrayBuffer)return t(this.binaryDecode(e));{let[n,s,o,r,i]=JSON.parse(e);return t({join_ref:n,ref:s,topic:o,event:r,payload:i})}},binaryEncode(e){let{join_ref:t,ref:n,event:s,topic:o,payload:r}=e,i=this.META_LENGTH+t.length+n.length+o.length+s.length,a=new ArrayBuffer(this.HEADER_LENGTH+i),c=new DataView(a),d=0;c.setUint8(d++,this.KINDS.push),c.setUint8(d++,t.length),c.setUint8(d++,n.length),c.setUint8(d++,o.length),c.setUint8(d++,s.length),Array.from(t,h=>c.setUint8(d++,h.charCodeAt(0))),Array.from(n,h=>c.setUint8(d++,h.charCodeAt(0))),Array.from(o,h=>c.setUint8(d++,h.charCodeAt(0))),Array.from(s,h=>c.setUint8(d++,h.charCodeAt(0)));var f=new Uint8Array(a.byteLength+r.byteLength);return f.set(new Uint8Array(a),0),f.set(new Uint8Array(r),a.byteLength),f.buffer},binaryDecode(e){let t=new DataView(e),n=t.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.push:return this.decodePush(e,t,s);case this.KINDS.reply:return this.decodeReply(e,t,s);case this.KINDS.broadcast:return this.decodeBroadcast(e,t,s)}},decodePush(e,t,n){let s=t.getUint8(1),o=t.getUint8(2),r=t.getUint8(3),i=this.HEADER_LENGTH+this.META_LENGTH-1,a=n.decode(e.slice(i,i+s));i=i+s;let c=n.decode(e.slice(i,i+o));i=i+o;let d=n.decode(e.slice(i,i+r));i=i+r;let f=e.slice(i,e.byteLength);return{join_ref:a,ref:null,topic:c,event:d,payload:f}},decodeReply(e,t,n){let s=t.getUint8(1),o=t.getUint8(2),r=t.getUint8(3),i=t.getUint8(4),a=this.HEADER_LENGTH+this.META_LENGTH,c=n.decode(e.slice(a,a+s));a=a+s;let d=n.decode(e.slice(a,a+o));a=a+o;let f=n.decode(e.slice(a,a+r));a=a+r;let h=n.decode(e.slice(a,a+i));a=a+i;let v=e.slice(a,e.byteLength),_={status:h,response:v};return{join_ref:c,ref:d,topic:f,event:yr.reply,payload:_}},decodeBroadcast(e,t,n){let s=t.getUint8(1),o=t.getUint8(2),r=this.HEADER_LENGTH+2,i=n.decode(e.slice(r,r+s));r=r+s;let a=n.decode(e.slice(r,r+o));r=r+o;let c=e.slice(r,e.byteLength);return{join_ref:null,ref:null,topic:i,event:a,payload:c}}},iZ=class{constructor(e,t={}){this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=t.timeout||tZ,this.transport=t.transport||ma.WebSocket||Pc,this.primaryPassedHealthCheck=!1,this.longPollFallbackMs=t.longPollFallbackMs,this.fallbackTimer=null,this.sessionStore=t.sessionStorage||ma&&ma.sessionStorage,this.establishedConnections=0,this.defaultEncoder=nf.encode.bind(nf),this.defaultDecoder=nf.decode.bind(nf),this.closeWasClean=!1,this.disconnecting=!1,this.binaryType=t.binaryType||"arraybuffer",this.connectClock=1,this.transport!==Pc?(this.encode=t.encode||this.defaultEncoder,this.decode=t.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder);let n=null;Hc&&Hc.addEventListener&&(Hc.addEventListener("pagehide",s=>{this.conn&&(this.disconnect(),n=this.connectClock)}),Hc.addEventListener("pageshow",s=>{n===this.connectClock&&(n=null,this.connect())})),this.heartbeatIntervalMs=t.heartbeatIntervalMs||3e4,this.rejoinAfterMs=s=>t.rejoinAfterMs?t.rejoinAfterMs(s):[1e3,2e3,5e3][s-1]||1e4,this.reconnectAfterMs=s=>t.reconnectAfterMs?t.reconnectAfterMs(s):[10,50,100,150,200,250,500,1e3,2e3][s-1]||5e3,this.logger=t.logger||null,!this.logger&&t.debug&&(this.logger=(s,o,r)=>{console.log(`${s}: ${o}`,r)}),this.longpollerTimeout=t.longpollerTimeout||2e4,this.params=ru(t.params||{}),this.endPoint=`${e}/${xb.websocket}`,this.vsn=t.vsn||eZ,this.heartbeatTimeoutTimer=null,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new XE(()=>{this.teardown(()=>this.connect())},this.reconnectAfterMs)}getLongPollTransport(){return Pc}replaceTransport(e){this.connectClock++,this.closeWasClean=!0,clearTimeout(this.fallbackTimer),this.reconnectTimer.reset(),this.conn&&(this.conn.close(),this.conn=null),this.transport=e}protocol(){return location.protocol.match(/^https/)?"wss":"ws"}endPointURL(){let e=Zf.appendParams(Zf.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return e.charAt(0)!=="/"?e:e.charAt(1)==="/"?`${this.protocol()}:${e}`:`${this.protocol()}://${location.host}${e}`}disconnect(e,t,n){this.connectClock++,this.disconnecting=!0,this.closeWasClean=!0,clearTimeout(this.fallbackTimer),this.reconnectTimer.reset(),this.teardown(()=>{this.disconnecting=!1,e&&e()},t,n)}connect(e){e&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=ru(e)),!(this.conn&&!this.disconnecting)&&(this.longPollFallbackMs&&this.transport!==Pc?this.connectWithFallback(Pc,this.longPollFallbackMs):this.transportConnect())}log(e,t,n){this.logger&&this.logger(e,t,n)}hasLogger(){return this.logger!==null}onOpen(e){let t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}onClose(e){let t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}onError(e){let t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}onMessage(e){let t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}ping(e){if(!this.isConnected())return!1;let t=this.makeRef(),n=Date.now();this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:t});let s=this.onMessage(o=>{o.ref===t&&(this.off([s]),e(Date.now()-n))});return!0}transportConnect(){this.connectClock++,this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=()=>this.onConnOpen(),this.conn.onerror=e=>this.onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this.onConnClose(e)}getSession(e){return this.sessionStore&&this.sessionStore.getItem(e)}storeSession(e,t){this.sessionStore&&this.sessionStore.setItem(e,t)}connectWithFallback(e,t=2500){clearTimeout(this.fallbackTimer);let n=!1,s=!0,o,r,i=a=>{this.log("transport",`falling back to ${e.name}...`,a),this.off([o,r]),s=!1,this.replaceTransport(e),this.transportConnect()};if(this.getSession(`phx:fallback:${e.name}`))return i("memorized");this.fallbackTimer=setTimeout(i,t),r=this.onError(a=>{this.log("transport","error",a),s&&!n&&(clearTimeout(this.fallbackTimer),i(a))}),this.onOpen(()=>{if(n=!0,!s)return this.primaryPassedHealthCheck||this.storeSession(`phx:fallback:${e.name}`,"true"),this.log("transport",`established ${e.name} fallback`);clearTimeout(this.fallbackTimer),this.fallbackTimer=setTimeout(i,t),this.ping(a=>{this.log("transport","connected to primary after",a),this.primaryPassedHealthCheck=!0,clearTimeout(this.fallbackTimer)})}),this.transportConnect()}clearHeartbeats(){clearTimeout(this.heartbeatTimer),clearTimeout(this.heartbeatTimeoutTimer)}onConnOpen(){this.hasLogger()&&this.log("transport",`${this.transport.name} connected to ${this.endPointURL()}`),this.closeWasClean=!1,this.disconnecting=!1,this.establishedConnections++,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(([,e])=>e())}heartbeatTimeout(){this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.triggerChanError(),this.closeWasClean=!1,this.teardown(()=>this.reconnectTimer.scheduleTimeout(),nZ,"heartbeat timeout"))}resetHeartbeat(){this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,this.clearHeartbeats(),this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs))}teardown(e,t,n){if(!this.conn)return e&&e();let s=this.connectClock;this.waitForBufferDone(()=>{s===this.connectClock&&(this.conn&&(t?this.conn.close(t,n||""):this.conn.close()),this.waitForSocketClosed(()=>{s===this.connectClock&&(this.conn&&(this.conn.onopen=function(){},this.conn.onerror=function(){},this.conn.onmessage=function(){},this.conn.onclose=function(){},this.conn=null),e&&e())}))})}waitForBufferDone(e,t=1){if(t===5||!this.conn||!this.conn.bufferedAmount){e();return}setTimeout(()=>{this.waitForBufferDone(e,t+1)},150*t)}waitForSocketClosed(e,t=1){if(t===5||!this.conn||this.conn.readyState===qo.closed){e();return}setTimeout(()=>{this.waitForSocketClosed(e,t+1)},150*t)}onConnClose(e){let t=e&&e.code;this.hasLogger()&&this.log("transport","close",e),this.triggerChanError(),this.clearHeartbeats(),!this.closeWasClean&&t!==1e3&&this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(([,n])=>n(e))}onConnError(e){this.hasLogger()&&this.log("transport",e);let t=this.transport,n=this.establishedConnections;this.stateChangeCallbacks.error.forEach(([,s])=>{s(e,t,n)}),(t===this.transport||n>0)&&this.triggerChanError()}triggerChanError(){this.channels.forEach(e=>{e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(yr.error)})}connectionState(){switch(this.conn&&this.conn.readyState){case qo.connecting:return"connecting";case qo.open:return"open";case qo.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter(t=>t!==e)}off(e){for(let t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter(([n])=>e.indexOf(n)===-1)}channel(e,t={}){let n=new oZ(e,t,this);return this.channels.push(n),n}push(e){if(this.hasLogger()){let{topic:t,event:n,payload:s,ref:o,join_ref:r}=e;this.log("push",`${t} ${n} (${r}, ${o})`,s)}this.isConnected()?this.encode(e,t=>this.conn.send(t)):this.sendBuffer.push(()=>this.encode(e,t=>this.conn.send(t)))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}sendHeartbeat(){this.pendingHeartbeatRef&&!this.isConnected()||(this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatTimeoutTimer=setTimeout(()=>this.heartbeatTimeout(),this.heartbeatIntervalMs))}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:s,payload:o,ref:r,join_ref:i}=t;r&&r===this.pendingHeartbeatRef&&(this.clearHeartbeats(),this.pendingHeartbeatRef=null,this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)),this.hasLogger()&&this.log("receive",`${o.status||""} ${n} ${s} ${r&&"("+r+")"||""}`,o);for(let a=0;a<this.channels.length;a++){const c=this.channels[a];c.isMember(n,s,o,i)&&c.trigger(s,o,r,i)}for(let a=0;a<this.stateChangeCallbacks.message.length;a++){let[,c]=this.stateChangeCallbacks.message[a];c(t)}})}leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n.isJoined()||n.isJoining()));t&&(this.hasLogger()&&this.log("transport",`leaving duplicate topic "${e}"`),t.leave())}};const El=ys("shout",{state:()=>({messages:[],channel:{state:""},joined:!1}),actions:{initializeShout(e){const t=e.channel("chat:public");t.joinPush.receive("ok",()=>{this.joined=!0}),t.onClose(()=>{this.joined=!1}),t.onError(()=>{this.joined=!1}),t.on("new_msg",n=>{this.messages.push(n),this.messages=this.messages.slice(-19,20)}),t.on("messages",({messages:n})=>{this.messages=n.slice(-19,20)}),t.join(),this.channel=t}}}),aZ=Object.freeze(Object.defineProperty({__proto__:null,useShoutStore:El},Symbol.toStringTag,{value:"Module"})),lZ=e=>1e3*e,cZ={state:{retryMultiplier:1,backendInteractor:xf(),fetchers:{},socket:null,mastoUserSocket:null,mastoUserSocketStatus:null,followRequests:[]},getters:{followRequestCount:e=>e.followRequests.length},mutations:{setBackendInteractor(e,t){e.backendInteractor=t},addFetcher(e,{fetcherName:t,fetcher:n}){e.fetchers[t]=n},removeFetcher(e,{fetcherName:t}){e.fetchers[t].stop(),delete e.fetchers[t]},setWsToken(e,t){e.wsToken=t},setSocket(e,t){e.socket=t},setFollowRequests(e,t){e.followRequests=t},setMastoUserSocketStatus(e,t){e.mastoUserSocketStatus=t},incrementRetryMultiplier(e){e.retryMultiplier=Math.max(++e.retryMultiplier,3)},resetRetryMultiplier(e){e.retryMultiplier=1}},actions:{enableMastoSockets(e,t){const{state:n,dispatch:s,commit:o}=e;if(!(n.mastoUserSocket&&![WebSocket.CLOSED,WebSocket.CLOSING].includes(n.mastoUserSocket.getState())))return t?o("setMastoUserSocketStatus",qs.STARTING_INITIAL):o("setMastoUserSocketStatus",qs.STARTING),s("startMastoUserSocket")},disableMastoSockets(e){const{state:t,dispatch:n,commit:s}=e;if(t.mastoUserSocket)return s("setMastoUserSocketStatus",qs.DISABLED),n("stopMastoUserSocket")},startMastoUserSocket(e){return new Promise((t,n)=>{try{const{state:s,commit:o,dispatch:r,rootState:i}=e,a=i.statuses.timelines.friends;s.mastoUserSocket=s.backendInteractor.startUserSocket({store:e}),s.mastoUserSocket.addEventListener("pleroma:authenticated",()=>{s.mastoUserSocket.subscribe("user")}),s.mastoUserSocket.addEventListener("message",({detail:c})=>{c&&(c.event==="notification"?r("addNewNotifications",{notifications:[c.notification],older:!1}):c.event==="update"?r("addNewStatuses",{statuses:[c.status],userId:!1,showImmediately:a.visibleStatuses.length===0,timeline:"friends"}):c.event==="status.update"?r("addNewStatuses",{statuses:[c.status],userId:!1,showImmediately:c.status.id in a.visibleStatusesObject,timeline:"friends"}):c.event==="delete"?r("deleteStatusById",c.id):c.event==="pleroma:chat_update"&&setTimeout(()=>{r("addChatMessages",{chatId:c.chatUpdate.id,messages:[c.chatUpdate.lastMessage]}),r("updateChat",{chat:c.chatUpdate}),YE(e,c.chatUpdate)},100))}),s.mastoUserSocket.addEventListener("open",()=>{s.mastoUserSocketStatus!==qs.STARTING_INITIAL&&Qe().pushGlobalNotice({level:"success",messageKey:"timeline.socket_reconnected",timeout:5e3}),new Set([qs.ERROR,qs.DISABLED]).has(s.mastoUserSocketStatus)&&(r("stopFetchingTimeline",{timeline:"friends"}),r("stopFetchingNotifications"),r("stopFetchingChats")),o("resetRetryMultiplier"),o("setMastoUserSocketStatus",qs.JOINED)}),s.mastoUserSocket.addEventListener("error",({detail:c})=>{console.error("Error in MastoAPI websocket:",c),r("clearOpenedChats")}),s.mastoUserSocket.addEventListener("close",({detail:c})=>{const d=new Set([1e3,1001]),{code:f}=c;d.has(f)?(console.debug(`Not restarting socket becasue of closure code ${f} is in ignore list`),o("setMastoUserSocketStatus",qs.CLOSED)):(console.warn(`MastoAPI websocket disconnected, restarting. CloseEvent code: ${f}`),setTimeout(()=>{r("startMastoUserSocket")},lZ(s.retryMultiplier)),o("incrementRetryMultiplier"),s.mastoUserSocketStatus!==qs.ERROR&&(r("startFetchingTimeline",{timeline:"friends"}),r("startFetchingNotifications"),r("startFetchingChats"),Qe().pushGlobalNotice({level:"error",messageKey:"timeline.socket_broke",messageArgs:[f],timeout:5e3})),o("setMastoUserSocketStatus",qs.ERROR)),r("clearOpenedChats")}),t()}catch(s){n(s)}})},stopMastoUserSocket({state:e,dispatch:t}){t("startFetchingTimeline",{timeline:"friends"}),t("startFetchingNotifications"),t("startFetchingChats"),e.mastoUserSocket.close()},startFetchingTimeline(e,{timeline:t="friends",tag:n=!1,userId:s=!1,listId:o=!1,statusId:r=!1,bookmarkFolderId:i=!1}){if(e.state.fetchers[t])return;const a=e.state.backendInteractor.startFetchingTimeline({timeline:t,store:e,userId:s,listId:o,statusId:r,bookmarkFolderId:i,tag:n});e.commit("addFetcher",{fetcherName:t,fetcher:a})},stopFetchingTimeline(e,t){const n=e.state.fetchers[t];n&&e.commit("removeFetcher",{fetcherName:t,fetcher:n})},fetchTimeline(e,{timeline:t,...n}){e.state.backendInteractor.fetchTimeline({store:e,timeline:t,...n})},startFetchingNotifications(e){if(e.state.fetchers.notifications)return;const t=e.state.backendInteractor.startFetchingNotifications({store:e});e.commit("addFetcher",{fetcherName:"notifications",fetcher:t})},stopFetchingNotifications(e){const t=e.state.fetchers.notifications;t&&e.commit("removeFetcher",{fetcherName:"notifications",fetcher:t})},fetchNotifications(e,{...t}){e.state.backendInteractor.fetchNotifications({store:e,...t})},startFetchingFollowRequests(e){if(e.state.fetchers.followRequests)return;const t=e.state.backendInteractor.startFetchingFollowRequests({store:e});e.commit("addFetcher",{fetcherName:"followRequests",fetcher:t})},stopFetchingFollowRequests(e){const t=e.state.fetchers.followRequests;t&&e.commit("removeFetcher",{fetcherName:"followRequests",fetcher:t})},removeFollowRequest(e,t){const n=e.state.followRequests.filter(s=>s!==t);e.commit("setFollowRequests",n)},startFetchingLists(e){if(e.state.fetchers.lists)return;const t=e.state.backendInteractor.startFetchingLists({store:e});e.commit("addFetcher",{fetcherName:"lists",fetcher:t})},stopFetchingLists(e){const t=e.state.fetchers.lists;t&&e.commit("removeFetcher",{fetcherName:"lists",fetcher:t})},startFetchingBookmarkFolders(e){if(e.state.fetchers.bookmarkFolders)return;const t=e.state.backendInteractor.startFetchingBookmarkFolders({store:e});e.commit("addFetcher",{fetcherName:"bookmarkFolders",fetcher:t})},stopFetchingBookmarkFolders(e){const t=e.state.fetchers.bookmarkFolders;t&&e.commit("removeFetcher",{fetcherName:"bookmarkFolders",fetcher:t})},setWsToken(e,t){e.commit("setWsToken",t)},initializeSocket({commit:e,state:t,rootState:n}){const s=t.wsToken;if(n.instance.shoutAvailable&&typeof s<"u"&&t.socket===null){const o=new iZ("/socket",{params:{token:s}});o.connect(),e("setSocket",o),El().initializeShout(o)}},disconnectFromSocket({commit:e,state:t}){t.socket&&t.socket.disconnect(),e("setSocket",null)}}},uZ=({rootState:e,commit:t},{path:n,value:s})=>{const o={};return Z.set(o,n,s),e.api.backendInteractor.updateProfile({params:o}).then(r=>{t("addNewUsers",[r]),t("setCurrentUser",r)})},Y$=({rootState:e,commit:t},{path:n,value:s,oldValue:o})=>{const r={};return Z.set(r,n,s),e.api.backendInteractor.updateNotificationSettings({settings:r}).then(i=>{i.status==="success"?t("confirmProfileOption",{name,value:s}):t("confirmProfileOption",{name,value:o})})},yf={defaultScope:"source.privacy",defaultNSFW:"source.sensitive",stripRichContent:{get:"source.pleroma.no_rich_text",set:"no_rich_text"},locked:"locked",acceptChatMessages:{get:"pleroma.accepts_chat_messages",set:"accepts_chat_messages"},allowFollowingMove:{get:"pleroma.allow_following_move",set:"allow_following_move"},discoverable:{get:"source.pleroma.discoverable",set:"discoverable"},hideFavorites:{get:"pleroma.hide_favorites",set:"hide_favorites"},hideFollowers:{get:"pleroma.hide_followers",set:"hide_followers"},hideFollows:{get:"pleroma.hide_follows",set:"hide_follows"},hideFollowersCount:{get:"pleroma.hide_followers_count",set:"hide_followers_count"},hideFollowsCount:{get:"pleroma.hide_follows_count",set:"hide_follows_count"},webPushHideContents:{get:"pleroma.notification_settings.hide_notification_contents",set:"hide_notification_contents",api:Y$},blockNotificationsFromStrangers:{get:"pleroma.notification_settings.block_from_strangers",set:"block_from_strangers",api:Y$}},dZ=Object.fromEntries(Object.keys(yf).map(e=>[e,null])),fZ={state:{...dZ},mutations:{confirmProfileOption(e,{name:t,value:n}){Z.set(e,t,n)},wipeProfileOption(e,{name:t}){Z.set(e,t,null)},wipeAllProfileOptions(e){Object.keys(yf).forEach(t=>{Z.set(e,t,null)})},setCurrentUser(e,t){Object.entries(yf).forEach(n=>{const[s,o]=n,{get:r=o}=o;Z.set(e,s,Z.get(t._original,r))})}},actions:{setProfileOption({rootState:e,state:t,commit:n},{name:s,value:o}){const r=Z.get(t,s),i=yf[s];if(!i)throw new Error("Invalid server-side setting");const{set:a=i,api:c=uZ}=i;n("wipeProfileOption",{name:s}),c({rootState:e,commit:n},{path:a,value:o,oldValue:r}).catch(d=>{console.warn("Error setting server-side option:",d),n("confirmProfileOption",{name:s,value:r})})},logout({commit:e}){e("wipeAllProfileOptions")}}},JE={frontends:[],loaded:!1,needsReboot:null,config:null,modifiedPaths:null,descriptions:null,draft:null,dbConfigEnabled:null};({...JE.flagStorage});const hZ={state:{...Z.cloneDeep(JE)},mutations:{setInstanceAdminNoDbConfig(e){e.loaded=!1,e.dbConfigEnabled=!1},setAvailableFrontends(e,{frontends:t}){e.frontends=t.map(n=>(n.installedRefs=n.installed_refs,n.name==="pleroma-fe"?n.refs=["master","develop"]:n.refs=[n.ref],n))},updateAdminSettings(e,{config:t,modifiedPaths:n}){e.loaded=!0,e.dbConfigEnabled=!0,e.config=t,e.modifiedPaths=n},updateAdminDescriptions(e,{descriptions:t}){e.descriptions=t},updateAdminDraft(e,{path:t,value:n}){const[s,o,r]=t,i=[s,o,r];Z.set(e.draft,t,n),t.length>i.length&&Z.set(e.draft,i,Z.cloneDeep(Z.get(e.draft,i)))},resetAdminDraft(e){e.draft=Z.cloneDeep(e.config)}},actions:{loadFrontendsStuff({rootState:e,commit:t}){e.api.backendInteractor.fetchAvailableFrontends().then(n=>t("setAvailableFrontends",{frontends:n}))},loadAdminStuff({state:e,rootState:t,dispatch:n,commit:s}){t.api.backendInteractor.fetchInstanceDBConfig().then(o=>{o.error?o.error.status===400&&o.error.json().then(r=>{/configurable_from_database/.test(r.error)&&s("setInstanceAdminNoDbConfig")}):n("setInstanceAdminSettings",{backendDbConfig:o})}),e.descriptions===null&&t.api.backendInteractor.fetchInstanceConfigDescriptions().then(o=>n("setInstanceAdminDescriptions",{backendDescriptions:o}))},setInstanceAdminSettings({state:e,commit:t},{backendDbConfig:n}){const s=e.config||{},o=new Set;n.configs.forEach(r=>{const i=[r.group,r.key];r.db&&r.db.forEach(c=>o.add([...i,c].join(" -> ")));const a=c=>Array.isArray(c)&&c.length>0&&c[0].tuple?c.reduce((d,f)=>({...d,[f.tuple[0]]:a(f.tuple[1])}),{}):c;Z.set(s,i,a(r.value))}),t("updateAdminSettings",{config:s,modifiedPaths:o}),t("resetAdminDraft")},setInstanceAdminDescriptions({commit:e},{backendDescriptions:t}){const n=({children:o,description:r,label:i,key:a="<ROOT>",group:c,suggestions:d},f,h)=>{const v=c?[c,a]:[a],_={description:r,label:i,suggestions:d};Array.isArray(o)&&o.forEach(S=>{n(S,v,_)}),Z.set(h,v,_)},s={};t.forEach(o=>n(o,"",s)),e("updateAdminDescriptions",{descriptions:s})},pushAdminDraft({rootState:e,state:t,dispatch:n}){const s=a=>typeof a!="object"?a:Array.isArray(a)?a.map(s):Object.entries(a).map(([c,d])=>({tuple:[c,d]})),i=Z.flatten(Object.entries(t.config).map(([a,c])=>Object.keys(c).map(d=>({group:a,key:d})))).filter(({group:a,key:c})=>!Z.isEqual(t.config[a][c],t.draft[a][c])).map(({group:a,key:c})=>{const d=t.config[a][c],f=t.draft[a][c],h=Object.entries(d),v=Object.entries(f);return{group:a,key:c,value:s(Object.fromEntries(Z.differenceWith(v,h,Z.isEqual)))}});e.api.backendInteractor.pushInstanceDBConfig({payload:{configs:i}}).then(()=>e.api.backendInteractor.fetchInstanceDBConfig()).then(a=>n("setInstanceAdminSettings",{backendDbConfig:a}))},pushAdminSetting({rootState:e,dispatch:t},{path:n,value:s}){const[o,r,...i]=Array.isArray(n)?n:n.split(/\./g),a={};Z.set(a,i,s);const c=d=>typeof d!="object"?d:Array.isArray(d)?d.map(c):Object.entries(d).map(([f,h])=>({tuple:[f,h]}));e.api.backendInteractor.pushInstanceDBConfig({payload:{configs:[{group:o,key:r,value:c(a)}]}}).then(()=>e.api.backendInteractor.fetchInstanceDBConfig()).then(d=>t("setInstanceAdminSettings",{backendDbConfig:d}))},resetAdminSetting({rootState:e,state:t,dispatch:n},{path:s}){const[o,r,i]=s.split(/\./g);return t.modifiedPaths.delete(s),e.api.backendInteractor.pushInstanceDBConfig({payload:{configs:[{group:o,key:r,delete:!0,subkeys:[i]}]}}).then(()=>e.api.backendInteractor.fetchInstanceDBConfig()).then(a=>n("setInstanceAdminSettings",{backendDbConfig:a}))}}},Qf="password",ZE="token",Yb="totp",QE="recovery",pZ={settings:{},strategy:Qf,initStrategy:Qf},eI=e=>{e.strategy=e.initStrategy,e.settings={}},mZ={settings:e=>e.settings,requiredPassword:e=>e.strategy===Qf,requiredToken:e=>e.strategy===ZE,requiredTOTP:e=>e.strategy===Yb,requiredRecovery:e=>e.strategy===QE},gZ={setInitialStrategy(e,t){t&&(e.initStrategy=t,e.strategy=t)},requirePassword(e){e.strategy=Qf},requireToken(e){e.strategy=ZE},requireMFA(e,{settings:t}){e.settings=t,e.strategy=Yb},requireRecovery(e){e.strategy=QE},requireTOTP(e){e.strategy=Yb},abortMFA(e){eI(e)}},vZ={async login({state:e,dispatch:t},{access_token:n}){$o().setToken(n),await t("loginUser",n,{root:!0}),eI(e)}},bZ={namespaced:!0,state:pZ,getters:mZ,mutations:gZ,actions:vZ},tp=a_,_Z={drafts:{}},yZ={addOrSaveDraft(e,{draft:t}){e.drafts[t.id]=t},abandonDraft(e,{id:t}){delete e.drafts[t]},loadDrafts(e,t){e.drafts=t}},Z_="pleroma-fe-drafts",Q_=async()=>await tp.getItem(Z_)||{},wZ=async e=>{const t=await Q_();t[e.id]=JSON.parse(JSON.stringify(e)),await tp.setItem(Z_,t)},SZ=async e=>{const t=await Q_();delete t[e],await tp.setItem(Z_,t)},kZ={async addOrSaveDraft(e,{draft:t}){const n=t.id||new Date().getTime().toString(),s={...t,id:n};return e.commit("addOrSaveDraft",{draft:s}),await wZ(s),n},async abandonDraft(e,{id:t}){e.commit("abandonDraft",{id:t}),await SZ(t)},async loadDrafts(e){const t=await Q_();e.commit("loadDrafts",t)}},$Z={draftsByTypeAndRefId(e){return(t,n)=>Object.values(e.drafts).filter(s=>s.type===t&&s.refId===n)},draftsArray(e){return Object.values(e.drafts)},draftCount(e){return Object.values(e.drafts).length}},CZ={state:_Z,mutations:yZ,getters:$Z,actions:kZ},TZ=e=>({idIndex:{},idempotencyKeyIndex:{},messages:[],newMessageCount:0,lastSeenMessageId:"0",chatId:e,minId:void 0,maxId:void 0}),AZ=e=>{const t=[];for(const n of e.messages)n.error?t.push(n.id):(delete e.idIndex[n.id],delete e.idempotencyKeyIndex[n.idempotency_key]);e.messages=e.messages.filter(n=>t.includes(n.id)),e.newMessageCount=0,e.lastSeenMessageId="0",e.minId=void 0,e.maxId=void 0},EZ=(e,t)=>{if(e){if(e.messages=e.messages.filter(n=>n.id!==t),delete e.idIndex[t],e.maxId===t){const n=Si.maxBy(e.messages,"id");e.maxId=n.id}if(e.minId===t){const n=Si.minBy(e.messages,"id");e.minId=n.id}}},IZ=e=>{const t=e.messages.length,n=t-50;if(!(t<=50)){e.messages=Si.sortBy(e.messages,["id"]),e.minId=e.messages[n].id;for(const s of e.messages)s.id<e.minId&&(delete e.idIndex[s.id],delete e.idempotencyKeyIndex[s.idempotency_key]);e.messages=e.messages.slice(n,t)}},PZ=(e,t,n)=>{if(!e)return;const s=e.idIndex[t];if(s&&(s.error=!0,s.pending=!1,!n)){const o=Si.orderBy(e.messages,["pending","id"],["asc","desc"])[0];if(o){const r=s.id;s.id=`${o.id}-${new Date().getTime()}`,e.idIndex[s.id]=s,delete e.idIndex[r]}}},LZ=(e,{messages:t,updateMaxId:n=!0})=>{if(e)for(let s=0;s<t.length;s++){const o=t[s];if(o.chat_id!==e.chatId)return;if(o.fakeId){const r=e.idIndex[o.fakeId];if(r){e.idIndex[o.id]&&(delete e.idIndex[o.id],e.messages=e.messages.filter(i=>i.id!==o.id)),Object.assign(r,o,{error:!1}),delete r.fakeId,e.idIndex[r.id]=r,delete e.idIndex[o.fakeId];return}}(!e.minId||!o.pending&&o.id<e.minId)&&(e.minId=o.id),(!e.maxId||o.id>e.maxId)&&n&&(e.maxId=o.id),!e.idIndex[o.id]&&!OZ(e,o)&&(e.lastSeenMessageId<o.id&&e.newMessageCount++,e.idIndex[o.id]=o,e.messages.push(e.idIndex[o.id]),e.idempotencyKeyIndex[o.idempotency_key]=!0)}},OZ=(e,t)=>{if(t.idempotency_key)return e.idempotencyKeyIndex[t.idempotency_key]},RZ=e=>{e&&(e.newMessageCount=0,e.lastSeenMessageId=e.maxId)},MZ=e=>{if(!e)return[];const t=[],n=Si.orderBy(e.messages,["pending","id"],["asc","asc"]),s=n[0];let o=n[n.length-1],r;if(s){const a=new Date(s.created_at);a.setHours(0,0,0,0),t.push({type:"date",date:a,id:a.getTime().toString()})}let i=!1;for(let a=0;a<n.length;a++){const c=n[a],d=n[a+1],f=new Date(c.created_at);f.setHours(0,0,0,0),o&&o.date<f&&(t.push({type:"date",date:f,id:f.getTime().toString()}),o.isTail=!0,r=void 0,i=!0);const h={type:"message",data:c,date:f,id:c.id,messageChainId:r};(d&&d.account_id)!==c.account_id&&(h.isTail=!0,r=void 0),((o&&o.data&&o.data.account_id)!==c.account_id||i)&&(r=Si.uniqueId(),h.isHead=!0,h.messageChainId=r),t.push(h),o=h,i=!1}return t},Bo={add:LZ,empty:TZ,getView:MZ,deleteMessage:EZ,cullOlderMessages:IZ,resetNewMessageCount:RZ,clear:AZ,handleMessageError:PZ},tI=()=>({data:[],idStore:{}}),NZ={chatList:tI(),chatListFetcher:null,openedChats:To({}),openedChatMessageServices:To({}),fetcher:void 0,currentChatId:null,lastReadMessageId:null},wv=(e,t)=>Z.find(e.chatList.data,{id:t}),FZ=e=>Z.orderBy(e.chatList.data,["updated_at"],["desc"]),DZ=e=>Z.sumBy(e.chatList.data,"unread"),UZ={state:{...NZ},getters:{currentChat:e=>e.openedChats[e.currentChatId],currentChatMessageService:e=>e.openedChatMessageServices[e.currentChatId],findOpenedChatByRecipientId:e=>t=>Z.find(e.openedChats,n=>n.account.id===t),sortedChatList:FZ,unreadChatCount:DZ},actions:{startFetchingChats({dispatch:e,commit:t}){const n=()=>e("fetchChats",{latest:!0});n(),t("setChatListFetcher",{fetcher:()=>Ea(n,5e3)})},stopFetchingChats({commit:e}){e("setChatListFetcher",{fetcher:void 0})},fetchChats({dispatch:e,rootState:t}){return t.api.backendInteractor.chats().then(({chats:n})=>(e("addNewChats",{chats:n}),n))},addNewChats(e,{chats:t}){const{commit:n,dispatch:s,rootGetters:o}=e,r=i=>{YE(e,i)};n("addNewUsers",t.map(i=>i.account).filter(i=>i)),n("addNewChats",{dispatch:s,chats:t,rootGetters:o,newChatMessageSideEffects:r})},updateChat({commit:e},{chat:t}){e("updateChat",{chat:t})},startFetchingCurrentChat({dispatch:e},{fetcher:t}){e("setCurrentChatFetcher",{fetcher:t})},setCurrentChatFetcher({commit:e},{fetcher:t}){e("setCurrentChatFetcher",{fetcher:t})},addOpenedChat({commit:e,dispatch:t},{chat:n}){e("addOpenedChat",{dispatch:t,chat:X0(n)}),t("addNewUsers",[n.account])},addChatMessages({commit:e},t){e("addChatMessages",{commit:e,...t})},resetChatNewMessageCount({commit:e},t){e("resetChatNewMessageCount",t)},clearCurrentChat({commit:e}){e("setCurrentChatId",{chatId:void 0}),e("setCurrentChatFetcher",{fetcher:void 0})},readChat({rootState:e,commit:t,dispatch:n},{id:s,lastReadId:o}){const r=e.chats.lastReadMessageId!==o;n("resetChatNewMessageCount"),t("readChat",{id:s,lastReadId:o}),r&&e.api.backendInteractor.readChat({id:s,lastReadId:o})},deleteChatMessage({rootState:e,commit:t},n){e.api.backendInteractor.deleteChatMessage(n),t("deleteChatMessage",{commit:t,...n})},resetChats({commit:e,dispatch:t}){t("clearCurrentChat"),e("resetChats",{commit:e})},clearOpenedChats({commit:e}){e("clearOpenedChats",{commit:e})},handleMessageError({commit:e},t){e("handleMessageError",{commit:e,...t})},cullOlderMessages({commit:e},t){e("cullOlderMessages",t)}},mutations:{setChatListFetcher(e,{fetcher:t}){const n=e.chatListFetcher;n&&n.stop(),e.chatListFetcher=t&&t()},setCurrentChatFetcher(e,{fetcher:t}){const n=e.fetcher;n&&n.stop(),e.fetcher=t&&t()},addOpenedChat(e,{chat:t}){e.currentChatId=t.id,e.openedChats[t.id]=t,e.openedChatMessageServices[t.id]||(e.openedChatMessageServices[t.id]=Bo.empty(t.id))},setCurrentChatId(e,{chatId:t}){e.currentChatId=t},addNewChats(e,{chats:t,newChatMessageSideEffects:n}){t.forEach(s=>{const o=wv(e,s.id);if(o){const r=(o.lastMessage&&o.lastMessage.id)!==(s.lastMessage&&s.lastMessage.id);o.lastMessage=s.lastMessage,o.unread=s.unread,o.updated_at=s.updated_at,r&&o.unread&&n(s)}else e.chatList.data.push(s),e.chatList.idStore[s.id]=s})},updateChat(e,{chat:t}){const n=wv(e,t.id);n&&(n.lastMessage=t.lastMessage,n.unread=t.unread,n.updated_at=t.updated_at),n||e.chatList.data.unshift(t),e.chatList.idStore[t.id]=t},deleteChat(e,{id:t}){e.chats.data=e.chats.data.filter(n=>n.last_status.id!==t),e.chats.idStore=Z.omitBy(e.chats.idStore,n=>n.last_status.id===t)},resetChats(e,{commit:t}){e.chatList=tI(),e.currentChatId=null,t("setChatListFetcher",{fetcher:void 0});for(const n in e.openedChats)Bo.clear(e.openedChatMessageServices[n]),delete e.openedChats[n],delete e.openedChatMessageServices[n]},setChatsLoading(e,{value:t}){e.chats.loading=t},addChatMessages(e,{chatId:t,messages:n,updateMaxId:s}){const o=e.openedChatMessageServices[t];o&&Bo.add(o,{messages:n.map(B6),updateMaxId:s})},deleteChatMessage(e,{chatId:t,messageId:n}){const s=e.openedChatMessageServices[t];s&&Bo.deleteMessage(s,n)},resetChatNewMessageCount(e){const t=e.openedChatMessageServices[e.currentChatId];Bo.resetNewMessageCount(t)},clearOpenedChats(e){const t=e.currentChatId;for(const n in e.openedChats)t!==n&&(Bo.clear(e.openedChatMessageServices[n]),delete e.openedChats[n],delete e.openedChatMessageServices[n])},readChat(e,{id:t,lastReadId:n}){e.lastReadMessageId=n;const s=wv(e,t);s&&(s.unread=0)},handleMessageError(e,{chatId:t,fakeId:n,isRetry:s}){const o=e.openedChatMessageServices[t];Bo.handleMessageError(o,n,s)},cullOlderMessages(e,t){Bo.cullOlderMessages(e.openedChatMessageServices[t])}}},jZ={instance:QW,statuses:iG,notifications:aJ,users:JJ,api:cZ,config:GW,profileConfig:fZ,adminSettings:hZ,authFlow:bZ,drafts:CZ,chats:UZ};/*!
  * shared v11.1.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const eh=typeof window<"u",Mi=(e,t=!1)=>t?Symbol.for(e):Symbol(e),BZ=(e,t,n)=>zZ({l:e,k:t,s:n}),zZ=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Mn=e=>typeof e=="number"&&isFinite(e),qZ=e=>ey(e)==="[object Date]",Il=e=>ey(e)==="[object RegExp]",np=e=>Nt(e)&&Object.keys(e).length===0,Hn=Object.assign,HZ=Object.create,rn=(e=null)=>HZ(e);let X$;const aa=()=>X$||(X$=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:rn());function J$(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const VZ=Object.prototype.hasOwnProperty;function wo(e,t){return VZ.call(e,t)}const Nn=Array.isArray,vn=e=>typeof e=="function",Ze=e=>typeof e=="string",Ht=e=>typeof e=="boolean",Gt=e=>e!==null&&typeof e=="object",WZ=e=>Gt(e)&&vn(e.then)&&vn(e.catch),nI=Object.prototype.toString,ey=e=>nI.call(e),Nt=e=>ey(e)==="[object Object]",GZ=e=>e==null?"":Nn(e)||Nt(e)&&e.toString===nI?JSON.stringify(e,null,2):String(e);function ty(e,t=""){return e.reduce((n,s,o)=>o===0?n+s:n+t+s,"")}function KZ(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const sf=e=>!Gt(e)||Nn(e);function wf(e,t){if(sf(e)||sf(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:s,des:o}=n.pop();Object.keys(s).forEach(r=>{r!=="__proto__"&&(Gt(s[r])&&!Gt(o[r])&&(o[r]=Array.isArray(s[r])?[]:rn()),sf(o[r])||sf(s[r])?o[r]=s[r]:n.push({src:s[r],des:o[r]}))})}}/*!
  * message-compiler v11.1.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function xZ(e,t,n){return{line:e,column:t,offset:n}}function Xb(e,t,n){return{start:e,end:t}}const tn={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},YZ=17;function sp(e,t,n={}){const{domain:s,messages:o,args:r}=n,i=e,a=new SyntaxError(String(i));return a.code=e,t&&(a.location=t),a.domain=s,a}function XZ(e){throw e}const vr=" ",JZ="\r",vs=`
`,ZZ="\u2028",QZ="\u2029";function eQ(e){const t=e;let n=0,s=1,o=1,r=0;const i=D=>t[D]===JZ&&t[D+1]===vs,a=D=>t[D]===vs,c=D=>t[D]===QZ,d=D=>t[D]===ZZ,f=D=>i(D)||a(D)||c(D)||d(D),h=()=>n,v=()=>s,_=()=>o,S=()=>r,k=D=>i(D)||c(D)||d(D)?vs:t[D],P=()=>k(n),C=()=>k(n+r);function $(){return r=0,f(n)&&(s++,o=0),i(n)&&n++,n++,o++,t[n]}function L(){return i(n+r)&&r++,r++,t[n+r]}function T(){n=0,s=1,o=1,r=0}function R(D=0){r=D}function q(){const D=n+r;for(;D!==n;)$();r=0}return{index:h,line:v,column:_,peekOffset:S,charAt:k,currentChar:P,currentPeek:C,next:$,peek:L,reset:T,resetPeek:R,skipToPeek:q}}const ni=void 0,tQ=".",Z$="'",nQ="tokenizer";function sQ(e,t={}){const n=t.location!==!1,s=eQ(e),o=()=>s.index(),r=()=>xZ(s.line(),s.column(),s.index()),i=r(),a=o(),c={currentType:13,offset:a,startLoc:i,endLoc:i,lastType:13,lastOffset:a,lastStartLoc:i,lastEndLoc:i,braceNest:0,inLinked:!1,text:""},d=()=>c,{onError:f}=t;function h(U,B,te,...ue){const je=d();if(B.column+=te,B.offset+=te,f){const ke=n?Xb(je.startLoc,B):null,se=sp(U,ke,{domain:nQ,args:ue});f(se)}}function v(U,B,te){U.endLoc=r(),U.currentType=B;const ue={type:B};return n&&(ue.loc=Xb(U.startLoc,U.endLoc)),te!=null&&(ue.value=te),ue}const _=U=>v(U,13);function S(U,B){return U.currentChar()===B?(U.next(),B):(h(tn.EXPECTED_TOKEN,r(),0,B),"")}function k(U){let B="";for(;U.currentPeek()===vr||U.currentPeek()===vs;)B+=U.currentPeek(),U.peek();return B}function P(U){const B=k(U);return U.skipToPeek(),B}function C(U){if(U===ni)return!1;const B=U.charCodeAt(0);return B>=97&&B<=122||B>=65&&B<=90||B===95}function $(U){if(U===ni)return!1;const B=U.charCodeAt(0);return B>=48&&B<=57}function L(U,B){const{currentType:te}=B;if(te!==2)return!1;k(U);const ue=C(U.currentPeek());return U.resetPeek(),ue}function T(U,B){const{currentType:te}=B;if(te!==2)return!1;k(U);const ue=U.currentPeek()==="-"?U.peek():U.currentPeek(),je=$(ue);return U.resetPeek(),je}function R(U,B){const{currentType:te}=B;if(te!==2)return!1;k(U);const ue=U.currentPeek()===Z$;return U.resetPeek(),ue}function q(U,B){const{currentType:te}=B;if(te!==7)return!1;k(U);const ue=U.currentPeek()===".";return U.resetPeek(),ue}function D(U,B){const{currentType:te}=B;if(te!==8)return!1;k(U);const ue=C(U.currentPeek());return U.resetPeek(),ue}function x(U,B){const{currentType:te}=B;if(!(te===7||te===11))return!1;k(U);const ue=U.currentPeek()===":";return U.resetPeek(),ue}function oe(U,B){const{currentType:te}=B;if(te!==9)return!1;const ue=()=>{const ke=U.currentPeek();return ke==="{"?C(U.peek()):ke==="@"||ke==="|"||ke===":"||ke==="."||ke===vr||!ke?!1:ke===vs?(U.peek(),ue()):ce(U,!1)},je=ue();return U.resetPeek(),je}function V(U){k(U);const B=U.currentPeek()==="|";return U.resetPeek(),B}function ce(U,B=!0){const te=(je=!1,ke="")=>{const se=U.currentPeek();return se==="{"||se==="@"||!se?je:se==="|"?!(ke===vr||ke===vs):se===vr?(U.peek(),te(!0,vr)):se===vs?(U.peek(),te(!0,vs)):!0},ue=te();return B&&U.resetPeek(),ue}function de(U,B){const te=U.currentChar();return te===ni?ni:B(te)?(U.next(),te):null}function Le(U){const B=U.charCodeAt(0);return B>=97&&B<=122||B>=65&&B<=90||B>=48&&B<=57||B===95||B===36}function Ve(U){return de(U,Le)}function Ge(U){const B=U.charCodeAt(0);return B>=97&&B<=122||B>=65&&B<=90||B>=48&&B<=57||B===95||B===36||B===45}function We(U){return de(U,Ge)}function Be(U){const B=U.charCodeAt(0);return B>=48&&B<=57}function it(U){return de(U,Be)}function $t(U){const B=U.charCodeAt(0);return B>=48&&B<=57||B>=65&&B<=70||B>=97&&B<=102}function dt(U){return de(U,$t)}function bt(U){let B="",te="";for(;B=it(U);)te+=B;return te}function It(U){let B="";for(;;){const te=U.currentChar();if(te==="{"||te==="}"||te==="@"||te==="|"||!te)break;if(te===vr||te===vs)if(ce(U))B+=te,U.next();else{if(V(U))break;B+=te,U.next()}else B+=te,U.next()}return B}function nt(U){P(U);let B="",te="";for(;B=We(U);)te+=B;return U.currentChar()===ni&&h(tn.UNTERMINATED_CLOSING_BRACE,r(),0),te}function yt(U){P(U);let B="";return U.currentChar()==="-"?(U.next(),B+=`-${bt(U)}`):B+=bt(U),U.currentChar()===ni&&h(tn.UNTERMINATED_CLOSING_BRACE,r(),0),B}function ft(U){return U!==Z$&&U!==vs}function qt(U){P(U),S(U,"'");let B="",te="";for(;B=de(U,ft);)B==="\\"?te+=ye(U):te+=B;const ue=U.currentChar();return ue===vs||ue===ni?(h(tn.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,r(),0),ue===vs&&(U.next(),S(U,"'")),te):(S(U,"'"),te)}function ye(U){const B=U.currentChar();switch(B){case"\\":case"'":return U.next(),`\\${B}`;case"u":return Me(U,B,4);case"U":return Me(U,B,6);default:return h(tn.UNKNOWN_ESCAPE_SEQUENCE,r(),0,B),""}}function Me(U,B,te){S(U,B);let ue="";for(let je=0;je<te;je++){const ke=dt(U);if(!ke){h(tn.INVALID_UNICODE_ESCAPE_SEQUENCE,r(),0,`\\${B}${ue}${U.currentChar()}`);break}ue+=ke}return`\\${B}${ue}`}function Fe(U){return U!=="{"&&U!=="}"&&U!==vr&&U!==vs}function Ue(U){P(U);let B="",te="";for(;B=de(U,Fe);)te+=B;return te}function pt(U){let B="",te="";for(;B=Ve(U);)te+=B;return te}function H(U){const B=te=>{const ue=U.currentChar();return ue==="{"||ue==="@"||ue==="|"||ue==="("||ue===")"||!ue||ue===vr?te:(te+=ue,U.next(),B(te))};return B("")}function W(U){P(U);const B=S(U,"|");return P(U),B}function Q(U,B){let te=null;switch(U.currentChar()){case"{":return B.braceNest>=1&&h(tn.NOT_ALLOW_NEST_PLACEHOLDER,r(),0),U.next(),te=v(B,2,"{"),P(U),B.braceNest++,te;case"}":return B.braceNest>0&&B.currentType===2&&h(tn.EMPTY_PLACEHOLDER,r(),0),U.next(),te=v(B,3,"}"),B.braceNest--,B.braceNest>0&&P(U),B.inLinked&&B.braceNest===0&&(B.inLinked=!1),te;case"@":return B.braceNest>0&&h(tn.UNTERMINATED_CLOSING_BRACE,r(),0),te=pe(U,B)||_(B),B.braceNest=0,te;default:{let je=!0,ke=!0,se=!0;if(V(U))return B.braceNest>0&&h(tn.UNTERMINATED_CLOSING_BRACE,r(),0),te=v(B,1,W(U)),B.braceNest=0,B.inLinked=!1,te;if(B.braceNest>0&&(B.currentType===4||B.currentType===5||B.currentType===6))return h(tn.UNTERMINATED_CLOSING_BRACE,r(),0),B.braceNest=0,we(U,B);if(je=L(U,B))return te=v(B,4,nt(U)),P(U),te;if(ke=T(U,B))return te=v(B,5,yt(U)),P(U),te;if(se=R(U,B))return te=v(B,6,qt(U)),P(U),te;if(!je&&!ke&&!se)return te=v(B,12,Ue(U)),h(tn.INVALID_TOKEN_IN_PLACEHOLDER,r(),0,te.value),P(U),te;break}}return te}function pe(U,B){const{currentType:te}=B;let ue=null;const je=U.currentChar();switch((te===7||te===8||te===11||te===9)&&(je===vs||je===vr)&&h(tn.INVALID_LINKED_FORMAT,r(),0),je){case"@":return U.next(),ue=v(B,7,"@"),B.inLinked=!0,ue;case".":return P(U),U.next(),v(B,8,".");case":":return P(U),U.next(),v(B,9,":");default:return V(U)?(ue=v(B,1,W(U)),B.braceNest=0,B.inLinked=!1,ue):q(U,B)||x(U,B)?(P(U),pe(U,B)):D(U,B)?(P(U),v(B,11,pt(U))):oe(U,B)?(P(U),je==="{"?Q(U,B)||ue:v(B,10,H(U))):(te===7&&h(tn.INVALID_LINKED_FORMAT,r(),0),B.braceNest=0,B.inLinked=!1,we(U,B))}}function we(U,B){let te={type:13};if(B.braceNest>0)return Q(U,B)||_(B);if(B.inLinked)return pe(U,B)||_(B);switch(U.currentChar()){case"{":return Q(U,B)||_(B);case"}":return h(tn.UNBALANCED_CLOSING_BRACE,r(),0),U.next(),v(B,3,"}");case"@":return pe(U,B)||_(B);default:{if(V(U))return te=v(B,1,W(U)),B.braceNest=0,B.inLinked=!1,te;if(ce(U))return v(B,0,It(U));break}}return te}function _e(){const{currentType:U,offset:B,startLoc:te,endLoc:ue}=c;return c.lastType=U,c.lastOffset=B,c.lastStartLoc=te,c.lastEndLoc=ue,c.offset=o(),c.startLoc=r(),s.currentChar()===ni?v(c,13):we(s,c)}return{nextToken:_e,currentOffset:o,currentPosition:r,context:d}}const oQ="parser",rQ=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function iQ(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const s=parseInt(t||n,16);return s<=55295||s>=57344?String.fromCodePoint(s):""}}}function aQ(e={}){const t=e.location!==!1,{onError:n}=e;function s(C,$,L,T,...R){const q=C.currentPosition();if(q.offset+=T,q.column+=T,n){const D=t?Xb(L,q):null,x=sp($,D,{domain:oQ,args:R});n(x)}}function o(C,$,L){const T={type:C};return t&&(T.start=$,T.end=$,T.loc={start:L,end:L}),T}function r(C,$,L,T){t&&(C.end=$,C.loc&&(C.loc.end=L))}function i(C,$){const L=C.context(),T=o(3,L.offset,L.startLoc);return T.value=$,r(T,C.currentOffset(),C.currentPosition()),T}function a(C,$){const L=C.context(),{lastOffset:T,lastStartLoc:R}=L,q=o(5,T,R);return q.index=parseInt($,10),C.nextToken(),r(q,C.currentOffset(),C.currentPosition()),q}function c(C,$){const L=C.context(),{lastOffset:T,lastStartLoc:R}=L,q=o(4,T,R);return q.key=$,C.nextToken(),r(q,C.currentOffset(),C.currentPosition()),q}function d(C,$){const L=C.context(),{lastOffset:T,lastStartLoc:R}=L,q=o(9,T,R);return q.value=$.replace(rQ,iQ),C.nextToken(),r(q,C.currentOffset(),C.currentPosition()),q}function f(C){const $=C.nextToken(),L=C.context(),{lastOffset:T,lastStartLoc:R}=L,q=o(8,T,R);return $.type!==11?(s(C,tn.UNEXPECTED_EMPTY_LINKED_MODIFIER,L.lastStartLoc,0),q.value="",r(q,T,R),{nextConsumeToken:$,node:q}):($.value==null&&s(C,tn.UNEXPECTED_LEXICAL_ANALYSIS,L.lastStartLoc,0,Uo($)),q.value=$.value||"",r(q,C.currentOffset(),C.currentPosition()),{node:q})}function h(C,$){const L=C.context(),T=o(7,L.offset,L.startLoc);return T.value=$,r(T,C.currentOffset(),C.currentPosition()),T}function v(C){const $=C.context(),L=o(6,$.offset,$.startLoc);let T=C.nextToken();if(T.type===8){const R=f(C);L.modifier=R.node,T=R.nextConsumeToken||C.nextToken()}switch(T.type!==9&&s(C,tn.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,Uo(T)),T=C.nextToken(),T.type===2&&(T=C.nextToken()),T.type){case 10:T.value==null&&s(C,tn.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,Uo(T)),L.key=h(C,T.value||"");break;case 4:T.value==null&&s(C,tn.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,Uo(T)),L.key=c(C,T.value||"");break;case 5:T.value==null&&s(C,tn.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,Uo(T)),L.key=a(C,T.value||"");break;case 6:T.value==null&&s(C,tn.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,Uo(T)),L.key=d(C,T.value||"");break;default:{s(C,tn.UNEXPECTED_EMPTY_LINKED_KEY,$.lastStartLoc,0);const R=C.context(),q=o(7,R.offset,R.startLoc);return q.value="",r(q,R.offset,R.startLoc),L.key=q,r(L,R.offset,R.startLoc),{nextConsumeToken:T,node:L}}}return r(L,C.currentOffset(),C.currentPosition()),{node:L}}function _(C){const $=C.context(),L=$.currentType===1?C.currentOffset():$.offset,T=$.currentType===1?$.endLoc:$.startLoc,R=o(2,L,T);R.items=[];let q=null;do{const oe=q||C.nextToken();switch(q=null,oe.type){case 0:oe.value==null&&s(C,tn.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,Uo(oe)),R.items.push(i(C,oe.value||""));break;case 5:oe.value==null&&s(C,tn.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,Uo(oe)),R.items.push(a(C,oe.value||""));break;case 4:oe.value==null&&s(C,tn.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,Uo(oe)),R.items.push(c(C,oe.value||""));break;case 6:oe.value==null&&s(C,tn.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,Uo(oe)),R.items.push(d(C,oe.value||""));break;case 7:{const V=v(C);R.items.push(V.node),q=V.nextConsumeToken||null;break}}}while($.currentType!==13&&$.currentType!==1);const D=$.currentType===1?$.lastOffset:C.currentOffset(),x=$.currentType===1?$.lastEndLoc:C.currentPosition();return r(R,D,x),R}function S(C,$,L,T){const R=C.context();let q=T.items.length===0;const D=o(1,$,L);D.cases=[],D.cases.push(T);do{const x=_(C);q||(q=x.items.length===0),D.cases.push(x)}while(R.currentType!==13);return q&&s(C,tn.MUST_HAVE_MESSAGES_IN_PLURAL,L,0),r(D,C.currentOffset(),C.currentPosition()),D}function k(C){const $=C.context(),{offset:L,startLoc:T}=$,R=_(C);return $.currentType===13?R:S(C,L,T,R)}function P(C){const $=sQ(C,Hn({},e)),L=$.context(),T=o(0,L.offset,L.startLoc);return t&&T.loc&&(T.loc.source=C),T.body=k($),e.onCacheKey&&(T.cacheKey=e.onCacheKey(C)),L.currentType!==13&&s($,tn.UNEXPECTED_LEXICAL_ANALYSIS,L.lastStartLoc,0,C[L.offset]||""),r(T,$.currentOffset(),$.currentPosition()),T}return{parse:P}}function Uo(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function lQ(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:r=>(n.helpers.add(r),r)}}function Q$(e,t){for(let n=0;n<e.length;n++)ny(e[n],t)}function ny(e,t){switch(e.type){case 1:Q$(e.cases,t),t.helper("plural");break;case 2:Q$(e.items,t);break;case 6:{ny(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function cQ(e,t={}){const n=lQ(e);n.helper("normalize"),e.body&&ny(e.body,n);const s=n.context();e.helpers=Array.from(s.helpers)}function uQ(e){const t=e.body;return t.type===2?e4(t):t.cases.forEach(n=>e4(n)),e}function e4(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const s=e.items[n];if(!(s.type===3||s.type===9)||s.value==null)break;t.push(s.value)}if(t.length===e.items.length){e.static=ty(t);for(let n=0;n<e.items.length;n++){const s=e.items[n];(s.type===3||s.type===9)&&delete s.value}}}}function cl(e){switch(e.t=e.type,e.type){case 0:{const t=e;cl(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let s=0;s<n.length;s++)cl(n[s]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let s=0;s<n.length;s++)cl(n[s]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;cl(t.key),t.k=t.key,delete t.key,t.modifier&&(cl(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function dQ(e,t){const{filename:n,breakLineCode:s,needIndent:o}=t,r=t.location!==!1,i={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:o,indentLevel:0};r&&e.loc&&(i.source=e.loc.source);const a=()=>i;function c(k,P){i.code+=k}function d(k,P=!0){const C=P?s:"";c(o?C+"  ".repeat(k):C)}function f(k=!0){const P=++i.indentLevel;k&&d(P)}function h(k=!0){const P=--i.indentLevel;k&&d(P)}function v(){d(i.indentLevel)}return{context:a,push:c,indent:f,deindent:h,newline:v,helper:k=>`_${k}`,needIndent:()=>i.needIndent}}function fQ(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),Pl(e,t.key),t.modifier?(e.push(", "),Pl(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function hQ(e,t){const{helper:n,needIndent:s}=e;e.push(`${n("normalize")}([`),e.indent(s());const o=t.items.length;for(let r=0;r<o&&(Pl(e,t.items[r]),r!==o-1);r++)e.push(", ");e.deindent(s()),e.push("])")}function pQ(e,t){const{helper:n,needIndent:s}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(s());const o=t.cases.length;for(let r=0;r<o&&(Pl(e,t.cases[r]),r!==o-1);r++)e.push(", ");e.deindent(s()),e.push("])")}}function mQ(e,t){t.body?Pl(e,t.body):e.push("null")}function Pl(e,t){const{helper:n}=e;switch(t.type){case 0:mQ(e,t);break;case 1:pQ(e,t);break;case 2:hQ(e,t);break;case 6:fQ(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const gQ=(e,t={})=>{const n=Ze(t.mode)?t.mode:"normal",s=Ze(t.filename)?t.filename:"message.intl";t.sourceMap;const o=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,r=t.needIndent?t.needIndent:n!=="arrow",i=e.helpers||[],a=dQ(e,{filename:s,breakLineCode:o,needIndent:r});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(r),i.length>0&&(a.push(`const { ${ty(i.map(f=>`${f}: _${f}`),", ")} } = ctx`),a.newline()),a.push("return "),Pl(a,e),a.deindent(r),a.push("}"),delete e.helpers;const{code:c,map:d}=a.context();return{ast:e,code:c,map:d?d.toJSON():void 0}};function vQ(e,t={}){const n=Hn({},t),s=!!n.jit,o=!!n.minify,r=n.optimize==null?!0:n.optimize,a=aQ(n).parse(e);return s?(r&&uQ(a),o&&cl(a),{ast:a,code:""}):(cQ(a,n),gQ(a,n))}/*!
  * core-base v11.1.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function bQ(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(aa().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(aa().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Xo(e){return Gt(e)&&sy(e)===0&&(wo(e,"b")||wo(e,"body"))}const sI=["b","body"];function _Q(e){return Ni(e,sI)}const oI=["c","cases"];function yQ(e){return Ni(e,oI,[])}const rI=["s","static"];function wQ(e){return Ni(e,rI)}const iI=["i","items"];function SQ(e){return Ni(e,iI,[])}const aI=["t","type"];function sy(e){return Ni(e,aI)}const lI=["v","value"];function of(e,t){const n=Ni(e,lI);if(n!=null)return n;throw wu(t)}const cI=["m","modifier"];function kQ(e){return Ni(e,cI)}const uI=["k","key"];function $Q(e){const t=Ni(e,uI);if(t)return t;throw wu(6)}function Ni(e,t,n){for(let s=0;s<t.length;s++){const o=t[s];if(wo(e,o)&&e[o]!=null)return e[o]}return n}const dI=[...sI,...oI,...rI,...iI,...uI,...cI,...lI,...aI];function wu(e){return new Error(`unhandled node type: ${e}`)}function Sv(e){return n=>CQ(n,e)}function CQ(e,t){const n=_Q(t);if(n==null)throw wu(0);if(sy(n)===1){const r=yQ(n);return e.plural(r.reduce((i,a)=>[...i,t4(e,a)],[]))}else return t4(e,n)}function t4(e,t){const n=wQ(t);if(n!=null)return e.type==="text"?n:e.normalize([n]);{const s=SQ(t).reduce((o,r)=>[...o,Jb(e,r)],[]);return e.normalize(s)}}function Jb(e,t){const n=sy(t);switch(n){case 3:return of(t,n);case 9:return of(t,n);case 4:{const s=t;if(wo(s,"k")&&s.k)return e.interpolate(e.named(s.k));if(wo(s,"key")&&s.key)return e.interpolate(e.named(s.key));throw wu(n)}case 5:{const s=t;if(wo(s,"i")&&Mn(s.i))return e.interpolate(e.list(s.i));if(wo(s,"index")&&Mn(s.index))return e.interpolate(e.list(s.index));throw wu(n)}case 6:{const s=t,o=kQ(s),r=$Q(s);return e.linked(Jb(e,r),o?Jb(e,o):void 0,e.type)}case 7:return of(t,n);case 8:return of(t,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const TQ=e=>e;let rf=rn();function AQ(e,t={}){let n=!1;const s=t.onError||XZ;return t.onError=o=>{n=!0,s(o)},{...vQ(e,t),detectError:n}}function EQ(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&Ze(e)){Ht(t.warnHtmlMessage)&&t.warnHtmlMessage;const s=(t.onCacheKey||TQ)(e),o=rf[s];if(o)return o;const{ast:r,detectError:i}=AQ(e,{...t,location:!1,jit:!0}),a=Sv(r);return i?a:rf[s]=a}else{const n=e.cacheKey;if(n){const s=rf[n];return s||(rf[n]=Sv(e))}else return Sv(e)}}let Su=null;function IQ(e){Su=e}function PQ(e,t,n){Su&&Su.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const LQ=OQ("function:translate");function OQ(e){return t=>Su&&Su.emit(e,t)}const Tr={INVALID_ARGUMENT:YZ,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},RQ=24;function Ar(e){return sp(e,null,void 0)}function oy(e,t){return t.locale!=null?n4(t.locale):n4(e.locale)}let kv;function n4(e){if(Ze(e))return e;if(vn(e)){if(e.resolvedOnce&&kv!=null)return kv;if(e.constructor.name==="Function"){const t=e();if(WZ(t))throw Ar(Tr.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return kv=t}else throw Ar(Tr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Ar(Tr.NOT_SUPPORT_LOCALE_TYPE)}function MQ(e,t,n){return[...new Set([n,...Nn(t)?t:Gt(t)?Object.keys(t):Ze(t)?[t]:[n]])]}function fI(e,t,n){const s=Ze(n)?n:ku,o=e;o.__localeChainCache||(o.__localeChainCache=new Map);let r=o.__localeChainCache.get(s);if(!r){r=[];let i=[n];for(;Nn(i);)i=s4(r,i,t);const a=Nn(t)||!Nt(t)?t:t.default?t.default:null;i=Ze(a)?[a]:a,Nn(i)&&s4(r,i,!1),o.__localeChainCache.set(s,r)}return r}function s4(e,t,n){let s=!0;for(let o=0;o<t.length&&Ht(s);o++){const r=t[o];Ze(r)&&(s=NQ(e,t[o],n))}return s}function NQ(e,t,n){let s;const o=t.split("-");do{const r=o.join("-");s=FQ(e,r,n),o.splice(-1,1)}while(o.length&&s===!0);return s}function FQ(e,t,n){let s=!1;if(!e.includes(t)&&(s=!0,t)){s=t[t.length-1]!=="!";const o=t.replace(/!/g,"");e.push(o),(Nn(n)||Nt(n))&&n[o]&&(s=n[o])}return s}const Fi=[];Fi[0]={w:[0],i:[3,0],"[":[4],o:[7]};Fi[1]={w:[1],".":[2],"[":[4],o:[7]};Fi[2]={w:[2],i:[3,0],0:[3,0]};Fi[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Fi[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Fi[5]={"'":[4,0],o:8,l:[5,0]};Fi[6]={'"':[4,0],o:8,l:[6,0]};const DQ=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function UQ(e){return DQ.test(e)}function jQ(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function BQ(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function zQ(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:UQ(t)?jQ(t):"*"+t}function qQ(e){const t=[];let n=-1,s=0,o=0,r,i,a,c,d,f,h;const v=[];v[0]=()=>{i===void 0?i=a:i+=a},v[1]=()=>{i!==void 0&&(t.push(i),i=void 0)},v[2]=()=>{v[0](),o++},v[3]=()=>{if(o>0)o--,s=4,v[0]();else{if(o=0,i===void 0||(i=zQ(i),i===!1))return!1;v[1]()}};function _(){const S=e[n+1];if(s===5&&S==="'"||s===6&&S==='"')return n++,a="\\"+S,v[0](),!0}for(;s!==null;)if(n++,r=e[n],!(r==="\\"&&_())){if(c=BQ(r),h=Fi[s],d=h[c]||h.l||8,d===8||(s=d[0],d[1]!==void 0&&(f=v[d[1]],f&&(a=r,f()===!1))))return;if(s===7)return t}}const o4=new Map;function HQ(e,t){return Gt(e)?e[t]:null}function VQ(e,t){if(!Gt(e))return null;let n=o4.get(t);if(n||(n=qQ(t),n&&o4.set(t,n)),!n)return null;const s=n.length;let o=e,r=0;for(;r<s;){const i=n[r];if(dI.includes(i)&&Xo(o))return null;const a=o[i];if(a===void 0||vn(o))return null;o=a,r++}return o}const WQ="11.1.3",op=-1,ku="en-US",r4="",i4=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function GQ(){return{upper:(e,t)=>t==="text"&&Ze(e)?e.toUpperCase():t==="vnode"&&Gt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&Ze(e)?e.toLowerCase():t==="vnode"&&Gt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&Ze(e)?i4(e):t==="vnode"&&Gt(e)&&"__v_isVNode"in e?i4(e.children):e}}let hI;function KQ(e){hI=e}let pI;function xQ(e){pI=e}let mI;function YQ(e){mI=e}let gI=null;const XQ=e=>{gI=e},JQ=()=>gI;let vI=null;const a4=e=>{vI=e},ZQ=()=>vI;let l4=0;function QQ(e={}){const t=vn(e.onWarn)?e.onWarn:KZ,n=Ze(e.version)?e.version:WQ,s=Ze(e.locale)||vn(e.locale)?e.locale:ku,o=vn(s)?ku:s,r=Nn(e.fallbackLocale)||Nt(e.fallbackLocale)||Ze(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:o,i=Nt(e.messages)?e.messages:$v(o),a=Nt(e.datetimeFormats)?e.datetimeFormats:$v(o),c=Nt(e.numberFormats)?e.numberFormats:$v(o),d=Hn(rn(),e.modifiers,GQ()),f=e.pluralRules||rn(),h=vn(e.missing)?e.missing:null,v=Ht(e.missingWarn)||Il(e.missingWarn)?e.missingWarn:!0,_=Ht(e.fallbackWarn)||Il(e.fallbackWarn)?e.fallbackWarn:!0,S=!!e.fallbackFormat,k=!!e.unresolving,P=vn(e.postTranslation)?e.postTranslation:null,C=Nt(e.processor)?e.processor:null,$=Ht(e.warnHtmlMessage)?e.warnHtmlMessage:!0,L=!!e.escapeParameter,T=vn(e.messageCompiler)?e.messageCompiler:hI,R=vn(e.messageResolver)?e.messageResolver:pI||HQ,q=vn(e.localeFallbacker)?e.localeFallbacker:mI||MQ,D=Gt(e.fallbackContext)?e.fallbackContext:void 0,x=e,oe=Gt(x.__datetimeFormatters)?x.__datetimeFormatters:new Map,V=Gt(x.__numberFormatters)?x.__numberFormatters:new Map,ce=Gt(x.__meta)?x.__meta:{};l4++;const de={version:n,cid:l4,locale:s,fallbackLocale:r,messages:i,modifiers:d,pluralRules:f,missing:h,missingWarn:v,fallbackWarn:_,fallbackFormat:S,unresolving:k,postTranslation:P,processor:C,warnHtmlMessage:$,escapeParameter:L,messageCompiler:T,messageResolver:R,localeFallbacker:q,fallbackContext:D,onWarn:t,__meta:ce};return de.datetimeFormats=a,de.numberFormats=c,de.__datetimeFormatters=oe,de.__numberFormatters=V,__INTLIFY_PROD_DEVTOOLS__&&PQ(de,n,ce),de}const $v=e=>({[e]:rn()});function ry(e,t,n,s,o){const{missing:r,onWarn:i}=e;if(r!==null){const a=r(e,n,t,o);return Ze(a)?a:t}else return t}function Lc(e,t,n){const s=e;s.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function eee(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function tee(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let s=n+1;s<t.length;s++)if(eee(e,t[s]))return!0;return!1}function c4(e,...t){const{datetimeFormats:n,unresolving:s,fallbackLocale:o,onWarn:r,localeFallbacker:i}=e,{__datetimeFormatters:a}=e,[c,d,f,h]=Zb(...t),v=Ht(f.missingWarn)?f.missingWarn:e.missingWarn;Ht(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn;const _=!!f.part,S=oy(e,f),k=i(e,o,S);if(!Ze(c)||c==="")return new Intl.DateTimeFormat(S,h).format(d);let P={},C,$=null;const L="datetime format";for(let q=0;q<k.length&&(C=k[q],P=n[C]||{},$=P[c],!Nt($));q++)ry(e,c,C,v,L);if(!Nt($)||!Ze(C))return s?op:c;let T=`${C}__${c}`;np(h)||(T=`${T}__${JSON.stringify(h)}`);let R=a.get(T);return R||(R=new Intl.DateTimeFormat(C,Hn({},$,h)),a.set(T,R)),_?R.formatToParts(d):R.format(d)}const bI=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Zb(...e){const[t,n,s,o]=e,r=rn();let i=rn(),a;if(Ze(t)){const c=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw Ar(Tr.INVALID_ISO_DATE_ARGUMENT);const d=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(d);try{a.toISOString()}catch{throw Ar(Tr.INVALID_ISO_DATE_ARGUMENT)}}else if(qZ(t)){if(isNaN(t.getTime()))throw Ar(Tr.INVALID_DATE_ARGUMENT);a=t}else if(Mn(t))a=t;else throw Ar(Tr.INVALID_ARGUMENT);return Ze(n)?r.key=n:Nt(n)&&Object.keys(n).forEach(c=>{bI.includes(c)?i[c]=n[c]:r[c]=n[c]}),Ze(s)?r.locale=s:Nt(s)&&(i=s),Nt(o)&&(i=o),[r.key||"",a,r,i]}function u4(e,t,n){const s=e;for(const o in n){const r=`${t}__${o}`;s.__datetimeFormatters.has(r)&&s.__datetimeFormatters.delete(r)}}function d4(e,...t){const{numberFormats:n,unresolving:s,fallbackLocale:o,onWarn:r,localeFallbacker:i}=e,{__numberFormatters:a}=e,[c,d,f,h]=Qb(...t),v=Ht(f.missingWarn)?f.missingWarn:e.missingWarn;Ht(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn;const _=!!f.part,S=oy(e,f),k=i(e,o,S);if(!Ze(c)||c==="")return new Intl.NumberFormat(S,h).format(d);let P={},C,$=null;const L="number format";for(let q=0;q<k.length&&(C=k[q],P=n[C]||{},$=P[c],!Nt($));q++)ry(e,c,C,v,L);if(!Nt($)||!Ze(C))return s?op:c;let T=`${C}__${c}`;np(h)||(T=`${T}__${JSON.stringify(h)}`);let R=a.get(T);return R||(R=new Intl.NumberFormat(C,Hn({},$,h)),a.set(T,R)),_?R.formatToParts(d):R.format(d)}const _I=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Qb(...e){const[t,n,s,o]=e,r=rn();let i=rn();if(!Mn(t))throw Ar(Tr.INVALID_ARGUMENT);const a=t;return Ze(n)?r.key=n:Nt(n)&&Object.keys(n).forEach(c=>{_I.includes(c)?i[c]=n[c]:r[c]=n[c]}),Ze(s)?r.locale=s:Nt(s)&&(i=s),Nt(o)&&(i=o),[r.key||"",a,r,i]}function f4(e,t,n){const s=e;for(const o in n){const r=`${t}__${o}`;s.__numberFormatters.has(r)&&s.__numberFormatters.delete(r)}}const nee=e=>e,see=e=>"",oee="text",ree=e=>e.length===0?"":ty(e),iee=GZ;function h4(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function aee(e){const t=Mn(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Mn(e.named.count)||Mn(e.named.n))?Mn(e.named.count)?e.named.count:Mn(e.named.n)?e.named.n:t:t}function lee(e,t){t.count||(t.count=e),t.n||(t.n=e)}function cee(e={}){const t=e.locale,n=aee(e),s=Gt(e.pluralRules)&&Ze(t)&&vn(e.pluralRules[t])?e.pluralRules[t]:h4,o=Gt(e.pluralRules)&&Ze(t)&&vn(e.pluralRules[t])?h4:void 0,r=C=>C[s(n,C.length,o)],i=e.list||[],a=C=>i[C],c=e.named||rn();Mn(e.pluralIndex)&&lee(n,c);const d=C=>c[C];function f(C,$){const L=vn(e.messages)?e.messages(C,!!$):Gt(e.messages)?e.messages[C]:!1;return L||(e.parent?e.parent.message(C):see)}const h=C=>e.modifiers?e.modifiers[C]:nee,v=Nt(e.processor)&&vn(e.processor.normalize)?e.processor.normalize:ree,_=Nt(e.processor)&&vn(e.processor.interpolate)?e.processor.interpolate:iee,S=Nt(e.processor)&&Ze(e.processor.type)?e.processor.type:oee,P={list:a,named:d,plural:r,linked:(C,...$)=>{const[L,T]=$;let R="text",q="";$.length===1?Gt(L)?(q=L.modifier||q,R=L.type||R):Ze(L)&&(q=L||q):$.length===2&&(Ze(L)&&(q=L||q),Ze(T)&&(R=T||R));const D=f(C,!0)(P),x=R==="vnode"&&Nn(D)&&q?D[0]:D;return q?h(q)(x,R):x},message:f,type:S,interpolate:_,normalize:v,values:Hn(rn(),i,c)};return P}const p4=()=>"",co=e=>vn(e);function m4(e,...t){const{fallbackFormat:n,postTranslation:s,unresolving:o,messageCompiler:r,fallbackLocale:i,messages:a}=e,[c,d]=e0(...t),f=Ht(d.missingWarn)?d.missingWarn:e.missingWarn,h=Ht(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn,v=Ht(d.escapeParameter)?d.escapeParameter:e.escapeParameter,_=!!d.resolvedMessage,S=Ze(d.default)||Ht(d.default)?Ht(d.default)?r?c:()=>c:d.default:n?r?c:()=>c:null,k=n||S!=null&&(Ze(S)||vn(S)),P=oy(e,d);v&&uee(d);let[C,$,L]=_?[c,P,a[P]||rn()]:yI(e,c,P,i,h,f),T=C,R=c;if(!_&&!(Ze(T)||Xo(T)||co(T))&&k&&(T=S,R=T),!_&&(!(Ze(T)||Xo(T)||co(T))||!Ze($)))return o?op:c;let q=!1;const D=()=>{q=!0},x=co(T)?T:wI(e,c,$,T,R,D);if(q)return T;const oe=hee(e,$,L,d),V=cee(oe),ce=dee(e,x,V),de=s?s(ce,c):ce;if(__INTLIFY_PROD_DEVTOOLS__){const Le={timestamp:Date.now(),key:Ze(c)?c:co(T)?T.key:"",locale:$||(co(T)?T.locale:""),format:Ze(T)?T:co(T)?T.source:"",message:de};Le.meta=Hn({},e.__meta,JQ()||{}),LQ(Le)}return de}function uee(e){Nn(e.list)?e.list=e.list.map(t=>Ze(t)?J$(t):t):Gt(e.named)&&Object.keys(e.named).forEach(t=>{Ze(e.named[t])&&(e.named[t]=J$(e.named[t]))})}function yI(e,t,n,s,o,r){const{messages:i,onWarn:a,messageResolver:c,localeFallbacker:d}=e,f=d(e,s,n);let h=rn(),v,_=null;const S="translate";for(let k=0;k<f.length&&(v=f[k],h=i[v]||rn(),(_=c(h,t))===null&&(_=h[t]),!(Ze(_)||Xo(_)||co(_)));k++)if(!tee(v,f)){const P=ry(e,t,v,r,S);P!==t&&(_=P)}return[_,v,h]}function wI(e,t,n,s,o,r){const{messageCompiler:i,warnHtmlMessage:a}=e;if(co(s)){const d=s;return d.locale=d.locale||n,d.key=d.key||t,d}if(i==null){const d=()=>s;return d.locale=n,d.key=t,d}const c=i(s,fee(e,n,o,s,a,r));return c.locale=n,c.key=t,c.source=s,c}function dee(e,t,n){return t(n)}function e0(...e){const[t,n,s]=e,o=rn();if(!Ze(t)&&!Mn(t)&&!co(t)&&!Xo(t))throw Ar(Tr.INVALID_ARGUMENT);const r=Mn(t)?String(t):(co(t),t);return Mn(n)?o.plural=n:Ze(n)?o.default=n:Nt(n)&&!np(n)?o.named=n:Nn(n)&&(o.list=n),Mn(s)?o.plural=s:Ze(s)?o.default=s:Nt(s)&&Hn(o,s),[r,o]}function fee(e,t,n,s,o,r){return{locale:t,key:n,warnHtmlMessage:o,onError:i=>{throw r&&r(i),i},onCacheKey:i=>BZ(t,n,i)}}function hee(e,t,n,s){const{modifiers:o,pluralRules:r,messageResolver:i,fallbackLocale:a,fallbackWarn:c,missingWarn:d,fallbackContext:f}=e,v={locale:t,modifiers:o,pluralRules:r,messages:(_,S)=>{let k=i(n,_);if(k==null&&(f||S)){const[,,P]=yI(f||e,_,t,a,c,d);k=i(P,_)}if(Ze(k)||Xo(k)){let P=!1;const $=wI(e,_,t,k,_,()=>{P=!0});return P?p4:$}else return co(k)?k:p4}};return e.processor&&(v.processor=e.processor),s.list&&(v.list=s.list),s.named&&(v.named=s.named),Mn(s.plural)&&(v.pluralIndex=s.plural),v}bQ();/*!
  * vue-i18n v11.1.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const pee="11.1.3";function mee(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(aa().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(aa().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(aa().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(aa().__INTLIFY_PROD_DEVTOOLS__=!1)}const Ps={UNEXPECTED_RETURN_TYPE:RQ,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function Ws(e,...t){return sp(e,null,void 0)}const t0=Mi("__translateVNode"),n0=Mi("__datetimeParts"),s0=Mi("__numberParts"),SI=Mi("__setPluralRules"),kI=Mi("__injectWithOption"),o0=Mi("__dispose");function $u(e){if(!Gt(e)||Xo(e))return e;for(const t in e)if(wo(e,t))if(!t.includes("."))Gt(e[t])&&$u(e[t]);else{const n=t.split("."),s=n.length-1;let o=e,r=!1;for(let i=0;i<s;i++){if(n[i]==="__proto__")throw new Error(`unsafe key: ${n[i]}`);if(n[i]in o||(o[n[i]]=rn()),!Gt(o[n[i]])){r=!0;break}o=o[n[i]]}if(r||(Xo(o)?dI.includes(n[s])||delete e[t]:(o[n[s]]=e[t],delete e[t])),!Xo(o)){const i=o[n[s]];Gt(i)&&$u(i)}}return e}function iy(e,t){const{messages:n,__i18n:s,messageResolver:o,flatJson:r}=t,i=Nt(n)?n:Nn(s)?rn():{[e]:rn()};if(Nn(s)&&s.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:d}=a;c?(i[c]=i[c]||rn(),wf(d,i[c])):wf(d,i)}else Ze(a)&&wf(JSON.parse(a),i)}),o==null&&r)for(const a in i)wo(i,a)&&$u(i[a]);return i}function $I(e){return e.type}function CI(e,t,n){let s=Gt(t.messages)?t.messages:rn();"__i18nGlobal"in n&&(s=iy(e.locale.value,{messages:s,__i18n:n.__i18nGlobal}));const o=Object.keys(s);o.length&&o.forEach(r=>{e.mergeLocaleMessage(r,s[r])});{if(Gt(t.datetimeFormats)){const r=Object.keys(t.datetimeFormats);r.length&&r.forEach(i=>{e.mergeDateTimeFormat(i,t.datetimeFormats[i])})}if(Gt(t.numberFormats)){const r=Object.keys(t.numberFormats);r.length&&r.forEach(i=>{e.mergeNumberFormat(i,t.numberFormats[i])})}}}function g4(e){return A(Ou,null,e,0)}const v4="__INTLIFY_META__",b4=()=>[],gee=()=>!1;let _4=0;function y4(e){return(t,n,s,o)=>e(n,s,yi()||void 0,o)}const vee=()=>{const e=yi();let t=null;return e&&(t=$I(e)[v4])?{[v4]:t}:null};function ay(e={}){const{__root:t,__injectWithOption:n}=e,s=t===void 0,o=e.flatJson,r=eh?Gn:bT;let i=Ht(e.inheritLocale)?e.inheritLocale:!0;const a=r(t&&i?t.locale.value:Ze(e.locale)?e.locale:ku),c=r(t&&i?t.fallbackLocale.value:Ze(e.fallbackLocale)||Nn(e.fallbackLocale)||Nt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a.value),d=r(iy(a.value,e)),f=r(Nt(e.datetimeFormats)?e.datetimeFormats:{[a.value]:{}}),h=r(Nt(e.numberFormats)?e.numberFormats:{[a.value]:{}});let v=t?t.missingWarn:Ht(e.missingWarn)||Il(e.missingWarn)?e.missingWarn:!0,_=t?t.fallbackWarn:Ht(e.fallbackWarn)||Il(e.fallbackWarn)?e.fallbackWarn:!0,S=t?t.fallbackRoot:Ht(e.fallbackRoot)?e.fallbackRoot:!0,k=!!e.fallbackFormat,P=vn(e.missing)?e.missing:null,C=vn(e.missing)?y4(e.missing):null,$=vn(e.postTranslation)?e.postTranslation:null,L=t?t.warnHtmlMessage:Ht(e.warnHtmlMessage)?e.warnHtmlMessage:!0,T=!!e.escapeParameter;const R=t?t.modifiers:Nt(e.modifiers)?e.modifiers:{};let q=e.pluralRules||t&&t.pluralRules,D;D=(()=>{s&&a4(null);const se={version:pee,locale:a.value,fallbackLocale:c.value,messages:d.value,modifiers:R,pluralRules:q,missing:C===null?void 0:C,missingWarn:v,fallbackWarn:_,fallbackFormat:k,unresolving:!0,postTranslation:$===null?void 0:$,warnHtmlMessage:L,escapeParameter:T,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};se.datetimeFormats=f.value,se.numberFormats=h.value,se.__datetimeFormatters=Nt(D)?D.__datetimeFormatters:void 0,se.__numberFormatters=Nt(D)?D.__numberFormatters:void 0;const me=QQ(se);return s&&a4(me),me})(),Lc(D,a.value,c.value);function oe(){return[a.value,c.value,d.value,f.value,h.value]}const V=vt({get:()=>a.value,set:se=>{D.locale=se,a.value=se}}),ce=vt({get:()=>c.value,set:se=>{D.fallbackLocale=se,c.value=se,Lc(D,a.value,se)}}),de=vt(()=>d.value),Le=vt(()=>f.value),Ve=vt(()=>h.value);function Ge(){return vn($)?$:null}function We(se){$=se,D.postTranslation=se}function Be(){return P}function it(se){se!==null&&(C=y4(se)),P=se,D.missing=C}const $t=(se,me,xe,rt,ut,sn)=>{oe();let Vt;try{__INTLIFY_PROD_DEVTOOLS__,s||(D.fallbackContext=t?ZQ():void 0),Vt=se(D)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(D.fallbackContext=void 0)}if(xe!=="translate exists"&&Mn(Vt)&&Vt===op||xe==="translate exists"&&!Vt){const[Tn,In]=me();return t&&S?rt(t):ut(Tn)}else{if(sn(Vt))return Vt;throw Ws(Ps.UNEXPECTED_RETURN_TYPE)}};function dt(...se){return $t(me=>Reflect.apply(m4,null,[me,...se]),()=>e0(...se),"translate",me=>Reflect.apply(me.t,me,[...se]),me=>me,me=>Ze(me))}function bt(...se){const[me,xe,rt]=se;if(rt&&!Gt(rt))throw Ws(Ps.INVALID_ARGUMENT);return dt(me,xe,Hn({resolvedMessage:!0},rt||{}))}function It(...se){return $t(me=>Reflect.apply(c4,null,[me,...se]),()=>Zb(...se),"datetime format",me=>Reflect.apply(me.d,me,[...se]),()=>r4,me=>Ze(me))}function nt(...se){return $t(me=>Reflect.apply(d4,null,[me,...se]),()=>Qb(...se),"number format",me=>Reflect.apply(me.n,me,[...se]),()=>r4,me=>Ze(me))}function yt(se){return se.map(me=>Ze(me)||Mn(me)||Ht(me)?g4(String(me)):me)}const qt={normalize:yt,interpolate:se=>se,type:"vnode"};function ye(...se){return $t(me=>{let xe;const rt=me;try{rt.processor=qt,xe=Reflect.apply(m4,null,[rt,...se])}finally{rt.processor=null}return xe},()=>e0(...se),"translate",me=>me[t0](...se),me=>[g4(me)],me=>Nn(me))}function Me(...se){return $t(me=>Reflect.apply(d4,null,[me,...se]),()=>Qb(...se),"number format",me=>me[s0](...se),b4,me=>Ze(me)||Nn(me))}function Fe(...se){return $t(me=>Reflect.apply(c4,null,[me,...se]),()=>Zb(...se),"datetime format",me=>me[n0](...se),b4,me=>Ze(me)||Nn(me))}function Ue(se){q=se,D.pluralRules=q}function pt(se,me){return $t(()=>{if(!se)return!1;const xe=Ze(me)?me:a.value,rt=Q(xe),ut=D.messageResolver(rt,se);return Xo(ut)||co(ut)||Ze(ut)},()=>[se],"translate exists",xe=>Reflect.apply(xe.te,xe,[se,me]),gee,xe=>Ht(xe))}function H(se){let me=null;const xe=fI(D,c.value,a.value);for(let rt=0;rt<xe.length;rt++){const ut=d.value[xe[rt]]||{},sn=D.messageResolver(ut,se);if(sn!=null){me=sn;break}}return me}function W(se){const me=H(se);return me??(t?t.tm(se)||{}:{})}function Q(se){return d.value[se]||{}}function pe(se,me){if(o){const xe={[se]:me};for(const rt in xe)wo(xe,rt)&&$u(xe[rt]);me=xe[se]}d.value[se]=me,D.messages=d.value}function we(se,me){d.value[se]=d.value[se]||{};const xe={[se]:me};if(o)for(const rt in xe)wo(xe,rt)&&$u(xe[rt]);me=xe[se],wf(me,d.value[se]),D.messages=d.value}function _e(se){return f.value[se]||{}}function U(se,me){f.value[se]=me,D.datetimeFormats=f.value,u4(D,se,me)}function B(se,me){f.value[se]=Hn(f.value[se]||{},me),D.datetimeFormats=f.value,u4(D,se,me)}function te(se){return h.value[se]||{}}function ue(se,me){h.value[se]=me,D.numberFormats=h.value,f4(D,se,me)}function je(se,me){h.value[se]=Hn(h.value[se]||{},me),D.numberFormats=h.value,f4(D,se,me)}_4++,t&&eh&&(Qn(t.locale,se=>{i&&(a.value=se,D.locale=se,Lc(D,a.value,c.value))}),Qn(t.fallbackLocale,se=>{i&&(c.value=se,D.fallbackLocale=se,Lc(D,a.value,c.value))}));const ke={id:_4,locale:V,fallbackLocale:ce,get inheritLocale(){return i},set inheritLocale(se){i=se,se&&t&&(a.value=t.locale.value,c.value=t.fallbackLocale.value,Lc(D,a.value,c.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:de,get modifiers(){return R},get pluralRules(){return q||{}},get isGlobal(){return s},get missingWarn(){return v},set missingWarn(se){v=se,D.missingWarn=v},get fallbackWarn(){return _},set fallbackWarn(se){_=se,D.fallbackWarn=_},get fallbackRoot(){return S},set fallbackRoot(se){S=se},get fallbackFormat(){return k},set fallbackFormat(se){k=se,D.fallbackFormat=k},get warnHtmlMessage(){return L},set warnHtmlMessage(se){L=se,D.warnHtmlMessage=se},get escapeParameter(){return T},set escapeParameter(se){T=se,D.escapeParameter=se},t:dt,getLocaleMessage:Q,setLocaleMessage:pe,mergeLocaleMessage:we,getPostTranslationHandler:Ge,setPostTranslationHandler:We,getMissingHandler:Be,setMissingHandler:it,[SI]:Ue};return ke.datetimeFormats=Le,ke.numberFormats=Ve,ke.rt=bt,ke.te=pt,ke.tm=W,ke.d=It,ke.n=nt,ke.getDateTimeFormat=_e,ke.setDateTimeFormat=U,ke.mergeDateTimeFormat=B,ke.getNumberFormat=te,ke.setNumberFormat=ue,ke.mergeNumberFormat=je,ke[kI]=n,ke[t0]=ye,ke[n0]=Fe,ke[s0]=Me,ke}function bee(e){const t=Ze(e.locale)?e.locale:ku,n=Ze(e.fallbackLocale)||Nn(e.fallbackLocale)||Nt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,s=vn(e.missing)?e.missing:void 0,o=Ht(e.silentTranslationWarn)||Il(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,r=Ht(e.silentFallbackWarn)||Il(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,i=Ht(e.fallbackRoot)?e.fallbackRoot:!0,a=!!e.formatFallbackMessages,c=Nt(e.modifiers)?e.modifiers:{},d=e.pluralizationRules,f=vn(e.postTranslation)?e.postTranslation:void 0,h=Ze(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,v=!!e.escapeParameterHtml,_=Ht(e.sync)?e.sync:!0;let S=e.messages;if(Nt(e.sharedMessages)){const R=e.sharedMessages;S=Object.keys(R).reduce((D,x)=>{const oe=D[x]||(D[x]={});return Hn(oe,R[x]),D},S||{})}const{__i18n:k,__root:P,__injectWithOption:C}=e,$=e.datetimeFormats,L=e.numberFormats,T=e.flatJson;return{locale:t,fallbackLocale:n,messages:S,flatJson:T,datetimeFormats:$,numberFormats:L,missing:s,missingWarn:o,fallbackWarn:r,fallbackRoot:i,fallbackFormat:a,modifiers:c,pluralRules:d,postTranslation:f,warnHtmlMessage:h,escapeParameter:v,messageResolver:e.messageResolver,inheritLocale:_,__i18n:k,__root:P,__injectWithOption:C}}function r0(e={}){const t=ay(bee(e)),{__extender:n}=e,s={id:t.id,get locale(){return t.locale.value},set locale(o){t.locale.value=o},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(o){t.fallbackLocale.value=o},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(o){t.setMissingHandler(o)},get silentTranslationWarn(){return Ht(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(o){t.missingWarn=Ht(o)?!o:o},get silentFallbackWarn(){return Ht(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(o){t.fallbackWarn=Ht(o)?!o:o},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(o){t.fallbackFormat=o},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(o){t.setPostTranslationHandler(o)},get sync(){return t.inheritLocale},set sync(o){t.inheritLocale=o},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(o){t.warnHtmlMessage=o!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(o){t.escapeParameter=o},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...o){return Reflect.apply(t.t,t,[...o])},rt(...o){return Reflect.apply(t.rt,t,[...o])},te(o,r){return t.te(o,r)},tm(o){return t.tm(o)},getLocaleMessage(o){return t.getLocaleMessage(o)},setLocaleMessage(o,r){t.setLocaleMessage(o,r)},mergeLocaleMessage(o,r){t.mergeLocaleMessage(o,r)},d(...o){return Reflect.apply(t.d,t,[...o])},getDateTimeFormat(o){return t.getDateTimeFormat(o)},setDateTimeFormat(o,r){t.setDateTimeFormat(o,r)},mergeDateTimeFormat(o,r){t.mergeDateTimeFormat(o,r)},n(...o){return Reflect.apply(t.n,t,[...o])},getNumberFormat(o){return t.getNumberFormat(o)},setNumberFormat(o,r){t.setNumberFormat(o,r)},mergeNumberFormat(o,r){t.mergeNumberFormat(o,r)}};return s.__extender=n,s}function _ee(e,t,n){return{beforeCreate(){const s=yi();if(!s)throw Ws(Ps.UNEXPECTED_ERROR);const o=this.$options;if(o.i18n){const r=o.i18n;if(o.__i18n&&(r.__i18n=o.__i18n),r.__root=t,this===this.$root)this.$i18n=w4(e,r);else{r.__injectWithOption=!0,r.__extender=n.__vueI18nExtend,this.$i18n=r0(r);const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}}else if(o.__i18n)if(this===this.$root)this.$i18n=w4(e,o);else{this.$i18n=r0({__i18n:o.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const r=this.$i18n;r.__extender&&(r.__disposer=r.__extender(this.$i18n))}else this.$i18n=e;o.__i18nGlobal&&CI(t,o,o),this.$t=(...r)=>this.$i18n.t(...r),this.$rt=(...r)=>this.$i18n.rt(...r),this.$te=(r,i)=>this.$i18n.te(r,i),this.$d=(...r)=>this.$i18n.d(...r),this.$n=(...r)=>this.$i18n.n(...r),this.$tm=r=>this.$i18n.tm(r),n.__setInstance(s,this.$i18n)},mounted(){},unmounted(){const s=yi();if(!s)throw Ws(Ps.UNEXPECTED_ERROR);const o=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,o.__disposer&&(o.__disposer(),delete o.__disposer,delete o.__extender),n.__deleteInstance(s),delete this.$i18n}}}function w4(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[SI](t.pluralizationRules||e.pluralizationRules);const n=iy(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(s=>e.mergeLocaleMessage(s,n[s])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(s=>e.mergeDateTimeFormat(s,t.datetimeFormats[s])),t.numberFormats&&Object.keys(t.numberFormats).forEach(s=>e.mergeNumberFormat(s,t.numberFormats[s])),e}const ly={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function yee({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((s,o)=>[...s,...o.type===Te?o.children:[o]],[]):t.reduce((n,s)=>{const o=e[s];return o&&(n[s]=o()),n},rn())}function TI(){return Te}const wee=Ri({name:"i18n-t",props:Hn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Mn(e)||!isNaN(e)}},ly),setup(e,t){const{slots:n,attrs:s}=t,o=e.i18n||cy({useScope:e.scope,__useComponent:!0});return()=>{const r=Object.keys(n).filter(h=>h!=="_"),i=rn();e.locale&&(i.locale=e.locale),e.plural!==void 0&&(i.plural=Ze(e.plural)?+e.plural:e.plural);const a=yee(t,r),c=o[t0](e.keypath,a,i),d=Hn(rn(),s),f=Ze(e.tag)||Gt(e.tag)?e.tag:TI();return Dr(f,d,c)}}}),S4=wee;function See(e){return Nn(e)&&!Ze(e[0])}function AI(e,t,n,s){const{slots:o,attrs:r}=t;return()=>{const i={part:!0};let a=rn();e.locale&&(i.locale=e.locale),Ze(e.format)?i.key=e.format:Gt(e.format)&&(Ze(e.format.key)&&(i.key=e.format.key),a=Object.keys(e.format).reduce((v,_)=>n.includes(_)?Hn(rn(),v,{[_]:e.format[_]}):v,rn()));const c=s(e.value,i,a);let d=[i.key];Nn(c)?d=c.map((v,_)=>{const S=o[v.type],k=S?S({[v.type]:v.value,index:_,parts:c}):[v.value];return See(k)&&(k[0].key=`${v.type}-${_}`),k}):Ze(c)&&(d=[c]);const f=Hn(rn(),r),h=Ze(e.tag)||Gt(e.tag)?e.tag:TI();return Dr(h,f,d)}}const kee=Ri({name:"i18n-n",props:Hn({value:{type:Number,required:!0},format:{type:[String,Object]}},ly),setup(e,t){const n=e.i18n||cy({useScope:e.scope,__useComponent:!0});return AI(e,t,_I,(...s)=>n[s0](...s))}}),k4=kee;function $ee(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const s=n.__getInstance(t);return s!=null?s.__composer:e.global.__composer}}function Cee(e){const t=i=>{const{instance:a,value:c}=i;if(!a||!a.$)throw Ws(Ps.UNEXPECTED_ERROR);const d=$ee(e,a.$),f=$4(c);return[Reflect.apply(d.t,d,[...C4(f)]),d]};return{created:(i,a)=>{const[c,d]=t(a);eh&&e.global===d&&(i.__i18nWatcher=Qn(d.locale,()=>{a.instance&&a.instance.$forceUpdate()})),i.__composer=d,i.textContent=c},unmounted:i=>{eh&&i.__i18nWatcher&&(i.__i18nWatcher(),i.__i18nWatcher=void 0,delete i.__i18nWatcher),i.__composer&&(i.__composer=void 0,delete i.__composer)},beforeUpdate:(i,{value:a})=>{if(i.__composer){const c=i.__composer,d=$4(a);i.textContent=Reflect.apply(c.t,c,[...C4(d)])}},getSSRProps:i=>{const[a]=t(i);return{textContent:a}}}}function $4(e){if(Ze(e))return{path:e};if(Nt(e)){if(!("path"in e))throw Ws(Ps.REQUIRED_VALUE,"path");return e}else throw Ws(Ps.INVALID_VALUE)}function C4(e){const{path:t,locale:n,args:s,choice:o,plural:r}=e,i={},a=s||{};return Ze(n)&&(i.locale=n),Mn(o)&&(i.plural=o),Mn(r)&&(i.plural=r),[t,a,i]}function Tee(e,t,...n){const s=Nt(n[0])?n[0]:{};(Ht(s.globalInstall)?s.globalInstall:!0)&&([S4.name,"I18nT"].forEach(r=>e.component(r,S4)),[k4.name,"I18nN"].forEach(r=>e.component(r,k4)),[A4.name,"I18nD"].forEach(r=>e.component(r,A4))),e.directive("t",Cee(t))}const Aee=Mi("global-vue-i18n");function Eee(e={}){const t=__VUE_I18N_LEGACY_API__&&Ht(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=Ht(e.globalInjection)?e.globalInjection:!0,s=new Map,[o,r]=Iee(e,t),i=Mi("");function a(h){return s.get(h)||null}function c(h,v){s.set(h,v)}function d(h){s.delete(h)}const f={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(h,...v){if(h.__VUE_I18N_SYMBOL__=i,h.provide(h.__VUE_I18N_SYMBOL__,f),Nt(v[0])){const k=v[0];f.__composerExtend=k.__composerExtend,f.__vueI18nExtend=k.__vueI18nExtend}let _=null;!t&&n&&(_=Dee(h,f.global)),__VUE_I18N_FULL_INSTALL__&&Tee(h,f,...v),__VUE_I18N_LEGACY_API__&&t&&h.mixin(_ee(r,r.__composer,f));const S=h.unmount;h.unmount=()=>{_&&_(),f.dispose(),S()}},get global(){return r},dispose(){o.stop()},__instances:s,__getInstance:a,__setInstance:c,__deleteInstance:d};return f}function cy(e={}){const t=yi();if(t==null)throw Ws(Ps.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Ws(Ps.NOT_INSTALLED);const n=Pee(t),s=Oee(n),o=$I(t),r=Lee(e,o);if(r==="global")return CI(s,e,o),s;if(r==="parent"){let c=Ree(n,t,e.__useComponent);return c==null&&(c=s),c}const i=n;let a=i.__getInstance(t);if(a==null){const c=Hn({},e);"__i18n"in o&&(c.__i18n=o.__i18n),s&&(c.__root=s),a=ay(c),i.__composerExtend&&(a[o0]=i.__composerExtend(a)),Nee(i,t,a),i.__setInstance(t,a)}return a}function Iee(e,t){const n=vh(),s=__VUE_I18N_LEGACY_API__&&t?n.run(()=>r0(e)):n.run(()=>ay(e));if(s==null)throw Ws(Ps.UNEXPECTED_ERROR);return[n,s]}function Pee(e){const t=Vs(e.isCE?Aee:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Ws(e.isCE?Ps.NOT_INSTALLED_WITH_PROVIDE:Ps.UNEXPECTED_ERROR);return t}function Lee(e,t){return np(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function Oee(e){return e.mode==="composition"?e.global:e.global.__composer}function Ree(e,t,n=!1){let s=null;const o=t.root;let r=Mee(t,n);for(;r!=null;){const i=e;if(e.mode==="composition")s=i.__getInstance(r);else if(__VUE_I18N_LEGACY_API__){const a=i.__getInstance(r);a!=null&&(s=a.__composer,n&&s&&!s[kI]&&(s=null))}if(s!=null||o===r)break;r=r.parent}return s}function Mee(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function Nee(e,t,n){Sh(()=>{},t),M0(()=>{const s=n;e.__deleteInstance(t);const o=s[o0];o&&(o(),delete s[o0])},t)}const Fee=["locale","fallbackLocale","availableLocales"],T4=["t","rt","d","n","tm","te"];function Dee(e,t){const n=Object.create(null);return Fee.forEach(o=>{const r=Object.getOwnPropertyDescriptor(t,o);if(!r)throw Ws(Ps.UNEXPECTED_ERROR);const i=wn(r.value)?{get(){return r.value.value},set(a){r.value.value=a}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,o,i)}),e.config.globalProperties.$i18n=n,T4.forEach(o=>{const r=Object.getOwnPropertyDescriptor(t,o);if(!r||!r.value)throw Ws(Ps.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${o}`,r)}),()=>{delete e.config.globalProperties.$i18n,T4.forEach(o=>{delete e.config.globalProperties[`$${o}`]})}}const Uee=Ri({name:"i18n-d",props:Hn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},ly),setup(e,t){const n=e.i18n||cy({useScope:e.scope,__useComponent:!0});return AI(e,t,bI,(...s)=>n[n0](...s))}}),A4=Uee;mee();KQ(EQ);xQ(VQ);YQ(fI);if(__INTLIFY_PROD_DEVTOOLS__){const e=aa();e.__INTLIFY__=!0,IQ(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}var Vc={exports:{}};Vc.exports;var E4;function jee(){return E4||(E4=1,function(e,t){var n=200,s="__lodash_hash_undefined__",o=800,r=16,i=9007199254740991,a="[object Arguments]",c="[object Array]",d="[object AsyncFunction]",f="[object Boolean]",h="[object Date]",v="[object Error]",_="[object Function]",S="[object GeneratorFunction]",k="[object Map]",P="[object Number]",C="[object Null]",$="[object Object]",L="[object Proxy]",T="[object RegExp]",R="[object Set]",q="[object String]",D="[object Undefined]",x="[object WeakMap]",oe="[object ArrayBuffer]",V="[object DataView]",ce="[object Float32Array]",de="[object Float64Array]",Le="[object Int8Array]",Ve="[object Int16Array]",Ge="[object Int32Array]",We="[object Uint8Array]",Be="[object Uint8ClampedArray]",it="[object Uint16Array]",$t="[object Uint32Array]",dt=/[\\^$.*+?()[\]{}|]/g,bt=/^\[object .+?Constructor\]$/,It=/^(?:0|[1-9]\d*)$/,nt={};nt[ce]=nt[de]=nt[Le]=nt[Ve]=nt[Ge]=nt[We]=nt[Be]=nt[it]=nt[$t]=!0,nt[a]=nt[c]=nt[oe]=nt[f]=nt[V]=nt[h]=nt[v]=nt[_]=nt[k]=nt[P]=nt[$]=nt[T]=nt[R]=nt[q]=nt[x]=!1;var yt=typeof cs=="object"&&cs&&cs.Object===Object&&cs,ft=typeof self=="object"&&self&&self.Object===Object&&self,qt=yt||ft||Function("return this")(),ye=t&&!t.nodeType&&t,Me=ye&&!0&&e&&!e.nodeType&&e,Fe=Me&&Me.exports===ye,Ue=Fe&&yt.process,pt=function(){try{var z=Me&&Me.require&&Me.require("util").types;return z||Ue&&Ue.binding&&Ue.binding("util")}catch{}}(),H=pt&&pt.isTypedArray;function W(z,re,ve){switch(ve.length){case 0:return z.call(re);case 1:return z.call(re,ve[0]);case 2:return z.call(re,ve[0],ve[1]);case 3:return z.call(re,ve[0],ve[1],ve[2])}return z.apply(re,ve)}function Q(z,re){for(var ve=-1,tt=Array(z);++ve<z;)tt[ve]=re(ve);return tt}function pe(z){return function(re){return z(re)}}function we(z,re){return z==null?void 0:z[re]}function _e(z,re){return function(ve){return z(re(ve))}}var U=Array.prototype,B=Function.prototype,te=Object.prototype,ue=qt["__core-js_shared__"],je=B.toString,ke=te.hasOwnProperty,se=function(){var z=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""}(),me=te.toString,xe=je.call(Object),rt=RegExp("^"+je.call(ke).replace(dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=Fe?qt.Buffer:void 0,sn=qt.Symbol,Vt=qt.Uint8Array;ut&&ut.allocUnsafe;var Tn=_e(Object.getPrototypeOf,Object),In=Object.create,ws=te.propertyIsEnumerable,Ys=U.splice,an=sn?sn.toStringTag:void 0,Pn=function(){try{var z=Oe(Object,"defineProperty");return z({},"",{}),z}catch{}}(),Xs=ut?ut.isBuffer:void 0,Ui=Math.max,Hl=Date.now,Os=Oe(qt,"Map"),Lo=Oe(Object,"create"),Oa=function(){function z(){}return function(re){if(!sr(re))return{};if(In)return In(re);z.prototype=re;var ve=new z;return z.prototype=void 0,ve}}();function Js(z){var re=-1,ve=z==null?0:z.length;for(this.clear();++re<ve;){var tt=z[re];this.set(tt[0],tt[1])}}function Vl(){this.__data__=Lo?Lo(null):{},this.size=0}function Wl(z){var re=this.has(z)&&delete this.__data__[z];return this.size-=re?1:0,re}function Gl(z){var re=this.__data__;if(Lo){var ve=re[z];return ve===s?void 0:ve}return ke.call(re,z)?re[z]:void 0}function Ra(z){var re=this.__data__;return Lo?re[z]!==void 0:ke.call(re,z)}function Kl(z,re){var ve=this.__data__;return this.size+=this.has(z)?0:1,ve[z]=Lo&&re===void 0?s:re,this}Js.prototype.clear=Vl,Js.prototype.delete=Wl,Js.prototype.get=Gl,Js.prototype.has=Ra,Js.prototype.set=Kl;function Rs(z){var re=-1,ve=z==null?0:z.length;for(this.clear();++re<ve;){var tt=z[re];this.set(tt[0],tt[1])}}function xl(){this.__data__=[],this.size=0}function ji(z){var re=this.__data__,ve=Qo(re,z);if(ve<0)return!1;var tt=re.length-1;return ve==tt?re.pop():Ys.call(re,ve,1),--this.size,!0}function Yl(z){var re=this.__data__,ve=Qo(re,z);return ve<0?void 0:re[ve][1]}function Bi(z){return Qo(this.__data__,z)>-1}function Ma(z,re){var ve=this.__data__,tt=Qo(ve,z);return tt<0?(++this.size,ve.push([z,re])):ve[tt][1]=re,this}Rs.prototype.clear=xl,Rs.prototype.delete=ji,Rs.prototype.get=Yl,Rs.prototype.has=Bi,Rs.prototype.set=Ma;function Oo(z){var re=-1,ve=z==null?0:z.length;for(this.clear();++re<ve;){var tt=z[re];this.set(tt[0],tt[1])}}function Xl(){this.size=0,this.__data__={hash:new Js,map:new(Os||Rs),string:new Js}}function Jl(z){var re=Ie(this,z).delete(z);return this.size-=re?1:0,re}function Zl(z){return Ie(this,z).get(z)}function Ql(z){return Ie(this,z).has(z)}function ec(z,re){var ve=Ie(this,z),tt=ve.size;return ve.set(z,re),this.size+=ve.size==tt?0:1,this}Oo.prototype.clear=Xl,Oo.prototype.delete=Jl,Oo.prototype.get=Zl,Oo.prototype.has=Ql,Oo.prototype.set=ec;function Ro(z){var re=this.__data__=new Rs(z);this.size=re.size}function Na(){this.__data__=new Rs,this.size=0}function tc(z){var re=this.__data__,ve=re.delete(z);return this.size=re.size,ve}function nc(z){return this.__data__.get(z)}function sc(z){return this.__data__.has(z)}function oc(z,re){var ve=this.__data__;if(ve instanceof Rs){var tt=ve.__data__;if(!Os||tt.length<n-1)return tt.push([z,re]),this.size=++ve.size,this;ve=this.__data__=new Oo(tt)}return ve.set(z,re),this.size=ve.size,this}Ro.prototype.clear=Na,Ro.prototype.delete=tc,Ro.prototype.get=nc,Ro.prototype.has=sc,Ro.prototype.set=oc;function rc(z,re){var ve=Vr(z),tt=!ve&&Hi(z),Dt=!ve&&!tt&&Qu(z),xt=!ve&&!tt&&!Dt&&td(z),pn=ve||tt||Dt||xt,_t=pn?Q(z.length,String):[],on=_t.length;for(var Fn in z)pn&&(Fn=="length"||Dt&&(Fn=="offset"||Fn=="parent")||xt&&(Fn=="buffer"||Fn=="byteLength"||Fn=="byteOffset")||Xe(Fn,on))||_t.push(Fn);return _t}function zi(z,re,ve){(ve!==void 0&&!nr(z[re],ve)||ve===void 0&&!(re in z))&&Ss(z,re,ve)}function zr(z,re,ve){var tt=z[re];(!(ke.call(z,re)&&nr(tt,ve))||ve===void 0&&!(re in z))&&Ss(z,re,ve)}function Qo(z,re){for(var ve=z.length;ve--;)if(nr(z[ve][0],re))return ve;return-1}function Ss(z,re,ve){re=="__proto__"&&Pn?Pn(z,re,{configurable:!0,enumerable:!0,value:ve,writable:!0}):z[re]=ve}var Fa=Ce();function Ms(z){return z==null?z===void 0?D:C:an&&an in Object(z)?Re(z):Xn(z)}function Da(z){return or(z)&&Ms(z)==a}function er(z){if(!sr(z)||Bt(z))return!1;var re=uc(z)?rt:bt;return re.test(lc(z))}function qr(z){return or(z)&&ed(z.length)&&!!nt[Ms(z)]}function Ua(z){if(!sr(z))return Kt(z);var re=ln(z),ve=[];for(var tt in z)tt=="constructor"&&(re||!ke.call(z,tt))||ve.push(tt);return ve}function ja(z,re,ve,tt,Dt){z!==re&&Fa(re,function(xt,pn){if(Dt||(Dt=new Ro),sr(xt))qi(z,re,pn,ve,ja,tt,Dt);else{var _t=tt?tt(tr(z,pn),xt,pn+"",z,re,Dt):void 0;_t===void 0&&(_t=xt),zi(z,pn,_t)}},nd)}function qi(z,re,ve,tt,Dt,xt,pn){var _t=tr(z,ve),on=tr(re,ve),Fn=pn.get(on);if(Fn){zi(z,ve,Fn);return}var ts=xt?xt(_t,on,ve+"",z,re,pn):void 0,rr=ts===void 0;if(rr){var ns=Vr(on),za=!ns&&Qu(on),dc=!ns&&!za&&td(on);ts=on,ns||za||dc?Vr(_t)?ts=_t:Zu(_t)?ts=ne(_t):za?(rr=!1,ts=N(on)):dc?(rr=!1,ts=j(on)):ts=[]:vp(on)||Hi(on)?(ts=_t,Hi(_t)?ts=bp(_t):(!sr(_t)||uc(_t))&&(ts=De(on))):rr=!1}rr&&(pn.set(on,ts),Dt(ts,on,tt,xt,pn),pn.delete(on)),zi(z,ve,ts)}function ic(z,re){return Ba(Mo(z,re,Qt),z+"")}var ac=Pn?function(z,re){return Pn(z,"toString",{configurable:!0,enumerable:!1,value:cn(re),writable:!0})}:Qt;function N(z,re){return z.slice()}function Y(z){var re=new z.constructor(z.byteLength);return new Vt(re).set(new Vt(z)),re}function j(z,re){var ve=Y(z.buffer);return new z.constructor(ve,z.byteOffset,z.length)}function ne(z,re){var ve=-1,tt=z.length;for(re||(re=Array(tt));++ve<tt;)re[ve]=z[ve];return re}function ae(z,re,ve,tt){var Dt=!ve;ve||(ve={});for(var xt=-1,pn=re.length;++xt<pn;){var _t=re[xt],on=void 0;on===void 0&&(on=z[_t]),Dt?Ss(ve,_t,on):zr(ve,_t,on)}return ve}function ee(z){return ic(function(re,ve){var tt=-1,Dt=ve.length,xt=Dt>1?ve[Dt-1]:void 0,pn=Dt>2?ve[2]:void 0;for(xt=z.length>3&&typeof xt=="function"?(Dt--,xt):void 0,pn&&Ct(ve[0],ve[1],pn)&&(xt=Dt<3?void 0:xt,Dt=1),re=Object(re);++tt<Dt;){var _t=ve[tt];_t&&z(re,_t,tt,xt)}return re})}function Ce(z){return function(re,ve,tt){for(var Dt=-1,xt=Object(re),pn=tt(re),_t=pn.length;_t--;){var on=pn[++Dt];if(ve(xt[on],on,xt)===!1)break}return re}}function Ie(z,re){var ve=z.__data__;return jt(re)?ve[typeof re=="string"?"string":"hash"]:ve.map}function Oe(z,re){var ve=we(z,re);return er(ve)?ve:void 0}function Re(z){var re=ke.call(z,an),ve=z[an];try{z[an]=void 0;var tt=!0}catch{}var Dt=me.call(z);return tt&&(re?z[an]=ve:delete z[an]),Dt}function De(z){return typeof z.constructor=="function"&&!ln(z)?Oa(Tn(z)):{}}function Xe(z,re){var ve=typeof z;return re=re??i,!!re&&(ve=="number"||ve!="symbol"&&It.test(z))&&z>-1&&z%1==0&&z<re}function Ct(z,re,ve){if(!sr(ve))return!1;var tt=typeof re;return(tt=="number"?cc(ve)&&Xe(re,ve.length):tt=="string"&&re in ve)?nr(ve[re],z):!1}function jt(z){var re=typeof z;return re=="string"||re=="number"||re=="symbol"||re=="boolean"?z!=="__proto__":z===null}function Bt(z){return!!se&&se in z}function ln(z){var re=z&&z.constructor,ve=typeof re=="function"&&re.prototype||te;return z===ve}function Kt(z){var re=[];if(z!=null)for(var ve in Object(z))re.push(ve);return re}function Xn(z){return me.call(z)}function Mo(z,re,ve){return re=Ui(re===void 0?z.length-1:re,0),function(){for(var tt=arguments,Dt=-1,xt=Ui(tt.length-re,0),pn=Array(xt);++Dt<xt;)pn[Dt]=tt[re+Dt];Dt=-1;for(var _t=Array(re+1);++Dt<re;)_t[Dt]=tt[Dt];return _t[re]=ve(pn),W(z,this,_t)}}function tr(z,re){if(!(re==="constructor"&&typeof z[re]=="function")&&re!="__proto__")return z[re]}var Ba=Hr(ac);function Hr(z){var re=0,ve=0;return function(){var tt=Hl(),Dt=r-(tt-ve);if(ve=tt,Dt>0){if(++re>=o)return arguments[0]}else re=0;return z.apply(void 0,arguments)}}function lc(z){if(z!=null){try{return je.call(z)}catch{}try{return z+""}catch{}}return""}function nr(z,re){return z===re||z!==z&&re!==re}var Hi=Da(function(){return arguments}())?Da:function(z){return or(z)&&ke.call(z,"callee")&&!ws.call(z,"callee")},Vr=Array.isArray;function cc(z){return z!=null&&ed(z.length)&&!uc(z)}function Zu(z){return or(z)&&cc(z)}var Qu=Xs||yp;function uc(z){if(!sr(z))return!1;var re=Ms(z);return re==_||re==S||re==d||re==L}function ed(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=i}function sr(z){var re=typeof z;return z!=null&&(re=="object"||re=="function")}function or(z){return z!=null&&typeof z=="object"}function vp(z){if(!or(z)||Ms(z)!=$)return!1;var re=Tn(z);if(re===null)return!0;var ve=ke.call(re,"constructor")&&re.constructor;return typeof ve=="function"&&ve instanceof ve&&je.call(ve)==xe}var td=H?pe(H):qr;function bp(z){return ae(z,nd(z))}function nd(z){return cc(z)?rc(z):Ua(z)}var _p=ee(function(z,re,ve){ja(z,re,ve)});function cn(z){return function(){return z}}function Qt(z){return z}function yp(){return!1}e.exports=_p}(Vc,Vc.exports)),Vc.exports}var Bee=jee();const zee=Gs(Bee);let Cv=!1;const EI=(e,t)=>t.length===0?e:t.reduce((n,s)=>(Z.set(n,s,Z.get(e,s)),n),{}),qee=["markNotificationsAsSeen","clearCurrentUser","setCurrentUser","setHighlight","setOption","setClientData","setToken","clearToken"],II=tp;function Hee({key:e="vuex-lz",paths:t=[],getState:n=(a,c)=>c.getItem(a),setState:s=(a,c,d)=>Cv?d.setItem(a,c):(console.info("waiting for old state to be loaded..."),Promise.resolve()),reducer:o=EI,storage:r=II,subscriber:i=a=>c=>a.subscribe(c)}={}){return n(e,r).then(a=>c=>{try{if(a!==null&&typeof a=="object"){const d=a.users||{};d.usersObject={};const f=d.users||[];Z.each(f,h=>{d.usersObject[h.id]=h}),a.users=d,c.replaceState(zee({},c.state,a))}Cv=!0}catch(d){console.error("Couldn't load state"),console.error(d),Cv=!0}i(c)((d,f)=>{try{qee.includes(d.type)&&s(e,o(Z.cloneDeep(f),t),r).then(h=>{typeof h<"u"&&(d.type==="setOption"||d.type==="setCurrentUser")&&Qe().settingsSaved({success:h})},h=>{(d.type==="setOption"||d.type==="setCurrentUser")&&Qe().settingsSaved({error:h})})}catch(h){console.error("Couldn't persist state:"),console.error(h)}})})}const Vee=({vuexKey:e="vuex-lz",keyFunction:t=o=>`pinia-local-${o}`,storage:n=II,reducer:s=EI}={})=>({store:o,options:r})=>{if(!r.persist)return{$persistLoaded:Promise.resolve()};let i,a;const c=new Promise((T,R)=>{i=T,a=R}),{afterLoad:d,paths:f=[],saveImmediatelyActions:h,onSaveSuccess:v=()=>{},onSaveError:_=()=>{}}=r.persist||{},S={loaded:!1},k=t(o.$id),P=async()=>{const T=o.$id,R=await n.getItem(k);if(R)return R;const q=await n.getItem(e);if(q&&q[T]){console.info(`Migrating ${T} store data from vuex to pinia`);const D=q[T];return await n.setItem(k,D),D}return{}},C=T=>S.loaded?n.setItem(k,T):(console.info("waiting for old state to be loaded..."),Promise.reject()),$=async()=>{const T=await P();if(typeof d=="function")try{return await d(T)}catch(R){return console.error("Error running afterLoad:",R),T}else return T},L=async T=>{const R=Z.cloneDeep(T),q=s(R,f);try{const D=await C(q);v(D)}catch(D){console.error("Cannot persist state:",D),_(D)}};return $().then(T=>{T&&o.$patch(T),S.loaded=!0,i(),h?o.$onAction(({name:R,store:q,after:D})=>{h.includes(R)&&D(()=>L(q.$state))}):o.$subscribe(async(R,q)=>{await L(q)})},T=>{console.error("Cannot load storage:",T),a(T)}),{$persistLoaded:c}},Wee=e=>{e.subscribe((t,n)=>{const s=n.instance.vapidPublicKey,o=n.config.webPushNotifications,r=Qe().notificationPermission==="granted",i=n.users.currentUser,a=t.type==="setCurrentUser",c=t.type==="setInstanceOption"&&t.payload.name==="vapidPublicKey",d=t.type==="setNotificationPermission"&&t.payload==="granted",f=t.type==="setOption"&&t.payload.name==="webPushNotifications",h=t.type==="setOption"&&t.payload.name==="notificationVisibility";if(a||c||d||f||h){if(i&&s&&r&&o)return e.dispatch("registerPushNotifications");if(f&&!o)return e.dispatch("unregisterPushNotifications")}})},iu=ys("editStatus",{state:()=>({params:null,modalActivated:!1}),actions:{openEditStatusModal(e){this.params=e,this.modalActivated=!0},closeEditStatusModal(){this.modalActivated=!1}}}),Gee=Object.freeze(Object.defineProperty({__proto__:null,useEditStatusStore:iu},Symbol.toStringTag,{value:"Module"})),PI=e=>e.match(/flash/)?"flash":e.match(/text\/html/)?"html":e.match(/image/)?"image":e.match(/video/)?"video":e.match(/audio/)?"audio":"unknown",Kee=e=>e.match(/\.(a?png|jpe?g|gif|webp|avif)$/)?"image":e.match(/\.(ogv|mp4|webm|mov)$/)?"video":e.match(/\.(it|s3m|mod|umx|mp3|aac|m4a|flac|alac|ogg|oga|opus|wav|ape|midi?)$/)?"audio":"unknown",xee=(e,t)=>e.some(n=>PI(t.mimetype)===n),wa={fileType:PI,fileTypeExt:Kee,fileMatchesSomeType:xee},Yee=new Set(["image","video","audio","flash"]),as=ys("mediaViewer",{state:()=>({media:[],currentIndex:0,activated:!1}),actions:{setMedia(e){const t=e.filter(n=>{const s=wa.fileType(n.mimetype);return Yee.has(s)});this.media=t},setCurrentMedia(e){const t=this.media.indexOf(e);this.activated=!0,this.currentIndex=t},closeMediaViewer(){this.activated=!1}}}),Xee=Object.freeze(Object.defineProperty({__proto__:null,useMediaViewerStore:as},Symbol.toStringTag,{value:"Module"})),Jee=ys("oauthTokens",{state:()=>({tokens:[]}),actions:{fetchTokens(){window.vuex.state.api.backendInteractor.fetchOAuthTokens().then(e=>{this.swapTokens(e)})},revokeToken(e){window.vuex.state.api.backendInteractor.revokeOAuthToken({id:e}).then(t=>{t.status===201&&this.swapTokens(this.tokens.filter(n=>n.id!==e))})},swapTokens(e){this.tokens=e}}}),Zee=Object.freeze(Object.defineProperty({__proto__:null,useOAuthTokensStore:Jee},Symbol.toStringTag,{value:"Module"})),oa=ys("polls",{state:()=>({trackedPolls:{},pollsObject:{}}),actions:{mergeOrAddPoll(e){const t=this.pollsObject[e.id];e.expired=Date.now()>Date.parse(e.expires_at),t?this.pollsObject[e.id]=Z.merge(t,e):this.pollsObject[e.id]=e},updateTrackedPoll(e){window.vuex.state.api.backendInteractor.fetchPoll({pollId:e}).then(t=>{setTimeout(()=>{this.trackedPolls[e]&&this.updateTrackedPoll(e)},30*1e3),this.mergeOrAddPoll(t)})},trackPoll(e){this.trackedPolls[e]||setTimeout(()=>this.updateTrackedPoll(e),30*1e3);const t=this.trackedPolls[e];t?this.trackedPolls[e]=t+1:this.trackedPolls[e]=1},untrackPoll(e){const t=this.trackedPolls[e];t?this.trackedPolls[e]=t-1:this.trackedPolls[e]=0},votePoll({pollId:e,choices:t}){return window.vuex.state.api.backendInteractor.vote({pollId:e,choices:t}).then(n=>(this.mergeOrAddPoll(n),n))}}}),Qee=Object.freeze(Object.defineProperty({__proto__:null,usePollsStore:oa},Symbol.toStringTag,{value:"Module"})),hi=ys("postStatus",{state:()=>({params:null,modalActivated:!1}),actions:{openPostStatusModal(e){this.params=e,this.modalActivated=!0},closePostStatusModal(){this.modalActivated=!1},resetPostStatusModal(){this.params=null}}}),ete=Object.freeze(Object.defineProperty({__proto__:null,usePostStatusStore:hi},Symbol.toStringTag,{value:"Module"})),au=ys("statusHistory",{state:()=>({params:{},modalActivated:!1}),actions:{openStatusHistoryModal(e){this.params=e,this.modalActivated=!0},closeStatusHistoryModal(){this.modalActivated=!1}}}),tte=Object.freeze(Object.defineProperty({__proto__:null,useStatusHistoryStore:au},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ul=typeof document<"u";function LI(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function nte(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&LI(e.default)}const Xt=Object.assign;function Tv(e,t){const n={};for(const s in t){const o=t[s];n[s]=Eo(o)?o.map(e):e(o)}return n}const lu=()=>{},Eo=Array.isArray,OI=/#/g,ste=/&/g,ote=/\//g,rte=/=/g,ite=/\?/g,RI=/\+/g,ate=/%5B/g,lte=/%5D/g,MI=/%5E/g,cte=/%60/g,NI=/%7B/g,ute=/%7C/g,FI=/%7D/g,dte=/%20/g;function uy(e){return encodeURI(""+e).replace(ute,"|").replace(ate,"[").replace(lte,"]")}function fte(e){return uy(e).replace(NI,"{").replace(FI,"}").replace(MI,"^")}function i0(e){return uy(e).replace(RI,"%2B").replace(dte,"+").replace(OI,"%23").replace(ste,"%26").replace(cte,"`").replace(NI,"{").replace(FI,"}").replace(MI,"^")}function hte(e){return i0(e).replace(rte,"%3D")}function pte(e){return uy(e).replace(OI,"%23").replace(ite,"%3F")}function mte(e){return e==null?"":pte(e).replace(ote,"%2F")}function Cu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const gte=/\/$/,vte=e=>e.replace(gte,"");function Av(e,t,n="/"){let s,o={},r="",i="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=t.slice(0,c),r=t.slice(c+1,a>-1?a:t.length),o=e(r)),a>-1&&(s=s||t.slice(0,a),i=t.slice(a,t.length)),s=wte(s??t,n),{fullPath:s+(r&&"?")+r+i,path:s,query:o,hash:Cu(i)}}function bte(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function I4(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function _te(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&Ll(t.matched[s],n.matched[o])&&DI(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ll(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function DI(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!yte(e[n],t[n]))return!1;return!0}function yte(e,t){return Eo(e)?P4(e,t):Eo(t)?P4(t,e):e===t}function P4(e,t){return Eo(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function wte(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let r=n.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i).join("/")}const si={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Tu;(function(e){e.pop="pop",e.push="push"})(Tu||(Tu={}));var cu;(function(e){e.back="back",e.forward="forward",e.unknown=""})(cu||(cu={}));function Ste(e){if(!e)if(ul){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),vte(e)}const kte=/^[^#]+#/;function $te(e,t){return e.replace(kte,"#")+t}function Cte(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const rp=()=>({left:window.scrollX,top:window.scrollY});function Tte(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Cte(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function L4(e,t){return(history.state?history.state.position-t:-1)+e}const a0=new Map;function Ate(e,t){a0.set(e,t)}function Ete(e){const t=a0.get(e);return a0.delete(e),t}let Ite=()=>location.protocol+"//"+location.host;function UI(e,t){const{pathname:n,search:s,hash:o}=t,r=e.indexOf("#");if(r>-1){let a=o.includes(e.slice(r))?e.slice(r).length:1,c=o.slice(a);return c[0]!=="/"&&(c="/"+c),I4(c,"")}return I4(n,e)+s+o}function Pte(e,t,n,s){let o=[],r=[],i=null;const a=({state:v})=>{const _=UI(e,location),S=n.value,k=t.value;let P=0;if(v){if(n.value=_,t.value=v,i&&i===S){i=null;return}P=k?v.position-k.position:0}else s(_);o.forEach(C=>{C(n.value,S,{delta:P,type:Tu.pop,direction:P?P>0?cu.forward:cu.back:cu.unknown})})};function c(){i=n.value}function d(v){o.push(v);const _=()=>{const S=o.indexOf(v);S>-1&&o.splice(S,1)};return r.push(_),_}function f(){const{history:v}=window;v.state&&v.replaceState(Xt({},v.state,{scroll:rp()}),"")}function h(){for(const v of r)v();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:c,listen:d,destroy:h}}function O4(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?rp():null}}function Lte(e){const{history:t,location:n}=window,s={value:UI(e,n)},o={value:t.state};o.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,d,f){const h=e.indexOf("#"),v=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+c:Ite()+e+c;try{t[f?"replaceState":"pushState"](d,"",v),o.value=d}catch(_){console.error(_),n[f?"replace":"assign"](v)}}function i(c,d){const f=Xt({},t.state,O4(o.value.back,c,o.value.forward,!0),d,{position:o.value.position});r(c,f,!0),s.value=c}function a(c,d){const f=Xt({},o.value,t.state,{forward:c,scroll:rp()});r(f.current,f,!0);const h=Xt({},O4(s.value,c,null),{position:f.position+1},d);r(c,h,!1),s.value=c}return{location:s,state:o,push:a,replace:i}}function Ote(e){e=Ste(e);const t=Lte(e),n=Pte(e,t.state,t.location,t.replace);function s(r,i=!0){i||n.pauseListeners(),history.go(r)}const o=Xt({location:"",base:e,go:s,createHref:$te.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Rte(e){return typeof e=="string"||e&&typeof e=="object"}function jI(e){return typeof e=="string"||typeof e=="symbol"}const BI=Symbol("");var R4;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(R4||(R4={}));function Ol(e,t){return Xt(new Error,{type:e,[BI]:!0},t)}function br(e,t){return e instanceof Error&&BI in e&&(t==null||!!(e.type&t))}const M4="[^/]+?",Mte={sensitive:!1,strict:!1,start:!0,end:!0},Nte=/[.+*?^${}()[\]/\\]/g;function Fte(e,t){const n=Xt({},Mte,t),s=[];let o=n.start?"^":"";const r=[];for(const d of e){const f=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let h=0;h<d.length;h++){const v=d[h];let _=40+(n.sensitive?.25:0);if(v.type===0)h||(o+="/"),o+=v.value.replace(Nte,"\\$&"),_+=40;else if(v.type===1){const{value:S,repeatable:k,optional:P,regexp:C}=v;r.push({name:S,repeatable:k,optional:P});const $=C||M4;if($!==M4){_+=10;try{new RegExp(`(${$})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${S}" (${$}): `+T.message)}}let L=k?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;h||(L=P&&d.length<2?`(?:/${L})`:"/"+L),P&&(L+="?"),o+=L,_+=20,P&&(_+=-8),k&&(_+=-20),$===".*"&&(_+=-50)}f.push(_)}s.push(f)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const i=new RegExp(o,n.sensitive?"":"i");function a(d){const f=d.match(i),h={};if(!f)return null;for(let v=1;v<f.length;v++){const _=f[v]||"",S=r[v-1];h[S.name]=_&&S.repeatable?_.split("/"):_}return h}function c(d){let f="",h=!1;for(const v of e){(!h||!f.endsWith("/"))&&(f+="/"),h=!1;for(const _ of v)if(_.type===0)f+=_.value;else if(_.type===1){const{value:S,repeatable:k,optional:P}=_,C=S in d?d[S]:"";if(Eo(C)&&!k)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const $=Eo(C)?C.join("/"):C;if(!$)if(P)v.length<2&&(f.endsWith("/")?f=f.slice(0,-1):h=!0);else throw new Error(`Missing required param "${S}"`);f+=$}}return f||"/"}return{re:i,score:s,keys:r,parse:a,stringify:c}}function Dte(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function zI(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const r=Dte(s[n],o[n]);if(r)return r;n++}if(Math.abs(o.length-s.length)===1){if(N4(s))return 1;if(N4(o))return-1}return o.length-s.length}function N4(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ute={type:0,value:""},jte=/[a-zA-Z0-9_]/;function Bte(e){if(!e)return[[]];if(e==="/")return[[Ute]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${n})/"${d}": ${_}`)}let n=0,s=n;const o=[];let r;function i(){r&&o.push(r),r=[]}let a=0,c,d="",f="";function h(){d&&(n===0?r.push({type:0,value:d}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:d,regexp:f,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function v(){d+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(d&&h(),i()):c===":"?(h(),n=1):v();break;case 4:v(),n=s;break;case 1:c==="("?n=2:jte.test(c)?v():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+c:n=3:f+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),h(),i(),o}function zte(e,t,n){const s=Fte(Bte(e.path),n),o=Xt(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function qte(e,t){const n=[],s=new Map;t=j4({strict:!1,end:!0,sensitive:!1},t);function o(h){return s.get(h)}function r(h,v,_){const S=!_,k=D4(h);k.aliasOf=_&&_.record;const P=j4(t,h),C=[k];if("alias"in h){const T=typeof h.alias=="string"?[h.alias]:h.alias;for(const R of T)C.push(D4(Xt({},k,{components:_?_.record.components:k.components,path:R,aliasOf:_?_.record:k})))}let $,L;for(const T of C){const{path:R}=T;if(v&&R[0]!=="/"){const q=v.record.path,D=q[q.length-1]==="/"?"":"/";T.path=v.record.path+(R&&D+R)}if($=zte(T,v,P),_?_.alias.push($):(L=L||$,L!==$&&L.alias.push($),S&&h.name&&!U4($)&&i(h.name)),qI($)&&c($),k.children){const q=k.children;for(let D=0;D<q.length;D++)r(q[D],$,_&&_.children[D])}_=_||$}return L?()=>{i(L)}:lu}function i(h){if(jI(h)){const v=s.get(h);v&&(s.delete(h),n.splice(n.indexOf(v),1),v.children.forEach(i),v.alias.forEach(i))}else{const v=n.indexOf(h);v>-1&&(n.splice(v,1),h.record.name&&s.delete(h.record.name),h.children.forEach(i),h.alias.forEach(i))}}function a(){return n}function c(h){const v=Wte(h,n);n.splice(v,0,h),h.record.name&&!U4(h)&&s.set(h.record.name,h)}function d(h,v){let _,S={},k,P;if("name"in h&&h.name){if(_=s.get(h.name),!_)throw Ol(1,{location:h});P=_.record.name,S=Xt(F4(v.params,_.keys.filter(L=>!L.optional).concat(_.parent?_.parent.keys.filter(L=>L.optional):[]).map(L=>L.name)),h.params&&F4(h.params,_.keys.map(L=>L.name))),k=_.stringify(S)}else if(h.path!=null)k=h.path,_=n.find(L=>L.re.test(k)),_&&(S=_.parse(k),P=_.record.name);else{if(_=v.name?s.get(v.name):n.find(L=>L.re.test(v.path)),!_)throw Ol(1,{location:h,currentLocation:v});P=_.record.name,S=Xt({},v.params,h.params),k=_.stringify(S)}const C=[];let $=_;for(;$;)C.unshift($.record),$=$.parent;return{name:P,path:k,params:S,matched:C,meta:Vte(C)}}e.forEach(h=>r(h));function f(){n.length=0,s.clear()}return{addRoute:r,resolve:d,removeRoute:i,clearRoutes:f,getRoutes:a,getRecordMatcher:o}}function F4(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function D4(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Hte(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Hte(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function U4(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Vte(e){return e.reduce((t,n)=>Xt(t,n.meta),{})}function j4(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Wte(e,t){let n=0,s=t.length;for(;n!==s;){const r=n+s>>1;zI(e,t[r])<0?s=r:n=r+1}const o=Gte(e);return o&&(s=t.lastIndexOf(o,s-1)),s}function Gte(e){let t=e;for(;t=t.parent;)if(qI(t)&&zI(e,t)===0)return t}function qI({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Kte(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const r=s[o].replace(RI," "),i=r.indexOf("="),a=Cu(i<0?r:r.slice(0,i)),c=i<0?null:Cu(r.slice(i+1));if(a in t){let d=t[a];Eo(d)||(d=t[a]=[d]),d.push(c)}else t[a]=c}return t}function B4(e){let t="";for(let n in e){const s=e[n];if(n=hte(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Eo(s)?s.map(r=>r&&i0(r)):[s&&i0(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function xte(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Eo(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const Yte=Symbol(""),z4=Symbol(""),dy=Symbol(""),HI=Symbol(""),l0=Symbol("");function Oc(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function ci(e,t,n,s,o,r=i=>i()){const i=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((a,c)=>{const d=v=>{v===!1?c(Ol(4,{from:n,to:t})):v instanceof Error?c(v):Rte(v)?c(Ol(2,{from:t,to:v})):(i&&s.enterCallbacks[o]===i&&typeof v=="function"&&i.push(v),a())},f=r(()=>e.call(s&&s.instances[o],t,n,d));let h=Promise.resolve(f);e.length<3&&(h=h.then(d)),h.catch(v=>c(v))})}function Ev(e,t,n,s,o=r=>r()){const r=[];for(const i of e)for(const a in i.components){let c=i.components[a];if(!(t!=="beforeRouteEnter"&&!i.instances[a]))if(LI(c)){const f=(c.__vccOpts||c)[t];f&&r.push(ci(f,n,s,i,a,o))}else{let d=c();r.push(()=>d.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const h=nte(f)?f.default:f;i.mods[a]=f,i.components[a]=h;const _=(h.__vccOpts||h)[t];return _&&ci(_,n,s,i,a,o)()}))}}return r}function q4(e){const t=Vs(dy),n=Vs(HI),s=vt(()=>{const c=Lt(e.to);return t.resolve(c)}),o=vt(()=>{const{matched:c}=s.value,{length:d}=c,f=c[d-1],h=n.matched;if(!f||!h.length)return-1;const v=h.findIndex(Ll.bind(null,f));if(v>-1)return v;const _=H4(c[d-2]);return d>1&&H4(f)===_&&h[h.length-1].path!==_?h.findIndex(Ll.bind(null,c[d-2])):v}),r=vt(()=>o.value>-1&&ene(n.params,s.value.params)),i=vt(()=>o.value>-1&&o.value===n.matched.length-1&&DI(n.params,s.value.params));function a(c={}){if(Qte(c)){const d=t[Lt(e.replace)?"replace":"push"](Lt(e.to)).catch(lu);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:s,href:vt(()=>s.value.href),isActive:r,isExactActive:i,navigate:a}}function Xte(e){return e.length===1?e[0]:e}const Jte=Ri({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:q4,setup(e,{slots:t}){const n=To(q4(e)),{options:s}=Vs(dy),o=vt(()=>({[V4(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[V4(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&Xte(t.default(n));return e.custom?r:Dr("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),Zte=Jte;function Qte(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ene(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!Eo(o)||o.length!==s.length||s.some((r,i)=>r!==o[i]))return!1}return!0}function H4(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const V4=(e,t,n)=>e??t??n,tne=Ri({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Vs(l0),o=vt(()=>e.route||s.value),r=Vs(z4,0),i=vt(()=>{let d=Lt(r);const{matched:f}=o.value;let h;for(;(h=f[d])&&!h.components;)d++;return d}),a=vt(()=>o.value.matched[i.value]);gl(z4,vt(()=>i.value+1)),gl(Yte,a),gl(l0,o);const c=Gn();return Qn(()=>[c.value,a.value,e.name],([d,f,h],[v,_,S])=>{f&&(f.instances[h]=d,_&&_!==f&&d&&d===v&&(f.leaveGuards.size||(f.leaveGuards=_.leaveGuards),f.updateGuards.size||(f.updateGuards=_.updateGuards))),d&&f&&(!_||!Ll(f,_)||!v)&&(f.enterCallbacks[h]||[]).forEach(k=>k(d))},{flush:"post"}),()=>{const d=o.value,f=e.name,h=a.value,v=h&&h.components[f];if(!v)return W4(n.default,{Component:v,route:d});const _=h.props[f],S=_?_===!0?d.params:typeof _=="function"?_(d):_:null,P=Dr(v,Xt({},S,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(h.instances[f]=null)},ref:c}));return W4(n.default,{Component:P,route:d})||P}}});function W4(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const nne=tne;function sne(e){const t=qte(e.routes,e),n=e.parseQuery||Kte,s=e.stringifyQuery||B4,o=e.history,r=Oc(),i=Oc(),a=Oc(),c=bT(si);let d=si;ul&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Tv.bind(null,ye=>""+ye),h=Tv.bind(null,mte),v=Tv.bind(null,Cu);function _(ye,Me){let Fe,Ue;return jI(ye)?(Fe=t.getRecordMatcher(ye),Ue=Me):Ue=ye,t.addRoute(Ue,Fe)}function S(ye){const Me=t.getRecordMatcher(ye);Me&&t.removeRoute(Me)}function k(){return t.getRoutes().map(ye=>ye.record)}function P(ye){return!!t.getRecordMatcher(ye)}function C(ye,Me){if(Me=Xt({},Me||c.value),typeof ye=="string"){const Q=Av(n,ye,Me.path),pe=t.resolve({path:Q.path},Me),we=o.createHref(Q.fullPath);return Xt(Q,pe,{params:v(pe.params),hash:Cu(Q.hash),redirectedFrom:void 0,href:we})}let Fe;if(ye.path!=null)Fe=Xt({},ye,{path:Av(n,ye.path,Me.path).path});else{const Q=Xt({},ye.params);for(const pe in Q)Q[pe]==null&&delete Q[pe];Fe=Xt({},ye,{params:h(Q)}),Me.params=h(Me.params)}const Ue=t.resolve(Fe,Me),pt=ye.hash||"";Ue.params=f(v(Ue.params));const H=bte(s,Xt({},ye,{hash:fte(pt),path:Ue.path})),W=o.createHref(H);return Xt({fullPath:H,hash:pt,query:s===B4?xte(ye.query):ye.query||{}},Ue,{redirectedFrom:void 0,href:W})}function $(ye){return typeof ye=="string"?Av(n,ye,c.value.path):Xt({},ye)}function L(ye,Me){if(d!==ye)return Ol(8,{from:Me,to:ye})}function T(ye){return D(ye)}function R(ye){return T(Xt($(ye),{replace:!0}))}function q(ye){const Me=ye.matched[ye.matched.length-1];if(Me&&Me.redirect){const{redirect:Fe}=Me;let Ue=typeof Fe=="function"?Fe(ye):Fe;return typeof Ue=="string"&&(Ue=Ue.includes("?")||Ue.includes("#")?Ue=$(Ue):{path:Ue},Ue.params={}),Xt({query:ye.query,hash:ye.hash,params:Ue.path!=null?{}:ye.params},Ue)}}function D(ye,Me){const Fe=d=C(ye),Ue=c.value,pt=ye.state,H=ye.force,W=ye.replace===!0,Q=q(Fe);if(Q)return D(Xt($(Q),{state:typeof Q=="object"?Xt({},pt,Q.state):pt,force:H,replace:W}),Me||Fe);const pe=Fe;pe.redirectedFrom=Me;let we;return!H&&_te(s,Ue,Fe)&&(we=Ol(16,{to:pe,from:Ue}),bt(Ue,Ue,!0,!1)),(we?Promise.resolve(we):V(pe,Ue)).catch(_e=>br(_e)?br(_e,2)?_e:dt(_e):it(_e,pe,Ue)).then(_e=>{if(_e){if(br(_e,2))return D(Xt({replace:W},$(_e.to),{state:typeof _e.to=="object"?Xt({},pt,_e.to.state):pt,force:H}),Me||pe)}else _e=de(pe,Ue,!0,W,pt);return ce(pe,Ue,_e),_e})}function x(ye,Me){const Fe=L(ye,Me);return Fe?Promise.reject(Fe):Promise.resolve()}function oe(ye){const Me=yt.values().next().value;return Me&&typeof Me.runWithContext=="function"?Me.runWithContext(ye):ye()}function V(ye,Me){let Fe;const[Ue,pt,H]=one(ye,Me);Fe=Ev(Ue.reverse(),"beforeRouteLeave",ye,Me);for(const Q of Ue)Q.leaveGuards.forEach(pe=>{Fe.push(ci(pe,ye,Me))});const W=x.bind(null,ye,Me);return Fe.push(W),qt(Fe).then(()=>{Fe=[];for(const Q of r.list())Fe.push(ci(Q,ye,Me));return Fe.push(W),qt(Fe)}).then(()=>{Fe=Ev(pt,"beforeRouteUpdate",ye,Me);for(const Q of pt)Q.updateGuards.forEach(pe=>{Fe.push(ci(pe,ye,Me))});return Fe.push(W),qt(Fe)}).then(()=>{Fe=[];for(const Q of H)if(Q.beforeEnter)if(Eo(Q.beforeEnter))for(const pe of Q.beforeEnter)Fe.push(ci(pe,ye,Me));else Fe.push(ci(Q.beforeEnter,ye,Me));return Fe.push(W),qt(Fe)}).then(()=>(ye.matched.forEach(Q=>Q.enterCallbacks={}),Fe=Ev(H,"beforeRouteEnter",ye,Me,oe),Fe.push(W),qt(Fe))).then(()=>{Fe=[];for(const Q of i.list())Fe.push(ci(Q,ye,Me));return Fe.push(W),qt(Fe)}).catch(Q=>br(Q,8)?Q:Promise.reject(Q))}function ce(ye,Me,Fe){a.list().forEach(Ue=>oe(()=>Ue(ye,Me,Fe)))}function de(ye,Me,Fe,Ue,pt){const H=L(ye,Me);if(H)return H;const W=Me===si,Q=ul?history.state:{};Fe&&(Ue||W?o.replace(ye.fullPath,Xt({scroll:W&&Q&&Q.scroll},pt)):o.push(ye.fullPath,pt)),c.value=ye,bt(ye,Me,Fe,W),dt()}let Le;function Ve(){Le||(Le=o.listen((ye,Me,Fe)=>{if(!ft.listening)return;const Ue=C(ye),pt=q(Ue);if(pt){D(Xt(pt,{replace:!0,force:!0}),Ue).catch(lu);return}d=Ue;const H=c.value;ul&&Ate(L4(H.fullPath,Fe.delta),rp()),V(Ue,H).catch(W=>br(W,12)?W:br(W,2)?(D(Xt($(W.to),{force:!0}),Ue).then(Q=>{br(Q,20)&&!Fe.delta&&Fe.type===Tu.pop&&o.go(-1,!1)}).catch(lu),Promise.reject()):(Fe.delta&&o.go(-Fe.delta,!1),it(W,Ue,H))).then(W=>{W=W||de(Ue,H,!1),W&&(Fe.delta&&!br(W,8)?o.go(-Fe.delta,!1):Fe.type===Tu.pop&&br(W,20)&&o.go(-1,!1)),ce(Ue,H,W)}).catch(lu)}))}let Ge=Oc(),We=Oc(),Be;function it(ye,Me,Fe){dt(ye);const Ue=We.list();return Ue.length?Ue.forEach(pt=>pt(ye,Me,Fe)):console.error(ye),Promise.reject(ye)}function $t(){return Be&&c.value!==si?Promise.resolve():new Promise((ye,Me)=>{Ge.add([ye,Me])})}function dt(ye){return Be||(Be=!ye,Ve(),Ge.list().forEach(([Me,Fe])=>ye?Fe(ye):Me()),Ge.reset()),ye}function bt(ye,Me,Fe,Ue){const{scrollBehavior:pt}=e;if(!ul||!pt)return Promise.resolve();const H=!Fe&&Ete(L4(ye.fullPath,0))||(Ue||!Fe)&&history.state&&history.state.scroll||null;return bi().then(()=>pt(ye,Me,H)).then(W=>W&&Tte(W)).catch(W=>it(W,ye,Me))}const It=ye=>o.go(ye);let nt;const yt=new Set,ft={currentRoute:c,listening:!0,addRoute:_,removeRoute:S,clearRoutes:t.clearRoutes,hasRoute:P,getRoutes:k,resolve:C,options:e,push:T,replace:R,go:It,back:()=>It(-1),forward:()=>It(1),beforeEach:r.add,beforeResolve:i.add,afterEach:a.add,onError:We.add,isReady:$t,install(ye){const Me=this;ye.component("RouterLink",Zte),ye.component("RouterView",nne),ye.config.globalProperties.$router=Me,Object.defineProperty(ye.config.globalProperties,"$route",{enumerable:!0,get:()=>Lt(c)}),ul&&!nt&&c.value===si&&(nt=!0,T(o.location).catch(pt=>{}));const Fe={};for(const pt in si)Object.defineProperty(Fe,pt,{get:()=>c.value[pt],enumerable:!0});ye.provide(dy,Me),ye.provide(HI,I0(Fe)),ye.provide(l0,c);const Ue=ye.unmount;yt.add(ye),ye.unmount=function(){yt.delete(ye),yt.size<1&&(d=si,Le&&Le(),Le=null,c.value=si,nt=!1,Be=!1),Ue()}}};function qt(ye){return ye.reduce((Me,Fe)=>Me.then(()=>oe(Fe)),Promise.resolve())}return ft}function one(e,t){const n=[],s=[],o=[],r=Math.max(t.matched.length,e.matched.length);for(let i=0;i<r;i++){const a=t.matched[i];a&&(e.matched.find(d=>Ll(d,a))?s.push(a):n.push(a));const c=e.matched[i];c&&(t.matched.find(d=>Ll(d,c))||o.push(c))}return[n,s,o]}var Sf={exports:{}},rne=Sf.exports,G4;function ine(){return G4||(G4=1,function(e,t){(function(n,s){e.exports=s()})(rne,function(){var n="__v-click-outside",s=typeof window<"u",o=typeof navigator<"u",r=s&&("ontouchstart"in window||o&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],i=function(f){var h=f.event,v=f.handler;(0,f.middleware)(h)&&v(h)},a=function(f,h){var v=function($){var L=typeof $=="function";if(!L&&typeof $!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:L?$:$.handler,middleware:$.middleware||function(T){return T},events:$.events||r,isActive:$.isActive!==!1,detectIframe:$.detectIframe!==!1,capture:!!$.capture}}(h.value),_=v.handler,S=v.middleware,k=v.detectIframe,P=v.capture;if(v.isActive){if(f[n]=v.events.map(function($){return{event:$,srcTarget:document.documentElement,handler:function(L){return function(T){var R=T.el,q=T.event,D=T.handler,x=T.middleware,oe=q.path||q.composedPath&&q.composedPath();(oe?oe.indexOf(R)<0:!R.contains(q.target))&&i({event:q,handler:D,middleware:x})}({el:f,event:L,handler:_,middleware:S})},capture:P}}),k){var C={event:"blur",srcTarget:window,handler:function($){return function(L){var T=L.el,R=L.event,q=L.handler,D=L.middleware;setTimeout(function(){var x=document.activeElement;x&&x.tagName==="IFRAME"&&!T.contains(x)&&i({event:R,handler:q,middleware:D})},0)}({el:f,event:$,handler:_,middleware:S})},capture:P};f[n]=[].concat(f[n],[C])}f[n].forEach(function($){var L=$.event,T=$.srcTarget,R=$.handler;return setTimeout(function(){f[n]&&T.addEventListener(L,R,P)},0)})}},c=function(f){(f[n]||[]).forEach(function(h){return h.srcTarget.removeEventListener(h.event,h.handler,h.capture)}),delete f[n]},d=s?{beforeMount:a,updated:function(f,h){var v=h.value,_=h.oldValue;JSON.stringify(v)!==JSON.stringify(_)&&(c(f),a(f,{value:v}))},unmounted:c}:{};return{install:function(f){f.directive("click-outside",d)},directive:d}})}(Sf)),Sf.exports}var ane=ine();const lne=Gs(ane);function cne(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var s=e.indexOf("rv:");return parseInt(e.substring(s+3,e.indexOf(".",s)),10)}var o=e.indexOf("Edge/");return o>0?parseInt(e.substring(o+5,e.indexOf(".",o)),10):-1}let kf;function c0(){c0.init||(c0.init=!0,kf=cne()!==-1)}var ip={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){c0(),bi(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",kf&&this.$el.appendChild(e),e.data="about:blank",kf||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!kf&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const une=bF();gF("data-v-b329ee4c");const dne={class:"resize-observer",tabindex:"-1"};vF();const fne=une((e,t,n,s,o,r)=>(m(),K("div",dne)));ip.render=fne;ip.__scopeId="data-v-b329ee4c";ip.__file="src/components/ResizeObserver.vue";function $f(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$f=function(t){return typeof t}:$f=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function hne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pne(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function mne(e,t,n){return t&&pne(e.prototype,t),e}function K4(e){return gne(e)||vne(e)||bne(e)||_ne()}function gne(e){if(Array.isArray(e))return u0(e)}function vne(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function bne(e,t){if(e){if(typeof e=="string")return u0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u0(e,t)}}function u0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function _ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yne(e){var t;return typeof e=="function"?t={callback:e}:t=e,t}function wne(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,o,r,i=function(c){for(var d=arguments.length,f=new Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];if(r=f,!(s&&c===o)){var v=n.leading;typeof v=="function"&&(v=v(c,o)),(!s||c!==o)&&v&&e.apply(void 0,[c].concat(K4(r))),o=c,clearTimeout(s),s=setTimeout(function(){e.apply(void 0,[c].concat(K4(r))),s=0},t)}};return i._clear=function(){clearTimeout(s),s=null},i}function VI(e,t){if(e===t)return!0;if($f(e)==="object"){for(var n in e)if(!VI(e[n],t[n]))return!1;return!0}return!1}var Sne=function(){function e(t,n,s){hne(this,e),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(n,s)}return mne(e,[{key:"createObserver",value:function(n,s){var o=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=yne(n),this.callback=function(a,c){o.options.callback(a,c),a&&o.options.once&&(o.frozen=!0,o.destroyObserver())},this.callback&&this.options.throttle){var r=this.options.throttleOptions||{},i=r.leading;this.callback=wne(this.callback,this.options.throttle,{leading:function(c){return i==="both"||i==="visible"&&c||i==="hidden"&&!c}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(a){var c=a[0];if(a.length>1){var d=a.find(function(h){return h.isIntersecting});d&&(c=d)}if(o.callback){var f=c.isIntersecting&&c.intersectionRatio>=o.threshold;if(f===o.oldResult)return;o.oldResult=f,o.callback(f,c)}},this.options.intersection),bi(function(){o.observer&&o.observer.observe(o.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&typeof this.options.intersection.threshold=="number"?this.options.intersection.threshold:0}}]),e}();function WI(e,t,n){var s=t.value;if(s)if(typeof IntersectionObserver>"u")console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var o=new Sne(e,s,n);e._vue_visibilityState=o}}function kne(e,t,n){var s=t.value,o=t.oldValue;if(!VI(s,o)){var r=e._vue_visibilityState;if(!s){GI(e);return}r?r.createObserver(s,n):WI(e,{value:s},n)}}function GI(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}var $ne={beforeMount:WI,updated:kne,unmounted:GI};function Cne(e){return{all:e=e||new Map,on:function(t,n){var s=e.get(t);s&&s.push(n)||e.set(t,[n])},off:function(t,n){var s=e.get(t);s&&s.splice(s.indexOf(n)>>>0,1)},emit:function(t,n){(e.get(t)||[]).slice().map(function(s){s(n)}),(e.get("*")||[]).slice().map(function(s){s(t,n)})}}}var KI={itemsLimit:1e3},Tne=/(auto|scroll)/;function xI(e,t){return e.parentNode===null?t:xI(e.parentNode,t.concat([e]))}var Iv=function(t,n){return getComputedStyle(t,null).getPropertyValue(n)},Ane=function(t){return Iv(t,"overflow")+Iv(t,"overflow-y")+Iv(t,"overflow-x")},Ene=function(t){return Tne.test(Ane(t))};function x4(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var t=xI(e.parentNode,[]),n=0;n<t.length;n+=1)if(Ene(t[n]))return t[n];return document.scrollingElement||document.documentElement}}function d0(e){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d0(e)}var YI={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(t){return["vertical","horizontal"].includes(t)}},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function XI(){return this.items.length&&d0(this.items[0])!=="object"}var f0=!1;if(typeof window<"u"){f0=!1;try{var Ine=Object.defineProperty({},"passive",{get:function(){f0=!0}});window.addEventListener("test",null,Ine)}catch{}}let Pne=0;var Au={name:"RecycleScroller",components:{ResizeObserver:ip},directives:{ObserveVisibility:$ne},props:{...YI,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},updateInterval:{type:Number,default:0},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},emits:["resize","visible","hidden","update","scroll-start","scroll-end"],data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(this.itemSize===null){const e={"-1":{accumulator:0}},t=this.items,n=this.sizeField,s=this.minItemSize;let o=1e4,r=0,i;for(let a=0,c=t.length;a<c;a++)i=t[a][n]||s,i<o&&(o=i),r+=i,e[a]={accumulator:r,size:i};return this.$_computedMinItemSize=o,e}return[]},simpleArray:XI,itemIndexByKey(){const{keyField:e,items:t}=this,n={};for(let s=0,o=t.length;s<o;s++)n[t[s][e]]=s;return n}},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&!this.itemSize&&console.error("[vue-recycle-scroller] You must provide an itemSize when using gridItems")},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},activated(){const e=this.$_lastUpdateScrollPosition;typeof e=="number"&&this.$nextTick(()=>{this.scrollToPosition(e)})},beforeUnmount(){this.removeListeners()},methods:{addView(e,t,n,s,o){const r=_h({id:Pne++,index:t,used:!0,key:s,type:o}),i=I0({item:n,position:0,nr:r});return e.push(i),i},unuseView(e,t=!1){const n=this.$_unusedViews,s=e.nr.type;let o=n.get(s);o||(o=[],n.set(s,o)),o.push(e),t||(e.nr.used=!1,e.position=-9999)},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){if(!this.$_scrollDirty){if(this.$_scrollDirty=!0,this.$_updateTimeout)return;const t=()=>requestAnimationFrame(()=>{this.$_scrollDirty=!1;const{continuous:n}=this.updateVisibleItems(!1,!0);n||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,this.updateInterval+100))});t(),this.updateInterval&&(this.$_updateTimeout=setTimeout(()=>{this.$_updateTimeout=0,this.$_scrollDirty&&t()},this.updateInterval))}},handleVisibilityChange(e,t){this.ready&&(e||t.boundingClientRect.width!==0||t.boundingClientRect.height!==0?(this.$emit("visible"),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems(e,t=!1){const n=this.itemSize,s=this.gridItems||1,o=this.itemSecondarySize||n,r=this.$_computedMinItemSize,i=this.typeField,a=this.simpleArray?null:this.keyField,c=this.items,d=c.length,f=this.sizes,h=this.$_views,v=this.$_unusedViews,_=this.pool,S=this.itemIndexByKey;let k,P,C,$,L;if(!d)k=P=$=L=C=0;else if(this.$_prerender)k=$=0,P=L=Math.min(this.prerender,c.length),C=null;else{const V=this.getScroll();if(t){let Le=V.start-this.$_lastUpdateScrollPosition;if(Le<0&&(Le=-Le),n===null&&Le<r||Le<n)return{continuous:!0}}this.$_lastUpdateScrollPosition=V.start;const ce=this.buffer;V.start-=ce,V.end+=ce;let de=0;if(this.$refs.before&&(de=this.$refs.before.scrollHeight,V.start-=de),this.$refs.after){const Le=this.$refs.after.scrollHeight;V.end+=Le}if(n===null){let Le,Ve=0,Ge=d-1,We=~~(d/2),Be;do Be=We,Le=f[We].accumulator,Le<V.start?Ve=We:We<d-1&&f[We+1].accumulator>V.start&&(Ge=We),We=~~((Ve+Ge)/2);while(We!==Be);for(We<0&&(We=0),k=We,C=f[d-1].accumulator,P=We;P<d&&f[P].accumulator<V.end;P++);for(P===-1?P=c.length-1:(P++,P>d&&(P=d)),$=k;$<d&&de+f[$].accumulator<V.start;$++);for(L=$;L<d&&de+f[L].accumulator<V.end;L++);}else{k=~~(V.start/n*s);const Le=k%s;k-=Le,P=Math.ceil(V.end/n*s),$=Math.max(0,Math.floor((V.start-de)/n*s)),L=Math.floor((V.end-de)/n*s),k<0&&(k=0),P>d&&(P=d),$<0&&($=0),L>d&&(L=d),C=Math.ceil(d/s)*n}}P-k>KI.itemsLimit&&this.itemsLimitError(),this.totalSize=C;let T;const R=k<=this.$_endIndex&&P>=this.$_startIndex;if(R)for(let V=0,ce=_.length;V<ce;V++)T=_[V],T.nr.used&&(e&&(T.nr.index=S[T.item[a]]),(T.nr.index==null||T.nr.index<k||T.nr.index>=P)&&this.unuseView(T));const q=R?null:new Map;let D,x,oe;for(let V=k;V<P;V++){D=c[V];const ce=a?D[a]:D;if(ce==null)throw new Error(`Key is ${ce} on item (keyField is '${a}')`);if(T=h.get(ce),!n&&!f[V].size){T&&this.unuseView(T);continue}x=D[i];let de=v.get(x),Le=!1;if(!T)R?de&&de.length?T=de.pop():T=this.addView(_,V,D,ce,x):(oe=q.get(x)||0,(!de||oe>=de.length)&&(T=this.addView(_,V,D,ce,x),this.unuseView(T,!0),de=v.get(x)),T=de[oe],q.set(x,oe+1)),h.delete(T.nr.key),T.nr.used=!0,T.nr.index=V,T.nr.key=ce,T.nr.type=x,h.set(ce,T),Le=!0;else if(!T.nr.used&&(T.nr.used=!0,Le=!0,de)){const Ve=de.indexOf(T);Ve!==-1&&de.splice(Ve,1)}T.item=D,Le&&(V===c.length-1&&this.$emit("scroll-end"),V===0&&this.$emit("scroll-start")),n===null?(T.position=f[V-1].accumulator,T.offset=0):(T.position=Math.floor(V/s)*n,T.offset=V%s*o)}return this.$_startIndex=k,this.$_endIndex=P,this.emitUpdate&&this.$emit("update",k,P,$,L),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,this.updateInterval+300),{continuous:R}},getListenerTarget(){let e=x4(this.$el);return window.document&&(e===window.document.documentElement||e===window.document.body)&&(e=window),e},getScroll(){const{$el:e,direction:t}=this,n=t==="vertical";let s;if(this.pageMode){const o=e.getBoundingClientRect(),r=n?o.height:o.width;let i=-(n?o.top:o.left),a=n?window.innerHeight:window.innerWidth;i<0&&(a+=i,i=0),i+a>r&&(a=r-i),s={start:i,end:i+a}}else n?s={start:e.scrollTop,end:e.scrollTop+e.clientHeight}:s={start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return s},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,f0?{passive:!0}:!1),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){let t;const n=this.gridItems||1;this.itemSize===null?t=e>0?this.sizes[e-1].accumulator:0:t=Math.floor(e/n)*this.itemSize,this.scrollToPosition(t)},scrollToPosition(e){const t=this.direction==="vertical"?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let n,s,o;if(this.pageMode){const r=x4(this.$el),i=r.tagName==="HTML"?0:r[t.scroll],a=r.getBoundingClientRect(),d=this.$el.getBoundingClientRect()[t.start]-a[t.start];n=r,s=t.scroll,o=e+i+d}else n=this.$el,s=t.scroll,o=e;n[s]=o},itemsLimitError(){throw setTimeout(()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((e,t)=>e.nr.index-t.nr.index)}}};const Lne={key:0,ref:"before",class:"vue-recycle-scroller__slot"},One={key:1,ref:"after",class:"vue-recycle-scroller__slot"};function Rne(e,t,n,s,o,r){const i=O("ResizeObserver"),a=Dl("observe-visibility");return ot((m(),b("div",{class:he(["vue-recycle-scroller",{ready:o.ready,"page-mode":n.pageMode,[`direction-${e.direction}`]:!0}]),onScrollPassive:t[0]||(t[0]=(...c)=>r.handleScroll&&r.handleScroll(...c))},[e.$slots.before?(m(),b("div",Lne,[Ft(e.$slots,"before")],512)):E("v-if",!0),(m(),K(va(n.listTag),{ref:"wrapper",style:gn({[e.direction==="vertical"?"minHeight":"minWidth"]:o.totalSize+"px"}),class:he(["vue-recycle-scroller__item-wrapper",n.listClass])},{default:X(()=>[(m(!0),b(Te,null,Ke(o.pool,c=>(m(),K(va(n.itemTag),xn({key:c.nr.id,style:o.ready?{transform:`translate${e.direction==="vertical"?"Y":"X"}(${c.position}px) translate${e.direction==="vertical"?"X":"Y"}(${c.offset}px)`,width:n.gridItems?`${e.direction==="vertical"&&n.itemSecondarySize||n.itemSize}px`:void 0,height:n.gridItems?`${e.direction==="horizontal"&&n.itemSecondarySize||n.itemSize}px`:void 0}:null,class:["vue-recycle-scroller__item-view",[n.itemClass,{hover:!n.skipHover&&o.hoverKey===c.nr.key}]]},MF(n.skipHover?{}:{mouseenter:()=>{o.hoverKey=c.nr.key},mouseleave:()=>{o.hoverKey=null}})),{default:X(()=>[Ft(e.$slots,"default",{item:c.item,index:c.nr.index,active:c.nr.used})]),_:2},1040,["style","class"]))),128)),Ft(e.$slots,"empty")]),_:3},8,["style","class"])),e.$slots.after?(m(),b("div",One,[Ft(e.$slots,"after")],512)):E("v-if",!0),A(i,{onNotify:r.handleResize},null,8,["onNotify"])],34)),[[a,r.handleVisibilityChange]])}Au.render=Rne;Au.__file="src/components/RecycleScroller.vue";var th={name:"DynamicScroller",components:{RecycleScroller:Au},provide(){return typeof ResizeObserver<"u"&&(this.$_resizeObserver=new ResizeObserver(e=>{requestAnimationFrame(()=>{if(Array.isArray(e)){for(const t of e)if(t.target&&t.target.$_vs_onResize){let n,s;if(t.borderBoxSize){const o=t.borderBoxSize[0];n=o.inlineSize,s=o.blockSize}else n=t.contentRect.width,s=t.contentRect.height;t.target.$_vs_onResize(t.target.$_vs_id,n,s)}}})})),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},inheritAttrs:!1,props:{...YI,minItemSize:{type:[Number,String],required:!0}},emits:["resize","visible"],data(){return{vscrollData:{active:!0,sizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:XI,itemsWithSize(){const e=[],{items:t,keyField:n,simpleArray:s}=this,o=this.vscrollData.sizes,r=t.length;for(let i=0;i<r;i++){const a=t[i],c=s?i:a[n];let d=o[c];typeof d>"u"&&!this.$_undefinedMap[c]&&(d=0),e.push({item:a,id:c,size:d})}return e}},watch:{items(){this.forceUpdate()},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)},itemsWithSize(e,t){const n=this.$el.scrollTop;let s=0,o=0;const r=Math.min(e.length,t.length);for(let a=0;a<r&&!(s>=n);a++)s+=t[a].size||this.minItemSize,o+=e[a].size||this.minItemSize;const i=o-s;i!==0&&(this.$el.scrollTop+=i)}},beforeCreate(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={},this.$_events=Cne()},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},unmounted(){this.$_events.all.clear()},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$_events.emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(e=!1){(e||this.simpleArray)&&(this.vscrollData.sizes={}),this.$_events.emit("vscroll:update",{force:!0})},scrollToItem(e){const t=this.$refs.scroller;t&&t.scrollToItem(e)},getItemSize(e,t=void 0){const n=this.simpleArray?t??this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[n]||0},scrollToBottom(){if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const e=this.$el;this.$nextTick(()=>{e.scrollTop=e.scrollHeight+5e3;const t=()=>{e.scrollTop=e.scrollHeight+5e3,requestAnimationFrame(()=>{e.scrollTop=e.scrollHeight+5e3,this.$_undefinedSizes===0?this.$_scrollingToBottom=!1:requestAnimationFrame(t)})};requestAnimationFrame(t)})}}};function Mne(e,t,n,s,o,r){const i=O("RecycleScroller");return m(),K(i,xn({ref:"scroller",items:r.itemsWithSize,"min-item-size":n.minItemSize,direction:e.direction,"key-field":"id","list-tag":e.listTag,"item-tag":e.itemTag},e.$attrs,{onResize:r.onScrollerResize,onVisible:r.onScrollerVisible}),{default:X(({item:a,index:c,active:d})=>[Ft(e.$slots,"default",tb(B0({item:a.item,index:c,active:d,itemWithSize:a})))]),before:X(()=>[Ft(e.$slots,"before")]),after:X(()=>[Ft(e.$slots,"after")]),empty:X(()=>[Ft(e.$slots,"empty")]),_:3},16,["items","min-item-size","direction","list-tag","item-tag","onResize","onVisible"])}th.render=Mne;th.__file="src/components/DynamicScroller.vue";var h0={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},emits:["resize"],computed:{id(){if(this.vscrollData.simpleArray)return this.index;if(this.vscrollData.keyField in this.item)return this.item[this.vscrollData.keyField];throw new Error(`keyField '${this.vscrollData.keyField}' not found in your item. You should set a valid keyField prop on your Scroller`)},size(){return this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(e,t){if(this.$el.$_vs_id=this.id,this.size||this.onDataUpdate(),this.$_sizeObserved){const n=this.vscrollData.sizes[t],s=this.vscrollData.sizes[e];n!=null&&n!==s&&this.applySize(n)}},finalActive(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const e in this.sizeDependencies)this.$watch(()=>this.sizeDependencies[e],this.onDataUpdate);this.vscrollParent.$_events.on("vscroll:update",this.onVscrollUpdate)}},mounted(){this.finalActive&&(this.updateSize(),this.observeSize())},beforeUnmount(){this.vscrollParent.$_events.off("vscroll:update",this.onVscrollUpdate),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData&&!this.vscrollResizeObserver?this.$_watchData=this.$watch("item",()=>{this.onDataUpdate()},{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate({force:e}){!this.finalActive&&e&&(this.$_pendingVScrollUpdate=this.id),(this.$_forceNextVScrollUpdate===this.id||e||!this.size)&&this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){this.$nextTick(()=>{if(this.id===e){const t=this.$el.offsetWidth,n=this.$el.offsetHeight;this.applyWidthHeight(t,n)}this.$_pendingSizeUpdate=null})},applyWidthHeight(e,t){const n=~~(this.vscrollParent.direction==="vertical"?t:e);n&&this.size!==n&&this.applySize(n)},applySize(e){this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.vscrollData.sizes[this.id]=e,this.emitResize&&this.$emit("resize",this.id)},observeSize(){this.vscrollResizeObserver&&(this.$_sizeObserved||(this.vscrollResizeObserver.observe(this.$el),this.$el.$_vs_id=this.id,this.$el.$_vs_onResize=this.onResize,this.$_sizeObserved=!0))},unobserveSize(){this.vscrollResizeObserver&&this.$_sizeObserved&&(this.vscrollResizeObserver.unobserve(this.$el),this.$el.$_vs_onResize=void 0,this.$_sizeObserved=!1)},onResize(e,t,n){this.id===e&&this.applyWidthHeight(t,n)}},render(){return Dr(this.tag,this.$slots.default())}};h0.__file="src/components/DynamicScrollerItem.vue";function Nne(e,t){e.component("".concat(t,"recycle-scroller"),Au),e.component("".concat(t,"RecycleScroller"),Au),e.component("".concat(t,"dynamic-scroller"),th),e.component("".concat(t,"DynamicScroller"),th),e.component("".concat(t,"dynamic-scroller-item"),h0),e.component("".concat(t,"DynamicScrollerItem"),h0)}var Fne={version:"2.0.0-beta.8",install:function(t,n){var s=Object.assign({},{installComponents:!0,componentsPrefix:""},n);for(var o in s)typeof s[o]<"u"&&(KI[o]=s[o]);s.installComponents&&Nne(t,s.componentsPrefix)}};function Y4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(n),!0).forEach(function(s){As(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Une(e){var t=Dne(e,"string");return typeof t=="symbol"?t:t+""}function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function As(e,t,n){return t=Une(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jne(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Bne(e,t){if(e==null)return{};var n=jne(e,t),s,o;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function zne(e){return qne(e)||Hne(e)||Vne(e)||Wne()}function qne(e){if(Array.isArray(e))return p0(e)}function Hne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vne(e,t){if(e){if(typeof e=="string")return p0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p0(e,t)}}function p0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Wne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Gne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},JI={exports:{}};(function(e){(function(t){var n=function(C,$,L){if(!d($)||h($)||v($)||_($)||c($))return $;var T,R=0,q=0;if(f($))for(T=[],q=$.length;R<q;R++)T.push(n(C,$[R],L));else{T={};for(var D in $)Object.prototype.hasOwnProperty.call($,D)&&(T[C(D,L)]=n(C,$[D],L))}return T},s=function(C,$){$=$||{};var L=$.separator||"_",T=$.split||/(?=[A-Z])/;return C.split(T).join(L)},o=function(C){return S(C)?C:(C=C.replace(/[\-_\s]+(.)?/g,function($,L){return L?L.toUpperCase():""}),C.substr(0,1).toLowerCase()+C.substr(1))},r=function(C){var $=o(C);return $.substr(0,1).toUpperCase()+$.substr(1)},i=function(C,$){return s(C,$).toLowerCase()},a=Object.prototype.toString,c=function(C){return typeof C=="function"},d=function(C){return C===Object(C)},f=function(C){return a.call(C)=="[object Array]"},h=function(C){return a.call(C)=="[object Date]"},v=function(C){return a.call(C)=="[object RegExp]"},_=function(C){return a.call(C)=="[object Boolean]"},S=function(C){return C=C-0,C===C},k=function(C,$){var L=$&&"process"in $?$.process:$;return typeof L!="function"?C:function(T,R){return L(T,C,R)}},P={camelize:o,decamelize:i,pascalize:r,depascalize:i,camelizeKeys:function(C,$){return n(k(o,$),C)},decamelizeKeys:function(C,$){return n(k(i,$),C,$)},pascalizeKeys:function(C,$){return n(k(r,$),C)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=P:t.humps=P})(Gne)})(JI);var Kne=JI.exports,xne=["class","style"];function Yne(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var s=n.indexOf(":"),o=Kne.camelize(n.slice(0,s)),r=n.slice(s+1).trim();return t[o]=r,t},{})}function Xne(e){return e.split(/\s+/).reduce(function(t,n){return t[n]=!0,t},{})}function ZI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var s=(e.children||[]).map(function(c){return ZI(c)}),o=Object.keys(e.attributes||{}).reduce(function(c,d){var f=e.attributes[d];switch(d){case"class":c.class=Xne(f);break;case"style":c.style=Yne(f);break;default:c.attrs[d]=f}return c},{attrs:{},class:{},style:{}});n.class;var r=n.style,i=r===void 0?{}:r,a=Bne(n,xne);return Dr(e.tag,Cr(Cr(Cr({},t),{},{class:o.class,style:Cr(Cr({},o.style),i)},o.attrs),a),s)}var QI=!1;try{QI=!0}catch{}function Jne(){if(!QI&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function Pv(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?As({},e,t):{}}function Zne(e){var t,n=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip":e.flip===!0,"fa-flip-horizontal":e.flip==="horizontal"||e.flip==="both","fa-flip-vertical":e.flip==="vertical"||e.flip==="both"},As(As(As(As(As(As(As(As(As(As(t,"fa-".concat(e.size),e.size!==null),"fa-rotate-".concat(e.rotation),e.rotation!==null),"fa-pull-".concat(e.pull),e.pull!==null),"fa-swap-opacity",e.swapOpacity),"fa-bounce",e.bounce),"fa-shake",e.shake),"fa-beat",e.beat),"fa-fade",e.fade),"fa-beat-fade",e.beatFade),"fa-flash",e.flash),As(As(t,"fa-spin-pulse",e.spinPulse),"fa-spin-reverse",e.spinReverse));return Object.keys(n).map(function(s){return n[s]?s:null}).filter(function(s){return s})}function X4(e){if(e&&nh(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Vb.icon)return Vb.icon(e);if(e===null)return null;if(nh(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}var fy=Ri({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(t){return[!0,!1,"horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},maskId:{type:String,default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},titleId:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(t,n){var s=n.attrs,o=vt(function(){return X4(t.icon)}),r=vt(function(){return Pv("classes",Zne(t))}),i=vt(function(){return Pv("transform",typeof t.transform=="string"?Vb.transform(t.transform):t.transform)}),a=vt(function(){return Pv("mask",X4(t.mask))}),c=vt(function(){return ux(o.value,Cr(Cr(Cr(Cr({},r.value),i.value),a.value),{},{symbol:t.symbol,title:t.title,titleId:t.titleId,maskId:t.maskId}))});Qn(c,function(f){if(!f)return Jne("Could not find one or more icon(s)",o.value,a.value)},{immediate:!0});var d=vt(function(){return c.value?ZI(c.value.abstract[0],{},s):null});return function(){return d.value}}}),Qne=Ri({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function(t,n){var s=n.slots,o=cx.familyPrefix,r=vt(function(){return["".concat(o,"-layers")].concat(zne(t.fixedWidth?["".concat(o,"-fw")]:[]))});return function(){return Dr("div",{class:r.value},s.default?s.default():[])}}});et.add(Yn);const ese={data:()=>({user:{},error:!1}),computed:{isPasswordAuth(){return this.requiredPassword},isTokenAuth(){return this.requiredToken},...Oh($o),...hn({registrationOpen:e=>e.instance.registrationOpen,instance:e=>e.instance,loggingIn:e=>e.users.loggingIn}),...Zt("authFlow",["requiredPassword","requiredToken","requiredMFA"])},methods:{...W0("authFlow",["requireMFA"]),...Ah({login:"authFlow/login"}),submit(){this.isTokenAuth?this.submitToken():this.submitPassword()},submitToken(){const e={instance:this.instance.server,commit:this.$store.commit};this.oauthStore.ensureAppToken().then(()=>{const t={clientId:this.oauthStore.clientId,clientSecret:this.oauthStore.clientSecret};Jf.login({...t,...e})})},submitPassword(){this.error=!1,this.oauthStore.ensureAppToken().then(()=>{const e={clientId:this.oauthStore.clientId,clientSecret:this.oauthStore.clientSecret};Jf.getTokenWithCredentials({...e,instance:this.instance.server,username:this.user.username,password:this.user.password}).then(t=>{if(t.error){t.error==="mfa_required"?this.requireMFA({settings:t}):t.identifier==="password_reset_required"?this.$router.push({name:"password-reset",params:{passwordResetRequested:!0}}):(this.error=t.error,this.focusOnPasswordInput());return}this.login(t).then(()=>{this.$router.push({name:"friends"})})})})},clearError(){this.error=!1},focusOnPasswordInput(){const e=this.$refs.passwordInput;e.focus(),e.setSelectionRange(0,e.value.length)}}},tse={class:"login-panel panel panel-default"},nse={class:"panel-heading"},sse={class:"title"},ose={class:"panel-body"},rse={class:"form-group"},ise={for:"username"},ase=["disabled","placeholder"],lse={class:"form-group"},cse={for:"password"},use=["disabled"],dse={class:"form-group"},fse={key:1,class:"form-group"},hse={class:"form-group"},pse={class:"login-bottom"},mse=["disabled"],gse={key:0,class:"login-error alert error"},vse={class:"error-message"};function bse(e,t,n,s,o,r){const i=O("router-link"),a=O("FAIcon");return m(),b("div",tse,[g("div",nse,[g("h1",sse,w(e.$t("login.login")),1)]),g("div",ose,[g("form",{class:"login-form",onSubmit:t[2]||(t[2]=Se((...c)=>e.submit&&e.submit(...c),["prevent"]))},[e.isPasswordAuth?(m(),b(Te,{key:0},[g("div",rse,[g("label",ise,w(e.$t("login.username")),1),ot(g("input",{id:"username","onUpdate:modelValue":t[0]||(t[0]=c=>e.user.username=c),disabled:e.loggingIn,class:"input form-control",placeholder:e.$t("login.placeholder")},null,8,ase),[[Mt,e.user.username]])]),g("div",lse,[g("label",cse,w(e.$t("login.password")),1),ot(g("input",{id:"password",ref:"passwordInput","onUpdate:modelValue":t[1]||(t[1]=c=>e.user.password=c),disabled:e.loggingIn,class:"input form-control",type:"password"},null,8,use),[[Mt,e.user.password]])]),g("div",dse,[A(i,{to:{name:"password-reset"}},{default:X(()=>[fe(w(e.$t("password_reset.forgot_password")),1)]),_:1})])],64)):E("",!0),e.isTokenAuth?(m(),b("div",fse,[g("p",null,w(e.$t("login.description")),1)])):E("",!0),g("div",hse,[g("div",pse,[g("div",null,[e.registrationOpen?(m(),K(i,{key:0,to:{name:"registration"},class:"register"},{default:X(()=>[fe(w(e.$t("login.register")),1)]),_:1})):E("",!0)]),g("button",{disabled:e.loggingIn,type:"submit",class:"btn button-default"},w(e.$t("login.login")),9,mse)])])],32),e.error?(m(),b("div",gse,[g("span",vse,w(e.error),1),g("button",{class:"button-unstyled",onClick:t[3]||(t[3]=(...c)=>e.clearError&&e.clearError(...c))},[A(a,{class:"fa-scale-110 fa-old-padding",icon:"times"})])])):E("",!0)])])}const _se=be(ese,[["render",bse]]),yse=({clientId:e,clientSecret:t,instance:n,mfaToken:s,code:o})=>{const r=`${n}/oauth/mfa/challenge`,i=new window.FormData;return i.append("client_id",e),i.append("client_secret",t),i.append("mfa_token",s),i.append("code",o),i.append("challenge_type","totp"),window.fetch(r,{method:"POST",body:i}).then(a=>a.json())},wse=({clientId:e,clientSecret:t,instance:n,mfaToken:s,code:o})=>{const r=`${n}/oauth/mfa/challenge`,i=new window.FormData;return i.append("client_id",e),i.append("client_secret",t),i.append("mfa_token",s),i.append("code",o),i.append("challenge_type","recovery"),window.fetch(r,{method:"POST",body:i}).then(a=>a.json())},e5={verifyOTPCode:yse,verifyRecoveryCode:wse};et.add(Yn);const Sse={data:()=>({code:null,error:!1}),computed:{...Zt({authSettings:"authFlow/settings"}),...Oh($o),...hn({instance:"instance"})},methods:{...W0("authFlow",["requireTOTP","abortMFA"]),...Ah({login:"authFlow/login"}),clearError(){this.error=!1},focusOnCodeInput(){const e=this.$refs.codeInput;e.focus(),e.setSelectionRange(0,e.value.length)},submit(){const{clientId:e,clientSecret:t}=this.oauthStore,n={clientId:e,clientSecret:t,instance:this.instance.server,mfaToken:this.authSettings.mfa_token,code:this.code};e5.verifyRecoveryCode(n).then(s=>{if(s.error){this.error=s.error,this.code=null,this.focusOnCodeInput();return}this.login(s).then(()=>{this.$router.push({name:"friends"})})})}}},kse={class:"login-panel panel panel-default"},$se={class:"panel-heading"},Cse={class:"title"},Tse={class:"panel-body"},Ase={class:"form-group"},Ese={for:"code"},Ise={class:"form-group"},Pse={class:"login-bottom"},Lse={type:"submit",class:"btn button-default"},Ose={key:0,class:"form-group"},Rse={class:"alert error"};function Mse(e,t,n,s,o,r){const i=O("FAIcon");return m(),b("div",kse,[g("div",$se,[g("h1",Cse,w(e.$t("login.heading.recovery")),1)]),g("div",Tse,[g("form",{class:"login-form",onSubmit:t[3]||(t[3]=Se((...a)=>e.submit&&e.submit(...a),["prevent"]))},[g("div",Ase,[g("label",Ese,w(e.$t("login.recovery_code")),1),ot(g("input",{id:"code",ref:"codeInput","onUpdate:modelValue":t[0]||(t[0]=a=>e.code=a),class:"input form-control"},null,512),[[Mt,e.code]])]),g("div",Ise,[g("div",Pse,[g("div",null,[g("button",{class:"button-unstyled -link",type:"button",onClick:t[1]||(t[1]=Se((...a)=>e.requireTOTP&&e.requireTOTP(...a),["prevent"]))},w(e.$t("login.enter_two_factor_code")),1),t[5]||(t[5]=g("br",null,null,-1)),g("button",{class:"button-unstyled -link",type:"button",onClick:t[2]||(t[2]=Se((...a)=>e.abortMFA&&e.abortMFA(...a),["prevent"]))},w(e.$t("general.cancel")),1)]),g("button",Lse,w(e.$t("general.verify")),1)])])],32)]),e.error?(m(),b("div",Ose,[g("div",Rse,[fe(w(e.error)+" ",1),g("button",{class:"button-unstyled",onClick:t[4]||(t[4]=(...a)=>e.clearError&&e.clearError(...a))},[A(i,{class:"fa-scale-110 fa-old-padding",icon:"times"})])])])):E("",!0)])}const Nse=be(Sse,[["render",Mse]]);et.add(Yn);const Fse={data:()=>({code:null,error:!1}),computed:{...Zt({authSettings:"authFlow/settings"}),...Oh($o),...hn({instance:"instance"})},methods:{...W0("authFlow",["requireRecovery","abortMFA"]),...Ah({login:"authFlow/login"}),clearError(){this.error=!1},focusOnCodeInput(){const e=this.$refs.codeInput;e.focus(),e.setSelectionRange(0,e.value.length)},submit(){const{clientId:e,clientSecret:t}=this.oauthStore,n={clientId:e,clientSecret:t,instance:this.instance.server,mfaToken:this.authSettings.mfa_token,code:this.code};e5.verifyOTPCode(n).then(s=>{if(s.error){this.error=s.error,this.code=null,this.focusOnCodeInput();return}this.login(s).then(()=>{this.$router.push({name:"friends"})})})}}},Dse={class:"login-panel panel panel-default"},Use={class:"panel-heading"},jse={class:"title"},Bse={class:"panel-body"},zse={class:"form-group"},qse={for:"code"},Hse={class:"form-group"},Vse={class:"login-bottom"},Wse={type:"submit",class:"btn button-default"},Gse={key:0,class:"form-group"},Kse={class:"alert error"};function xse(e,t,n,s,o,r){const i=O("FAIcon");return m(),b("div",Dse,[g("div",Use,[g("h1",jse,w(e.$t("login.heading.totp")),1)]),g("div",Bse,[g("form",{class:"login-form",onSubmit:t[3]||(t[3]=Se((...a)=>e.submit&&e.submit(...a),["prevent"]))},[g("div",zse,[g("label",qse,w(e.$t("login.authentication_code")),1),ot(g("input",{id:"code",ref:"codeInput","onUpdate:modelValue":t[0]||(t[0]=a=>e.code=a),class:"input form-control"},null,512),[[Mt,e.code]])]),g("div",Hse,[g("div",Vse,[g("div",null,[g("button",{class:"button-unstyled -link",type:"button",onClick:t[1]||(t[1]=Se((...a)=>e.requireRecovery&&e.requireRecovery(...a),["prevent"]))},w(e.$t("login.enter_recovery_code")),1),t[5]||(t[5]=g("br",null,null,-1)),g("button",{class:"button-unstyled -link",type:"button",onClick:t[2]||(t[2]=Se((...a)=>e.abortMFA&&e.abortMFA(...a),["prevent"]))},w(e.$t("general.cancel")),1)]),g("button",Wse,w(e.$t("general.verify")),1)])])],32)]),e.error?(m(),b("div",Gse,[g("div",Kse,[fe(w(e.error)+" ",1),g("button",{class:"button-unstyled",onClick:t[4]||(t[4]=(...a)=>e.clearError&&e.clearError(...a))},[A(i,{size:"lg",class:"fa-scale-110 fa-old-padding",icon:"times"})])])])):E("",!0)])}const Yse=be(Fse,[["render",xse]]),t5={name:"AuthForm",render(){return Dr(O(this.authForm))},computed:{authForm(){return this.requiredTOTP?"MFATOTPForm":this.requiredRecovery?"MFARecoveryForm":"LoginForm"},...Zt("authFlow",["requiredTOTP","requiredRecovery"])},components:{MFARecoveryForm:Nse,MFATOTPForm:Yse,LoginForm:_se}},Xse=({store:e,status:t,spoilerText:n,visibility:s,sensitive:o,poll:r,media:i=[],inReplyToStatusId:a=void 0,quoteId:c=void 0,contentType:d="text/plain",preview:f=!1,idempotencyKey:h=""})=>{const v=Z.map(i,"id");return En.postStatus({credentials:e.state.users.currentUser.credentials,status:t,spoilerText:n,visibility:s,sensitive:o,mediaIds:v,inReplyToStatusId:a,quoteId:c,contentType:d,poll:r,preview:f,idempotencyKey:h}).then(_=>(!_.error&&!f&&e.dispatch("addNewStatuses",{statuses:[_],timeline:"friends",showImmediately:!0,noIdUpdate:!0}),_)).catch(_=>({error:_.message}))},Jse=({store:e,statusId:t,status:n,spoilerText:s,sensitive:o,poll:r,media:i=[],contentType:a="text/plain"})=>{const c=Z.map(i,"id");return En.editStatus({id:t,credentials:e.state.users.currentUser.credentials,status:n,spoilerText:s,sensitive:o,poll:r,mediaIds:c,contentType:a}).then(d=>(d.error||e.dispatch("addNewStatuses",{statuses:[d],timeline:"friends",showImmediately:!0,noIdUpdate:!0}),d)).catch(d=>(console.error("Error editing status",d),{error:d.message}))},Zse=({store:e,formData:t})=>{const n=e.state.users.currentUser.credentials;return En.uploadMedia({credentials:n,formData:t})},Qse=({store:e,id:t,description:n})=>{const s=e.state.users.currentUser.credentials;return En.setMediaDescription({credentials:s,id:t,description:n})},uu={postStatus:Xse,editStatus:Jse,uploadMedia:Zse,setMediaDescription:Qse},ap=()=>`${Math.random()}`.replace(".","-"),eoe=e=>{const t=["B","KiB","MiB","GiB","TiB"];let n=e;if(n<1)return n+" "+t[0];const s=Math.min(Math.floor(Math.log(n)/Math.log(1024)),t.length-1);n=(n/Math.pow(1024,s)).toFixed(2)*1;const o=t[s];return{num:n,unit:o}},m0={fileSizeFormat:eoe};et.add(hE,mo);const toe={data(){return{uploadCount:0,uploadReady:!0}},computed:{uploading(){return this.uploadCount>0}},methods:{onClick(){this.uploadReady&&this.$refs.input.click()},async resizeImage(e){return!e.type.startsWith("image/")||e.type==="image/gif"||!this.$store.getters.mergedConfig.imageCompression||e.type==="image/png"&&await this.isAnimatedPng(e)?e:new Promise(t=>{const n=new Image;n.onload=()=>{let s=n.width,o=n.height;const r=2048;(s>r||o>r)&&(s>o?(o=Math.round(o*r/s),s=r):(s=Math.round(s*r/o),o=r));const i=document.createElement("canvas");i.width=s,i.height=o,i.getContext("2d").drawImage(n,0,0,s,o);const d=document.createElement("canvas").toDataURL("image/webp").startsWith("data:image/webp"),f=!this.$store.getters.mergedConfig.alwaysUseJpeg&&d?"image/webp":"image/jpeg",h=f==="image/webp"?".webp":".jpg",v=e.name.replace(/\.[^/.]+$/,"")+h;i.toBlob(_=>{t(new File([_],v,{type:f,lastModified:Date.now()}))},f,.85)},n.src=URL.createObjectURL(e)})},async isAnimatedPng(e){const t=await e.arrayBuffer(),n=new Uint8Array(t);for(let s=0;s<n.length-8;s++)if(n[s]===97&&n[s+1]===99&&n[s+2]===84&&n[s+3]===76)return!0;return!1},async uploadFile(e){const t=this,n=this.$store;if(e.size>n.state.instance.uploadlimit){const r=m0.fileSizeFormat(e.size),i=m0.fileSizeFormat(n.state.instance.uploadlimit);t.$emit("upload-failed","file_too_big",{filesize:r.num,filesizeunit:r.unit,allowedsize:i.num,allowedsizeunit:i.unit});return}const s=await this.resizeImage(e),o=new FormData;o.append("file",s),t.$emit("uploading"),t.uploadCount++,uu.uploadMedia({store:n,formData:o}).then(r=>{t.$emit("uploaded",r),t.decreaseUploadCount()},r=>{console.error("Error uploading file",r),t.$emit("upload-failed","default"),t.decreaseUploadCount()})},decreaseUploadCount(){this.uploadCount--,this.uploadCount===0&&this.$emit("all-uploaded")},clearFile(){this.uploadReady=!1,this.$nextTick(()=>{this.uploadReady=!0})},multiUpload(e){for(const t of e)this.uploadFile(t)},change({target:e}){this.multiUpload(e.files)}},props:{dropFiles:Object,disabled:Boolean,normalButton:Boolean,acceptTypes:{type:String,default:"*/*"}},watch:{dropFiles:function(e){this.uploading||this.multiUpload(e)}}},noe=["title"],soe=["disabled","accept"];function ooe(e,t,n,s,o,r){const i=O("FAIcon");return m(),b("button",{class:he(["media-upload",[e.normalButton?"button-default btn":"button-unstyled",{disabled:e.disabled}]]),title:e.$t("tool_tip.media_upload"),onClick:t[1]||(t[1]=(...a)=>e.onClick&&e.onClick(...a))},[e.uploading?(m(),K(i,{key:0,class:"progress-icon",icon:"circle-notch",spin:""})):E("",!0),e.uploading?E("",!0):(m(),K(i,{key:1,class:"new-icon",icon:"upload"})),e.normalButton?(m(),b(Te,{key:2},[fe(w(" ")+" "+w(e.uploading?e.$t("general.loading"):e.$t("tool_tip.media_upload")),1)],64)):E("",!0),e.uploadReady?(m(),b("input",{key:3,ref:"input",class:"hidden-input-file",disabled:e.disabled,type:"file",multiple:"true",accept:e.acceptTypes,onChange:t[0]||(t[0]=(...a)=>e.change&&e.change(...a))},null,40,soe)):E("",!0)],10,noe)}const roe=be(toe,[["render",ooe]]);et.add(Vh,zu,nE,lE);const ioe={props:["showAll","userDefault","originalScope","initialScope","onScopeChange"],data(){return{currentScope:this.initialScope}},computed:{showNothing(){return!this.showPublic&&!this.showUnlisted&&!this.showPrivate&&!this.showDirect},showPublic(){return this.originalScope!=="direct"&&this.shouldShow("public")},showUnlisted(){return this.originalScope!=="direct"&&this.shouldShow("unlisted")},showPrivate(){return this.originalScope!=="direct"&&this.shouldShow("private")},showDirect(){return this.shouldShow("direct")},css(){return{public:{toggled:this.currentScope==="public"},unlisted:{toggled:this.currentScope==="unlisted"},private:{toggled:this.currentScope==="private"},direct:{toggled:this.currentScope==="direct"}}}},methods:{shouldShow(e){return this.showAll||this.currentScope===e||this.originalScope===e||this.userDefault===e||e==="direct"},changeVis(e){this.currentScope=e,this.onScopeChange&&this.onScopeChange(e)}}},aoe={key:0,class:"ScopeSelector"},loe=["title"],coe=["title"],uoe=["title"],doe=["title"];function foe(e,t,n,s,o,r){const i=O("FAIcon");return e.showNothing?E("",!0):(m(),b("div",aoe,[e.showDirect?(m(),b("button",{key:0,class:he(["button-unstyled scope",e.css.direct]),title:e.$t("post_status.scope.direct"),type:"button",onClick:t[0]||(t[0]=a=>e.changeVis("direct"))},[A(i,{icon:"envelope",class:"fa-scale-110 fa-old-padding"})],10,loe)):E("",!0),t[4]||(t[4]=fe(" "+w(" ")+" ")),e.showPrivate?(m(),b("button",{key:1,class:he(["button-unstyled scope",e.css.private]),title:e.$t("post_status.scope.private"),type:"button",onClick:t[1]||(t[1]=a=>e.changeVis("private"))},[A(i,{icon:"lock",class:"fa-scale-110 fa-old-padding"})],10,coe)):E("",!0),t[5]||(t[5]=fe(" "+w(" ")+" ")),e.showUnlisted?(m(),b("button",{key:2,class:he(["button-unstyled scope",e.css.unlisted]),title:e.$t("post_status.scope.unlisted"),type:"button",onClick:t[2]||(t[2]=a=>e.changeVis("unlisted"))},[A(i,{icon:"lock-open",class:"fa-scale-110 fa-old-padding"})],10,uoe)):E("",!0),t[6]||(t[6]=fe(" "+w(" ")+" ")),e.showPublic?(m(),b("button",{key:3,class:he(["button-unstyled scope",e.css.public]),title:e.$t("post_status.scope.public"),type:"button",onClick:t[3]||(t[3]=a=>e.changeVis("public"))},[A(i,{icon:"globe",class:"fa-scale-110 fa-old-padding"})],10,doe)):E("",!0)]))}const hoe=be(ioe,[["render",foe]]),poe=(e,t,n)=>e.slice(0,t.start)+n+e.slice(t.end),moe=(e,t)=>{const n=s5(e),s=n5(n);return Z.find(s,({start:o,end:r})=>o<=t&&r>t)},n5=e=>Z.reduce(e,(t,n)=>{const s={word:n,start:0,end:n.length};if(t.length>0){const o=t.pop();s.start+=o.end,s.end+=o.end,t.push(o)}return t.push(s),t},[]),s5=e=>{const t=[];let n="";for(let s=0;s<e.length;s++){const o=e[s];if(!n){n=o;continue}if(!!o.trim()!=!!n.trim()){t.push(n),n=o;continue}n+=o}return n&&t.push(n),t},Lv={wordAtPosition:moe,addPositionToWords:n5,splitByWhitespaceBoundary:s5,replaceWord:poe},goe={props:["radio","modelValue","indeterminate","disabled"],emits:["update:modelValue"],data:e=>({indeterminateTransitionFix:e.indeterminate}),watch:{indeterminate(e){e&&(this.indeterminateTransitionFix=!0)}},methods:{onTransitionEnd(){this.indeterminate||(this.indeterminateTransitionFix=!1)}}},voe=["disabled","checked","indeterminate"];function boe(e,t,n,s,o,r){return m(),b("label",{class:he(["checkbox",[{disabled:n.disabled,indeterminate:n.indeterminate,"indeterminate-fix":e.indeterminateTransitionFix},n.radio?"-radio":"-checkbox"]])},[e.$slots.before?(m(),b("span",{key:0,class:he(["label -before",{faint:n.disabled}])},[Ft(e.$slots,"before")],2)):E("",!0),g("input",{type:"checkbox",class:"visible-for-screenreader-only",disabled:n.disabled,checked:n.modelValue,indeterminate:n.indeterminate,onChange:t[0]||(t[0]=i=>e.$emit("update:modelValue",i.target.checked))},null,40,voe),g("i",{class:he(["input checkbox-indicator",[{disabled:n.disabled},n.radio?"-radio":"-checkbox"]]),"aria-hidden":!0,onTransitionendCapture:t[1]||(t[1]=(...i)=>r.onTransitionEnd&&r.onTransitionEnd(...i))},null,34),e.$slots.default?(m(),b("span",{key:1,class:he(["label -after",{faint:n.disabled}])},[Ft(e.$slots,"default")],2)):E("",!0)],2)}const Ia=be(goe,[["render",boe]]),_oe={name:"Popover",props:{trigger:String,placement:String,boundTo:Object,boundToSelector:String,margin:Object,offset:Object,popoverClass:String,removePadding:Boolean,disabled:Boolean,overlayCenters:Boolean,overlayCentersSelector:String,stayOnClick:Boolean,normalButton:Boolean,hideTrigger:{type:Boolean,default:!1},triggerAttrs:{type:Object,default:{}}},inject:{popoversZLayer:{default:""}},data(){return{anchorEl:null,teleport:!1,lockReEntry:!1,hidden:!0,styles:{},oldSize:{width:0,height:0},scrollable:null,graceTimeout:null,parentPopover:null,disableClickOutside:!1,childrenShown:new Set}},computed:{allTriggerAttrs(){const e={...this.triggerAttrs};return this.hideTrigger&&(e["aria-hidden"]=!0,e.tabindex=1),e}},methods:{setAnchorEl(e){this.anchorEl=e,this.updateStyles()},containerBoundingClientRect(){return(this.boundToSelector?this.$el.closest(this.boundToSelector):this.$el.offsetParent).getBoundingClientRect()},updateStyles(){if(this.hidden){this.styles={};return}const e=this.anchorEl||this.$refs.trigger&&this.$refs.trigger.children[0]||this.$el,t=e.offsetHeight||e.clientHeight,n=e.offsetWidth||e.clientWidth,s=e.getBoundingClientRect(),o=getComputedStyle(e),r=parseFloat(o.paddingTop),i=parseFloat(o.paddingBottom),a=parseFloat(o.paddingRight),c=parseFloat(o.paddingLeft),d={x:s.left+n*.5,y:s.top+t*.5},f=this.$refs.content,h=this.overlayCenters?this.$refs.content.querySelector(this.overlayCentersSelector):null,v=this.boundTo&&(this.boundTo.x==="container"||this.boundTo.y==="container")&&this.containerBoundingClientRect(),_=this.margin||{},S=this.boundTo&&this.boundTo.x==="container"?{min:v.left+(_.left||0),max:v.right-(_.right||0)}:{min:0+(_.left||10),max:window.innerWidth-(_.right||10)},k=this.boundTo&&this.boundTo.y==="container"?{min:v.top+(_.top||0),max:v.bottom-(_.bottom||0)}:{min:0+(_.top||50),max:window.innerHeight-(_.bottom||5)};let P=0,C=0;if(h){const x=f.getBoundingClientRect(),oe=h.getBoundingClientRect(),V=oe.left-x.left,ce=oe.top-x.top;P=-V-h.offsetWidth*.5,C=-ce-h.offsetHeight*.5}else P=f.offsetWidth*-.5,C=f.offsetHeight*-.5;const $=d.x+P,L=$+f.offsetWidth,T=d.y+C,R=T+f.offsetHeight;$<S.min&&(P+=S.min-$),L>S.max&&(P-=L-S.max),T<k.min&&(C+=k.min-T),R>k.max&&(C-=R-k.max);let q=0,D=0;if(h)q=d.x+P,D=d.y+C;else if(this.placement!=="right"&&this.placement!=="left"){let x=this.placement!=="bottom";const oe=d.y-t*.5+(this.removePadding?r:0),V=d.y+t*.5-(this.removePadding?i:0);V+f.offsetHeight>k.max&&(x=!0),oe-f.offsetHeight<k.min&&(x=!1);const ce=this.offset&&this.offset.y||0;D=x?oe-ce-f.offsetHeight:V+ce;const de=this.offset&&this.offset.x||0;q=d.x+P+de}else{let x=this.placement!=="right";const oe=d.x-n*.5+(this.removePadding?c:0),V=d.x+n*.5-(this.removePadding?a:0);V+f.offsetWidth>S.max&&(x=!0),oe-f.offsetWidth<S.min&&(x=!1);const ce=this.offset&&this.offset.x||0;q=x?oe-ce-f.offsetWidth:V+ce;const de=this.offset&&this.offset.y||0;D=d.y+C+de}this.styles={left:`${Math.round(q)}px`,top:`${Math.round(D)}px`},this.popoversZLayer&&(this.styles["--ZI_popover_override"]=`var(--ZI_${this.popoversZLayer}_popovers)`),v&&(this.styles.maxWidth=`${Math.round(v.width)}px`)},showPopover(){if(this.disabled)return;this.disableClickOutside=!0,setTimeout(()=>{this.disableClickOutside=!1},0);const e=this.hidden;this.hidden=!1,this.parentPopover&&this.parentPopover.onChildPopoverState(this,!0),(this.trigger==="click"||this.stayOnClick)&&document.addEventListener("click",this.onClickOutside),this.scrollable.addEventListener("scroll",this.onScroll),this.scrollable.addEventListener("resize",this.onResize),this.$nextTick(()=>{e&&this.$emit("show"),this.updateStyles()})},hidePopover(){this.disabled||(this.hidden||this.$emit("close"),this.hidden=!0,this.parentPopover&&this.parentPopover.onChildPopoverState(this,!1),this.trigger==="click"&&document.removeEventListener("click",this.onClickOutside),this.scrollable.removeEventListener("scroll",this.onScroll),this.scrollable.removeEventListener("resize",this.onResize))},resizePopover(){setTimeout(()=>{this.updateStyles()},1)},onMouseenter(){this.trigger==="hover"&&(this.lockReEntry=!1,clearTimeout(this.graceTimeout),this.graceTimeout=null,this.showPopover())},onMouseleave(){this.trigger==="hover"&&this.childrenShown.size===0&&(this.graceTimeout=setTimeout(()=>this.hidePopover(),1))},onMouseenterContent(){this.trigger==="hover"&&!this.lockReEntry&&(this.lockReEntry=!0,clearTimeout(this.graceTimeout),this.graceTimeout=null,this.showPopover())},onMouseleaveContent(){this.trigger==="hover"&&this.childrenShown.size===0&&(this.graceTimeout=setTimeout(()=>this.hidePopover(),1))},onClick(){this.trigger==="click"&&(this.hidden?this.showPopover():this.hidePopover())},onClickOutside(e){this.disableClickOutside||this.hidden||this.$refs.content&&this.$refs.content.contains(e.target)||this.$el.contains(e.target)||this.childrenShown.size>0||(this.hidePopover(),this.parentPopover&&this.parentPopover.onClickOutside(e))},onScroll(){this.updateStyles()},onResize(){const e=this.$refs.content;e&&(this.oldSize.width!==e.offsetWidth||this.oldSize.height!==e.offsetHeight)&&(this.updateStyles(),this.oldSize={width:e.offsetWidth,height:e.offsetHeight})},onChildPopoverState(e,t){t?this.childrenShown.add(e):this.childrenShown.delete(e)}},updated(){this.onResize()},mounted(){this.teleport=!0;let e=this.$refs.trigger.closest(".column.-scrollable")||this.$refs.trigger.closest(".mobile-notifications");e||(e=window),this.scrollable=e;let t=this.$parent;for(;t&&t.$.type.name!=="Popover";)t=t.$parent;this.parentPopover=t},beforeUnmount(){this.hidePopover()}};function yoe(e,t,n,s,o,r){return m(),b("span",{class:"popover-wrapper",onMouseenter:t[4]||(t[4]=(...i)=>e.onMouseenter&&e.onMouseenter(...i)),onMouseleave:t[5]||(t[5]=(...i)=>e.onMouseleave&&e.onMouseleave(...i))},[g("button",xn({ref:"trigger",class:["popover-trigger-button",e.normalButton?"button-default btn":"button-unstyled"],type:"button"},e.allTriggerAttrs,{onClick:t[0]||(t[0]=(...i)=>e.onClick&&e.onClick(...i))}),[Ft(e.$slots,"trigger")],16),(m(),K(es,{disabled:!e.teleport,to:"#popovers"},[A(i6,{name:"fade"},{default:X(()=>[e.hidden?E("",!0):(m(),b("div",{key:0,ref:"content",style:gn(e.styles),class:he(["popover",e.popoverClass||"popover-default"]),onMouseenter:t[1]||(t[1]=(...i)=>e.onMouseenterContent&&e.onMouseenterContent(...i)),onMouseleave:t[2]||(t[2]=(...i)=>e.onMouseleaveContent&&e.onMouseleaveContent(...i)),onClick:t[3]||(t[3]=(...i)=>e.onClickContent&&e.onClickContent(...i))},[Ft(e.$slots,"content",{class:"popover-inner",close:e.hidePopover,resize:e.resizePopover})],38))]),_:3})],8,["disabled"]))],32)}const fs=be(_oe,[["render",yoe]]),hy=Object.freeze(Object.defineProperty({__proto__:null,default:fs},Symbol.toStringTag,{value:"Module"})),woe={props:["src","referrerpolicy","mimetype","imageLoadError","imageLoadHandler","alt","height","width","dataSrc","loading"],data(){return{realSrc:this.src,stopGifs:this.$store.getters.mergedConfig.stopGifs}},computed:{animated(){return this.realSrc?this.stopGifs&&(this.mimetype==="image/gif"||this.realSrc.endsWith(".gif")):!1},style(){const e=t=>/\d$/.test(t)?t+"px":t;return{height:this.height?e(this.height):null,width:this.width?e(this.width):null}}},methods:{loadLazy(){this.dataSrc&&(this.realSrc=this.dataSrc)},onLoad(){if(!this.realSrc)return;const e=this.$refs.src;if(!e)return;this.imageLoadHandler&&this.imageLoadHandler(e);const t=this.$refs.canvas;if(!t)return;const n=e.naturalWidth,s=e.naturalHeight;t.width=n,t.height=s,t.getContext("2d").drawImage(e,0,0,n,s)},onError(){this.imageLoadError&&this.imageLoadError()}},watch:{src(){this.realSrc=this.src},dataSrc(){this.$el.removeAttribute("data-loaded")}}},Soe={key:0,ref:"canvas"},koe=["alt","title","data-src","src","referrerpolicy","loading"];function $oe(e,t,n,s,o,r){return m(),b("div",{class:he(["still-image",{animated:e.animated}]),style:gn(e.style)},[e.animated?(m(),b("canvas",Soe,null,512)):E("",!0),(m(),b("img",{ref:"src",key:e.realSrc,alt:e.alt,title:e.alt,"data-src":e.dataSrc,src:e.realSrc,referrerpolicy:e.referrerpolicy,loading:e.loading,onLoad:t[0]||(t[0]=(...i)=>e.onLoad&&e.onLoad(...i)),onError:t[1]||(t[1]=(...i)=>e.onError&&e.onError(...i))},null,40,koe)),Ft(e.$slots,"default")],6)}const Mr=be(woe,[["render",$oe]]);et.add(Bx,EY,zh,pY,C_,wx,iY,Gx,Hx,$x,aE,Cx);const Coe={"smileys-and-emotion":"smile","people-and-body":"user","animals-and-nature":"paw","food-and-drink":"ice-cream","travel-and-places":"bus",activities:"basketball-ball",objects:"lightbulb",symbols:"code",flags:"flag"},Toe=(e,t,n)=>{const s=[e.displayText,n(e)];return e.annotations&&t.forEach(o=>{var a,c;const r=((a=e.annotations[o])==null?void 0:a.keywords)||[],i=(c=e.annotations[o])==null?void 0:c.name;s.push(...r.concat([i]).filter(d=>d))}),s},Aoe=(e,t="",n,s)=>{if(t==="")return e;const o=t.toLowerCase(),r=[];for(const i of e){const a=Toe(i,n,s).map(d=>d.toLowerCase().indexOf(o)).filter(d=>d>-1),c=a.length?Math.min(...a):-1;c>-1&&(Array.isArray(r[c])||(r[c]=[]),r[c].push(i))}return r.flat()},Eoe=e=>{const t=e.style.transform,n=/translateY\((\d+)px\)/.exec(t);return n?n[1]:0},Ioe=e=>e.replace(/^row-\d+-/,""),Poe={props:{enableStickerPicker:{required:!1,type:Boolean,default:!0},hideCustomEmoji:{required:!1,type:Boolean,default:!1}},inject:{popoversZLayer:{default:""}},data(){return{keyword:"",activeGroup:"custom",showingStickers:!1,groupsScrolledClass:"scrolled-top",keepOpen:!1,customEmojiTimeout:null,hideCustomEmojiInPicker:!1,contentLoaded:!1,groupRefs:{},emojiRefs:{},filteredEmojiGroups:[],emojiSize:0,width:0}},components:{StickerPicker:fo(()=>He(()=>import("./sticker_picker.Vxn59pym.js"),__vite__mapDeps([0,1]))),Checkbox:Ia,StillImage:Mr,Popover:fs},methods:{groupScroll(e){e.currentTarget.scrollLeft+=e.deltaY+e.deltaX},updateEmojiSize(){const e=window.getComputedStyle(this.$refs.popover.$el),t=e.getPropertyValue("font-size")||"14px",n=e.getPropertyValue("--emojiSize")||"2.2rem",s=t.replace(/[0-9,.]+/,""),o=Number(t.replace(/[^0-9,.]+/,"")),r=n.replace(/[0-9,.]+/,""),i=Number(n.replace(/[^0-9,.]+/,""));let a;s.endsWith("em")?a=o:a=o/14;let c;r.endsWith("em")?c=i*a*14:c=i;const d=c+2*.2*a*14;this.emojiSize=d},showPicker(){this.$refs.popover.showPopover(),this.$nextTick(()=>{this.onShowing()})},hidePicker(){this.$refs.popover.hidePopover()},setAnchorEl(e){this.$refs.popover.setAnchorEl(e)},setGroupRef(e){return t=>{this.groupRefs[e]=t}},onPopoverShown(){this.$emit("show")},onPopoverClosed(){this.$emit("close")},onStickerUploaded(e){this.$emit("sticker-uploaded",e)},onStickerUploadFailed(e){this.$emit("sticker-upload-failed",e)},onEmoji(e){const t=e.imageUrl?`:${e.displayText}:`:e.replacement;this.keepOpen||this.$refs.popover.hidePopover(),this.$emit("emoji",{insertion:t,insertionUrl:e.imageUrl,keepOpen:this.keepOpen})},onScroll(e,t,n,s){const o=this.$refs["emoji-groups"].$el;this.scrolledGroup(o,n,s)},scrolledGroup(e,t,n){const s=e.scrollTop+5;this.$nextTick(()=>{this.emojiItems.slice(t,n+1).forEach(o=>{const r=Ioe(o.id),i=this.groupRefs["group-"+o.id];if(!i)return;const a=i.$el.parentElement;a&&a&&Eoe(a)<=s&&(this.activeGroup=r)}),this.scrollHeader()})},scrollHeader(){const e=this.groupRefs["group-header-"+this.activeGroup],t=e.offsetLeft,n=t+e.offsetWidth,s=this.$refs.header,o=s.scrollLeft,r=o+s.clientWidth,i=c=>{s.scrollLeft=c},a=7;t-a<o?i(t-a):n+a>r&&i(n+a-s.clientWidth)},highlight(e){this.setShowStickers(!1);const t=this.emojiItems.findIndex(n=>n.id===e);this.$refs["emoji-groups"].scrollToItem(t)},updateScrolledClass(e){e.scrollTop<=5?this.groupsScrolledClass="scrolled-top":e.scrollTop>=e.scrollTopMax-5?this.groupsScrolledClass="scrolled-bottom":this.groupsScrolledClass="scrolled-middle"},toggleStickers(){this.showingStickers=!this.showingStickers},setShowStickers(e){this.showingStickers=e},filterByKeyword(e,t){return Aoe(e,t,this.languages,this.maybeLocalizedEmojiName)},onShowing(){const e=this.contentLoaded;this.updateEmojiSize(),this.recalculateItemPerRow(),this.$nextTick(()=>{this.$refs.search.focus()}),this.contentLoaded=!0,this.filteredEmojiGroups=this.getFilteredEmojiGroups(),e||this.$nextTick(()=>{this.defaultGroup&&this.highlight(this.defaultGroup)})},getFilteredEmojiGroups(){return this.allEmojiGroups.map(e=>({...e,emojis:this.filterByKeyword(e.emojis,Z.trim(this.keyword))})).filter(e=>e.emojis.length>0)},recalculateItemPerRow(){this.$nextTick(()=>{this.$refs["emoji-groups"]&&(this.width=this.$refs["emoji-groups"].$el.clientWidth)})}},watch:{keyword(){this.onScroll(),this.debouncedHandleKeywordChange()},allCustomGroups(){this.filteredEmojiGroups=this.getFilteredEmojiGroups()}},computed:{minItemSize(){return this.emojiSize},fontSize(){return this.$nextTick(()=>{this.updateEmojiSize()}),this.$store.getters.mergedConfig.fontSize},emojiHeight(){return this.emojiSize},itemPerRow(){return this.width?Math.floor(this.width/this.emojiSize):6},activeGroupView(){return this.showingStickers?"":this.activeGroup},stickersAvailable(){return this.$store.state.instance.stickers?this.$store.state.instance.stickers.length>0:0},allCustomGroups(){if(this.hideCustomEmoji||this.hideCustomEmojiInPicker)return{};const e=this.$store.getters.groupedCustomEmojis;return e.unpacked&&(e.unpacked.text=this.$t("emoji.unpacked")),e},defaultGroup(){return Object.keys(this.allCustomGroups)[0]},unicodeEmojiGroups(){return this.$store.getters.standardEmojiGroupList.map(e=>({id:`standard-${e.id}`,text:this.$t(`emoji.unicode_groups.${e.id}`),icon:Coe[e.id],emojis:e.emojis}))},allEmojiGroups(){return Object.entries(this.allCustomGroups).map(([,e])=>e).concat(this.unicodeEmojiGroups)},stickerPickerEnabled(){return(this.$store.state.instance.stickers||[]).length!==0},debouncedHandleKeywordChange(){return Z.debounce(()=>{this.filteredEmojiGroups=this.getFilteredEmojiGroups()},500)},emojiItems(){return this.filteredEmojiGroups.map(e=>Z.chunk(e.emojis,this.itemPerRow).map((t,n)=>({...e,id:n===0?e.id:`row-${n}-${e.id}`,emojis:t,isFirstRow:n===0}))).reduce((e,t)=>e.concat(t),[])},languages(){return l_(this.$store.getters.mergedConfig.interfaceLanguage)},maybeLocalizedEmojiName(){return e=>{var t;if(!e.annotations)return e.displayText;if(e.displayTextI18n)return this.$t(e.displayTextI18n.key,e.displayTextI18n.args);for(const n of this.languages)if((t=e.annotations[n])!=null&&t.name)return e.annotations[n].name;return e.displayText}},isInModal(){return this.popoversZLayer==="modals"}}},Loe={class:"heading"},Ooe={class:"emoji-search"},Roe=["placeholder"],Moe=["title","onClick"],Noe={key:0,class:"emoji-picker-header-image"},Foe={key:0,class:"additional-tabs"},Doe=["title"],Uoe={key:0,class:"content"},joe={key:0,class:"emoji-group-title"},Boe=["title","onClick"],zoe={key:0,class:"emoji-picker-emoji -unicode"},qoe={class:"keep-open"},Hoe={key:0,class:"hide-custom-emoji"},Voe={key:0,class:"stickers-content"};function Woe(e,t,n,s,o,r){const i=O("still-image"),a=O("FAIcon"),c=O("DynamicScrollerItem"),d=O("DynamicScroller"),f=O("Checkbox"),h=O("sticker-picker"),v=O("Popover"),_=Dl("body-scroll-lock");return m(),K(v,{ref:"popover",trigger:"click","popover-class":"emoji-picker popover-default","hide-trigger":!0,onShow:e.onPopoverShown,onClose:e.onPopoverClosed},{content:X(()=>[g("div",Loe,[g("div",Ooe,[ot(g("input",{ref:"search","onUpdate:modelValue":t[0]||(t[0]=S=>e.keyword=S),type:"text",class:"input form-control",placeholder:e.$t("emoji.search_emoji"),onInput:t[1]||(t[1]=S=>S.target.composing=!1)},null,40,Roe),[[Mt,e.keyword]])]),ot((m(),b("span",{ref:"header",class:"emoji-tabs",onWheel:t[2]||(t[2]=Se((...S)=>e.groupScroll&&e.groupScroll(...S),["prevent"]))},[(m(!0),b(Te,null,Ke(e.filteredEmojiGroups,S=>(m(),b("span",{ref_for:!0,ref:e.setGroupRef("group-header-"+S.id),key:S.id,class:he(["button-unstyled emoji-tabs-item",{toggled:e.activeGroupView===S.id}]),title:S.text,role:"button",onClick:Se(k=>e.highlight(S.id),["prevent"])},[S.image?(m(),b("span",Noe,[A(i,{alt:S.text,src:S.image},null,8,["alt","src"])])):(m(),K(a,{key:1,icon:S.icon,"fixed-width":""},null,8,["icon"]))],10,Moe))),128))],32)),[[_,e.isInModal]]),e.stickerPickerEnabled?(m(),b("span",Foe,[g("span",{class:he(["button-unstyled stickers-tab-icon additional-tabs-item",{toggled:e.showingStickers}]),title:e.$t("emoji.stickers"),onClick:t[3]||(t[3]=Se((...S)=>e.toggleStickers&&e.toggleStickers(...S),["prevent"]))},[A(a,{icon:"sticky-note","fixed-width":""})],10,Doe)])):E("",!0)]),e.contentLoaded?(m(),b("div",Uoe,[g("div",{class:he(["emoji-content",{hidden:e.showingStickers}])},[ot((m(),K(d,{ref:"emoji-groups",class:he(["emoji-groups",e.groupsScrolledClass]),"min-item-size":e.minItemSize,buffer:e.minItemSize,items:e.emojiItems,"emit-update":!0,onUpdate:e.onScroll,onVisible:e.recalculateItemPerRow,onResize:e.recalculateItemPerRow},{default:X(({item:S,index:k,active:P})=>[A(c,{ref:e.setGroupRef("group-"+S.id),item:S,active:P,"data-index":k,"size-dependencies":[S.emojis.length]},{default:X(()=>[g("div",{class:he(["emoji-group",{"first-row":S.isFirstRow}]),style:gn({"--__amount":e.itemPerRow})},[S.isFirstRow?(m(),b("h6",joe,w(S.text),1)):E("",!0),(m(!0),b(Te,null,Ke(S.emojis,C=>(m(),b("span",{key:S.id+C.displayText,title:e.maybeLocalizedEmojiName(C),class:"emoji-item",role:"button",onClick:Se($=>e.onEmoji(C),["stop","prevent"])},[C.imageUrl?(m(),K(i,{key:1,class:"emoji-picker-emoji -custom",loading:"lazy",alt:e.maybeLocalizedEmojiName(C),src:C.imageUrl,"data-emoji-name":S.id+C.displayText},null,8,["alt","src","data-emoji-name"])):(m(),b("span",zoe,w(C.replacement),1))],8,Boe))),128))],6)]),_:2},1032,["item","active","data-index","size-dependencies"])]),_:1},8,["class","min-item-size","buffer","items","onUpdate","onVisible","onResize"])),[[_,e.isInModal]]),g("div",qoe,[A(f,{modelValue:e.keepOpen,"onUpdate:modelValue":t[4]||(t[4]=S=>e.keepOpen=S)},{default:X(()=>[fe(w(e.$t("emoji.keep_open")),1)]),_:1},8,["modelValue"])]),e.hideCustomEmoji?E("",!0):(m(),b("div",Hoe,[A(f,{modelValue:e.hideCustomEmojiInPicker,"onUpdate:modelValue":t[5]||(t[5]=S=>e.hideCustomEmojiInPicker=S),onChange:e.onShowing},{default:X(()=>[fe(w(e.$t("emoji.hide_custom_emoji")),1)]),_:1},8,["modelValue","onChange"])]))],2),e.showingStickers?(m(),b("div",Voe,[A(h,{onUploaded:e.onStickerUploaded,onUploadFailed:e.onStickerUploadFailed},null,8,["onUploaded","onUploadFailed"])])):E("",!0)])):E("",!0)]),_:1},8,["onShow","onClose"])}const py=be(Poe,[["render",Woe]]),Goe={props:{ariaLive:{type:String,default:"assertive"}},data(){return{currentText:""}},methods:{announce(e){this.currentText=e,setTimeout(()=>{this.currentText=""},1e3)}}},Koe=["aria-live"];function xoe(e,t,n,s,o,r){return m(),b("div",{class:"visible-for-screenreader-only","aria-live":e.ariaLive},w(e.currentText),9,Koe)}const Yoe=be(Goe,[["render",xoe]]);et.add(aE);const Xoe={props:{user:Object}},Joe=Xoe;function Zoe(e,t,n,s,o,r){const i=O("FAIcon");return e.user&&e.user.screen_name_ui_contains_non_ascii?(m(),K(i,{key:0,icon:"code",title:e.$t("unicode_domain_indicator.tooltip")},null,8,["title"])):E("",!0)}const lp=be(Joe,[["render",Zoe]]),my=(e,t,{top:n=0,left:s=0}={},o=!0)=>{const r={top:n+e.offsetTop,left:s+e.offsetLeft};if(!o&&e!==window){const{topPadding:i,leftPadding:a}=J4(e);r.top+=o?0:i,r.left+=o?0:a}if(e.offsetParent&&window.getComputedStyle(e.offsetParent).position!=="sticky"&&(t===window||t.contains(e.offsetParent)||t===e.offsetParent))return my(e.offsetParent,t,r,!1);if(t!==window){const{topPadding:i,leftPadding:a}=J4(t);r.top+=i,r.left+=a}return r},J4=e=>{const t=window.getComputedStyle(e)["padding-top"],n=Number(t.substring(0,t.length-2)),s=window.getComputedStyle(e)["padding-left"],o=Number(s.substring(0,s.length-2));return{topPadding:n,leftPadding:o}};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Qoe={prefix:"far",iconName:"face-smile-beam",icon:[512,512,[128522,"smile-beam"],"f5b8","M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm177.6 62.1C192.8 334.5 218.8 352 256 352s63.2-17.5 78.4-33.9c9-9.7 24.2-10.4 33.9-1.4s10.4 24.2 1.4 33.9c-22 23.8-60 49.4-113.6 49.4s-91.7-25.5-113.6-49.4c-9-9.7-8.4-24.9 1.4-33.9s24.9-8.4 33.9 1.4zm40-89.3s0 0 0 0c0 0 0 0 0 0l-.2-.2c-.2-.2-.4-.5-.7-.9c-.6-.8-1.6-2-2.8-3.4c-2.5-2.8-6-6.6-10.2-10.3c-8.8-7.8-18.8-14-27.7-14s-18.9 6.2-27.7 14c-4.2 3.7-7.7 7.5-10.2 10.3c-1.2 1.4-2.2 2.6-2.8 3.4c-.3 .4-.6 .7-.7 .9l-.2 .2c0 0 0 0 0 0c0 0 0 0 0 0s0 0 0 0c-2.1 2.8-5.7 3.9-8.9 2.8s-5.5-4.1-5.5-7.6c0-17.9 6.7-35.6 16.6-48.8c9.8-13 23.9-23.2 39.4-23.2s29.6 10.2 39.4 23.2c9.9 13.2 16.6 30.9 16.6 48.8c0 3.4-2.2 6.5-5.5 7.6s-6.9 0-8.9-2.8c0 0 0 0 0 0s0 0 0 0zm160 0c0 0 0 0 0 0l-.2-.2c-.2-.2-.4-.5-.7-.9c-.6-.8-1.6-2-2.8-3.4c-2.5-2.8-6-6.6-10.2-10.3c-8.8-7.8-18.8-14-27.7-14s-18.9 6.2-27.7 14c-4.2 3.7-7.7 7.5-10.2 10.3c-1.2 1.4-2.2 2.6-2.8 3.4c-.3 .4-.6 .7-.7 .9l-.2 .2c0 0 0 0 0 0c0 0 0 0 0 0s0 0 0 0c-2.1 2.8-5.7 3.9-8.9 2.8s-5.5-4.1-5.5-7.6c0-17.9 6.7-35.6 16.6-48.8c9.8-13 23.9-23.2 39.4-23.2s29.6 10.2 39.4 23.2c9.9 13.2 16.6 30.9 16.6 48.8c0 3.4-2.2 6.5-5.5 7.6s-6.9 0-8.9-2.8c0 0 0 0 0 0s0 0 0 0s0 0 0 0z"]},ere=Qoe,tre={prefix:"far",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48C0 21.5 21.5 0 48 0l0 48 0 393.4 130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4 336 48 48 48 48 0 336 0c26.5 0 48 21.5 48 48l0 440c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488L0 48z"]},nre={prefix:"far",iconName:"star",icon:[576,512,[11088,61446],"f005","M287.9 0c9.2 0 17.6 5.2 21.6 13.5l68.6 141.3 153.2 22.6c9 1.3 16.5 7.6 19.3 16.3s.5 18.1-5.9 24.5L433.6 328.4l26.2 155.6c1.5 9-2.2 18.1-9.7 23.5s-17.3 6-25.3 1.7l-137-73.2L151 509.1c-8.1 4.3-17.9 3.7-25.3-1.7s-11.2-14.5-9.7-23.5l26.2-155.6L31.1 218.2c-6.5-6.4-8.7-15.9-5.9-24.5s10.3-14.9 19.3-16.3l153.2-22.6L266.3 13.5C270.4 5.2 278.7 0 287.9 0zm0 79L235.4 187.2c-3.5 7.1-10.2 12.1-18.1 13.3L99 217.9 184.9 303c5.5 5.5 8.1 13.3 6.8 21L171.4 443.7l105.2-56.2c7.1-3.8 15.6-3.8 22.6 0l105.2 56.2L384.2 324.1c-1.3-7.7 1.2-15.5 6.8-21l85.9-85.1L358.6 200.5c-7.8-1.2-14.6-6.1-18.1-13.3L287.9 79z"]},TCe={prefix:"far",iconName:"window-minimize",icon:[512,512,[128469],"f2d1","M24 432c-13.3 0-24 10.7-24 24s10.7 24 24 24l464 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L24 432z"]};et.add(ere);const sre={emits:["update:modelValue","shown"],props:{suggest:{required:!0,type:Function},modelValue:{required:!0,type:String},enableEmojiPicker:{required:!1,type:Boolean,default:!1},hideEmojiButton:{required:!1,type:Boolean,default:!1},enableStickerPicker:{required:!1,type:Boolean,default:!1},placement:{required:!1,type:String,default:"auto"},newlineOnCtrlEnter:{required:!1,type:Boolean,default:!1}},data(){return{randomSeed:ap(),input:void 0,caretEl:void 0,highlighted:-1,caret:0,focused:!1,blurTimeout:null,temporarilyHideSuggestions:!1,disableClickOutside:!1,suggestions:[],overlayStyle:{},pickerShown:!1}},components:{Popover:fs,EmojiPicker:py,UnicodeDomainIndicator:lp,ScreenReaderNotice:Yoe},computed:{padEmoji(){return this.$store.getters.mergedConfig.padEmoji},defaultCandidateIndex(){return this.$store.getters.mergedConfig.autocompleteSelect?0:-1},preText(){return this.modelValue.slice(0,this.caret)},postText(){return this.modelValue.slice(this.caret)},showSuggestions(){return this.focused&&this.suggestions&&this.suggestions.length>0&&!this.pickerShown&&!this.temporarilyHideSuggestions},textAtCaret(){var e;return(e=this.wordAtCaret)==null?void 0:e.word},wordAtCaret(){if(this.modelValue&&this.caret)return Lv.wordAtPosition(this.modelValue,this.caret-1)||{}},languages(){return l_(this.$store.getters.mergedConfig.interfaceLanguage)},maybeLocalizedEmojiNamesAndKeywords(){return e=>{const t=[e.displayText],n=[];return e.displayTextI18n&&t.push(this.$t(e.displayTextI18n.key,e.displayTextI18n.args)),e.annotations&&this.languages.forEach(s=>{var o,r;t.push((o=e.annotations[s])==null?void 0:o.name),n.push(...((r=e.annotations[s])==null?void 0:r.keywords)||[])}),{names:t.filter(s=>s),keywords:n.filter(s=>s)}}},maybeLocalizedEmojiName(){return e=>{var t;if(!e.annotations)return e.displayText;if(e.displayTextI18n)return this.$t(e.displayTextI18n.key,e.displayTextI18n.args);for(const n of this.languages)if((t=e.annotations[n])!=null&&t.name)return e.annotations[n].name;return e.displayText}},onInputScroll(){this.$refs.hiddenOverlay.scrollTo({top:this.input.scrollTop,left:this.input.scrollLeft})},suggestionListId(){return`suggestions-${this.randomSeed}`},suggestionItemId(){return e=>`suggestion-item-${e}-${this.randomSeed}`}},mounted(){const{root:e,hiddenOverlayCaret:t,suggestorPopover:n}=this.$refs,s=e.querySelector(".emoji-input > input")||e.querySelector(".emoji-input > textarea");if(!s)return;this.input=s,this.caretEl=t,n.setAnchorEl?(n.setAnchorEl(this.caretEl),this.$refs.picker.setAnchorEl(this.caretEl)):console.warn("setAnchorEl not found, are we in a unit test?");const o=getComputedStyle(this.input);this.overlayStyle.padding=o.padding,this.overlayStyle.border=o.border,this.overlayStyle.margin=o.margin,this.overlayStyle.lineHeight=o.lineHeight,this.overlayStyle.fontFamily=o.fontFamily,this.overlayStyle.fontSize=o.fontSize,this.overlayStyle.wordWrap=o.wordWrap,this.overlayStyle.whiteSpace=o.whiteSpace,this.resize(),s.addEventListener("blur",this.onBlur),s.addEventListener("focus",this.onFocus),s.addEventListener("paste",this.onPaste),s.addEventListener("keyup",this.onKeyUp),s.addEventListener("keydown",this.onKeyDown),s.addEventListener("click",this.onClickInput),s.addEventListener("transitionend",this.onTransition),s.addEventListener("input",this.onInput),s.addEventListener("scroll",this.onInputScroll)},unmounted(){const{input:e}=this;e&&(e.removeEventListener("blur",this.onBlur),e.removeEventListener("focus",this.onFocus),e.removeEventListener("paste",this.onPaste),e.removeEventListener("keyup",this.onKeyUp),e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("click",this.onClickInput),e.removeEventListener("transitionend",this.onTransition),e.removeEventListener("input",this.onInput),e.removeEventListener("scroll",this.onInputScroll))},watch:{showSuggestions:function(e){this.$emit("shown",e),e?this.$refs.suggestorPopover.showPopover():this.$refs.suggestorPopover.hidePopover()},textAtCaret:async function(e){if(e===void 0)return;const t=e.charAt(0);if(e===t){this.suggestions=[];return}const n=await this.suggest(e,this.maybeLocalizedEmojiNamesAndKeywords);if(this.textAtCaret!==e||n.length<=0){this.suggestions=[];return}this.suggestions=Z.take(n,5).map(({imageUrl:s,...o})=>({...o,img:s||""})),this.highlighted=this.defaultCandidateIndex,this.$refs.screenReaderNotice.announce(this.$t("tool_tip.autocomplete_available",{number:this.suggestions.length},this.suggestions.length))}},methods:{triggerShowPicker(){this.$nextTick(()=>{this.$refs.picker.showPicker(),this.scrollIntoView()}),this.disableClickOutside=!0,setTimeout(()=>{this.disableClickOutside=!1},0)},togglePicker(){this.input.focus(),this.pickerShown?this.$refs.picker.hidePicker():(this.scrollIntoView(),this.$refs.picker.showPicker(),this.$refs.picker.startEmojiLoad())},replace(e){const t=Lv.replaceWord(this.modelValue,this.wordAtCaret,e);this.$emit("update:modelValue",t),this.caret=0},insert({insertion:e,keepOpen:t,surroundingSpace:n=!0}){const s=this.modelValue.substring(0,this.caret)||"",o=this.modelValue.substring(this.caret)||"",r=/\s/,i=n&&!r.exec(s.slice(-1))&&s.length&&this.padEmoji>0?" ":"",a=n&&!r.exec(o[0])&&this.padEmoji?" ":"",c=[s,i,e,a,o].join("");this.$emit("update:modelValue",c);const d=this.caret+(e+a+i).length;t||this.input.focus(),this.$nextTick(function(){this.input.setSelectionRange(d,d),this.caret=d})},replaceText(e,t){const n=this.suggestions.length||0;if(this.textAtCaret.length!==1&&(n>0||t)){const o=(t||this.suggestions[this.highlighted]).replacement,r=Lv.replaceWord(this.modelValue,this.wordAtCaret,o);this.$emit("update:modelValue",r),this.highlighted=0;const i=this.wordAtCaret.start+o.length;this.$nextTick(function(){this.input.focus(),this.input.setSelectionRange(i,i),this.caret=i}),e.preventDefault()}},cycleBackward(e){const t=this.suggestions.length||0;this.highlighted-=1,this.highlighted===-1?this.input.focus():this.highlighted<-1&&(this.highlighted=t-1),t>0&&e.preventDefault()},cycleForward(e){const t=this.suggestions.length||0;this.highlighted+=1,this.highlighted>=t&&(this.highlighted=-1,this.input.focus()),t>0&&e.preventDefault()},scrollIntoView(){const e=this.$refs.picker.$el,t=this.$el.closest(".sidebar-scroller")||this.$el.closest(".post-form-modal-view")||window,n=t===window?t.scrollY:t.scrollTop,s=t===window?t.innerHeight:t.offsetHeight,o=n+s,r=e.offsetHeight+my(e,t).top,i=Math.max(0,r-o),a=n+i;t===window?t.scroll(0,a):t.scrollTop=a,this.$nextTick(()=>{const{offsetHeight:c}=this.input,{picker:d}=this.$refs;d.$el.getBoundingClientRect().bottom>window.innerHeight&&(d.$el.style.top="auto",d.$el.style.bottom=c+"px")})},onPickerShown(){this.pickerShown=!0},onPickerClosed(){this.pickerShown=!1},onBlur(e){this.blurTimeout=setTimeout(()=>{this.focused=!1,this.setCaret(e)},200)},onClick(e,t){this.replaceText(e,t)},onFocus(e){this.blurTimeout&&(clearTimeout(this.blurTimeout),this.blurTimeout=null),this.focused=!0,this.setCaret(e),this.temporarilyHideSuggestions=!1},onKeyUp(e){const{key:t}=e;this.setCaret(e),t==="Escape"?this.temporarilyHideSuggestions=!0:this.temporarilyHideSuggestions=!1},onPaste(e){this.setCaret(e)},onKeyDown(e){const{ctrlKey:t,shiftKey:n,key:s}=e;this.newlineOnCtrlEnter&&t&&s==="Enter"&&(this.insert({insertion:`
`,surroundingSpace:!1}),e.stopPropagation(),e.preventDefault(),this.$nextTick(()=>{this.input.blur(),this.input.focus()})),this.temporarilyHideSuggestions||(s==="Tab"&&(n?this.cycleBackward(e):this.cycleForward(e)),s==="ArrowUp"?this.cycleBackward(e):s==="ArrowDown"&&this.cycleForward(e),s==="Enter"&&(t||this.replaceText(e))),s==="Escape"&&(this.temporarilyHideSuggestions||this.input.focus())},onInput(e){this.setCaret(e),this.$emit("update:modelValue",e.target.value)},onStickerUploaded(e){this.$emit("sticker-uploaded",e)},onStickerUploadFailed(e){this.$emit("sticker-upload-Failed",e)},setCaret({target:{selectionStart:e}}){this.caret=e,this.$nextTick(()=>{this.$refs.suggestorPopover.updateStyles()})},resize(){},autoCompleteItemLabel(e){return e.user?e.displayText+" "+e.detailText:this.maybeLocalizedEmojiName(e)}}},ore={ref:"hiddenOverlayCaret",class:"caret"},rre=["title"],ire=["id"],are=["id","aria-label","aria-selected","onClick"],lre={class:"image"},cre=["src"],ure={key:1},dre={class:"label"},fre={key:0,class:"displayText"},hre={key:1,class:"displayText"},pre={class:"detailText"};function mre(e,t,n,s,o,r){const i=O("screen-reader-notice"),a=O("FAIcon"),c=O("EmojiPicker"),d=O("UnicodeDomainIndicator"),f=O("Popover");return m(),b("div",{ref:"root",class:he(["input emoji-input",{"with-picker":!e.hideEmojiButton}])},[Ft(e.$slots,"default",{id:"textbox-"+e.randomSeed,ariaOwns:e.suggestionListId,ariaAutocomplete:"both",ariaExpanded:e.showSuggestions,ariaActivedescendant:!e.showSuggestions||e.highlighted===-1?"":e.suggestionItemId(e.highlighted)}),g("div",{ref:"hiddenOverlay",class:"hidden-overlay",style:gn(e.overlayStyle),"aria-hidden":!0},[g("span",null,w(e.preText),1),g("span",ore,"x",512),g("span",null,w(e.postText),1)],4),A(i,{ref:"screenReaderNotice","aria-live":"assertive"},null,512),e.enableEmojiPicker?(m(),b(Te,{key:0},[e.hideEmojiButton?E("",!0):(m(),b("button",{key:0,class:"button-unstyled emoji-picker-icon",type:"button",title:e.$t("emoji.add_emoji"),onClick:t[0]||(t[0]=Se((...h)=>e.togglePicker&&e.togglePicker(...h),["prevent"]))},[A(a,{icon:["far","smile-beam"]})],8,rre)),e.enableEmojiPicker?(m(),K(c,{key:1,ref:"picker","enable-sticker-picker":e.enableStickerPicker,class:"emoji-picker-panel",onEmoji:e.insert,onStickerUploaded:e.onStickerUploaded,onStickerUploadFailed:e.onStickerUploadFailed,onShow:e.onPickerShown,onClose:e.onPickerClosed},null,8,["enable-sticker-picker","onEmoji","onStickerUploaded","onStickerUploadFailed","onShow","onClose"])):E("",!0)],64)):E("",!0),A(f,{ref:"suggestorPopover",class:"autocomplete-panel",placement:"bottom","hide-trigger":!0},{content:X(()=>[g("div",{id:e.suggestionListId,ref:"panel-body",class:"autocomplete-panel-body",role:"listbox"},[(m(!0),b(Te,null,Ke(e.suggestions,(h,v)=>(m(),b("div",{id:e.suggestionItemId(v),key:v,class:he(["menu-item autocomplete-item",{"-active":v===e.highlighted}]),role:"option","aria-label":e.autoCompleteItemLabel(h),"aria-selected":v===e.highlighted,onClick:Se(_=>e.onClick(_,h),["stop","prevent"])},[g("span",lre,[h.img?(m(),b("img",{key:0,src:h.img},null,8,cre)):(m(),b("span",ure,w(h.replacement),1))]),g("div",dre,[h.user?(m(),b("span",fre,[fe(w(h.displayText),1),A(d,{user:h.user,at:!1},null,8,["user"])])):E("",!0),h.user?E("",!0):(m(),b("span",hre,w(e.maybeLocalizedEmojiName(h)),1)),g("span",pre,w(h.detailText),1)])],10,are))),128))],8,ire)]),_:1},512)],2)}const gre=be(sre,[["render",mre]]),sh=1e3,Rl=60*sh,Ml=60*Rl,Nr=24*Ml,Z4=7*Nr,Q4=30*Nr,eC=365.25*Nr,o5=e=>(typeof e=="string"&&(e=Date.parse(e)),Math.abs(Date.now()-e)),r5=(e,t=1)=>{const n=Date.now()>e?Math.floor:Math.ceil,s=o5(e),o={num:n(s/eC),key:"time.unit.years"};return s<t*sh?(o.num=0,o.key="time.now"):s<Rl?(o.num=n(s/sh),o.key="time.unit.seconds"):s<Ml?(o.num=n(s/Rl),o.key="time.unit.minutes"):s<Nr?(o.num=n(s/Ml),o.key="time.unit.hours"):s<Z4?(o.num=n(s/Nr),o.key="time.unit.days"):s<Q4?(o.num=n(s/Z4),o.key="time.unit.weeks"):s<eC&&(o.num=n(s/Q4),o.key="time.unit.months"),o},vre=(e,t=1)=>{const n=r5(e,t);return n.key+="_short",n},gy=(e,t)=>{switch(e){case"minutes":return .001*t*Rl;case"hours":return .001*t*Ml;case"days":return .001*t*Nr}},bre=(e,t)=>{switch(e){case"minutes":return 1e3*t/Rl;case"hours":return 1e3*t/Ml;case"days":return 1e3*t/Nr}},_re=(e,t)=>e.getFullYear()===t.getFullYear(),yre=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth(),wre=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),Sre=e=>{if(typeof e!="string")return 0;const t=e.replace(/[0-9,.]+/,""),n=e.replace(/[^0-9,.]+/,"");switch(t){case"d":return n*Nr;case"h":return n*Ml;case"m":return n*Rl;case"s":return n*sh;default:return 0}},kre={pollType:"single",options:["",""],expiryAmount:10,expiryUnit:"minutes"},pi=(e,t)=>e[t]!==void 0?e[t]:kre[t],$re=e=>{const t=gy(pi(e,"expiryUnit"),pi(e,"expiryAmount")),n=Z.uniq(pi(e,"options").filter(s=>s!==""));return n.length<2?{errorKey:"polls.not_enough_options"}:{options:n,multiple:pi(e,"pollType")==="multiple",expiresIn:t}};et.add(Ca);const Cre={emits:["update:modelValue"],props:["modelValue","disabled","unstyled","kind","attrs"]},Tre=["disabled","value"];function Are(e,t,n,s,o,r){const i=O("FAIcon");return m(),b("label",{class:he(["Select input",{disabled:e.disabled,unstyled:e.unstyled}])},[g("select",xn({disabled:e.disabled,value:e.modelValue},e.$attrs,{onChange:t[0]||(t[0]=a=>e.$emit("update:modelValue",a.target.value))}),[Ft(e.$slots,"default")],16,Tre),t[1]||(t[1]=fe(" "+w(" ")+" ")),!e.$attrs.size&&!e.$attrs.multiple?(m(),K(i,{key:0,class:"select-down-icon",icon:"chevron-down"})):E("",!0)],2)}const zl=be(Cre,[["render",Are]]);et.add(Yn,O_);const Ere={components:{Select:zl},name:"PollForm",props:{visible:{},params:{type:Object,required:!0}},computed:{pollType:{get(){return pi(this.params,"pollType")},set(e){this.params.pollType=e}},options(){return!!this.params.options||(this.params.options=pi(this.params,"options")),this.params.options},expiryAmount:{get(){return pi(this.params,"expiryAmount")},set(e){this.params.expiryAmount=e}},expiryUnit:{get(){return pi(this.params,"expiryUnit")},set(e){this.params.expiryUnit=e}},pollLimits(){return this.$store.state.instance.pollLimits},maxOptions(){return this.pollLimits.max_options},maxLength(){return this.pollLimits.max_option_chars},expiryUnits(){const e=["minutes","hours","days"],t=this.convertExpiryFromUnit;return e.filter(n=>this.pollLimits.max_expiration>=t(n,1))},minExpirationInCurrentUnit(){return Math.ceil(this.convertExpiryToUnit(this.expiryUnit,this.pollLimits.min_expiration))},maxExpirationInCurrentUnit(){return Math.floor(this.convertExpiryToUnit(this.expiryUnit,this.pollLimits.max_expiration))}},methods:{clear(){this.pollType="single",this.options=["",""],this.expiryAmount=10,this.expiryUnit="minutes"},nextOption(e){const t=this.$el.querySelector(`#poll-${e+1}`);t?t.focus():this.addOption()&&this.$nextTick(function(){this.nextOption(e)})},addOption(){return this.options.length<this.maxOptions?(this.options.push(""),!0):!1},deleteOption(e){this.options.length>2&&this.options.splice(e,1)},convertExpiryToUnit(e,t){return bre(e,t)},convertExpiryFromUnit(e,t){return gy(e,t)},expiryAmountChange(){this.expiryAmount=Math.max(this.minExpirationInCurrentUnit,this.expiryAmount),this.expiryAmount=Math.min(this.maxExpirationInCurrentUnit,this.expiryAmount)}}},Ire={key:0,class:"poll-form"},Pre={class:"input-container"},Lre=["id","onUpdate:modelValue","placeholder","maxlength","onKeydown"],Ore=["onClick"],Rre={class:"poll-type-expiry"},Mre=["title"],Nre={value:"single"},Fre={value:"multiple"},Dre=["title"],Ure=["min","max"],jre=["value"];function Bre(e,t,n,s,o,r){const i=O("FAIcon"),a=O("Select");return e.visible?(m(),b("div",Ire,[(m(!0),b(Te,null,Ke(e.options,(c,d)=>(m(),b("div",{key:d,class:"poll-option"},[g("div",Pre,[ot(g("input",{id:`poll-${d}`,"onUpdate:modelValue":f=>e.options[d]=f,size:"1",class:"input poll-option-input",type:"text",placeholder:e.$t("polls.option"),maxlength:e.maxLength,onChange:t[0]||(t[0]=(...f)=>e.updatePollToParent&&e.updatePollToParent(...f)),onKeydown:Ir(Se(f=>e.nextOption(d),["stop","prevent"]),["enter"])},null,40,Lre),[[Mt,e.options[d]]])]),e.options.length>2?(m(),b("button",{key:0,class:"delete-option button-unstyled -hover-highlight",onClick:f=>e.deleteOption(d)},[A(i,{icon:"times"})],8,Ore)):E("",!0)]))),128)),e.options.length<e.maxOptions?(m(),b("button",{key:0,class:"add-option faint button-unstyled -hover-highlight",onClick:t[1]||(t[1]=(...c)=>e.addOption&&e.addOption(...c))},[A(i,{icon:"plus",size:"sm"}),fe(" "+w(e.$t("polls.add_option")),1)])):E("",!0),g("div",Rre,[g("div",{class:"poll-type",title:e.$t("polls.type")},[A(a,{modelValue:e.pollType,"onUpdate:modelValue":t[2]||(t[2]=c=>e.pollType=c),class:"poll-type-select",unstyled:"true",onChange:e.updatePollToParent},{default:X(()=>[g("option",Nre,w(e.$t("polls.single_choice")),1),g("option",Fre,w(e.$t("polls.multiple_choices")),1)]),_:1},8,["modelValue","onChange"])],8,Mre),g("div",{class:"poll-expiry",title:e.$t("polls.expiry")},[ot(g("input",{"onUpdate:modelValue":t[3]||(t[3]=c=>e.expiryAmount=c),type:"number",class:"input expiry-amount hide-number-spinner",min:e.minExpirationInCurrentUnit,max:e.maxExpirationInCurrentUnit,onChange:t[4]||(t[4]=(...c)=>e.expiryAmountChange&&e.expiryAmountChange(...c))},null,40,Ure),[[Mt,e.expiryAmount]]),t[6]||(t[6]=fe(" "+w(" ")+" ")),A(a,{modelValue:e.expiryUnit,"onUpdate:modelValue":t[5]||(t[5]=c=>e.expiryUnit=c),unstyled:"true",class:"expiry-unit",onChange:e.expiryAmountChange},{default:X(()=>[(m(!0),b(Te,null,Ke(e.expiryUnits,c=>(m(),b("option",{key:c,value:c},w(e.$t(`time.unit.${c}_short`,[""],e.expiryAmount)),9,jre))),128))]),_:1},8,["modelValue","onChange"])],8,Dre)])])):E("",!0)}const zre=be(Ere,[["render",Bre]]),qre=()=>{let e=null;return{getRuffle:async()=>new Promise((n,s)=>{if(e){n(e);return}window.RufflePlayer={},window.RufflePlayer.config={polyfills:!1,publicPath:"/static/ruffle"};const o=document.createElement("script");o.src="/static/ruffle/ruffle.js",o.type="text/javascript",o.onerror=r=>{s(r)},o.onabort=r=>{s(r)},o.oncancel=r=>{s(r)},o.onload=()=>{e=window.RufflePlayer,n(e)},document.body.appendChild(o)})}},Hre=qre();et.add(fE,$Y);const Vre={props:["src"],data(){return{player:!1,loaded:!1,ruffleInstance:null}},methods:{openPlayer(){this.player||(this.player="hidden",Hre.getRuffle().then(e=>{const t=e.newest().createPlayer();t.config={letterbox:"on"},this.$refs.container.appendChild(t),t.style.width="100%",t.style.height="100%",t.load(this.src).then(()=>{this.player=!0}).catch(s=>{console.error("Error loading ruffle",s),this.player="error"}),this.ruffleInstance=t,this.$emit("playerOpened")}))},closePlayer(){this.ruffleInstance&&this.ruffleInstance.remove(),this.player=!1,this.$emit("playerClosed")}}},Wre={class:"Flash"},Gre={key:0,class:"label"},Kre={key:1,class:"label"},xre={key:2,class:"label"};function Yre(e,t,n,s,o,r){const i=O("FAIcon");return m(),b("div",Wre,[e.player===!0||e.player==="hidden"?(m(),b("div",{key:0,ref:"container",class:he(["player",{hidden:e.player==="hidden"}])},null,2)):E("",!0),e.player!==!0?(m(),b("button",{key:1,class:"button-unstyled placeholder",onClick:t[0]||(t[0]=(...a)=>e.openPlayer&&e.openPlayer(...a))},[e.player==="hidden"?(m(),b("span",Gre,w(e.$t("general.loading")),1)):E("",!0),e.player==="error"?(m(),b("span",Kre,w(e.$t("general.flash_fail")),1)):(m(),b("span",xre,[g("p",null,w(e.$t("general.flash_content")),1),g("p",null,[A(i,{icon:"exclamation-triangle"}),fe(" "+w(e.$t("general.flash_security")),1)])]))])):E("",!0)])}const i5=be(Vre,[["render",Yre]]),Xre={props:["attachment","controls"],data(){return{blocksSuspend:!1,hasAudio:!0}},computed:{loopVideo(){return this.$store.getters.mergedConfig.loopVideoSilentOnly?!this.hasAudio:this.$store.getters.mergedConfig.loopVideo}},methods:{onPlaying(e){if(this.setHasAudio(e),this.loopVideo){this.$emit("play",{looping:!0});return}this.$emit("play")},onPaused(){this.$emit("pause")},setHasAudio(e){const t=e.srcElement||e.target;this.hasAudio&&(typeof t.webkitAudioDecodedByteCount<"u"&&t.webkitAudioDecodedByteCount>0||typeof t.mozHasAudio<"u"&&t.mozHasAudio||typeof t.audioTracks<"u"&&t.audioTracks.length>0||(this.hasAudio=!1))}}},Jre=["src","loop","controls","alt","title"];function Zre(e,t,n,s,o,r){return m(),b("video",{class:"video",preload:"metadata",src:e.attachment.url+"#t=0.00000000000001",loop:e.loopVideo,controls:e.controls,alt:e.attachment.description,title:e.attachment.description,playsinline:"",onPlaying:t[0]||(t[0]=(...i)=>e.onPlaying&&e.onPlaying(...i)),onPause:t[1]||(t[1]=(...i)=>e.onPaused&&e.onPaused(...i))},null,40,Jre)}const a5=be(Xre,[["render",Zre]]),Qre="/static/img/nsfw.DepQPhG0.png";et.add(P_,N_,A_,IY,jx,Yn,fE,_E,hx,yx,CY);const eie={props:["attachment","compact","description","hideDescription","nsfw","size","setMedia","remove","shiftUp","shiftDn","edit"],data(){return{localDescription:this.description||this.attachment.description,nsfwImage:this.$store.state.instance.nsfwCensorImage||Qre,hideNsfwLocal:this.$store.getters.mergedConfig.hideNsfw,preloadImage:this.$store.getters.mergedConfig.preloadImage,loading:!1,img:wa.fileType(this.attachment.mimetype)==="image"&&document.createElement("img"),modalOpen:!1,showHidden:!1,flashLoaded:!1,showDescription:!1}},components:{Flash:i5,StillImage:Mr,VideoAttachment:a5},computed:{classNames(){return[{"-loading":this.loading,"-nsfw-placeholder":this.hidden,"-editable":this.edit!==void 0,"-compact":this.compact},"-type-"+this.type,this.size&&"-size-"+this.size,`-${this.useContainFit?"contain":"cover"}-fit`]},usePlaceholder(){return this.size==="hide"},useContainFit(){return this.$store.getters.mergedConfig.useContainFit},placeholderName(){return this.attachment.description===""||!this.attachment.description?this.type.toUpperCase():this.attachment.description},placeholderIconClass(){return this.type==="image"?"image":this.type==="video"?"video":this.type==="audio"?"music":"file"},referrerpolicy(){return this.$store.state.instance.mediaProxyAvailable?"":"no-referrer"},type(){return wa.fileType(this.attachment.mimetype)},hidden(){return this.nsfw&&this.hideNsfwLocal&&!this.showHidden},isEmpty(){return this.type==="html"&&!this.attachment.oembed},useModal(){let e=[];switch(this.size){case"hide":case"small":e=["image","video","audio","flash"];break;default:e=this.mergedConfig.playVideosInModal?["image","video","flash"]:["image"];break}return e.includes(this.type)},videoTag(){return this.useModal?"button":"span"},...Zt(["mergedConfig"])},watch:{"attachment.description"(e){this.localDescription=e},localDescription(e){this.onEdit(e)}},methods:{linkClicked({target:e}){e.tagName==="A"&&window.open(e.href,"_blank")},openModal(){this.useModal?(this.$emit("setMedia"),as().setCurrentMedia(this.attachment)):this.type==="unknown"&&window.open(this.attachment.url)},openModalForce(){this.$emit("setMedia"),as().setCurrentMedia(this.attachment)},onEdit(e){this.edit&&this.edit(this.attachment,e)},onRemove(){this.remove&&this.remove(this.attachment)},onShiftUp(){this.shiftUp&&this.shiftUp(this.attachment)},onShiftDn(){this.shiftDn&&this.shiftDn(this.attachment)},stopFlash(){this.$refs.flash.closePlayer()},setFlashLoaded(e){this.flashLoaded=e},toggleDescription(){this.showDescription=!this.showDescription},toggleHidden(e){if(this.mergedConfig.useOneClickNsfw&&!this.showHidden&&(this.type!=="video"||this.mergedConfig.playVideosInModal)){this.openModal(e);return}this.img&&!this.preloadImage?this.img.onload?this.img.onload():(this.loading=!0,this.img.src=this.attachment.url,this.img.onload=()=>{this.loading=!1,this.showHidden=!this.showHidden}):this.showHidden=!this.showHidden},onImageLoad(e){const t=e.naturalWidth,n=e.naturalHeight;this.$emit("naturalSizeLoad",{id:this.attachment.id,width:t,height:n})}}},tie=["href","alt","title"],nie={key:1,class:"attachment-buttons"},sie=["placeholder"],oie={key:1},rie={class:"attachment-wrapper"},iie=["href","alt","title"],aie=["src"],lie={key:1,class:"attachment-buttons"},cie=["title"],uie=["title"],die=["title"],fie=["title"],hie=["title"],pie=["title"],mie=["title"],gie=["href"],vie=["href"],bie={key:0},_ie=["href"],yie=["src","alt","title"],wie={key:0,class:"image"},Sie=["src"],kie={class:"text"},$ie=["href"],Cie=["innerHTML"],Tie=["href"],Aie=["placeholder"],Eie={key:1};function Iie(e,t,n,s,o,r){const i=O("FAIcon"),a=O("StillImage"),c=O("VideoAttachment"),d=O("Flash");return e.usePlaceholder?(m(),b("button",{key:0,class:he(["Attachment -placeholder button-default",e.classNames]),onClick:t[4]||(t[4]=(...f)=>e.openModal&&e.openModal(...f))},[e.type!=="html"?(m(),b("a",{key:0,class:"placeholder",target:"_blank",href:e.attachment.url,alt:e.attachment.description,title:e.attachment.description,onClick:t[0]||(t[0]=Se(()=>{},["prevent"]))},[A(i,{icon:e.placeholderIconClass},null,8,["icon"]),g("b",null,w(e.nsfw?"NSFW / ":""),1),fe(w(e.edit?"":e.placeholderName),1)],8,tie)):E("",!0),e.edit||e.remove?(m(),b("div",nie,[e.remove?(m(),b("button",{key:0,class:"button-default attachment-button",onClick:t[1]||(t[1]=Se((...f)=>e.onRemove&&e.onRemove(...f),["prevent"]))},[A(i,{icon:"trash-alt"})])):E("",!0)])):E("",!0),e.size!=="hide"&&!e.hideDescription&&(e.edit||e.localDescription||e.showDescription)?(m(),b("div",{key:2,class:he(["description-container",{"-static":!e.edit}])},[e.edit?ot((m(),b("input",{key:0,"onUpdate:modelValue":t[2]||(t[2]=f=>e.localDescription=f),type:"text",class:"input description-field",placeholder:e.$t("post_status.media_description"),onKeydown:t[3]||(t[3]=Ir(Se(()=>{},["prevent"]),["enter"]))},null,40,sie)),[[Mt,e.localDescription]]):(m(),b("p",oie,w(e.localDescription),1))],2)):E("",!0)],2)):(m(),b("div",{key:1,class:he(["Attachment",e.classNames])},[ot(g("div",rie,[e.hidden?(m(),b("a",{key:0,class:"image-container",href:e.attachment.url,alt:e.attachment.description,title:e.attachment.description,onClick:t[5]||(t[5]=Se((...f)=>e.toggleHidden&&e.toggleHidden(...f),["prevent","stop"]))},[(m(),b("img",{key:e.nsfwImage,class:"nsfw",src:e.nsfwImage},null,8,aie)),e.type==="video"?(m(),K(i,{key:0,class:"play-icon",icon:"play-circle"})):E("",!0)],8,iie)):E("",!0),e.hidden?E("",!0):(m(),b("div",lie,[e.type==="flash"&&e.flashLoaded?(m(),b("button",{key:0,class:"button-default attachment-button",title:e.$t("status.attachment_stop_flash"),onClick:t[6]||(t[6]=Se((...f)=>e.stopFlash&&e.stopFlash(...f),["prevent"]))},[A(i,{icon:"stop"})],8,cie)):E("",!0),e.attachment.description&&e.size!=="small"&&!e.edit&&e.type!=="unknown"?(m(),b("button",{key:1,class:"button-default attachment-button",title:e.$t("status.show_attachment_description"),onClick:t[7]||(t[7]=Se((...f)=>e.toggleDescription&&e.toggleDescription(...f),["prevent"]))},[A(i,{icon:"align-right"})],8,uie)):E("",!0),!e.useModal&&e.type!=="unknown"?(m(),b("button",{key:2,class:"button-default attachment-button",title:e.$t("status.show_attachment_in_modal"),onClick:t[8]||(t[8]=Se((...f)=>e.openModalForce&&e.openModalForce(...f),["prevent"]))},[A(i,{icon:"search-plus"})],8,die)):E("",!0),e.nsfw&&e.hideNsfwLocal?(m(),b("button",{key:3,class:"button-default attachment-button",title:e.$t("status.hide_attachment"),onClick:t[9]||(t[9]=Se((...f)=>e.toggleHidden&&e.toggleHidden(...f),["prevent"]))},[A(i,{icon:"times"})],8,fie)):E("",!0),e.shiftUp?(m(),b("button",{key:4,class:"button-default attachment-button",title:e.$t("status.move_up"),onClick:t[10]||(t[10]=Se((...f)=>e.onShiftUp&&e.onShiftUp(...f),["prevent"]))},[A(i,{icon:"chevron-left"})],8,hie)):E("",!0),e.shiftDn?(m(),b("button",{key:5,class:"button-default attachment-button",title:e.$t("status.move_down"),onClick:t[11]||(t[11]=Se((...f)=>e.onShiftDn&&e.onShiftDn(...f),["prevent"]))},[A(i,{icon:"chevron-right"})],8,pie)):E("",!0),e.remove?(m(),b("button",{key:6,class:"button-default attachment-button",title:e.$t("status.remove_attachment"),onClick:t[12]||(t[12]=Se((...f)=>e.onRemove&&e.onRemove(...f),["prevent"]))},[A(i,{icon:"trash-alt"})],8,mie)):E("",!0)])),e.type==="image"&&(!e.hidden||e.preloadImage)?(m(),b("a",{key:2,class:he(["image-container",{"-hidden":e.hidden&&e.preloadImage}]),href:e.attachment.url,target:"_blank",onClick:t[13]||(t[13]=Se((...f)=>e.openModal&&e.openModal(...f),["stop","prevent"]))},[A(a,{class:"image",referrerpolicy:e.referrerpolicy,mimetype:e.attachment.mimetype,src:e.attachment.large_thumb_url||e.attachment.url,"image-load-handler":e.onImageLoad,alt:e.attachment.description},null,8,["referrerpolicy","mimetype","src","image-load-handler","alt"])],10,gie)):E("",!0),e.type==="unknown"&&!e.hidden?(m(),b("a",{key:3,class:"placeholder-container",href:e.attachment.url,target:"_blank"},[A(i,{size:e.compact?"2x":"5x",icon:e.placeholderIconClass,title:e.localDescription},null,8,["size","icon","title"]),e.compact?E("",!0):(m(),b("p",bie,w(e.localDescription),1))],8,vie)):E("",!0),e.type==="video"&&!e.hidden?(m(),K(va(e.videoTag),{key:4,class:"video-container",href:e.attachment.url,onClick:Se(e.openModal,["stop","prevent"])},{default:X(()=>[A(c,{class:"video",attachment:e.attachment,controls:!e.useModal,onPlay:t[14]||(t[14]=f=>e.$emit("play")),onPause:t[15]||(t[15]=f=>e.$emit("pause"))},null,8,["attachment","controls"]),e.useModal?(m(),K(i,{key:0,class:"play-icon",icon:"play-circle"})):E("",!0)]),_:1},8,["href","onClick"])):E("",!0),e.type==="audio"&&!e.hidden?(m(),b("span",{key:5,class:"audio-container",href:e.attachment.url,onClick:t[18]||(t[18]=Se((...f)=>e.openModal&&e.openModal(...f),["stop","prevent"]))},[e.type==="audio"?(m(),b("audio",{key:0,src:e.attachment.url,alt:e.attachment.description,title:e.attachment.description,controls:"",onPlay:t[16]||(t[16]=f=>e.$emit("play")),onPause:t[17]||(t[17]=f=>e.$emit("pause"))},null,40,yie)):E("",!0)],8,_ie)):E("",!0),e.type==="html"&&e.attachment.oembed?(m(),b("div",{key:6,class:"oembed-container",onClick:t[19]||(t[19]=Se((...f)=>e.linkClicked&&e.linkClicked(...f),["prevent"]))},[e.attachment.thumb_url?(m(),b("div",wie,[g("img",{src:e.attachment.thumb_url},null,8,Sie)])):E("",!0),g("div",kie,[g("h1",null,[g("a",{href:e.attachment.url},w(e.attachment.oembed.title),9,$ie)]),g("div",{innerHTML:e.attachment.oembed.oembedHTML},null,8,Cie)])])):E("",!0),e.type==="flash"&&!e.hidden?(m(),b("span",{key:7,class:"flash-container",href:e.attachment.url,onClick:t[22]||(t[22]=Se((...f)=>e.openModal&&e.openModal(...f),["stop","prevent"]))},[A(d,{ref:"flash",class:"flash",src:e.attachment.large_thumb_url||e.attachment.url,onPlayerOpened:t[20]||(t[20]=f=>e.setFlashLoaded(!0)),onPlayerClosed:t[21]||(t[21]=f=>e.setFlashLoaded(!1))},null,8,["src"])],8,Tie)):E("",!0)],512),[[Wn,!e.isEmpty]]),e.size!=="hide"&&!e.hideDescription&&(e.edit||e.localDescription&&e.showDescription)?(m(),b("div",{key:0,class:he(["description-container",{"-static":!e.edit}])},[e.edit?ot((m(),b("input",{key:0,"onUpdate:modelValue":t[23]||(t[23]=f=>e.localDescription=f),type:"text",class:"input description-field",placeholder:e.$t("post_status.media_description"),onKeydown:t[24]||(t[24]=Ir(Se(()=>{},["prevent"]),["enter"]))},null,40,Aie)),[[Mt,e.localDescription]]):(m(),b("p",Eie,w(e.localDescription),1))],2)):E("",!0)],2))}const cp=be(eie,[["render",Iie]]),Pie={props:["attachments","compact","limitRows","descriptions","limit","nsfw","setMedia","size","editable","removeAttachment","shiftUpAttachment","shiftDnAttachment","editAttachment","grid"],data(){return{sizes:{},hidingLong:!0}},components:{Attachment:cp},computed:{rows(){if(!this.attachments)return[];const e=this.limit>0?this.attachments.slice(0,this.limit):this.attachments;return this.size==="hide"?e.map(n=>({minimal:!0,items:[n]})):this.grid?[{grid:!0,items:e}]:e.reduce((n,s,o)=>{if(s.mimetype.includes("audio"))return[...n,{audio:!0,items:[s]},{items:[]}];if(!(s.mimetype.includes("image")||s.mimetype.includes("video")||s.mimetype.includes("flash")))return[...n,{minimal:!0,items:[s]},{items:[]}];const r=3,i=this.attachments.length-o+1,a=n[n.length-1].items;return a.push(s),a.length>=r&&i>r?[...n,{items:[]}]:n},[{items:[]}]).filter(n=>n.items.length>0)},attachmentsDimensionalScore(){return this.rows.reduce((e,t)=>{let n=0;return t.minimal?n+=1/8:t.audio?n+=1/4:n+=1/(t.items.length+.6),e+n},0)},tooManyAttachments(){return this.editable||this.size==="small"?!1:this.size==="hide"?this.attachments.length>8:this.attachmentsDimensionalScore>1}},methods:{onNaturalSizeLoad({id:e,width:t,height:n}){Z.set(this.sizes,e,{width:t,height:n})},rowStyle(e){if(e.audio)return{"padding-bottom":"25%"};if(!e.minimal&&!e.grid)return{"padding-bottom":`${100/(e.items.length+.6)}%`}},itemStyle(e,t){const n=Z.sumBy(t,s=>this.getAspectRatio(s.id));return{flex:`${this.getAspectRatio(e)/n} 1 0%`}},getAspectRatio(e){const t=this.sizes[e];return t?t.width/t.height:1},toggleHidingLong(e){this.hidingLong=e},openGallery(){as().setMedia(this.attachments),as().setCurrentMedia(this.attachments[0])},onMedia(){as().setMedia(this.attachments)}}},Lie={class:"gallery-rows"},Oie={key:0,class:"many-attachments"},Rie={class:"many-attachments-text"},Mie={class:"many-attachments-buttons"},Nie={key:0,class:"many-attachments-button"},Fie={key:1,class:"many-attachments-button"},Die={key:2,class:"many-attachments-button"};function Uie(e,t,n,s,o,r){const i=O("Attachment");return m(),b("div",{ref:"galleryContainer",class:he(["Gallery",{"-long":e.tooManyAttachments&&e.hidingLong}])},[g("div",Lie,[(m(!0),b(Te,null,Ke(e.rows,(a,c)=>(m(),b("div",{key:c,class:he(["gallery-row",{"-audio":a.audio,"-minimal":a.minimal,"-grid":e.grid}]),style:gn(e.rowStyle(a))},[g("div",{class:he(["gallery-row-inner",{"-grid":e.grid}])},[(m(!0),b(Te,null,Ke(a.items,(d,f)=>(m(),K(i,{key:d.id,class:"gallery-item",compact:e.compact,nsfw:e.nsfw,attachment:d,size:e.size,editable:e.editable,remove:e.removeAttachment,"shift-up":!(f===0&&c===0)&&e.shiftUpAttachment,"shift-dn":!(f===a.items.length-1&&c===e.rows.length-1)&&e.shiftDnAttachment,edit:e.editAttachment,description:e.descriptions&&e.descriptions[d.id],"hide-description":e.size==="small"||e.tooManyAttachments&&e.hidingLong,style:gn(e.itemStyle(d.id,a.items)),onSetMedia:e.onMedia,onNaturalSizeLoad:e.onNaturalSizeLoad},null,8,["compact","nsfw","attachment","size","editable","remove","shift-up","shift-dn","edit","description","hide-description","style","onSetMedia","onNaturalSizeLoad"]))),128))],2)],6))),128))]),e.tooManyAttachments?(m(),b("div",Oie,[g("div",Rie,w(e.$t("status.many_attachments",{number:e.attachments.length})),1),g("div",Mie,[e.hidingLong?E("",!0):(m(),b("span",Nie,[g("button",{class:"button-unstyled -link",onClick:t[0]||(t[0]=a=>e.toggleHidingLong(!0))},w(e.$t("status.collapse_attachments")),1)])),e.hidingLong?(m(),b("span",Fie,[g("button",{class:"button-unstyled -link",onClick:t[1]||(t[1]=a=>e.toggleHidingLong(!1))},w(e.$t("status.show_all_attachments")),1)])):E("",!0),e.hidingLong?(m(),b("span",Die,[g("button",{class:"button-unstyled -link",onClick:t[2]||(t[2]=(...a)=>e.openGallery&&e.openGallery(...a))},w(e.$t("status.open_gallery")),1)])):E("",!0)])])):E("",!0)],2)}const up=be(Pie,[["render",Uie]]),jie={name:"Timeago",props:["time","autoUpdate","longFormat","nowThreshold","templateKey"],data(){return{relativeTimeMs:0,relativeTime:{key:"time.now",num:0},interval:null}},computed:{shouldUseAbsoluteTimeFormat(){return this.$store.getters.mergedConfig.useAbsoluteTimeFormat?Sre(this.$store.getters.mergedConfig.absoluteTimeFormatMinAge)<=this.relativeTimeMs:!1},time12hFormat(){return this.$store.getters.mergedConfig.absoluteTimeFormat12h==="12h"},browserLocale(){return ko.internalToBrowserLocale(this.$i18n.locale)},timeAsDate(){return typeof this.time=="string"?new Date(Date.parse(this.time)):this.time},localeDateString(){return this.timeAsDate.toLocaleString(this.browserLocale)},relativeTimeString(){const e=this.$i18n.t(this.relativeTime.key,[this.relativeTime.num],this.relativeTime.num);return typeof this.templateKey=="string"&&this.relativeTime.key!=="time.now"?this.$i18n.t(this.templateKey,[e]):e},absoluteTimeString(){if(this.longFormat)return this.localeDateString;const e=new Date;return(wre(this.timeAsDate,e)?new Intl.DateTimeFormat(this.browserLocale,{minute:"numeric",hour:"numeric",hour12:this.time12hFormat}):yre(this.timeAsDate,e)?new Intl.DateTimeFormat(this.browserLocale,{month:"short",day:"numeric",hour12:this.time12hFormat}):_re(this.timeAsDate,e)?new Intl.DateTimeFormat(this.browserLocale,{month:"short",day:"numeric",hour12:this.time12hFormat}):new Intl.DateTimeFormat(this.browserLocale,{year:"numeric",month:"short",hour12:this.time12hFormat})).format(this.timeAsDate)},relativeOrAbsoluteTimeString(){return this.shouldUseAbsoluteTimeFormat?this.absoluteTimeString:this.relativeTimeString}},watch:{time(e,t){t!==e&&(clearTimeout(this.interval),this.refreshRelativeTimeObject())}},created(){this.refreshRelativeTimeObject()},unmounted(){clearTimeout(this.interval)},methods:{refreshRelativeTimeObject(){const e=typeof this.nowThreshold=="number"?this.nowThreshold:1;this.relativeTimeMs=o5(this.time),this.relativeTime=this.longFormat?r5(this.time,e):vre(this.time,e),this.autoUpdate&&(this.interval=setTimeout(this.refreshRelativeTimeObject,1e3*this.autoUpdate))}}},Bie=["datetime","title"];function zie(e,t,n,s,o,r){return m(),b("time",{datetime:n.time,title:r.localeDateString},w(r.relativeOrAbsoluteTimeString),9,Bie)}const Ku=be(jie,[["render",zie]]),Pr=e=>{const t=/(?:<\/(\w+)>|<(\w+)\s?.*?\/?>)/gis.exec(e);return t&&(t[1]||t[2])},il=(e,t)=>{const n=e.substring(1,e.length-1).replace(new RegExp("^"+Pr(e)),"").replace(/\/?$/,"").trim(),s=Array.from(n.matchAll(/([a-z]+[a-z0-9-]*)(?:=("[^"]+?"|'[^']+?'))?/gi)).map(([,r,i])=>[r,i]).map(([r,i])=>i?[r,i.substring(1,i.length-1)]:[r,!0]),o=([r,i])=>{const a=r.toLowerCase();return a==="style"?!1:a==="class"?i==="greentext"||i==="cyantext":!0};return Object.fromEntries(s.filter(t||o))},qie=(e,t,n)=>{const s=[];let o="";for(let r=0;r<e.length;r++){const i=e[r];if(i===":"){const a=e.slice(r+1);let c=!1;for(const d of t)if(a.slice(0,d.shortcode.length+1)===d.shortcode+":"){c=d;break}c?(s.push(o),o="",s.push(n(c)),r+=c.shortcode.length+1):o+=i}else o+=i}return o&&s.push(o),s},Hie=(e="")=>{const t=new Set(["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),n=[],s=[["",n]];let o="",r=null;const i=()=>s[s.length-1][1],a=()=>{o!==""&&(i().push(o),o="")},c=h=>{i().push([h])},d=h=>{const v=i(),_=[Z.unescape(h),[]];s.push(_),v.push(_)},f=h=>{const v=s[s.length-1];Pr(s[s.length-1][0])===Pr(h)?(v.push(h),s.pop()):i().push(h)};for(let h=0;h<e.length;h++){const v=e[h];if(v==="<"&&r===null)a(),r=v;else if(v!==">"&&r!==null)r+=v;else if(v===">"&&r!==null){r+=v;const _=r;r=null;const S=Pr(_);_[1]==="/"?f(_):t.has(S)||_[_.length-2]==="/"?c(_):d(_)}else o+=v}return r&&(o+=r),a(),n},Vie=(e="")=>{const t=new Set(["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),n=new Set(["address","article","aside","blockquote","details","dialog","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","ol","p","pre","section","table","ul"]),s=new Set(["br"]),o=new Set([...n.values(),...s.values()]),r=new Set(o);for(const k of t)r.delete(k);const i=new Set([...r.values(),...t.values()]),a=[],c=[];let d="",f=null;const h=()=>{d.trim().length>0?a.push({level:[...c],text:d}):a.push(d),d=""},v=k=>{h(),a.push(k)},_=k=>{h(),a.push(k),c.unshift(Pr(k))},S=k=>{c[0]===Pr(k)?(h(),a.push(k),c.shift()):d+=k};for(let k=0;k<e.length;k++){const P=e[k];if(P==="<"&&f===null)f=P;else if(P!==">"&&f!==null)f+=P;else if(P===">"&&f!==null){f+=P;const C=f;f=null;const $=Pr(C);i.has($)?s.has($)?v(C):r.has($)?C[1]==="/"?S(C):C[C.length-2]==="/"?v(C):_(C):d+=C:d+=C}else P===`
`?v(P):d+=P}return f&&(d+=f),h(),a},Jo=(e,t,n)=>{const s=!t||Wie(t)||Z.includes(n,t);return{name:s?"external-user-profile":"user-profile",params:s?{id:e}:{name:t}}},Wie=e=>e&&e.includes("@"),oh=e=>{if(e===void 0)return;const{color:t,type:n}=e;if(typeof t!="string")return;const s=r_(t);if(s==null)return;const o=`rgb(${Math.floor(s.r)}, ${Math.floor(s.g)}, ${Math.floor(s.b)})`,r=`rgba(${Math.floor(s.r)}, ${Math.floor(s.g)}, ${Math.floor(s.b)}, .1)`,i=`rgba(${Math.floor(s.r)}, ${Math.floor(s.g)}, ${Math.floor(s.b)}, .2)`,a={"--____highlight-solidColor":o,"--____highlight-tintColor":r,"--____highlight-tintColor2":i};if(n==="striped")return{backgroundImage:["repeating-linear-gradient(135deg,",`${r} ,`,`${r} 20px,`,`${i} 20px,`,`${i} 40px`].join(" "),backgroundPosition:"0 0",...a};if(n==="solid")return{backgroundColor:i,...a};if(n==="side")return{backgroundImage:["linear-gradient(to right,",`${o} ,`,`${o} 2px,`,"transparent 6px"].join(" "),backgroundPosition:"0 0",...a}},rh=e=>"USER____"+e.screen_name.replace(/\./g,"_").replace(/@/g,"_AT_");et.add(mY,kx);const Gie={props:["user","compact","showActorTypeIndicator"],data(){return{showPlaceholder:!1,defaultAvatar:`${this.$store.state.instance.server+this.$store.state.instance.defaultAvatar}`,betterShadow:Qe().browserSupport.cssFilter}},components:{StillImage:Mr},methods:{imgSrc(e){return!e||this.showPlaceholder?this.defaultAvatar:e},imageLoadError(){this.showPlaceholder=!0}}};function Kie(e,t,n,s,o,r){var c,d;const i=O("StillImage"),a=O("FAIcon");return m(),b("span",{class:he(["Avatar",{"-compact":e.compact}])},[e.user?(m(),K(i,{key:0,class:he(["avatar",{"-compact":e.compact,"-better-shadow":e.betterShadow}]),alt:e.user.screen_name_ui,title:e.user.screen_name_ui,src:e.imgSrc(e.user.profile_image_url_original),"image-load-error":e.imageLoadError},null,8,["alt","title","src","image-load-error","class"])):(m(),b("div",{key:1,class:he(["avatar -placeholder",{"-compact":e.compact}])},null,2)),e.showActorTypeIndicator&&((c=e.user)==null?void 0:c.actor_type)==="Service"?(m(),K(a,{key:2,icon:"robot",class:"actor-type-indicator"})):E("",!0),e.showActorTypeIndicator&&((d=e.user)==null?void 0:d.actor_type)==="Group"?(m(),K(a,{key:3,icon:"people-group",class:"actor-type-indicator"})):E("",!0)],2)}const xs=be(Gie,[["render",Kie]]),xie=Object.freeze(Object.defineProperty({__proto__:null,default:xs},Symbol.toStringTag,{value:"Module"}));et.add(dx);const Yie={name:"MentionLink",components:{UserAvatar:xs,UnicodeDomainIndicator:lp,UserPopover:fo(()=>He(()=>Promise.resolve().then(()=>vy),void 0))},props:{url:{required:!0,type:String},content:{required:!0,type:String},userId:{required:!1,type:String},userScreenName:{required:!1,type:String}},data(){return{hasSelection:!1}},methods:{onClick(){if(this.shouldShowTooltip)return;const e=Jo(this.userId||this.user.id,this.userScreenName||this.user.screen_name);this.$router.push(e)},handleSelection(){this.$refs.full&&(this.hasSelection=document.getSelection().containsNode(this.$refs.full,!0))}},mounted(){document.addEventListener("selectionchange",this.handleSelection)},unmounted(){document.removeEventListener("selectionchange",this.handleSelection)},computed:{user(){return this.url&&this.$store&&this.$store.getters.findUserByUrl(this.url)},isYou(){return this.user&&this.user.id===this.currentUser.id},userName(){return this.user&&this.userNameFullUi.split("@")[0]},serverName(){return this.user&&(this.userNameFullUi.split("@")[1]||this.$store.getters.instanceDomain)},userNameFull(){return this.user&&this.user.screen_name},userNameFullUi(){return this.user&&this.user.screen_name_ui},highlight(){return this.user&&this.mergedConfig.highlight[this.user.screen_name]},highlightType(){return this.highlight&&"-"+this.highlight.type},highlightClass(){if(this.highlight)return rh(this.user)},style(){if(this.highlight){const{backgroundColor:e,backgroundPosition:t,backgroundImage:n,...s}=oh(this.highlight);return s}},classnames(){return[{"-you":this.isYou&&this.shouldBoldenYou,"-highlighted":this.highlight,"-has-selection":this.hasSelection},this.highlightType]},isRemote(){return this.userName!==this.userNameFull},shouldShowFullUserName(){const e=this.mergedConfig.mentionLinkDisplay;return e==="short"?!1:e==="full"?!0:this.isRemote},shouldShowTooltip(){return this.mergedConfig.mentionLinkShowTooltip},shouldShowAvatar(){return this.mergedConfig.mentionLinkShowAvatar},shouldShowYous(){return this.mergedConfig.mentionLinkShowYous},shouldBoldenYou(){return this.mergedConfig.mentionLinkBoldenYou},shouldFadeDomain(){return this.mergedConfig.mentionLinkFadeDomain},...Zt(["mergedConfig"]),...hn({currentUser:e=>e.users.currentUser})}},Xie={class:"MentionLink"},Jie=["href","innerHTML"],Zie=["href"],Qie={class:"shortName"},eae=["innerHTML"],tae=["innerHTML"],nae={ref:"full",class:"full"},sae=["innerHTML"],oae=["innerHTML"];function rae(e,t,n,s,o,r){const i=O("UserAvatar"),a=O("UnicodeDomainIndicator"),c=O("UserPopover");return m(),b("span",Xie,[e.user?(m(),K(c,{key:1,"user-id":e.user.id,disabled:!e.shouldShowTooltip},{default:X(()=>[e.user?(m(),b("span",{key:0,class:he(["new",e.classnames]),style:gn(e.style)},[g("a",{class:he(["short",{"-with-tooltip":e.shouldShowTooltip}]),href:e.url,onClick:t[0]||(t[0]=Se((...d)=>e.onClick&&e.onClick(...d),["prevent"]))},[e.shouldShowAvatar?(m(),K(i,{key:0,class:"mention-avatar",user:e.user},null,8,["user"])):E("",!0),g("span",Qie,[t[1]||(t[1]=fe("@")),g("span",{class:"userName",innerHTML:e.userName},null,8,eae),e.shouldShowFullUserName?(m(),b("span",{key:0,class:he(["serverName",{"-faded":e.shouldFadeDomain}]),innerHTML:"@"+e.serverName},null,10,tae)):E("",!0),e.shouldShowFullUserName?(m(),K(a,{key:1,user:e.user},null,8,["user"])):E("",!0)]),e.isYou&&e.shouldShowYous?(m(),b("span",{key:1,class:he({"-you":e.shouldBoldenYou})},w(" "+e.$t("status.you")),3)):E("",!0)],10,Zie),g("span",nae,[t[2]||(t[2]=fe(" @")),g("span",{innerHTML:e.userName},null,8,sae),g("span",{innerHTML:"@"+e.serverName},null,8,oae)],512)],6)):E("",!0)]),_:1},8,["user-id","disabled"])):(m(),b("a",{key:0,href:e.url,class:"original",target:"_blank",innerHTML:e.content},null,8,Jie))])}const l5=be(Yie,[["render",rae]]),tC=5,iae={name:"MentionsLine",props:{mentions:{required:!0,type:Array}},data:()=>({expanded:!1}),components:{MentionLink:l5},computed:{mentionsComputed(){return this.mentions.slice(0,tC)},extraMentions(){return this.mentions.slice(tC)},manyMentions(){return this.extraMentions.length>0},...Zt(["mergedConfig"])},methods:{toggleShowMore(){this.expanded=!this.expanded}}},aae={class:"MentionsLine"},lae={key:0,class:"extraMentions"},cae={key:0,class:"fullExtraMentions"};function uae(e,t,n,s,o,r){const i=O("MentionLink");return m(),b("span",aae,[(m(!0),b(Te,null,Ke(e.mentionsComputed,a=>(m(),K(i,{key:a.index,class:"mention-link",content:a.content,url:a.url},null,8,["content","url"]))),128)),e.manyMentions?(m(),b("span",lae,[e.expanded?(m(),b("span",cae,[t[2]||(t[2]=fe(w(" "))),(m(!0),b(Te,null,Ke(e.extraMentions,a=>(m(),K(i,{key:a.index,class:"mention-link",content:a.content,url:a.url},null,8,["content","url"]))),128))])):E("",!0),e.expanded?E("",!0):(m(),b("button",{key:1,class:"button-unstyled -link showMoreLess",onClick:t[0]||(t[0]=(...a)=>e.toggleShowMore&&e.toggleShowMore(...a))},w(e.$t("status.plus_more",{number:e.extraMentions.length})),1)),e.expanded?(m(),b("button",{key:2,class:"button-unstyled -link showMoreLess",onClick:t[1]||(t[1]=(...a)=>e.toggleShowMore&&e.toggleShowMore(...a))},w(e.$t("general.show_less")),1)):E("",!0)])):E("",!0)])}const g0=be(iae,[["render",uae]]),dae=5;({...Zt(["mergedConfig"])});const fae=e=>{const t=decodeURI(e),s=/tag[s]*\/([\p{L}\p{N}_]*[\p{Alphabetic}_\u{200c}][\p{L}\p{N}_\p{M}\u{200c}]*)$/ug.exec(t);return s?s[1]:!1},hae={name:"HashtagLink",props:{url:{required:!0,type:String},content:{required:!0,type:String},tag:{required:!1,type:String,default:""}},methods:{onClick(){const e=this.tag||fae(this.url);if(e){const t=this.generateTagLink(e);this.$router.push(t)}else window.open(this.url,"_blank")},generateTagLink(e){return`/tag/${e}`}}},pae={class:"HashtagLink"},mae=["href","innerHTML"];function gae(e,t,n,s,o,r){return m(),b("span",pae,[g("a",{href:e.url,class:"original",target:"_blank",onClick:t[0]||(t[0]=Se((...i)=>e.onClick&&e.onClick(...i),["prevent"])),innerHTML:e.content},null,8,mae)])}const nC=be(hae,[["render",gae]]);function vae(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!_i(e)}const bae=["blockquote","br","hr","ul","ol","li","p","table","tbody","td","th","thead","tr","h1","h2","h3","h4","h5"],Po={name:"RichContent",components:{MentionsLine:g0,HashtagLink:nC},props:{html:{required:!0,type:String},attentions:{required:!1,default:()=>[]},emoji:{required:!0,type:Array},handleLinks:{required:!1,type:Boolean,default:!1},greentext:{required:!1,type:Boolean,default:!1},faint:{required:!1,type:Boolean,default:!1}},render(){const{newHtml:e}=_ae(this.html,this.greentext);let t=null,n="";const s=[],o=[],r=[],i=[];let a=0,c=0;const d=L=>A(Mr,xn(il(L),{class:"img"}),null),f=(L,T,R)=>{const{index:q,...D}=sC(L,T,c++);i.push(D),R||s.push(D);const{url:x,tag:oe,content:V}=D;return A(nC,{url:x,tag:oe,content:V},null)},h=(L,T)=>{const R=sC(L,T,a++);return R.notifying=this.attentions.some(q=>q.statusnet_profile_url===R.url),o.push(R),t===null&&(t=[]),t.push(R),t.length>dae&&r.push(R),t.length===1?A(g0,{mentions:t},null):""},v=(L,T,R,q)=>{if(typeof L=="string"){const D=L.trim()==="";return L.includes(`
`)&&(t=null),D?(n=L,T!==R.length-1&&t!==null?L.trim():L):(t=null,L.includes(":")&&(L=["",qie(L,this.emoji,({shortcode:x,url:oe})=>A(Mr,{class:"emoji img",src:oe,title:`:${x}:`,alt:`:${x}:`},null))]),L)}if(Array.isArray(L)){const[D,x,oe]=L;let V=Pr(D);V.toLowerCase()==="script"&&(V="js-exploit"),V.toLowerCase()==="style"&&(V="css-exploit");const ce=il(D,()=>!0),de=il(D),Ve=t!==null&&!(x&&typeof x[0]=="string"&&x[0].match(/^\s/))?n:"";if(bae.includes(V))t=null;else{if(V==="img")return["",[Ve,d(D)],""];if(V==="a"&&this.handleLinks){if(ce.class&&ce.class.includes("mention"))return h(de,x);t=null}else if(V==="span"&&this.handleLinks&&ce.class&&ce.class.includes("h-card"))return["",x.map(v),""]}return x!==void 0?["",[Ve,[D,x.map(v),oe]],""]:["",[Ve,L],""]}};let _=!1;const S=(L,T,R,q)=>{if(typeof L=="string")return L.trim()===""?L:(_||(_=!0),Z.unescape(L));if(Array.isArray(L)){const[D,x]=L,oe=D===""?"":Pr(D);switch(oe){case"a":{if(!this.handleLinks)break;const V=il(D,()=>!0),ce=il(D,()=>!0);if(V.class&&V.class.includes("hashtag")||V.rel==="tag")return f(ce,x,_);{ce.target="_blank";const de=[...x].reverse().map(S).reverse();return A("a",ce,[de])}}case"":return[...x].reverse().map(S).reverse()}if(x!==void 0){const V=Array.isArray(x)?[...x].reverse().map(S).reverse():x;return A(oe,il(D),vae(V)?V:{default:()=>[V]})}else return A(oe,null,null)}return L},P=[...Hie(e).map(v)].reverse().map(S).reverse(),C=A("span",{class:["RichContent",this.faint?"-faint":""]},[P]),$={lastTags:s,writtenMentions:o,writtenTags:i,invisibleMentions:r};return this.$emit("parseReady",$),C}},sC=(e,t,n)=>{const s=r=>typeof r=="string"?r:r[1].map(s).join(""),o=t.map(s).join("");return{index:n,url:e.href,tag:e["data-tag"],content:Z.flattenDeep(t).join(""),textContent:o}},_ae=(e,t)=>{const n=new Set(["p","div"]);return{newHtml:Vie(e).reverse().map((r,i,a)=>{if(!r.text)return r;const c=r.text;if(t&&r.level.every(d=>n.has(d))&&(c.includes("&gt;")||c.includes("&lt;"))){const d=c.replace(/<[^>]+?>/gi,"").replace(/@\w+/gi,"").trim();if(d.startsWith("&gt;"))return`<span class='greentext'>${c}</span>`;if(d.startsWith("&lt;"))return`<span class='cyantext'>${c}</span>`}return c}).reverse().join("")}},yae={name:"Poll",props:["basePoll","emoji"],components:{Timeago:Ku,RichContent:Po,Checkbox:Ia},data(){return{loading:!1,choices:[],randomSeed:ap()}},created(){oa().pollsObject[this.pollId]||oa().mergeOrAddPoll(this.basePoll),oa().trackPoll(this.pollId)},unmounted(){oa().untrackPoll(this.pollId)},computed:{pollId(){return this.basePoll.id},poll(){return oa().pollsObject[this.pollId]||{}},options(){return this.poll&&this.poll.options||[]},expiresAt(){return this.poll&&this.poll.expires_at||null},expired(){return this.poll&&this.poll.expired||!1},expirationLabel(){return this.$store.getters.mergedConfig.useAbsoluteTimeFormat?this.expired?"polls.expired_at":"polls.expires_at":this.expired?"polls.expired":"polls.expires_in"},loggedIn(){return this.$store.state.users.currentUser},showResults(){return this.poll.voted||this.expired||!this.loggedIn},totalVotesCount(){return this.poll.votes_count},containerClass(){return{loading:this.loading}},choiceIndices(){return this.choices.map((e,t)=>e&&t).filter(e=>typeof e=="number")},isDisabled(){const e=this.choiceIndices.length===0;return this.loading||e}},methods:{percentageForOption(e){return this.totalVotesCount===0?0:Math.round(e/this.totalVotesCount*100)},resultTitle(e){return`${e.votes_count}/${this.totalVotesCount} ${this.$t("polls.votes")}`},activateOption(e,t){let n;this.poll.multiple?n=this.choices||this.options.map(()=>!1):n=this.options.map(()=>!1),n[e]=t,this.choices=n},optionId(e){return`poll${this.poll.id}-${e}`},vote(){this.choiceIndices.length!==0&&(this.loading=!0,oa().votePoll({id:this.statusId,pollId:this.poll.id,choices:this.choiceIndices}).then(()=>{this.loading=!1}))}}},wae=["role"],Sae=["title"],kae={class:"option-result-label"},$ae={class:"result-percentage"},Cae=["role","aria-labelledby","aria-checked"],Tae={class:"footer faint"},Aae=["title"],Eae={class:"total"},Iae={key:2},Pae={key:1},Lae=["disabled"];function Oae(e,t,n,s,o,r){var f;const i=O("RichContent"),a=O("Checkbox"),c=O("Timeago"),d=O("i18n-t");return m(),b("div",{class:he(["poll",e.containerClass])},[g("div",{role:e.showResults?"section":e.poll.multiple?"group":"radiogroup"},[(m(!0),b(Te,null,Ke(e.options,(h,v)=>(m(),b("div",{key:v,class:"poll-option"},[e.showResults?(m(),b("div",{key:0,title:e.resultTitle(h),class:"option-result"},[g("div",kae,[g("span",$ae,w(e.percentageForOption(h.votes_count))+"% ",1),A(i,{html:h.title_html,"handle-links":!1,emoji:e.emoji},null,8,["html","emoji"])]),g("div",{class:"result-fill",style:gn({width:`${e.percentageForOption(h.votes_count)}%`})},null,4)],8,Sae)):(m(),b("div",{key:1,tabindex:"0",role:e.poll.multiple?"checkbox":"radio","aria-labelledby":`option-vote-${e.randomSeed}-${v}`,"aria-checked":e.choices[v]},[A(a,{radio:!e.poll.multiple,disabled:e.loading,"model-value":e.choices[v],"onUpdate:modelValue":_=>e.activateOption(v,_)},{default:X(()=>[A(i,{id:`option-vote-${e.randomSeed}-${v}`,html:h.title_html,"handle-links":!1,emoji:e.emoji},null,8,["id","html","emoji"])]),_:2},1032,["radio","disabled","model-value","onUpdate:modelValue"])],8,Cae))]))),128))],8,wae),g("div",Tae,[g("p",null,[(f=e.poll.pleroma)!=null&&f.non_anonymous?(m(),b("span",{key:0,title:e.$t("polls.non_anonymous_title")},w(e.$t("polls.non_anonymous"))+"  ",9,Aae)):E("",!0),g("span",Eae,[typeof e.poll.voters_count=="number"?(m(),b(Te,{key:0},[fe(w(e.$t("polls.people_voted_count",{count:e.poll.voters_count},e.poll.voters_count)),1)],64)):(m(),b(Te,{key:1},[fe(w(e.$t("polls.votes_count",{count:e.poll.votes_count},e.poll.votes_count)),1)],64)),e.expiresAt!==null?(m(),b("span",Iae,"  ")):E("",!0)]),e.expiresAt!==null?(m(),b("span",Pae,[A(d,{scope:"global",keypath:e.expirationLabel},{default:X(()=>[A(c,{time:e.expiresAt,"auto-update":60,"now-threshold":0},null,8,["time"])]),_:1},8,["keypath"])])):E("",!0)]),e.showResults?E("",!0):(m(),b("button",{key:0,class:"btn button-default poll-vote-button",type:"button",disabled:e.isDisabled,onClick:t[0]||(t[0]=(...h)=>e.vote&&e.vote(...h))},w(e.$t("polls.vote")),9,Lae))])],2)}const Rae=be(yae,[["render",Oae]]);et.add(P_,N_,A_,gE,Hh);const Mae={name:"StatusContent",props:["compact","status","focused","noHeading","fullContent","singleLine","showingTall","expandingSubject","showingLongSubject","toggleShowingTall","toggleExpandingSubject","toggleShowingLongSubject"],data(){return{postLength:this.status.text.length,parseReadyDone:!1}},computed:{localCollapseSubjectDefault(){return this.mergedConfig.collapseMessageWithSubject},tallStatus(){return this.singleLine||this.compact?!1:this.status.raw_html.split(/<p|<br/).length+this.postLength/80>20},longSubject(){return this.status.summary.length>240},mightHideBecauseSubject(){return!!this.status.summary&&this.localCollapseSubjectDefault},mightHideBecauseTall(){return this.tallStatus&&!(this.status.summary&&this.localCollapseSubjectDefault)},hideSubjectStatus(){return this.mightHideBecauseSubject&&!this.expandingSubject},hideTallStatus(){return this.mightHideBecauseTall&&!this.showingTall},showingMore(){return this.mightHideBecauseTall&&this.showingTall||this.mightHideBecauseSubject&&this.expandingSubject},attachmentTypes(){return this.status.attachments.map(e=>wa.fileType(e.mimetype))},...Zt(["mergedConfig"])},components:{RichContent:Po},mounted(){this.status.attentions&&this.status.attentions.forEach(e=>{const{id:t}=e;this.$store.dispatch("fetchUserIfMissing",t)})},methods:{onParseReady(e){if(this.parseReadyDone)return;this.parseReadyDone=!0,this.$emit("parseReady",e);const{writtenMentions:t,invisibleMentions:n}=e;t.filter(s=>!s.notifying).forEach(s=>{const{content:o,url:r}=s,i=o.replace(/<[^>]+?>/gi,"");if(!i.startsWith("@"))return;const a=i.slice(1),c=r.replace(/^https?:\/\//,"").replace(/\/.+?$/,"");this.$store.dispatch("fetchUserIfMissing",`${a}@${c}`)}),this.postLength=n.reduce((s,o)=>s-o.textContent.length-1,this.postLength)},toggleShowMore(){this.mightHideBecauseTall?this.toggleShowingTall():this.mightHideBecauseSubject&&this.toggleExpandingSubject()},generateTagLink(e){return`/tag/${e}`}}},Nae={class:"body"};function Fae(e,t,n,s,o,r){const i=O("RichContent"),a=O("FAIcon");return m(),b("div",{class:he(["StatusBody",{"-compact":e.compact}])},[g("div",Nae,[e.status.summary_raw_html?(m(),b("div",{key:0,class:he(["summary-wrapper",{"-tall":e.longSubject&&!e.showingLongSubject}])},[A(i,{class:"media-body summary",faint:e.compact,html:e.status.summary_raw_html,emoji:e.status.emojis},null,8,["faint","html","emoji"]),ot(g("button",{class:"button-unstyled -link tall-subject-hider",onClick:t[0]||(t[0]=Se((...c)=>e.toggleShowingLongSubject&&e.toggleShowingLongSubject(...c),["prevent"]))},w(e.$t("status.hide_full_subject")),513),[[Wn,e.longSubject&&e.showingLongSubject]]),ot(g("button",{class:"button-unstyled -link tall-subject-hider",onClick:t[1]||(t[1]=Se((...c)=>e.toggleShowingLongSubject&&e.toggleShowingLongSubject(...c),["prevent"]))},w(e.$t("status.show_full_subject")),513),[[Wn,e.longSubject&&!e.showingLongSubject]])],2)):E("",!0),g("div",{class:he([{"-tall-status":e.hideTallStatus},"text-wrapper"])},[ot(g("button",{class:he(["button-unstyled -link tall-status-hider",{"-focused":e.focused}]),onClick:t[2]||(t[2]=Se((...c)=>e.toggleShowMore&&e.toggleShowMore(...c),["prevent"]))},w(e.$t("general.show_more")),3),[[Wn,e.hideTallStatus]]),!e.hideSubjectStatus&&!(e.singleLine&&e.status.summary_raw_html)?(m(),K(i,{key:0,class:he([{"-single-line":e.singleLine},"text media-body"]),html:e.status.raw_html,emoji:e.status.emojis,"handle-links":!0,faint:e.compact,greentext:e.mergedConfig.greentext,attentions:e.status.attentions,onParseReady:e.onParseReady},null,8,["class","html","emoji","faint","greentext","attentions","onParseReady"])):E("",!0),ot(g("button",{class:"button-unstyled -link cw-status-hider",onClick:t[3]||(t[3]=Se((...c)=>e.toggleShowMore&&e.toggleShowMore(...c),["prevent"]))},[fe(w(e.$t("status.show_content"))+" ",1),e.attachmentTypes.includes("image")?(m(),K(a,{key:0,icon:"image"})):E("",!0),e.attachmentTypes.includes("video")?(m(),K(a,{key:1,icon:"video"})):E("",!0),e.attachmentTypes.includes("audio")?(m(),K(a,{key:2,icon:"music"})):E("",!0),e.attachmentTypes.includes("unknown")?(m(),K(a,{key:3,icon:"file"})):E("",!0),e.status.poll&&e.status.poll.options?(m(),K(a,{key:4,icon:"poll-h"})):E("",!0),e.status.card?(m(),K(a,{key:5,icon:"link"})):E("",!0)],512),[[Wn,e.hideSubjectStatus]]),ot(g("button",{class:"button-unstyled -link status-unhider",onClick:t[4]||(t[4]=Se((...c)=>e.toggleShowMore&&e.toggleShowMore(...c),["prevent"]))},w(e.tallStatus?e.$t("general.show_less"):e.$t("status.hide_content")),513),[[Wn,e.showingMore&&!e.fullContent]])],2)]),e.hideSubjectStatus?E("",!0):Ft(e.$slots,"default",{key:0})],2)}const Dae=be(Mae,[["render",Fae]]),Uae={name:"LinkPreview",props:["card","size","nsfw"],data(){return{imageLoaded:!1}},computed:{useImage(){return this.card.image&&!this.censored&&this.size!=="hide"},censored(){return this.nsfw&&this.hideNsfwConfig},useDescription(){return this.card.description&&/\S/.test(this.card.description)},hideNsfwConfig(){return this.mergedConfig.hideNsfw},...Zt(["mergedConfig"])},created(){if(this.useImage){const e=new Image;e.onload=()=>{this.imageLoaded=!0},e.src=this.card.image}}},jae=["href"],Bae={key:0,class:"card-image"},zae=["src"],qae={class:"card-content"},Hae={class:"card-host faint"},Vae={key:0,class:"nsfw-alert alert warning"},Wae={class:"card-title"},Gae={key:0,class:"card-description"};function Kae(e,t,n,s,o,r){return m(),b("div",null,[g("a",{class:"link-preview-card",href:e.card.url,target:"_blank",rel:"noopener"},[e.useImage&&e.imageLoaded?(m(),b("div",Bae,[g("img",{src:e.card.image},null,8,zae)])):E("",!0),g("div",qae,[g("span",Hae,[e.censored?(m(),b("span",Vae,w(e.$t("status.nsfw")),1)):E("",!0),fe(" "+w(e.card.provider_name),1)]),g("h4",Wae,w(e.card.title),1),e.useDescription?(m(),b("p",Gae,w(e.card.description),1)):E("",!0)])],8,jae)])}const c5=be(Uae,[["render",Kae]]);et.add(mo,P_,N_,A_,gE,Hh);const u5=e=>e.charAt(0).toUpperCase()+e.slice(1),xae=e=>e.reduce((t,n)=>{const s=u5(n),o=`controlledToggle${s}`,r=`controlled${s}`,i=`uncontrolled${s}`;return t[n]=function(){return(this.$data[o]!==void 0||this.$props[o]!==void 0)&&this[o]?this[r]:this[i]},t},{}),Ov=(e,t)=>{const n=u5(t),s=`controlledToggle${n}`,o=`uncontrolled${n}`;e[s]?e[s]():e[o]=!e[o]},Yae={name:"StatusContent",props:["status","compact","focused","noHeading","fullContent","singleLine","controlledShowingTall","controlledExpandingSubject","controlledToggleShowingTall","controlledToggleExpandingSubject","controlledShowingLongSubject","controlledToggleShowingLongSubject"],data(){return{uncontrolledShowingTall:this.fullContent||this.inConversation&&this.focused,uncontrolledShowingLongSubject:!1,uncontrolledExpandingSubject:!this.$store.getters.mergedConfig.collapseMessageWithSubject}},computed:{...xae(["showingTall","expandingSubject","showingLongSubject"]),statusCard(){return this.status.card?this.status.card.url===this.status.quote_url?null:this.status.card:null},hideAttachments(){return this.mergedConfig.hideAttachments&&!this.inConversation||this.mergedConfig.hideAttachmentsInConv&&this.inConversation},nsfwClickthrough(){return!(!this.status.nsfw||this.status.summary&&this.localCollapseSubjectDefault)},localCollapseSubjectDefault(){return this.mergedConfig.collapseMessageWithSubject},attachmentSize(){return this.compact?"small":this.mergedConfig.hideAttachments&&!this.inConversation||this.mergedConfig.hideAttachmentsInConv&&this.inConversation||this.status.attachments.length>this.maxThumbnails?"hide":"normal"},maxThumbnails(){return this.mergedConfig.maxThumbnails},...Zt(["mergedConfig"]),...hn({currentUser:e=>e.users.currentUser})},components:{Attachment:cp,Poll:Rae,Gallery:up,LinkPreview:c5,StatusBody:Dae},methods:{toggleShowingTall(){Ov(this,"showingTall")},toggleExpandingSubject(){Ov(this,"expandingSubject")},toggleShowingLongSubject(){Ov(this,"showingLongSubject")},setMedia(){const e=this.attachmentSize==="hide"?this.status.attachments:this.galleryAttachments;return()=>as().setMedia(e)}}},Xae={key:0},Jae={key:1},Zae={key:3,class:"link-preview media-body"};function Qae(e,t,n,s,o,r){const i=O("Poll"),a=O("FAIcon"),c=O("gallery"),d=O("link-preview"),f=O("StatusBody");return m(),b("div",{class:he(["StatusContent",{"-compact":e.compact}])},[Ft(e.$slots,"header"),A(f,{status:e.status,compact:e.compact,"single-line":e.singleLine,"showing-tall":e.showingTall,"expanding-subject":e.expandingSubject,"showing-long-subject":e.showingLongSubject,"toggle-showing-tall":e.toggleShowingTall,"toggle-expanding-subject":e.toggleExpandingSubject,"toggle-showing-long-subject":e.toggleShowingLongSubject,onParseReady:t[2]||(t[2]=h=>e.$emit("parseReady",h))},{default:X(()=>[e.status.poll&&e.status.poll.options&&!e.compact?(m(),b("div",Xae,[A(i,{"base-poll":e.status.poll,emoji:e.status.emojis},null,8,["base-poll","emoji"])])):e.status.poll&&e.status.poll.options&&e.compact?(m(),b("div",Jae,[A(a,{icon:"poll-h",size:"2x"})])):E("",!0),e.status.attachments.length!==0?(m(),K(c,{key:2,class:"attachments media-body",compact:e.compact,nsfw:e.nsfwClickthrough,attachments:e.status.attachments,limit:e.compact?1:0,size:e.attachmentSize,onPlay:t[0]||(t[0]=h=>e.$emit("mediaplay",e.attachment.id)),onPause:t[1]||(t[1]=h=>e.$emit("mediapause",e.attachment.id))},null,8,["compact","nsfw","attachments","limit","size"])):E("",!0),e.statusCard&&!e.noHeading&&!e.compact?(m(),b("div",Zae,[A(d,{card:e.status.card,size:e.attachmentSize,nsfw:e.nsfwClickthrough},null,8,["card","size","nsfw"])])):E("",!0)]),_:1},8,["status","compact","single-line","showing-tall","expanding-subject","showing-long-subject","toggle-showing-tall","toggle-expanding-subject","toggle-showing-long-subject"]),Ft(e.$slots,"footer")],2)}const Pa=be(Yae,[["render",Qae]]),ele=e=>Object.keys(e).reduce((t,n)=>(t[Z.kebabCase(n)]=e[n],t),{}),oC=e=>{const t=tle(e.emoji),n=e.store&&nle(e.store);return(s,o)=>{const r=s[0];return r===":"&&e.emoji?t(s,o):r==="@"&&n?n(s):[]}},tle=e=>(t,n)=>{const s=t.toLowerCase().substr(1);return e.map(o=>({...o,...n(o)})).filter(o=>o.names.concat(o.keywords).filter(r=>r.toLowerCase().match(s)).length).map(o=>{let r=0;return r+=Math.max(...o.names.map(i=>i.toLowerCase()===s?200:0),0),r+=o.imageUrl?100:0,r+=Math.max(...o.names.map(i=>i.toLowerCase().startsWith(s)?10:0),0),r-=o.displayText.length,o.score=r,o}).sort((o,r)=>{const i=o.displayText>r.displayText?.5:-.5;return r.score-o.score+i})},nle=({dispatch:e,state:t})=>{let n=[],s="",o=null,r=null;const i=c=>e("searchUsers",{query:c}),a=c=>(r&&r(),new Promise((d,f)=>{o=setTimeout(()=>{i(c).then(d).catch(f)},300),r=()=>{clearTimeout(o),d([])}}));return async c=>{const d=c.toLowerCase().substr(1);return s===d||(n=[],s=d,d.includes("@")||await a(d),n=t.users.users.filter(h=>h.screen_name&&h.name&&(h.screen_name.toLowerCase().startsWith(d)||h.name.toLowerCase().startsWith(d))).slice(0,20).sort((h,v)=>{let _=0,S=0;_+=h.screen_name.toLowerCase().startsWith(d)?2:0,S+=v.screen_name.toLowerCase().startsWith(d)?2:0,_+=h.name.toLowerCase().startsWith(d)?1:0,S+=v.name.toLowerCase().startsWith(d)?1:0;const k=(S-_)*10,P=h.name>v.name?1:-1,C=h.screen_name>v.screen_name?1:-1;return k+P+C}).map(h=>({user:h,displayText:h.screen_name_ui,detailText:h.name,imageUrl:h.profile_image_url_original,replacement:"@"+h.screen_name+" "}))||[]),n}},sle={props:{darkOverlay:{default:!0,type:Boolean},onCancel:{default:()=>{},type:Function}},computed:{mobileCenter(){return this.$store.getters.mergedConfig.modalMobileCenter}}},ole={class:"panel-heading dialog-modal-heading"},rle={class:"title"},ile={class:"panel-body dialog-modal-content"},ale={class:"dialog-modal-footer user-interactions panel-footer"};function lle(e,t,n,s,o,r){return m(),b("span",{class:he(["dialog-container",{"dark-overlay":e.darkOverlay,"-center-mobile":e.mobileCenter}]),onClick:t[1]||(t[1]=Se(i=>e.onCancel(),["self","stop"]))},[g("div",{class:"dialog-modal panel panel-default",onClick:t[0]||(t[0]=Se(()=>{},["stop"]))},[g("div",ole,[g("h1",rle,[Ft(e.$slots,"header")])]),g("div",ile,[Ft(e.$slots,"default")]),g("div",ale,[Ft(e.$slots,"footer")])])],2)}const dp=be(sle,[["render",lle]]),cle={data(){return{showing:!1}},components:{DialogModal:dp},emits:["save","discard"],computed:{action(){return this.$store.getters.mergedConfig.autoSaveDraft?"save":this.$store.getters.mergedConfig.unsavedPostAction},shouldConfirm(){return this.action==="confirm"}},methods:{requestClose(){this.shouldConfirm?this.showing=!0:this.action==="save"?this.save():this.discard()},save(){this.$emit("save"),this.showing=!1},discard(){this.$emit("discard"),this.showing=!1},cancel(){this.showing=!1}}};function ule(e,t,n,s,o,r){const i=O("dialog-modal"),a=Dl("body-scroll-lock");return m(),K(es,{to:"#modal"},[e.showing?ot((m(),K(i,{key:0,class:"confirm-modal","on-cancel":e.cancel},{header:X(()=>[g("span",null,w(e.$t("post_status.close_confirm_title")),1)]),footer:X(()=>[g("button",{class:"btn button-default",onClick:t[0]||(t[0]=Se((...c)=>e.save&&e.save(...c),["prevent"]))},w(e.$t("post_status.close_confirm_save_button")),1),g("button",{class:"btn button-default",onClick:t[1]||(t[1]=Se((...c)=>e.discard&&e.discard(...c),["prevent"]))},w(e.$t("post_status.close_confirm_discard_button")),1),g("button",{class:"btn button-default",onClick:t[2]||(t[2]=Se((...c)=>e.cancel&&e.cancel(...c),["prevent"]))},w(e.$t("post_status.close_confirm_continue_composing_button")),1)]),default:X(()=>[fe(" "+w(e.$t("post_status.close_confirm"))+" ",1)]),_:1},8,["on-cancel"])),[[a,!0]]):E("",!0)])}const dle=be(cle,[["render",ule]]);et.add(zh,Hh,hE,Ox,Yn,mo,Ca,Ta,Vu);const fle=({user:e,attentions:t=[]},n)=>{let s=[...t];s.unshift(e),s=Z.uniqBy(s,"id"),s=Z.reject(s,{id:n.id});const o=Z.map(s,r=>`@${r.screen_name}`);return o.length>0?o.join(" ")+" ":""},af=e=>Number(e.substring(0,e.length-2)),hle=({replyTo:e,profileMention:t,statusId:n})=>e?["reply",e]:t?["mention",t]:n?["edit",n]:["new",""],ple={props:["statusId","statusText","statusIsSensitive","statusPoll","statusFiles","statusMediaDescriptions","statusScope","statusContentType","replyTo","repliedUser","attentions","copyMessageScope","subject","disableSubject","disableScopeSelector","disableVisibilitySelector","disableNotice","disableLockWarning","disablePolls","disableSensitivityCheckbox","disableSubmit","disablePreview","disableDraft","hideDraft","closeable","placeholder","maxHeight","postHandler","preserveFocus","autoFocus","fileLimit","submitOnEnter","emojiPickerPlacement","optimisticPosting","profileMention","draftId"],emits:["posted","draft-done","resize","mediaplay","mediapause","can-close","update"],components:{MediaUpload:roe,EmojiInput:gre,PollForm:zre,ScopeSelector:hoe,Checkbox:Ia,Select:zl,Attachment:cp,StatusContent:Pa,Gallery:up,DraftCloser:dle,Popover:fs},mounted(){if(this.updateIdempotencyKey(),this.resize(this.$refs.textarea),this.replyTo){const e=this.$refs.textarea.value.length;this.$refs.textarea.setSelectionRange(e,e)}(this.replyTo||this.autoFocus)&&this.$refs.textarea.focus()},data(){var i;let t=this.$route.query.message||"";const{scopeCopy:n}=this.$store.getters.mergedConfig,[s,o]=hle({replyTo:this.replyTo,profileMention:this.profileMention&&((i=this.repliedUser)==null?void 0:i.id),statusId:this.statusId});let r=!this.disableDraft&&(this.draftId||s!=="new")?this.getDraft(s,o):null;if(!r){if(s==="reply"||s==="mention"){const f=this.$store.state.users.currentUser;t=fle({user:this.repliedUser,attentions:this.attentions},f)}const a=this.copyMessageScope&&n||this.copyMessageScope==="direct"?this.copyMessageScope:this.$store.state.users.currentUser.default_scope,{postContentType:c,sensitiveByDefault:d}=this.$store.getters.mergedConfig;if(r={type:s,refId:o,spoilerText:this.subject||"",status:t,nsfw:!!d,files:[],poll:{},hasPoll:!1,mediaDescriptions:{},visibility:a,contentType:c,quoting:!1},s==="edit"){const f=this.statusContentType||c;r={type:s,refId:o,spoilerText:this.subject||"",status:this.statusText||"",nsfw:this.statusIsSensitive||!!d,files:this.statusFiles||[],poll:this.statusPoll||{},hasPoll:!1,mediaDescriptions:this.statusMediaDescriptions||{},visibility:this.statusScope||a,contentType:f}}}return{randomSeed:ap(),dropFiles:[],uploadingFiles:!1,error:null,posting:!1,highlighted:0,newStatus:r,caret:0,showDropIcon:"hide",dropStopTimeout:null,preview:null,previewLoading:!1,emojiInputShown:!1,idempotencyKey:"",saveInhibited:!0,saveable:!1}},computed:{users(){return this.$store.state.users.users},userDefaultScope(){return this.$store.state.users.currentUser.default_scope},showAllScopes(){return!this.mergedConfig.minimalScopesMode},hideExtraActions(){return this.disableDraft||this.hideDraft},emojiUserSuggestor(){return oC({emoji:[...this.$store.getters.standardEmojiList,...this.$store.state.instance.customEmoji],store:this.$store})},emojiSuggestor(){return oC({emoji:[...this.$store.getters.standardEmojiList,...this.$store.state.instance.customEmoji]})},emoji(){return this.$store.getters.standardEmojiList||[]},customEmoji(){return this.$store.state.instance.customEmoji||[]},statusLength(){return this.newStatus.status.length},spoilerTextLength(){return this.newStatus.spoilerText.length},statusLengthLimit(){return this.$store.state.instance.textlimit},hasStatusLengthLimit(){return this.statusLengthLimit>0},charactersLeft(){return this.statusLengthLimit-(this.statusLength+this.spoilerTextLength)},isOverLengthLimit(){return this.hasStatusLengthLimit&&this.charactersLeft<0},minimalScopesMode(){return this.$store.state.instance.minimalScopesMode},alwaysShowSubject(){return this.mergedConfig.alwaysShowSubjectInput},postFormats(){return this.$store.state.instance.postFormats||[]},safeDMEnabled(){return this.$store.state.instance.safeDM},pollsAvailable(){return this.$store.state.instance.pollsAvailable&&this.$store.state.instance.pollLimits.max_options>=2&&this.disablePolls!==!0},hideScopeNotice(){return this.disableNotice||this.$store.getters.mergedConfig.hideScopeNotice},pollContentError(){return this.pollFormVisible&&this.newStatus.poll&&this.newStatus.poll.error},showPreview(){return!this.disablePreview&&(!!this.preview||this.previewLoading)},emptyStatus(){return this.newStatus.status.trim()===""&&this.newStatus.files.length===0},uploadFileLimitReached(){return this.newStatus.files.length>=this.fileLimit},isEdit(){return typeof this.statusId<"u"&&this.statusId.trim()!==""},quotable(){if(!this.$store.state.instance.quotingAvailable||!this.replyTo)return!1;const e=this.$store.state.statuses.allStatusesObject[this.replyTo];return e?e.visibility==="public"||e.visibility==="unlisted"||e.visibility==="local"?!0:e.visibility==="private"?e.user.id===this.$store.state.users.currentUser.id:!1:!1},debouncedMaybeAutoSaveDraft(){return Z.debounce(this.maybeAutoSaveDraft,3e3)},pollFormVisible(){return this.newStatus.hasPoll},shouldAutoSaveDraft(){return this.$store.getters.mergedConfig.autoSaveDraft},autoSaveState(){return this.saveable?this.$t("post_status.auto_save_saving"):this.newStatus.id?this.$t("post_status.auto_save_saved"):this.$t("post_status.auto_save_nothing_new")},safeToSaveDraft(){var e;return(this.newStatus.status||this.newStatus.spoilerText||((e=this.newStatus.files)==null?void 0:e.length)||this.newStatus.hasPoll)&&this.saveable},hasEmptyDraft(){var e;return this.newStatus.id&&!(this.newStatus.status||this.newStatus.spoilerText||(e=this.newStatus.files)!=null&&e.length||this.newStatus.hasPoll)},...Zt(["mergedConfig"]),..._n(Qe,{mobileLayout:e=>e.mobileLayout})},watch:{newStatus:{deep:!0,handler(){this.statusChanged()}},saveable(e){e?this.addBeforeUnloadListener():this.removeBeforeUnloadListener()}},beforeUnmount(){this.maybeAutoSaveDraft(),this.removeBeforeUnloadListener()},methods:{...FU(as,["increment"]),statusChanged(){this.autoPreview(),this.updateIdempotencyKey(),this.debouncedMaybeAutoSaveDraft(),this.saveable=!0,this.saveInhibited=!1},clearStatus(){const e=this.newStatus;this.saveInhibited=!0,this.newStatus={status:"",spoilerText:"",files:[],visibility:e.visibility,contentType:e.contentType,poll:{},hasPoll:!1,mediaDescriptions:{},quoting:!1},this.$refs.mediaUpload&&this.$refs.mediaUpload.clearFile(),this.clearPollForm(),this.preserveFocus&&this.$nextTick(()=>{this.$refs.textarea.focus()});const t=this.$el.querySelector("textarea");t.style.height="auto",t.style.height=void 0,this.error=null,this.preview&&this.previewStatus(),this.saveable=!1},async postStatus(e,t){if(this.posting&&!this.optimisticPosting||this.disableSubmit||this.emojiInputShown||(this.submitOnEnter&&(e.stopPropagation(),e.preventDefault()),this.optimisticPosting&&(this.emptyStatus||this.isOverLengthLimit)))return;if(this.emptyStatus){this.error=this.$t("post_status.empty_status_error");return}const n=this.newStatus.hasPoll?$re(this.newStatus.poll):{};if(this.pollContentError){this.error=this.pollContentError;return}this.posting=!0;try{await this.setAllMediaDescriptions()}catch{this.error=this.$t("post_status.media_description_error"),this.posting=!1;return}const s=t.quoting?"quoteId":"inReplyToStatusId",o={status:t.status,spoilerText:t.spoilerText||null,visibility:t.visibility,sensitive:t.nsfw,media:t.files,store:this.$store,[s]:this.replyTo,contentType:t.contentType,poll:n,idempotencyKey:this.idempotencyKey};(this.postHandler?this.postHandler:uu.postStatus)(o).then(i=>{i.error?this.error=i.error:(this.abandonDraft(),this.clearStatus(),this.$emit("posted",i)),this.posting=!1})},previewStatus(){if(this.emptyStatus&&this.newStatus.spoilerText.trim()===""){this.preview={error:this.$t("post_status.preview_empty")},this.previewLoading=!1;return}const e=this.newStatus;this.previewLoading=!0;const t=e.quoting?"quoteId":"inReplyToStatusId";uu.postStatus({status:e.status,spoilerText:e.spoilerText||null,visibility:e.visibility,sensitive:e.nsfw,media:[],store:this.$store,[t]:this.replyTo,contentType:e.contentType,poll:{},preview:!0}).then(n=>{this.previewLoading&&(n.error?this.preview={error:n.error}:this.preview=n)}).catch(n=>{this.preview={error:n}}).finally(()=>{this.previewLoading=!1})},debouncePreviewStatus:Z.debounce(function(){this.previewStatus()},500),autoPreview(){this.preview&&(this.previewLoading=!0,this.debouncePreviewStatus())},closePreview(){this.preview=null,this.previewLoading=!1},togglePreview(){this.showPreview?this.closePreview():this.previewStatus()},addMediaFile(e){this.newStatus.files.push(e),this.$emit("resize",{delayed:!0})},removeMediaFile(e){const t=this.newStatus.files.indexOf(e);this.newStatus.files.splice(t,1),this.$emit("resize")},editAttachment(e,t){this.newStatus.mediaDescriptions[e.id]=t},shiftUpMediaFile(e){const{files:t}=this.newStatus,n=this.newStatus.files.indexOf(e);t.splice(n,1),t.splice(n-1,0,e)},shiftDnMediaFile(e){const{files:t}=this.newStatus,n=this.newStatus.files.indexOf(e);t.splice(n,1),t.splice(n+1,0,e)},uploadFailed(e,t){t=t||{},this.error=this.$t("upload.error.base")+" "+this.$t("upload.error."+e,t)},startedUploadingFiles(){this.uploadingFiles=!0},finishedUploadingFiles(){this.$emit("resize"),this.uploadingFiles=!1},type(e){return wa.fileType(e.mimetype)},paste(e){this.autoPreview(),this.resize(e),e.clipboardData.files.length>0&&(e.preventDefault(),this.dropFiles=[e.clipboardData.files[0]])},fileDrop(e){e.dataTransfer&&e.dataTransfer.types.includes("Files")&&(e.preventDefault(),this.dropFiles=e.dataTransfer.files,clearTimeout(this.dropStopTimeout),this.showDropIcon="hide")},fileDragStop(){clearTimeout(this.dropStopTimeout),this.showDropIcon="fade",this.dropStopTimeout=setTimeout(()=>this.showDropIcon="hide",500)},fileDrag(e){e.dataTransfer.dropEffect=this.uploadFileLimitReached?"none":"copy",e.dataTransfer&&e.dataTransfer.types.includes("Files")&&(clearTimeout(this.dropStopTimeout),this.showDropIcon="show")},onEmojiInputInput(){this.$nextTick(()=>{this.resize(this.$refs.textarea)})},resize(e){const t=e.target||e;if(!(t instanceof window.Element))return;if(t.value===""){t.style.height=null,this.$emit("resize");return}const n=this.$refs.form,s=this.$refs.bottom,o=window.getComputedStyle(s)["padding-bottom"],r=af(o),i=this.$el.closest(".column.-scrollable")||this.$el.closest(".post-form-modal-view")||window,a=window.getComputedStyle(t)["padding-top"],c=window.getComputedStyle(t)["padding-bottom"],d=af(a),f=af(c),h=d+f,v=af(t.style.height),_=i===window?i.scrollY:i.scrollTop,S=i===window?i.innerHeight:i.offsetHeight,k=_+S;t.style.height="auto";const P=Math.floor(t.scrollHeight-h);let C=this.maxHeight?Math.min(P,this.maxHeight):P;Math.abs(C-v)<=1&&(C=v),t.style.height=`${C}px`,this.$emit("resize",C);const $=s.offsetHeight+my(s,i).top+r,L=k<$,T=S<n.offsetHeight,R=$-k,D=L&&!(T&&this.$refs.textarea.selectionStart!==this.$refs.textarea.value.length)?R:0,x=Math.round(_+D);i===window?i.scroll(0,x):i.scrollTop=x},showEmojiPicker(){this.$refs.textarea.focus(),this.$refs["emoji-input"].triggerShowPicker()},clearError(){this.error=null},changeVis(e){this.newStatus.visibility=e},togglePollForm(){this.newStatus.hasPoll=!this.newStatus.hasPoll},setPoll(e){this.newStatus.poll=e},clearPollForm(){this.$refs.pollForm&&this.$refs.pollForm.clear()},dismissScopeNotice(){this.$store.dispatch("setOption",{name:"hideScopeNotice",value:!0})},setMediaDescription(e){const t=this.newStatus.mediaDescriptions[e];if(!(!t||t.trim()===""))return uu.setMediaDescription({store:this.$store,id:e,description:t})},setAllMediaDescriptions(){const e=this.newStatus.files.map(t=>t.id);return Promise.all(e.map(t=>this.setMediaDescription(t)))},handleEmojiInputShow(e){this.emojiInputShown=e},updateIdempotencyKey(){this.idempotencyKey=Date.now().toString()},openProfileTab(){Qe().openSettingsModalTab("profile")},propsToNative(e){return ele(e)},saveDraft(){if(!this.disableDraft&&!this.saveInhibited){if(this.safeToSaveDraft)return this.$store.dispatch("addOrSaveDraft",{draft:this.newStatus}).then(e=>{this.newStatus.id!==e&&(this.newStatus.id=e),this.saveable=!1,this.shouldAutoSaveDraft||(this.clearStatus(),this.$emit("draft-done"))});if(this.hasEmptyDraft)return this.abandonDraft().then(()=>{this.saveable=!1,this.shouldAutoSaveDraft||(this.clearStatus(),this.$emit("draft-done"))})}return Promise.resolve()},maybeAutoSaveDraft(){this.shouldAutoSaveDraft&&this.saveDraft(!1)},abandonDraft(){return this.$store.dispatch("abandonDraft",{id:this.newStatus.id})},getDraft(e,t){const n=this.$store.state.drafts.drafts[this.draftId];if(this.draftId&&n)return n;{const s=this.$store.getters.draftsByTypeAndRefId(e,t);if(s.length)return s[0]}},requestClose(){this.saveable?this.$refs.draftCloser.requestClose():this.$emit("can-close")},saveAndCloseDraft(){this.saveDraft().then(()=>{this.$emit("can-close")})},discardAndCloseDraft(){this.abandonDraft().then(()=>{this.$emit("can-close")})},addBeforeUnloadListener(){this._beforeUnloadListener||(this._beforeUnloadListener=()=>{this.saveDraft()}),window.addEventListener("beforeunload",this._beforeUnloadListener)},removeBeforeUnloadListener(){this._beforeUnloadListener&&window.removeEventListener("beforeunload",this._beforeUnloadListener)}}},mle={ref:"form",class:"post-status-form"},gle={class:"form-group"},vle={key:1,class:"visibility-notice notice-dismissible"},ble=["title"],_le={key:2,class:"visibility-notice notice-dismissible"},yle=["title"],wle={key:3,class:"visibility-notice notice-dismissible"},Sle=["title"],kle={key:4,class:"visibility-notice"},$le={key:0},Cle={key:1},Tle={key:5,class:"visibility-notice edit-warning"},Ale={key:6,class:"preview-heading faint"},Ele={class:"preview-spinner"},Ile={key:0,role:"radiogroup",class:"btn-group reply-or-quote-selector"},Ple=["id","aria-labelledby","aria-checked"],Lle=["id","aria-labelledby","aria-checked"],Ole={key:7,class:"preview-container"},Rle={key:0,class:"preview-status"},Mle={key:1,class:"preview-status preview-error"},Nle=["placeholder","disabled"],Fle=["placeholder","disabled"],Dle={key:9,class:"visibility-tray"},Ule={key:1,class:"text-format"},jle=["value"],Ble={key:2,class:"text-format"},zle={class:"only-format"},qle={key:1,class:"auto-save-status"},Hle={ref:"bottom",class:"form-bottom"},Vle={class:"form-bottom-left"},Wle=["title"],Gle=["title"],Kle={class:"btn-group post-button-group"},xle=["disabled"],Yle={class:"dropdown-menu",role:"menu"},Xle=["disabled","onClick"],Jle={key:2,class:"alert error"},Zle={key:4,class:"upload_settings"};function Qle(e,t,n,s,o,r){const i=O("i18n-t"),a=O("FAIcon"),c=O("StatusContent"),d=O("EmojiInput"),f=O("scope-selector"),h=O("Select"),v=O("poll-form"),_=O("media-upload"),S=O("Popover"),k=O("gallery"),P=O("Checkbox"),C=O("DraftCloser");return m(),b("div",mle,[g("form",{autocomplete:"off",onSubmit:t[28]||(t[28]=Se(()=>{},["prevent"])),onDragover:t[29]||(t[29]=Se((...$)=>e.fileDrag&&e.fileDrag(...$),["prevent"]))},[g("div",gle,[!e.$store.state.users.currentUser.locked&&e.newStatus.visibility=="private"&&!e.disableLockWarning?(m(),K(i,{key:0,keypath:"post_status.account_not_locked_warning",tag:"p",class:"visibility-notice",scope:"global"},{default:X(()=>[g("button",{class:"button-unstyled -link",onClick:t[0]||(t[0]=(...$)=>e.openProfileTab&&e.openProfileTab(...$))},w(e.$t("post_status.account_not_locked_warning_link")),1)]),_:1})):E("",!0),!e.hideScopeNotice&&e.newStatus.visibility==="public"?(m(),b("p",vle,[g("span",null,w(e.$t("post_status.scope_notice.public")),1),g("a",{class:"fa-scale-110 fa-old-padding dismiss",title:e.$t("post_status.scope_notice_dismiss"),role:"button",tabindex:"0",onClick:t[1]||(t[1]=Se($=>e.dismissScopeNotice(),["prevent"]))},[A(a,{icon:"times"})],8,ble)])):!e.hideScopeNotice&&e.newStatus.visibility==="unlisted"?(m(),b("p",_le,[g("span",null,w(e.$t("post_status.scope_notice.unlisted")),1),g("a",{class:"fa-scale-110 fa-old-padding dismiss",title:e.$t("post_status.scope_notice_dismiss"),role:"button",tabindex:"0",onClick:t[2]||(t[2]=Se($=>e.dismissScopeNotice(),["prevent"]))},[A(a,{icon:"times"})],8,yle)])):!e.hideScopeNotice&&e.newStatus.visibility==="private"&&e.$store.state.users.currentUser.locked?(m(),b("p",wle,[g("span",null,w(e.$t("post_status.scope_notice.private")),1),g("a",{class:"fa-scale-110 fa-old-padding dismiss",title:e.$t("post_status.scope_notice_dismiss"),role:"button",tabindex:"0",onClick:t[3]||(t[3]=Se($=>e.dismissScopeNotice(),["prevent"]))},[A(a,{icon:"times"})],8,Sle)])):e.newStatus.visibility==="direct"?(m(),b("p",kle,[e.safeDMEnabled?(m(),b("span",$le,w(e.$t("post_status.direct_warning_to_first_only")),1)):(m(),b("span",Cle,w(e.$t("post_status.direct_warning_to_all")),1))])):E("",!0),e.isEdit?(m(),b("div",Tle,[g("p",null,w(e.$t("post_status.edit_remote_warning")),1),g("p",null,w(e.$t("post_status.edit_unsupported_warning")),1)])):E("",!0),e.disablePreview?E("",!0):(m(),b("div",Ale,[g("a",{class:"preview-toggle faint",onClick:t[4]||(t[4]=Se((...$)=>e.togglePreview&&e.togglePreview(...$),["stop","prevent"]))},[fe(w(e.$t("post_status.preview"))+" ",1),A(a,{icon:e.showPreview?"chevron-left":"chevron-right"},null,8,["icon"])]),ot(g("div",Ele,[A(a,{class:"fa-old-padding",spin:"",icon:"circle-notch"})],512),[[Wn,e.previewLoading]]),e.quotable?(m(),b("div",Ile,[g("button",{id:`reply-or-quote-option-${e.randomSeed}-reply`,class:he(["btn button-default reply-or-quote-option",{toggled:!e.newStatus.quoting}]),tabindex:"0",role:"radio","aria-labelledby":`reply-or-quote-option-${e.randomSeed}-reply`,"aria-checked":!e.newStatus.quoting,onClick:t[5]||(t[5]=$=>e.newStatus.quoting=!1)},w(e.$t("post_status.reply_option")),11,Ple),g("button",{id:`reply-or-quote-option-${e.randomSeed}-quote`,class:he(["btn button-default reply-or-quote-option",{toggled:e.newStatus.quoting}]),tabindex:"0",role:"radio","aria-labelledby":`reply-or-quote-option-${e.randomSeed}-quote`,"aria-checked":e.newStatus.quoting,onClick:t[6]||(t[6]=$=>e.newStatus.quoting=!0)},w(e.$t("post_status.quote_option")),11,Lle)])):E("",!0)])),e.showPreview?(m(),b("div",Ole,[e.preview?e.preview.error?(m(),b("div",Mle,w(e.preview.error),1)):(m(),K(c,{key:2,status:e.preview,class:"preview-status"},null,8,["status"])):(m(),b("div",Rle,w(e.$t("general.loading")),1))])):E("",!0),!e.disableSubject&&(e.newStatus.spoilerText||e.alwaysShowSubject)?(m(),K(d,{key:8,modelValue:e.newStatus.spoilerText,"onUpdate:modelValue":t[8]||(t[8]=$=>e.newStatus.spoilerText=$),"enable-emoji-picker":"",suggest:e.emojiSuggestor,class:"input form-control"},{default:X($=>[ot(g("input",xn({"onUpdate:modelValue":t[7]||(t[7]=L=>e.newStatus.spoilerText=L),type:"text",placeholder:e.$t("post_status.content_warning"),disabled:e.posting&&!e.optimisticPosting},e.propsToNative($),{size:"1",class:"input form-post-subject"}),null,16,Nle),[[Mt,e.newStatus.spoilerText]])]),_:1},8,["modelValue","suggest"])):E("",!0),A(d,{ref:"emoji-input",modelValue:e.newStatus.status,"onUpdate:modelValue":t[16]||(t[16]=$=>e.newStatus.status=$),suggest:e.emojiUserSuggestor,placement:e.emojiPickerPlacement,class:"input form-control main-input","enable-sticker-picker":"","enable-emoji-picker":"","hide-emoji-button":"","newline-on-ctrl-enter":e.submitOnEnter,onInput:e.onEmojiInputInput,onStickerUploaded:e.addMediaFile,onStickerUploadFailed:e.uploadFailed,onShown:e.handleEmojiInputShow},{default:X($=>[ot(g("textarea",xn({ref:"textarea","onUpdate:modelValue":t[9]||(t[9]=L=>e.newStatus.status=L),placeholder:e.placeholder||e.$t("post_status.default"),rows:"1",cols:"1",disabled:e.posting&&!e.optimisticPosting,class:["input form-post-body",{"scrollable-form":!!e.maxHeight}]},e.propsToNative($),{onKeydown:[t[10]||(t[10]=Ir(Se(L=>e.submitOnEnter&&e.postStatus(L,e.newStatus),["exact"]),["enter"])),t[11]||(t[11]=Ir(Se(L=>e.postStatus(L,e.newStatus),["meta"]),["enter"])),t[12]||(t[12]=Ir(Se(L=>!e.submitOnEnter&&e.postStatus(L,e.newStatus),["ctrl"]),["enter"]))],onInput:t[13]||(t[13]=(...L)=>e.resize&&e.resize(...L)),onCompositionupdate:t[14]||(t[14]=(...L)=>e.resize&&e.resize(...L)),onPaste:t[15]||(t[15]=(...L)=>e.paste&&e.paste(...L))}),null,16,Fle),[[Mt,e.newStatus.status]]),e.hasStatusLengthLimit?(m(),b("p",{key:0,class:he(["character-counter faint",{error:e.isOverLengthLimit}])},w(e.charactersLeft),3)):E("",!0)]),_:1},8,["modelValue","suggest","placement","newline-on-ctrl-enter","onInput","onStickerUploaded","onStickerUploadFailed","onShown"]),e.disableScopeSelector?E("",!0):(m(),b("div",Dle,[e.disableVisibilitySelector?E("",!0):(m(),K(f,{key:0,"show-all":e.showAllScopes,"user-default":e.userDefaultScope,"original-scope":e.copyMessageScope,"initial-scope":e.newStatus.visibility,"on-scope-change":e.changeVis},null,8,["show-all","user-default","original-scope","initial-scope","on-scope-change"])),e.postFormats.length>1?(m(),b("div",Ule,[A(h,{modelValue:e.newStatus.contentType,"onUpdate:modelValue":t[17]||(t[17]=$=>e.newStatus.contentType=$),class:"input form-control",attrs:{"aria-label":e.$t("post_status.content_type_selection")}},{default:X(()=>[(m(!0),b(Te,null,Ke(e.postFormats,$=>(m(),b("option",{key:$,value:$},w(e.$t(`post_status.content_type["${$}"]`)),9,jle))),128))]),_:1},8,["modelValue","attrs"])])):E("",!0),e.postFormats.length===1&&e.postFormats[0]!=="text/plain"?(m(),b("div",Ble,[g("span",zle,w(e.$t(`post_status.content_type["${e.postFormats[0]}"]`)),1)])):E("",!0)]))]),e.pollsAvailable?(m(),K(v,{key:0,ref:"pollForm",visible:e.pollFormVisible,params:e.newStatus.poll},null,8,["visible","params"])):E("",!0),!e.disableDraft&&e.shouldAutoSaveDraft?(m(),b("span",qle,w(e.autoSaveState),1)):E("",!0),g("div",Hle,[g("div",Vle,[A(_,{ref:"mediaUpload",class:"media-upload-icon","drop-files":e.dropFiles,disabled:e.uploadFileLimitReached,onUploading:e.startedUploadingFiles,onUploaded:e.addMediaFile,onUploadFailed:e.uploadFailed,onAllUploaded:e.finishedUploadingFiles},null,8,["drop-files","disabled","onUploading","onUploaded","onUploadFailed","onAllUploaded"]),g("button",{class:"emoji-icon button-unstyled",title:e.$t("emoji.add_emoji"),onClick:t[18]||(t[18]=(...$)=>e.showEmojiPicker&&e.showEmojiPicker(...$))},[A(a,{icon:"smile-beam"})],8,Wle),e.pollsAvailable?(m(),b("button",{key:0,class:he(["poll-icon button-unstyled",{selected:e.pollFormVisible}]),title:e.$t("polls.add_poll"),onClick:t[19]||(t[19]=(...$)=>e.togglePollForm&&e.togglePollForm(...$))},[A(a,{icon:"poll-h"})],10,Gle)):E("",!0)]),g("div",Kle,[g("button",{class:"btn button-default post-button",disabled:e.isOverLengthLimit||e.posting||e.uploadingFiles||e.disableSubmit,onClick:t[20]||(t[20]=Se($=>e.postStatus($,e.newStatus),["stop","prevent"]))},[e.posting?(m(),b(Te,{key:0},[fe(w(e.$t("post_status.posting")),1)],64)):(m(),b(Te,{key:1},[fe(w(e.$t("post_status.post")),1)],64))],8,xle),e.hideExtraActions?E("",!0):(m(),K(S,{key:0,class:"more-post-actions","normal-button":!0,trigger:"click",placement:"bottom",offset:{y:5},"trigger-attrs":{"aria-label":e.$t("post_status.more_post_actions")}},{trigger:X(()=>[A(a,{class:"fa-scale-110 fa-old-padding",icon:"chevron-down"})]),content:X(({close:$})=>[g("div",Yle,[g("div",{class:he(["menu-item dropdown-item",{disabled:!e.safeToSaveDraft}])},[!e.hideDraft||!e.disableDraft?(m(),b("button",{key:0,class:"main-button",role:"menu",disabled:!e.safeToSaveDraft,onClick:[t[21]||(t[21]=Se((...L)=>e.saveDraft&&e.saveDraft(...L),["prevent"])),$]},[e.closeable?(m(),b(Te,{key:0},[fe(w(e.$t("post_status.save_to_drafts_and_close_button")),1)],64)):(m(),b(Te,{key:1},[fe(w(e.$t("post_status.save_to_drafts_button")),1)],64))],8,Xle)):E("",!0)],2)])]),_:1},8,["trigger-attrs"]))])],512),ot(g("div",{style:gn({animation:e.showDropIcon==="show"?"fade-in 0.25s":"fade-out 0.5s"}),class:"drop-indicator",onDragleave:t[22]||(t[22]=(...$)=>e.fileDragStop&&e.fileDragStop(...$)),onDrop:t[23]||(t[23]=Se((...$)=>e.fileDrop&&e.fileDrop(...$),["stop"]))},[A(a,{icon:e.uploadFileLimitReached?"ban":"upload"},null,8,["icon"])],36),[[Wn,e.showDropIcon!=="hide"]]),e.error?(m(),b("div",Jle,[fe(" Error: "+w(e.error)+" ",1),g("button",{class:"button-unstyled",onClick:t[24]||(t[24]=(...$)=>e.clearError&&e.clearError(...$))},[A(a,{class:"fa-scale-110 fa-old-padding",icon:"times"})])])):E("",!0),e.newStatus.files&&e.newStatus.files.length>0?(m(),K(k,{key:3,class:"attachments",grid:!0,nsfw:!1,attachments:e.newStatus.files,descriptions:e.newStatus.mediaDescriptions,"set-media":()=>e.setMedia(),editable:!0,"edit-attachment":e.editAttachment,"remove-attachment":e.removeMediaFile,"shift-up-attachment":e.newStatus.files.length>1&&e.shiftUpMediaFile,"shift-dn-attachment":e.newStatus.files.length>1&&e.shiftDnMediaFile,onPlay:t[25]||(t[25]=$=>e.$emit("mediaplay",e.attachment.id)),onPause:t[26]||(t[26]=$=>e.$emit("mediapause",e.attachment.id))},null,8,["attachments","descriptions","set-media","edit-attachment","remove-attachment","shift-up-attachment","shift-dn-attachment"])):E("",!0),e.newStatus.files.length>0&&!e.disableSensitivityCheckbox?(m(),b("div",Zle,[A(P,{modelValue:e.newStatus.nsfw,"onUpdate:modelValue":t[27]||(t[27]=$=>e.newStatus.nsfw=$)},{default:X(()=>[fe(w(e.$t("post_status.attachments_sensitive")),1)]),_:1},8,["modelValue"])])):E("",!0)],32),A(C,{ref:"draftCloser",onSave:e.saveAndCloseDraft,onDiscard:e.discardAndCloseDraft},null,8,["onSave","onDiscard"])],512)}const ql=be(ple,[["render",Qle]]),ece={props:["user"],computed:{subscribeUrl(){const e=new URL(this.user.statusnet_profile_url);return`${e.protocol}//${e.host}/main/ostatus`}}},tce={class:"remote-follow"},nce=["action"],sce=["value"],oce={click:"submit",class:"button-default remote-button"};function rce(e,t,n,s,o,r){return m(),b("div",tce,[g("form",{method:"POST",action:e.subscribeUrl},[g("input",{type:"hidden",name:"nickname",value:e.user.screen_name},null,8,sce),t[0]||(t[0]=g("input",{type:"hidden",name:"profile",value:""},null,-1)),g("button",oce,w(e.$t("user_card.remote_follow")),1)],8,nce)])}const d5=be(ece,[["render",rce]]),ice={props:{disabled:{type:Boolean},click:{type:Function,default:()=>Promise.resolve()}},data(){return{progress:!1}},methods:{onClick(){this.progress=!0,this.click().then(()=>{this.progress=!1})}}},ace=["disabled"];function lce(e,t,n,s,o,r){return m(),b("button",{disabled:o.progress||n.disabled,onClick:t[0]||(t[0]=(...i)=>r.onClick&&r.onClick(...i))},[o.progress&&e.$slots.progress?Ft(e.$slots,"progress",{key:0}):Ft(e.$slots,"default",{key:1})],8,ace)}const f5=be(ice,[["render",lce]]),cce={components:{DialogModal:dp},props:{title:{type:String},cancelText:{type:String},confirmText:{type:String}},emits:["cancelled","accepted"],computed:{},methods:{onCancel(){this.$emit("cancelled")},onAccept(){this.$emit("accepted")}}},uce=["textContent"],dce=["textContent"],fce=["textContent"];function hce(e,t,n,s,o,r){const i=O("DialogModal"),a=Dl("body-scroll-lock");return ot((m(),K(i,{class:"confirm-modal",onCancel:e.onCancel},{header:X(()=>[g("span",{textContent:w(e.title)},null,8,uce)]),footer:X(()=>[g("button",{class:"btn button-default",onClick:t[0]||(t[0]=Se((...c)=>e.onAccept&&e.onAccept(...c),["prevent"])),textContent:w(e.confirmText)},null,8,dce),g("button",{class:"btn button-default",onClick:t[1]||(t[1]=Se((...c)=>e.onCancel&&e.onCancel(...c),["prevent"])),textContent:w(e.cancelText)},null,8,fce)]),default:X(()=>[Ft(e.$slots,"default")]),_:3},8,["onCancel"])),[[a,!0]])}const Zo=be(cce,[["render",hce]]),h5=(e,t,n)=>new Promise((s,o)=>{setTimeout(()=>{n.state.api.backendInteractor.fetchUserRelationship({id:t}).then(r=>(n.commit("updateUserRelationship",[r]),r)).then(r=>s([r.following,r.requested,r.locked,e])).catch(r=>o(r))},500)}).then(([s,o,r,i])=>{!s&&!(r&&o)&&i<=3&&h5(++i,t,n)}),pce=(e,t)=>new Promise(n=>{t.state.api.backendInteractor.followUser({id:e}).then(s=>{if(t.commit("updateUserRelationship",[s]),s.following||s.locked&&s.requested){n();return}return h5(1,s,t).then(()=>{n()})})}),mce=(e,t)=>new Promise(n=>{t.state.api.backendInteractor.unfollowUser({id:e}).then(s=>{t.commit("updateUserRelationship",[s]),n({updated:s})})}),gce={props:["relationship","user","labelFollowing","buttonClass"],components:{ConfirmModal:Zo},data(){return{inProgress:!1,showingConfirmUnfollow:!1}},computed:{shouldConfirmUnfollow(){return this.$store.getters.mergedConfig.modalOnUnfollow},isPressed(){return this.inProgress||this.relationship.following},title(){return this.inProgress||this.relationship.following?this.$t("user_card.follow_unfollow"):this.relationship.requested?this.$t("user_card.follow_cancel"):this.$t("user_card.follow")},label(){return this.inProgress?this.$t("user_card.follow_progress"):this.relationship.following?this.labelFollowing||this.$t("user_card.following"):this.relationship.requested?this.$t("user_card.follow_sent"):this.$t("user_card.follow")},disabled(){return this.inProgress||this.user.deactivated}},methods:{showConfirmUnfollow(){this.showingConfirmUnfollow=!0},hideConfirmUnfollow(){this.showingConfirmUnfollow=!1},onClick(){this.relationship.following||this.relationship.requested?this.unfollow():this.follow()},follow(){this.inProgress=!0,pce(this.relationship.id,this.$store).then(()=>{this.inProgress=!1})},unfollow(){this.shouldConfirmUnfollow?this.showConfirmUnfollow():this.doUnfollow()},doUnfollow(){const e=this.$store;this.inProgress=!0,mce(this.relationship.id,e).then(()=>{this.inProgress=!1,e.commit("removeStatus",{timeline:"friends",userId:this.relationship.id})}),this.hideConfirmUnfollow()}}},vce=["disabled","title"],bce=["textContent"];function _ce(e,t,n,s,o,r){const i=O("i18n-t"),a=O("confirm-modal");return m(),b("button",{class:he(["btn button-default follow-button",{toggled:e.isPressed}]),disabled:e.disabled,title:e.title,onClick:t[0]||(t[0]=(...c)=>e.onClick&&e.onClick(...c))},[fe(w(e.label)+" ",1),(m(),K(es,{to:"#modal"},[e.showingConfirmUnfollow?(m(),K(a,{key:0,title:e.$t("user_card.unfollow_confirm_title"),"confirm-text":e.$t("user_card.unfollow_confirm_accept_button"),"cancel-text":e.$t("user_card.unfollow_confirm_cancel_button"),onAccepted:e.doUnfollow,onCancelled:e.hideConfirmUnfollow},{default:X(()=>[A(i,{scope:"global",keypath:"user_card.unfollow_confirm",tag:"span"},{user:X(()=>[g("span",{textContent:w(e.user.screen_name_ui)},null,8,bce)]),_:1})]),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):E("",!0)]))],10,vce)}const p5=be(gce,[["render",_ce]]);et.add(Ca);const yce="mrf_tag:media-force-nsfw",wce="mrf_tag:media-strip",Sce="mrf_tag:force-unlisted",kce="mrf_tag:disable-remote-subscription",$ce="mrf_tag:disable-any-subscription",Cce="mrf_tag:sandbox",Tce="mrf_tag:quarantine",Ace={props:["user"],data(){return{tags:{FORCE_NSFW:yce,STRIP_MEDIA:wce,FORCE_UNLISTED:Sce,DISABLE_REMOTE_SUBSCRIPTION:kce,DISABLE_ANY_SUBSCRIPTION:$ce,SANDBOX:Cce,QUARANTINE:Tce},showDeleteUserDialog:!1,toggled:!1}},components:{DialogModal:dp,Popover:fs},computed:{tagsSet(){return new Set(this.user.tags)},canGrantRole(){return this.user.is_local&&!this.user.deactivated&&this.$store.state.users.currentUser.role==="admin"},canChangeActivationState(){return this.privileged("users_manage_activation_state")},canDeleteAccount(){return this.privileged("users_delete")},canUseTagPolicy(){return this.$store.state.instance.tagPolicyAvailable&&this.privileged("users_manage_tags")}},methods:{hasTag(e){return this.tagsSet.has(e)},privileged(e){return this.$store.state.users.currentUser.privileges.includes(e)},toggleTag(e){const t=this.$store;this.tagsSet.has(e)?t.state.api.backendInteractor.untagUser({user:this.user,tag:e}).then(n=>{n.ok&&t.commit("untagUser",{user:this.user,tag:e})}):t.state.api.backendInteractor.tagUser({user:this.user,tag:e}).then(n=>{n.ok&&t.commit("tagUser",{user:this.user,tag:e})})},toggleRight(e){const t=this.$store;this.user.rights[e]?t.state.api.backendInteractor.deleteRight({user:this.user,right:e}).then(n=>{n.ok&&t.commit("updateRight",{user:this.user,right:e,value:!1})}):t.state.api.backendInteractor.addRight({user:this.user,right:e}).then(n=>{n.ok&&t.commit("updateRight",{user:this.user,right:e,value:!0})})},toggleActivationStatus(){this.$store.dispatch("toggleActivationStatus",{user:this.user})},deleteUserDialog(e){this.showDeleteUserDialog=e},deleteUser(){const e=this.$store,t=this.user,{id:n,name:s}=t;e.state.api.backendInteractor.deleteUser({user:t}).then(()=>{this.$store.dispatch("markStatusesAsDeleted",i=>t.id===i.user.id);const o=this.$route.name==="external-user-profile"||this.$route.name==="user-profile",r=this.$route.params.name===s||this.$route.params.id===n;o&&r&&window.history.back()})},setToggled(e){this.toggled=e}}},Ece={class:"dropdown-menu"},Ice={class:"menu-item dropdown-item -icon-space"},Pce={class:"menu-item dropdown-item -icon-space"},Lce={key:0,role:"separator",class:"dropdown-divider"},Oce={key:1,class:"menu-item dropdown-item -icon-space"},Rce={key:2,class:"menu-item dropdown-item -icon-space"},Mce={class:"menu-item dropdown-item -icon"},Nce={class:"menu-item dropdown-item -icon"},Fce={class:"menu-item dropdown-item -icon"},Dce={class:"menu-item dropdown-item -icon"},Uce={key:0,class:"menu-item dropdown-item -icon"},jce={key:1,class:"menu-item dropdown-item -icon"},Bce={key:2,class:"menu-item dropdown-item -icon"};function zce(e,t,n,s,o,r){const i=O("FAIcon"),a=O("Popover"),c=O("DialogModal");return m(),b("div",null,[A(a,{trigger:"click",class:"moderation-tools-popover",placement:"bottom",offset:{y:5},onShow:t[11]||(t[11]=d=>e.setToggled(!0)),onClose:t[12]||(t[12]=d=>e.setToggled(!1))},{content:X(()=>[g("div",Ece,[e.canGrantRole?(m(),b(Te,{key:0},[g("div",Ice,[g("button",{class:"main-button",onClick:t[0]||(t[0]=d=>e.toggleRight("admin"))},w(e.$t(e.user.rights.admin?"user_card.admin_menu.revoke_admin":"user_card.admin_menu.grant_admin")),1)]),g("div",Pce,[g("button",{class:"main-button",onClick:t[1]||(t[1]=d=>e.toggleRight("moderator"))},w(e.$t(e.user.rights.moderator?"user_card.admin_menu.revoke_moderator":"user_card.admin_menu.grant_moderator")),1)]),e.canChangeActivationState||e.canDeleteAccount?(m(),b("div",Lce)):E("",!0)],64)):E("",!0),e.canChangeActivationState?(m(),b("div",Oce,[g("button",{class:"main-button",onClick:t[2]||(t[2]=d=>e.toggleActivationStatus())},w(e.$t(e.user.deactivated?"user_card.admin_menu.activate_account":"user_card.admin_menu.deactivate_account")),1)])):E("",!0),e.canDeleteAccount?(m(),b("div",Rce,[g("button",{class:"main-button",onClick:t[3]||(t[3]=d=>e.deleteUserDialog(!0))},w(e.$t("user_card.admin_menu.delete_account")),1)])):E("",!0),e.canUseTagPolicy?(m(),b(Te,{key:3},[t[15]||(t[15]=g("div",{role:"separator",class:"dropdown-divider"},null,-1)),g("div",Mce,[g("button",{class:"main-button",onClick:t[4]||(t[4]=d=>e.toggleTag(e.tags.FORCE_NSFW))},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.FORCE_NSFW)}])},null,2),fe(" "+w(e.$t("user_card.admin_menu.force_nsfw")),1)])]),g("div",Nce,[g("button",{class:"main-button",onClick:t[5]||(t[5]=d=>e.toggleTag(e.tags.STRIP_MEDIA))},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.STRIP_MEDIA)}])},null,2),fe(" "+w(e.$t("user_card.admin_menu.strip_media")),1)])]),g("div",Fce,[g("button",{class:"main-button",onClick:t[6]||(t[6]=d=>e.toggleTag(e.tags.FORCE_UNLISTED))},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.FORCE_UNLISTED)}])},null,2),fe(" "+w(e.$t("user_card.admin_menu.force_unlisted")),1)])]),g("div",Dce,[g("button",{class:"main-button",onClick:t[7]||(t[7]=d=>e.toggleTag(e.tags.SANDBOX))},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.SANDBOX)}])},null,2),fe(" "+w(e.$t("user_card.admin_menu.sandbox")),1)])]),e.user.is_local?(m(),b("div",Uce,[g("button",{class:"main-button",onClick:t[8]||(t[8]=d=>e.toggleTag(e.tags.DISABLE_REMOTE_SUBSCRIPTION))},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.DISABLE_REMOTE_SUBSCRIPTION)}])},null,2),fe(" "+w(e.$t("user_card.admin_menu.disable_remote_subscription")),1)])])):E("",!0),e.user.is_local?(m(),b("div",jce,[g("button",{class:"main-button",onClick:t[9]||(t[9]=d=>e.toggleTag(e.tags.DISABLE_ANY_SUBSCRIPTION))},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.DISABLE_ANY_SUBSCRIPTION)}])},null,2),fe(" "+w(e.$t("user_card.admin_menu.disable_any_subscription")),1)])])):E("",!0),e.user.is_local?(m(),b("div",Bce,[g("button",{class:"main-button",onClick:t[10]||(t[10]=d=>e.toggleTag(e.tags.QUARANTINE))},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.QUARANTINE)}])},null,2),fe(" "+w(e.$t("user_card.admin_menu.quarantine")),1)])])):E("",!0)],64)):E("",!0)])]),trigger:X(()=>[g("button",{class:he(["btn button-default btn-block moderation-tools-button",{toggled:e.toggled}])},[fe(w(e.$t("user_card.admin_menu.moderation"))+" ",1),A(i,{icon:"chevron-down"})],2)]),_:1}),(m(),K(es,{to:"#modal"},[e.showDeleteUserDialog?(m(),K(c,{key:0,"on-cancel":e.deleteUserDialog.bind(this,!1)},{header:X(()=>[fe(w(e.$t("user_card.admin_menu.delete_user")),1)]),footer:X(()=>[g("button",{class:"btn button-default",onClick:t[13]||(t[13]=d=>e.deleteUserDialog(!1))},w(e.$t("general.cancel")),1),g("button",{class:"btn button-default danger",onClick:t[14]||(t[14]=d=>e.deleteUser())},w(e.$t("user_card.admin_menu.delete_user")),1)]),default:X(()=>[g("p",null,w(e.$t("user_card.admin_menu.delete_user_confirmation")),1)]),_:1},8,["on-cancel"])):E("",!0)]))])}const qce=be(Ace,[["render",zce]]);et.add(Vu);const Hce={props:["user"],data(){return{}},components:{DialogModal:dp,Popover:fs},created(){this.$store.dispatch("fetchUserInLists",this.user.id)},computed:{..._n(Rn,{allLists:e=>e.allLists}),inListsSet(){return new Set(this.user.inLists.map(e=>e.id))},lists(){return this.user.inLists?this.allLists.map(e=>({...e,inList:this.inListsSet.has(e.id)})):[]},triggerAttrs(){return{class:"menu-item dropdown-item -has-submenu"}}},methods:{toggleList(e){this.inListsSet.has(e)?Rn().removeListAccount({accountId:this.user.id,listId:e}).then(t=>{t.ok&&this.$store.dispatch("fetchUserInLists",this.user.id)}):Rn().addListAccount({accountId:this.user.id,listId:e}).then(t=>{t.ok&&this.$store.dispatch("fetchUserInLists",this.user.id)})},toggleRight(e){const t=this.$store;this.user.rights[e]?t.state.api.backendInteractor.deleteRight({user:this.user,right:e}).then(n=>{n.ok&&t.commit("updateRight",{user:this.user,right:e,value:!1})}):t.state.api.backendInteractor.addRight({user:this.user,right:e}).then(n=>{n.ok&&t.commit("updateRight",{user:this.user,right:e,value:!0})})},toggleActivationStatus(){this.$store.dispatch("toggleActivationStatus",{user:this.user})},deleteUserDialog(e){this.showDeleteUserDialog=e},deleteUser(){const e=this.$store,t=this.user,{id:n,name:s}=t;e.state.api.backendInteractor.deleteUser({user:t}).then(()=>{this.$store.dispatch("markStatusesAsDeleted",i=>t.id===i.user.id);const o=this.$route.name==="external-user-profile"||this.$route.name==="user-profile",r=this.$route.params.name===s||this.$route.params.id===n;o&&r&&window.history.back()})},setToggled(e){this.toggled=e}}},Vce={class:"UserListMenu"},Wce={class:"dropdown-menu"},Gce=["onClick"],Kce={class:"main-button"};function xce(e,t,n,s,o,r){const i=O("FAIcon"),a=O("Popover");return m(),b("div",Vce,[A(a,{trigger:"hover",placement:"right","trigger-attrs":e.triggerAttrs,"remove-padding":""},{content:X(()=>[g("div",Wce,[(m(!0),b(Te,null,Ke(e.lists,c=>(m(),b("div",{key:c.id,class:"menu-item dropdown-item -icon"},[g("button",{class:"main-button",onClick:d=>e.toggleList(c.id)},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":c.inList}])},null,2),fe(" "+w(c.title),1)],8,Gce)]))),128))])]),trigger:X(()=>[g("span",Kce,[fe(w(e.$t("lists.manage_lists"))+" ",1),A(i,{class:"chevron-icon",size:"lg",icon:"chevron-right"})])]),_:1},8,["trigger-attrs"])])}const Yce=be(Hce,[["render",xce]]);et.add(eY);const Xce={props:["user","relationship"],data(){return{showingConfirmBlock:!1,showingConfirmRemoveFollower:!1}},components:{ProgressButton:f5,Popover:fs,UserListMenu:Yce,ConfirmModal:Zo},methods:{showConfirmBlock(){this.showingConfirmBlock=!0},hideConfirmBlock(){this.showingConfirmBlock=!1},showConfirmRemoveUserFromFollowers(){this.showingConfirmRemoveFollower=!0},hideConfirmRemoveUserFromFollowers(){this.showingConfirmRemoveFollower=!1},showRepeats(){this.$store.dispatch("showReblogs",this.user.id)},hideRepeats(){this.$store.dispatch("hideReblogs",this.user.id)},blockUser(){this.shouldConfirmBlock?this.showConfirmBlock():this.doBlockUser()},doBlockUser(){this.$store.dispatch("blockUser",this.user.id),this.hideConfirmBlock()},unblockUser(){this.$store.dispatch("unblockUser",this.user.id)},removeUserFromFollowers(){this.shouldConfirmRemoveUserFromFollowers?this.showConfirmRemoveUserFromFollowers():this.doRemoveUserFromFollowers()},doRemoveUserFromFollowers(){this.$store.dispatch("removeUserFromFollowers",this.user.id),this.hideConfirmRemoveUserFromFollowers()},reportUser(){Ei().openUserReportingModal({userId:this.user.id})},openChat(){this.$router.push({name:"chat",params:{username:this.$store.state.users.currentUser.screen_name,recipient_id:this.user.id}})}},computed:{shouldConfirmBlock(){return this.$store.getters.mergedConfig.modalOnBlock},shouldConfirmRemoveUserFromFollowers(){return this.$store.getters.mergedConfig.modalOnRemoveUserFromFollowers},...hn({pleromaChatMessagesAvailable:e=>e.instance.pleromaChatMessagesAvailable})}},Jce={class:"AccountActions"},Zce={class:"dropdown-menu"},Qce={key:0,class:"menu-item dropdown-item"},eue={key:1,class:"menu-item dropdown-item"},tue={key:1,class:"menu-item dropdown-item"},nue={class:"menu-item dropdown-item"},sue={class:"menu-item dropdown-item"},oue={key:2,class:"menu-item dropdown-item"},rue={class:"button-unstyled ellipsis-button"},iue=["textContent"],aue=["textContent"];function lue(e,t,n,s,o,r){const i=O("UserListMenu"),a=O("FAIcon"),c=O("Popover"),d=O("i18n-t"),f=O("confirm-modal");return m(),b("div",Jce,[A(c,{trigger:"click",placement:"bottom","bound-to":{x:"container"},"remove-padding":""},{content:X(()=>[g("div",Zce,[e.relationship.following?(m(),b(Te,{key:0},[e.relationship.showing_reblogs?(m(),b("div",Qce,[g("button",{class:"main-button",onClick:t[0]||(t[0]=(...h)=>e.hideRepeats&&e.hideRepeats(...h))},w(e.$t("user_card.hide_repeats")),1)])):E("",!0),e.relationship.showing_reblogs?E("",!0):(m(),b("div",eue,[g("button",{class:"main-button",onClick:t[1]||(t[1]=(...h)=>e.showRepeats&&e.showRepeats(...h))},w(e.$t("user_card.show_repeats")),1)])),t[7]||(t[7]=g("div",{role:"separator",class:"dropdown-divider"},null,-1))],64)):E("",!0),A(i,{user:e.user},null,8,["user"]),e.relationship.followed_by?(m(),b("div",tue,[g("button",{class:"main-button",onClick:t[2]||(t[2]=(...h)=>e.removeUserFromFollowers&&e.removeUserFromFollowers(...h))},w(e.$t("user_card.remove_follower")),1)])):E("",!0),g("div",nue,[e.relationship.blocking?(m(),b("button",{key:0,class:"main-button",onClick:t[3]||(t[3]=(...h)=>e.unblockUser&&e.unblockUser(...h))},w(e.$t("user_card.unblock")),1)):(m(),b("button",{key:1,class:"main-button",onClick:t[4]||(t[4]=(...h)=>e.blockUser&&e.blockUser(...h))},w(e.$t("user_card.block")),1))]),g("div",sue,[g("button",{class:"main-button",onClick:t[5]||(t[5]=(...h)=>e.reportUser&&e.reportUser(...h))},w(e.$t("user_card.report")),1)]),e.pleromaChatMessagesAvailable?(m(),b("div",oue,[g("button",{class:"main-button",onClick:t[6]||(t[6]=(...h)=>e.openChat&&e.openChat(...h))},w(e.$t("user_card.message")),1)])):E("",!0)])]),trigger:X(()=>[g("button",rue,[A(a,{class:"icon",icon:"ellipsis-v"})])]),_:1}),(m(),K(es,{to:"#modal"},[e.showingConfirmBlock?(m(),K(f,{key:0,title:e.$t("user_card.block_confirm_title"),"confirm-text":e.$t("user_card.block_confirm_accept_button"),"cancel-text":e.$t("user_card.block_confirm_cancel_button"),onAccepted:e.doBlockUser,onCancelled:e.hideConfirmBlock},{default:X(()=>[A(d,{keypath:"user_card.block_confirm",tag:"span",scope:"global"},{user:X(()=>[g("span",{textContent:w(e.user.screen_name_ui)},null,8,iue)]),_:1})]),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):E("",!0)])),(m(),K(es,{to:"#modal"},[e.showingConfirmRemoveFollower?(m(),K(f,{key:0,title:e.$t("user_card.remove_follower_confirm_title"),"confirm-text":e.$t("user_card.remove_follower_confirm_accept_button"),"cancel-text":e.$t("user_card.remove_follower_confirm_cancel_button"),onAccepted:e.doRemoveUserFromFollowers,onCancelled:e.hideConfirmRemoveUserFromFollowers},{default:X(()=>[A(d,{keypath:"user_card.remove_follower_confirm",tag:"span",scope:"global"},{user:X(()=>[g("span",{textContent:w(e.user.screen_name_ui)},null,8,aue)]),_:1})]),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):E("",!0)]))])}const cue=be(Xce,[["render",lue]]),uue={props:{user:Object,relationship:Object,editable:Boolean},data(){return{localNote:"",editing:!1,frozen:!1}},computed:{shouldShow(){return this.relationship.note||this.editing}},methods:{startEditing(){this.localNote=this.relationship.note,this.editing=!0},cancelEditing(){this.editing=!1},finalizeEditing(){this.frozen=!0,this.$store.dispatch("editUserNote",{id:this.user.id,comment:this.localNote}).then(()=>{this.frozen=!1,this.editing=!1}).catch(()=>{this.frozen=!1})}}},due={class:"user-note"},fue={class:"heading"},hue={class:"buttons"},pue=["disabled"],mue=["disabled"];function gue(e,t,n,s,o,r){return m(),b("div",due,[g("div",fue,[g("span",null,w(e.$t("user_card.note")),1),g("div",hue,[ot(g("button",{class:"button-default btn",onClick:t[0]||(t[0]=(...i)=>e.startEditing&&e.startEditing(...i))},w(e.$t("user_card.edit_note")),513),[[Wn,!e.editing&&e.editable]]),ot(g("button",{class:"button-default btn",disabled:e.frozen,onClick:t[1]||(t[1]=(...i)=>e.finalizeEditing&&e.finalizeEditing(...i))},w(e.$t("user_card.edit_note_apply")),9,pue),[[Wn,e.editing]]),ot(g("button",{class:"button-default btn",disabled:e.frozen,onClick:t[2]||(t[2]=(...i)=>e.cancelEditing&&e.cancelEditing(...i))},w(e.$t("user_card.edit_note_cancel")),9,mue),[[Wn,e.editing]])])]),ot(g("textarea",{"onUpdate:modelValue":t[3]||(t[3]=i=>e.localNote=i),class:"input note-text"},null,512),[[Wn,e.editing],[Mt,e.localNote]]),ot(g("span",{class:he(["note-text",{"-blank":!e.relationship.note}])},w(e.relationship.note||e.$t("user_card.note_blank")),3),[[Wn,!e.editing]])])}const vue=be(uue,[["render",gue]]),bue={props:{user:Object,at:{type:Boolean,default:!0}},components:{UnicodeDomainIndicator:lp},methods:{userProfileLink(e){return Jo(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)}}},_ue=bue,yue={class:"user-profile-link"};function wue(e,t,n,s,o,r){const i=O("UnicodeDomainIndicator"),a=O("router-link");return m(),b("div",yue,[A(a,{title:e.user.screen_name_ui,to:e.userProfileLink(e.user)},{default:X(()=>[Ft(e.$slots,"default",{},()=>[fe(w(e.at?"@":"")+w(e.user.screen_name_ui),1),A(i,{user:e.user},null,8,["user"])])]),_:3},8,["title","to"])])}const xu=be(_ue,[["render",wue]]),Sue={props:["type","user","status"],emits:["hide","show","muted"],data:()=>({showing:!1,muteExpiryAmount:2,muteExpiryUnit:"hours"}),components:{ConfirmModal:Zo,Select:zl},computed:{muteExpiryValue(){gy(this.muteExpiryUnit,this.muteExpiryAmount)},muteExpiryUnits(){return["minutes","hours","days"]},domain(){return this.user.fqn.split("@")[1]},keypath(){return this.type==="domain"?"status.mute_domain_confirm":this.type==="conversation"?"status.mute_conversation_confirm":"user_card.mute_confirm"},userIsMuted(){return this.$store.getters.relationship(this.user.id).muting},conversationIsMuted(){return this.status.conversation_muted},domainIsMuted(){return new Set(this.$store.state.users.currentUser.domainMutes).has(this.domain)},shouldConfirm(){switch(this.type){case"domain":return this.mergedConfig.modalOnMuteDomain;case"conversation":return this.mergedConfig.modalOnMuteConversation;default:return this.mergedConfig.modalOnMute}},...Zt(["mergedConfig"])},methods:{optionallyPrompt(){this.shouldConfirm?this.show():this.doMute()},show(){this.showing=!0,this.$emit("show")},hide(){this.showing=!1,this.$emit("hide")},doMute(){switch(this.type){case"domain":{this.domainIsMuted?this.$store.dispatch("unmuteDomain",{id:this.domain}):this.$store.dispatch("muteDomain",{id:this.domain,expiresIn:this.muteExpiryValue});break}case"conversation":{this.conversationIsMuted?this.$store.dispatch("unmuteConversation",{id:this.status.id}):this.$store.dispatch("muteConversation",{id:this.status.id,expiresIn:this.muteExpiryValue});break}default:{this.userIsMuted?this.$store.dispatch("unmuteUser",{id:this.user.id}):this.$store.dispatch("muteUser",{id:this.user.id,expiresIn:this.muteExpiryValue});break}}this.$emit("muted"),this.hide()}}},kue=["textContent"],$ue=["textContent"],Cue={key:0,class:"mute-expiry"},Tue=["value"];function Aue(e,t,n,s,o,r){const i=O("i18n-t"),a=O("Select"),c=O("confirm-modal");return e.showing?(m(),K(c,{key:0,title:e.$t("user_card.mute_confirm_title"),"confirm-text":e.$t("user_card.mute_confirm_accept_button"),"cancel-text":e.$t("user_card.mute_confirm_cancel_button"),onAccepted:e.doMute,onCancelled:e.hide},{default:X(()=>[A(i,{keypath:e.keypath,tag:"div"},{domain:X(()=>[g("span",{textContent:w(e.domain)},null,8,kue)]),user:X(()=>[g("span",{textContent:w(e.user.screen_name_ui)},null,8,$ue)]),_:1},8,["keypath"]),e.type!=="domain"?(m(),b("div",Cue,[g("p",null,[g("label",null,w(e.$t("user_card.mute_duration_prompt")),1),ot(g("input",{"onUpdate:modelValue":t[0]||(t[0]=d=>e.muteExpiryAmount=d),type:"number",class:"input expiry-amount hide-number-spinner",min:0},null,512),[[Mt,e.muteExpiryAmount]]),t[2]||(t[2]=fe(" "+w(" ")+" ")),A(a,{modelValue:e.muteExpiryUnit,"onUpdate:modelValue":t[1]||(t[1]=d=>e.muteExpiryUnit=d),unstyled:"true",class:"expiry-unit"},{default:X(()=>[(m(!0),b(Te,null,Ke(e.muteExpiryUnits,d=>(m(),b("option",{key:d,value:d},w(e.$t(`time.unit.${d}_short`,[""])),9,Tue))),128))]),_:1},8,["modelValue"])])])):E("",!0)]),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):E("",!0)}const m5=be(Sue,[["render",Aue]]);et.add(SY,Bl,_E,cE,Ex,Yn,bE);const Eue={props:["userId","switcher","selected","hideBio","rounded","bordered","avatarAction","onClose","hasNoteEditor"],data(){return{followRequestInProgress:!1,muteExpiryAmount:0,muteExpiryUnit:"minutes"}},created(){this.$store.dispatch("fetchUserRelationship",this.user.id)},computed:{user(){return this.$store.getters.findUser(this.userId)},relationship(){return this.$store.getters.relationship(this.userId)},classes(){return[{"-rounded-t":this.rounded==="top","-rounded":this.rounded===!0,"-bordered":this.bordered===!0,"-popover":!!this.onClose}]},style(){return{backgroundImage:["linear-gradient(to bottom, var(--profileTint), var(--profileTint))",`url(${this.user.cover_photo})`].join(", ")}},isOtherUser(){return this.user.id!==this.$store.state.users.currentUser.id},subscribeUrl(){const e=new URL(this.user.statusnet_profile_url);return`${e.protocol}//${e.host}/main/ostatus`},loggedIn(){return this.$store.state.users.currentUser},dailyAvg(){const e=Math.ceil((new Date-new Date(this.user.created_at))/864e5);return Math.round(this.user.statuses_count/e)},userHighlightType:{get(){const e=this.$store.getters.mergedConfig.highlight[this.user.screen_name];return e&&e.type||"disabled"},set(e){const t=this.$store.getters.mergedConfig.highlight[this.user.screen_name];e!=="disabled"?this.$store.dispatch("setHighlight",{user:this.user.screen_name,color:t&&t.color||"#FFFFFF",type:e}):this.$store.dispatch("setHighlight",{user:this.user.screen_name,color:void 0})},...Zt(["mergedConfig"])},userHighlightColor:{get(){const e=this.$store.getters.mergedConfig.highlight[this.user.screen_name];return e&&e.color},set(e){this.$store.dispatch("setHighlight",{user:this.user.screen_name,color:e})}},visibleRole(){const e=this.user.rights;if(!e)return;const t=e.admin||e.moderator,n=e.admin?"admin":"moderator";return t&&n},hideFollowsCount(){return this.isOtherUser&&this.user.hide_follows_count},hideFollowersCount(){return this.isOtherUser&&this.user.hide_followers_count},showModerationMenu(){const e=this.loggedIn.privileges;return this.loggedIn.role==="admin"||e.includes("users_manage_activation_state")||e.includes("users_delete")||e.includes("users_manage_tags")},hasNote(){return this.relationship.note},supportsNote(){return"note"in this.relationship},...Zt(["mergedConfig"])},components:{UserAvatar:xs,RemoteFollow:d5,ModerationTools:qce,AccountActions:cue,ProgressButton:f5,FollowButton:p5,Select:zl,RichContent:Po,UserLink:xu,UserNote:vue,MuteConfirm:m5},methods:{muteUser(){this.$refs.confirmation.optionallyPrompt()},unmuteUser(){this.$store.dispatch("unmuteUser",this.user.id)},subscribeUser(){return this.$store.dispatch("subscribeUser",this.user.id)},unsubscribeUser(){return this.$store.dispatch("unsubscribeUser",this.user.id)},setProfileView(e){this.switcher&&this.$store.commit("setProfileView",{v:e})},linkClicked({target:e}){e.tagName==="SPAN"&&(e=e.parentNode),e.tagName==="A"&&window.open(e.href,"_blank")},userProfileLink(e){return Jo(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)},openProfileTab(){Qe().openSettingsModalTab("profile")},zoomAvatar(){const e={url:this.user.profile_image_url_original,mimetype:"image"};as().setMedia([e]),as().setCurrentMedia(e)},mentionUser(){hi().openPostStatusModal({profileMention:!0,repliedUser:this.user})},onAvatarClickHandler(e){this.onAvatarClick&&(e.preventDefault(),this.onAvatarClick())}}},Iue={class:"user-info"},Pue={class:"container"},Lue={class:"user-info-avatar -link -overlay"},Oue={class:"user-summary"},Rue={class:"top-line"},Mue=["href"],Nue={class:"bottom-line"},Fue={key:0,class:"alert neutral user-role"},Due={key:1,class:"alert neutral user-role"},Uue={key:2,class:"alert neutral user-role"},jue={key:3,class:"alert user-role"},Bue={key:1},zue={key:2,class:"dailyAvg"},que={class:"user-meta"},Hue={key:0,class:"following"},Vue={key:1,class:"highlighter"},Wue=["id"],Gue=["id"],Kue={value:"disabled"},xue={value:"solid"},Yue={value:"striped"},Xue={value:"side"},Jue={key:0,class:"user-interactions"},Zue={class:"btn-group"},Que=["disabled"],ede=["disabled"],tde=["disabled"],nde={key:1,class:"user-interactions"},sde={key:0,class:"user-bio"},ode={key:0,class:"user-counts"};function rde(e,t,n,s,o,r){const i=O("UserAvatar"),a=O("FAIcon"),c=O("router-link"),d=O("RichContent"),f=O("AccountActions"),h=O("user-link"),v=O("Select"),_=O("FollowButton"),S=O("ProgressButton"),k=O("FALayers"),P=O("ModerationTools"),C=O("RemoteFollow"),$=O("UserNote"),L=O("MuteConfirm");return m(),b("div",{class:he(["user-card",e.classes])},[g("div",{class:he([{"hide-bio":e.hideBio},"background-image"]),style:gn(e.style)},null,6),g("div",{class:he(e.onClose?"":"panel-heading -flexible-height")},[g("div",Iue,[g("div",Pue,[e.avatarAction==="zoom"?(m(),b("a",{key:0,class:"user-info-avatar -link",onClick:t[0]||(t[0]=(...T)=>e.zoomAvatar&&e.zoomAvatar(...T))},[A(i,{user:e.user},null,8,["user"]),g("div",Lue,[A(a,{class:"fa-scale-110 fa-old-padding",icon:"search-plus"})])])):typeof e.avatarAction=="function"?(m(),K(i,{key:1,class:"user-info-avatar",user:e.user,onClick:e.avatarAction},null,8,["user","onClick"])):(m(),K(c,{key:2,to:e.userProfileLink(e.user)},{default:X(()=>[A(i,{user:e.user},null,8,["user"])]),_:1},8,["to"])),g("div",Oue,[g("div",Rue,[A(c,{to:e.userProfileLink(e.user),class:"user-name"},{default:X(()=>[A(d,{title:e.user.name,html:e.user.name,emoji:e.user.emoji},null,8,["title","html","emoji"])]),_:1},8,["to"]),!e.isOtherUser&&e.user.is_local?(m(),b("button",{key:0,class:"button-unstyled edit-profile-button",onClick:t[1]||(t[1]=Se((...T)=>e.openProfileTab&&e.openProfileTab(...T),["stop"]))},[A(a,{"fixed-width":"",class:"icon",icon:"edit",title:e.$t("user_card.edit_profile")},null,8,["title"])])):E("",!0),e.isOtherUser&&!e.user.is_local?(m(),b("a",{key:1,href:e.user.statusnet_profile_url,target:"_blank",class:"button-unstyled external-link-button"},[A(a,{class:"icon",icon:"external-link-alt"})],8,Mue)):E("",!0),e.isOtherUser&&e.loggedIn?(m(),K(f,{key:2,user:e.user,relationship:e.relationship},null,8,["user","relationship"])):E("",!0),e.onClose?(m(),K(c,{key:3,to:e.userProfileLink(e.user),class:"button-unstyled external-link-button",onClick:e.onClose},{default:X(()=>[A(a,{class:"icon",icon:"expand-alt"})]),_:1},8,["to","onClick"])):E("",!0),e.onClose?(m(),b("button",{key:4,class:"button-unstyled external-link-button",onClick:t[2]||(t[2]=(...T)=>e.onClose&&e.onClose(...T))},[A(a,{class:"icon",icon:"times"})])):E("",!0)]),g("div",Nue,[A(h,{class:"user-screen-name",user:e.user},null,8,["user"]),e.hideBio?E("",!0):(m(),b(Te,{key:0},[e.user.deactivated?(m(),b("span",Fue,w(e.$t("user_card.deactivated")),1)):E("",!0),e.visibleRole?(m(),b("span",Due,w(e.$t(`general.role.${e.visibleRole}`)),1)):E("",!0),e.user.actor_type==="Service"?(m(),b("span",Uue,w(e.$t("user_card.bot")),1)):E("",!0),e.user.actor_type==="Group"?(m(),b("span",jue,w(e.$t("user_card.group")),1)):E("",!0)],64)),e.user.locked?(m(),b("span",Bue,[A(a,{class:"lock-icon",icon:"lock",size:"sm"})])):E("",!0),!e.mergedConfig.hideUserStats&&!e.hideBio?(m(),b("span",zue,w(e.dailyAvg)+" "+w(e.$t("user_card.per_day")),1)):E("",!0)])])]),g("div",que,[e.relationship.followed_by&&e.loggedIn&&e.isOtherUser?(m(),b("div",Hue,w(e.$t("user_card.follows_you")),1)):E("",!0),e.isOtherUser&&(e.loggedIn||!e.switcher)?(m(),b("div",Vue,[e.userHighlightType!=="disabled"?ot((m(),b("input",{key:0,id:"userHighlightColorTx"+e.user.id,"onUpdate:modelValue":t[3]||(t[3]=T=>e.userHighlightColor=T),class:"input userHighlightText",type:"text"},null,8,Wue)),[[Mt,e.userHighlightColor]]):E("",!0),e.userHighlightType!=="disabled"?ot((m(),b("input",{key:1,id:"userHighlightColor"+e.user.id,"onUpdate:modelValue":t[4]||(t[4]=T=>e.userHighlightColor=T),class:"input userHighlightCl",type:"color"},null,8,Gue)),[[Mt,e.userHighlightColor]]):E("",!0),t[12]||(t[12]=fe(" "+w(" ")+" ")),A(v,{id:"userHighlightSel"+e.user.id,modelValue:e.userHighlightType,"onUpdate:modelValue":t[5]||(t[5]=T=>e.userHighlightType=T),class:"userHighlightSel"},{default:X(()=>[g("option",Kue,w(e.$t("user_card.highlight.disabled")),1),g("option",xue,w(e.$t("user_card.highlight.solid")),1),g("option",Yue,w(e.$t("user_card.highlight.striped")),1),g("option",Xue,w(e.$t("user_card.highlight.side")),1)]),_:1},8,["id","modelValue"])])):E("",!0)]),e.loggedIn&&e.isOtherUser?(m(),b("div",Jue,[g("div",Zue,[A(_,{relationship:e.relationship,user:e.user},null,8,["relationship","user"]),e.relationship.following?(m(),b(Te,{key:0},[e.relationship.notifying?(m(),K(S,{key:1,class:"btn button-default toggled",click:e.unsubscribeUser,title:e.$t("user_card.unsubscribe")},{default:X(()=>[A(k,null,{default:X(()=>[A(a,{icon:"rss",transform:"left-5 shrink-6 up-3 rotate-20",flip:"horizontal"}),A(a,{icon:"rss",transform:"right-5 shrink-6 up-3 rotate-20"}),A(a,{icon:"bell"})]),_:1})]),_:1},8,["click","title"])):(m(),K(S,{key:0,class:"btn button-default",click:e.subscribeUser,title:e.$t("user_card.subscribe")},{default:X(()=>[A(a,{icon:"bell"})]),_:1},8,["click","title"]))],64)):E("",!0)]),g("div",null,[e.relationship.muting?(m(),b("button",{key:0,class:"btn button-default btn-block toggled",disabled:e.user.deactivated,onClick:t[6]||(t[6]=(...T)=>e.unmuteUser&&e.unmuteUser(...T))},w(e.$t("user_card.muted")),9,Que)):(m(),b("button",{key:1,class:"btn button-default btn-block",disabled:e.user.deactivated,onClick:t[7]||(t[7]=(...T)=>e.muteUser&&e.muteUser(...T))},w(e.$t("user_card.mute")),9,ede))]),g("div",null,[g("button",{class:"btn button-default btn-block",disabled:e.user.deactivated,onClick:t[8]||(t[8]=(...T)=>e.mentionUser&&e.mentionUser(...T))},w(e.$t("user_card.mention")),9,tde)]),e.showModerationMenu?(m(),K(P,{key:0,user:e.user},null,8,["user"])):E("",!0)])):E("",!0),!e.loggedIn&&e.user.is_local?(m(),b("div",nde,[A(C,{user:e.user},null,8,["user"])])):E("",!0),e.loggedIn&&e.isOtherUser&&(e.hasNote||e.hasNoteEditor&&e.supportsNote)?(m(),K($,{key:2,user:e.user,relationship:e.relationship,editable:e.hasNoteEditor},null,8,["user","relationship","editable"])):E("",!0)])],2),e.hideBio?E("",!0):(m(),b("div",sde,[!e.mergedConfig.hideUserStats&&e.switcher?(m(),b("div",ode,[g("div",{class:"user-count",onClick:t[9]||(t[9]=Se(T=>e.setProfileView("statuses"),["prevent"]))},[g("h5",null,w(e.$t("user_card.statuses")),1),g("span",null,[fe(w(e.user.statuses_count)+" ",1),t[13]||(t[13]=g("br",null,null,-1))])]),g("div",{class:"user-count",onClick:t[10]||(t[10]=Se(T=>e.setProfileView("friends"),["prevent"]))},[g("h5",null,w(e.$t("user_card.followees")),1),g("span",null,w(e.hideFollowsCount?e.$t("user_card.hidden"):e.user.friends_count),1)]),g("div",{class:"user-count",onClick:t[11]||(t[11]=Se(T=>e.setProfileView("followers"),["prevent"]))},[g("h5",null,w(e.$t("user_card.followers")),1),g("span",null,w(e.hideFollowersCount?e.$t("user_card.hidden"):e.user.followers_count),1)])])):E("",!0),e.hideBio?E("",!0):(m(),K(d,{key:1,class:"user-card-bio",html:e.user.description_html,emoji:e.user.emoji,"handle-links":!0},null,8,["html","emoji"]))])),(m(),K(es,{to:"#modal"},[A(L,{ref:"confirmation",type:"user",user:e.user},null,8,["user"])]))],2)}const Yu=be(Eue,[["render",rde]]),ide={computed:{signedIn(){return this.user},...hn({user:e=>e.users.currentUser})},components:{AuthForm:t5,PostStatusForm:ql,UserCard:Yu}},ade={class:"user-panel"},lde={key:"user-panel-signed",class:"panel panel-default signed-in"};function cde(e,t,n,s,o,r){const i=O("UserCard"),a=O("PostStatusForm"),c=O("auth-form");return m(),b("aside",ade,[e.signedIn?(m(),b("div",lde,[A(i,{"user-id":e.user.id,"hide-bio":!0,rounded:"top"},null,8,["user-id"]),A(a)])):(m(),K(c,{key:"user-panel"}))])}const ude=be(ide,[["render",cde]]),g5=new Set(["dms","interactions","notifications","chat","chats"]),dde=new Set(["user-profile","legacy-user-profile"]),_l={home:{route:"friends",icon:"home",label:"nav.home_timeline",criteria:["!private"]},public:{route:"public-timeline",anon:!0,icon:"users",label:"nav.public_tl",criteria:["!private"]},twkn:{route:"public-external-timeline",anon:!0,icon:"globe",label:"nav.twkn",criteria:["!private","federating"]},bookmarks:{route:"bookmarks",icon:"bookmark",label:"nav.bookmarks",criteria:["!supportsBookmarkFolders"]},favorites:{routeObject:{name:"user-profile",query:{tab:"favorites"}},icon:"star",label:"user_card.favorites"},dms:{route:"dms",icon:"envelope",label:"nav.dms"}},ih={interactions:{route:"interactions",icon:"bell",label:"nav.interactions"},chats:{route:"chats",icon:"comments",label:"nav.chats",badgeStyle:"notification",badgeGetter:"unreadChatCount",criteria:["chats"]},friendRequests:{route:"friend-requests",icon:"user-plus",label:"nav.friend_requests",badgeStyle:"notification",criteria:["lockedUser"],badgeGetter:"followRequestCount"},about:{route:"about",anon:!0,icon:"info-circle",label:"nav.about"},announcements:{route:"announcements",icon:"bullhorn",label:"nav.announcements",store:"announcements",badgeStyle:"notification",badgeGetter:"unreadAnnouncementCount",criteria:["announcements"]},drafts:{route:"drafts",icon:"file-pen",label:"nav.drafts",badgeStyle:"neutral",badgeGetter:"draftCount"}};function v5(e,t){if(!e.route&&!e.routeObject)return null;let n;return e.routeObject?n=e.routeObject:n={name:e.anon||t?e.route:e.anonRoute},g5.has(n.name)?n.params={username:t.screen_name}:dde.has(n.name)&&(n.params={name:t.screen_name}),n}const fde={props:["to"]};function hde(e,t,n,s,o,r){const i=O("router-link");return n.to?(m(),K(i,{key:0,to:n.to,custom:""},{default:X(a=>[Ft(e.$slots,"default",tb(B0(a)))]),_:3},8,["to"])):Ft(e.$slots,"default",tb(xn({key:1},{})))}const pde=be(fde,[["render",hde]]);et.add(M_);const mde={props:["item","showPin"],components:{OptionalRouterLink:pde},methods:{isPinned(e){return this.pinnedItems.has(e)},togglePin(e){this.isPinned(e)?bn().removeCollectionPreference({path:"collections.pinnedNavItems",value:e}):bn().addCollectionPreference({path:"collections.pinnedNavItems",value:e}),bn().pushServerSideStorage()}},computed:{routeTo(){return v5(this.item,this.currentUser)},getters(){return this.$store.getters},...Oh(us),...hn({currentUser:e=>e.users.currentUser}),..._n(bn,{pinnedItems:e=>new Set(e.prefsStorage.collections.pinnedNavItems)})}},gde=["src","alt","title"],vde={key:1,class:"menu-icon iconEmoji"},bde={key:2,class:"icon iconLetter fa-scale-110 menu-icon"},_de={class:"label"},yde={key:1,class:"badge badge-notification"},wde=["title","aria-pressed"];function Sde(e,t,n,s,o,r){const i=O("FAIcon"),a=O("OptionalRouterLink");return m(),K(a,{to:e.routeTo},{default:X(({isActive:c,href:d,navigate:f}={})=>[g("li",xn({class:["NavigationEntry menu-item",{"-active":c}]},e.$attrs),[(m(),K(va(e.routeTo?"a":"button"),{class:"main-link",href:d,onClick:f},{default:X(()=>[g("span",null,[e.item.icon?(m(),K(i,{key:0,"fixed-width":"",class:"fa-scale-110 menu-icon",icon:e.item.icon},null,8,["icon"])):E("",!0)]),e.item.iconEmojiUrl?(m(),b("img",{key:0,class:"menu-icon iconEmoji iconEmoji-image",src:e.item.iconEmojiUrl,alt:e.item.iconEmoji,title:e.item.iconEmoji},null,8,gde)):e.item.iconEmoji?(m(),b("span",vde,[g("span",null,w(e.item.iconEmoji),1)])):e.item.iconLetter?(m(),b("span",bde,w(e.item.iconLetter),1)):E("",!0),g("span",_de,w(e.item.labelRaw||e.$t(e.item.label)),1)]),_:2},1032,["href","onClick"])),Ft(e.$slots,"default"),e.item.badgeGetter&&e.getters[e.item.badgeGetter]?(m(),b("div",{key:0,class:he(["badge",[`-${e.item.badgeStyle}`]])},w(e.getters[e.item.badgeGetter]),3)):e.item.badgeGetter&&e.item.store&&this[`${e.item.store}Store`][e.item.badgeGetter]?(m(),b("div",yde,w(this[`${e.item.store}Store`][e.item.badgeGetter]),1)):E("",!0),e.showPin&&e.currentUser?(m(),b("button",{key:2,type:"button",class:"button-unstyled extra-button",title:e.$t(e.isPinned?"general.unpin":"general.pin"),"aria-pressed":!!e.isPinned,onClick:t[0]||(t[0]=Se(h=>e.togglePin(e.item.name),["stop","prevent"]))},[e.showPin&&e.currentUser?(m(),K(i,{key:0,"fixed-width":"",class:he(["fa-scale-110",{veryfaint:!e.isPinned(e.item.name)}]),transform:e.isPinned(e.item.name)?"":"rotate-45",icon:"thumbtack"},null,8,["class","transform"])):E("",!0)],8,wde)):E("",!0)],16)]),_:3},8,["to"])}const fp=be(mde,[["render",Sde]]),Eu=(e=[],{hasChats:t,hasAnnouncements:n,isFederating:s,isPrivate:o,currentUser:r,supportsBookmarkFolders:i})=>e.filter(({criteria:a,anon:c,anonRoute:d})=>{const f=new Set(a||[]);return!(!s&&f.has("federating")||!r&&o&&f.has("!private")||!r&&!(c||d)||(!r||!r.locked)&&f.has("lockedUser")||!t&&f.has("chats")||!n&&f.has("announcements")||i&&f.has("!supportsBookmarkFolders"))}),b5=e=>e.allLists.map(t=>({name:"list-"+t.id,routeObject:{name:"lists-timeline",params:{id:t.id}},labelRaw:t.title,iconLetter:t.title[0]})),_5=e=>e.allFolders.map(t=>({name:"bookmark-folder-"+t.id,routeObject:{name:"bookmark-folder",params:{id:t.id}},labelRaw:t.name,iconEmoji:t.emoji,iconEmojiUrl:t.emoji_url,iconLetter:t.name[0]})),kde={props:["showPin"],components:{NavigationEntry:fp},computed:{..._n(Yo,{folders:_5})}};function $de(e,t,n,s,o,r){const i=O("NavigationEntry");return m(),b("ul",null,[A(i,{item:{name:"bookmarks",routeObject:{name:"bookmarks"},label:"nav.all_bookmarks",icon:"bookmark"},"show-pin":e.showPin},null,8,["show-pin"]),(m(!0),b(Te,null,Ke(e.folders,a=>(m(),K(i,{key:a.id,"show-pin":e.showPin,item:a},null,8,["show-pin","item"]))),128))])}const y5=be(kde,[["render",$de]]),Cde={props:["showPin"],components:{NavigationEntry:fp},computed:{..._n(Rn,{lists:b5}),...hn({currentUser:e=>e.users.currentUser,privateMode:e=>e.instance.private,federating:e=>e.instance.federating})}};function Tde(e,t,n,s,o,r){const i=O("NavigationEntry");return m(),b("ul",null,[(m(!0),b(Te,null,Ke(e.lists,a=>(m(),K(i,{key:a.name,"show-pin":e.showPin,item:a},null,8,["show-pin","item"]))),128))])}const w5=be(Cde,[["render",Tde]]);et.add(sE,zu,$_,Vh,ju,Bl,Wh,mE,qh);const Ade={props:["limit"],methods:{getRouteTo(e){return v5(e,this.currentUser)}},components:{StillImage:Mr},computed:{getters(){return this.$store.getters},..._n(Rn,{lists:b5}),..._n(us,{supportsAnnouncements:e=>e.supportsAnnouncements}),..._n(Yo,{bookmarks:_5}),..._n(bn,{pinnedItems:e=>new Set(e.prefsStorage.collections.pinnedNavItems)}),...hn({currentUser:e=>e.users.currentUser,followRequestCount:e=>e.api.followRequests.length,privateMode:e=>e.instance.private,federating:e=>e.instance.federating,pleromaChatMessagesAvailable:e=>e.instance.pleromaChatMessagesAvailable}),pinnedList(){return this.currentUser?Eu([...Object.entries({..._l}).filter(([e])=>this.pinnedItems.has(e)).map(([e,t])=>({...t,name:e})),...this.lists.filter(e=>this.pinnedItems.has(e.name)),...this.bookmarks.filter(e=>this.pinnedItems.has(e.name)),...Object.entries({...ih}).filter(([e])=>this.pinnedItems.has(e)).map(([e,t])=>({...t,name:e}))],{hasChats:this.pleromaChatMessagesAvailable,hasAnnouncements:this.supportsAnnouncements,isFederating:this.federating,isPrivate:this.privateMode,currentUser:this.currentUser}).slice(0,this.limit):Eu([{..._l.public,name:"public"},{..._l.twkn,name:"twkn"},{...ih.about,name:"about"}],{hasChats:this.pleromaChatMessagesAvailable,hasAnnouncements:this.supportsAnnouncements,isFederating:this.federating,isPrivate:this.privateMode,currentUser:this.currentUser})}}},Ede={class:"NavigationPins"},Ide={key:1,class:"iconLetter fa-scale-110 fa-old-padding"};function Pde(e,t,n,s,o,r){const i=O("FAIcon"),a=O("StillImage"),c=O("router-link");return m(),b("span",Ede,[(m(!0),b(Te,null,Ke(e.pinnedList,d=>(m(),K(c,{key:d.name,class:"button-unstyled pinned-item","active-class":"toggled",to:e.getRouteTo(d),title:d.labelRaw||e.$t(d.label)},{default:X(()=>[d.icon?(m(),K(i,{key:0,"fixed-width":"",icon:d.icon},null,8,["icon"])):E("",!0),d.iconLetter&&!d.iconEmoji?(m(),b("span",Ide,w(d.iconLetter),1)):E("",!0),d.iconEmoji?(m(),K(a,{key:2,class:"bookmark-emoji",src:d.iconEmojiUrl},null,8,["src"])):E("",!0),d.badgeGetter&&e.getters[d.badgeGetter]?(m(),b("div",{key:3,class:he(["badge -dot",[`-${d.badgeStyle}`]])},null,2)):E("",!0)]),_:2},1032,["to","title"]))),128))])}const S5=be(Ade,[["render",Pde]]);et.add(sE,zu,$_,Vh,Ca,k_,ju,Bl,Wh,mE,qh,Bu,vE);const Lde={props:["forceExpand","forceEditMode"],created(){},components:{BookmarkFoldersMenuContent:y5,ListsMenuContent:w5,NavigationEntry:fp,NavigationPins:S5,Checkbox:Ia},data(){return{editMode:!1,showTimelines:!1,showLists:!1,showBookmarkFolders:!1,timelinesList:Object.entries(_l).map(([e,t])=>({...t,name:e})),rootList:Object.entries(ih).map(([e,t])=>({...t,name:e}))}},methods:{toggleTimelines(){this.showTimelines=!this.showTimelines},toggleLists(){this.showLists=!this.showLists},toggleBookmarkFolders(){this.showBookmarkFolders=!this.showBookmarkFolders},toggleEditMode(){this.editMode=!this.editMode},toggleCollapse(){bn().setPreference({path:"simple.collapseNav",value:!this.collapsed}),bn().pushServerSideStorage()},isPinned(e){return this.pinnedItems.has(e)},togglePin(e){this.isPinned(e)?bn().removeCollectionPreference({path:"collections.pinnedNavItems",value:e}):bn().addCollectionPreference({path:"collections.pinnedNavItems",value:e}),bn().pushServerSideStorage()}},computed:{..._n(us,{unreadAnnouncementCount:"unreadAnnouncementCount",supportsAnnouncements:e=>e.supportsAnnouncements}),..._n(bn,{collapsed:e=>e.prefsStorage.simple.collapseNav,pinnedItems:e=>new Set(e.prefsStorage.collections.pinnedNavItems)}),...hn({currentUser:e=>e.users.currentUser,followRequestCount:e=>e.api.followRequests.length,privateMode:e=>e.instance.private,federating:e=>e.instance.federating,pleromaChatMessagesAvailable:e=>e.instance.pleromaChatMessagesAvailable,bookmarkFolders:e=>e.instance.pleromaBookmarkFoldersAvailable}),timelinesItems(){return Eu(Object.entries({..._l}).map(([e,t])=>({...t,name:e})),{hasChats:this.pleromaChatMessagesAvailable,hasAnnouncements:this.supportsAnnouncements,isFederating:this.federating,isPrivate:this.privateMode,currentUser:this.currentUser,supportsBookmarkFolders:this.bookmarkFolders})},rootItems(){return Eu(Object.entries({...ih}).map(([e,t])=>({...t,name:e})),{hasChats:this.pleromaChatMessagesAvailable,hasAnnouncements:this.supportsAnnouncements,isFederating:this.federating,isPrivate:this.privateMode,currentUser:this.currentUser,supportsBookmarkFolders:this.bookmarkFolders})},...Zt(["unreadChatCount"])}},Ode={class:"NavPanel"},Rde={class:"panel panel-default"},Mde={key:0,class:"panel-heading nav-panel-heading"},Nde={key:1,class:"panel-body"},Fde={class:"timelines"};function Dde(e,t,n,s,o,r){const i=O("NavigationPins"),a=O("FAIcon"),c=O("NavigationEntry"),d=O("router-link"),f=O("ListsMenuContent"),h=O("BookmarkFoldersMenuContent");return m(),b("div",Ode,[g("div",Rde,[e.forceExpand?E("",!0):(m(),b("div",Mde,[A(i,{limit:6}),t[3]||(t[3]=g("div",{class:"spacer"},null,-1)),g("button",{class:"button-unstyled",onClick:t[0]||(t[0]=(...v)=>e.toggleCollapse&&e.toggleCollapse(...v))},[A(a,{class:"navigation-chevron","fixed-width":"",icon:e.collapsed?"chevron-down":"chevron-up"},null,8,["icon"])])])),!e.collapsed||e.forceExpand?(m(),b("ul",Nde,[e.currentUser||!e.privateMode?(m(),K(c,{key:0,"show-pin":!1,item:{icon:"stream",label:"nav.timelines"},"aria-expanded":e.showTimelines?"true":"false",onClick:e.toggleTimelines},{default:X(()=>[A(a,{class:"timelines-chevron","fixed-width":"",icon:e.showTimelines?"chevron-up":"chevron-down"},null,8,["icon"])]),_:1},8,["aria-expanded","onClick"])):E("",!0),ot(g("div",{class:he(["timelines-background menu-item-collapsible",{"-expanded":e.showTimelines}])},[g("div",Fde,[(m(!0),b(Te,null,Ke(e.timelinesItems,v=>(m(),K(c,{key:v.name,"show-pin":e.editMode||e.forceEditMode,item:v},null,8,["show-pin","item"]))),128))])],2),[[Wn,e.showTimelines]]),e.currentUser?(m(),K(c,{key:1,"show-pin":!1,item:{icon:"list",label:"nav.lists"},"aria-expanded":e.showLists?"true":"false",onClick:e.toggleLists},{default:X(()=>[A(d,{title:e.$t("lists.manage_lists"),class:"button-unstyled extra-button",to:{name:"lists"},onClick:t[1]||(t[1]=Se(()=>{},["stop"]))},{default:X(()=>[A(a,{"fixed-width":"",icon:"wrench"})]),_:1},8,["title"]),A(a,{class:"timelines-chevron","fixed-width":"",icon:e.showLists?"chevron-up":"chevron-down"},null,8,["icon"])]),_:1},8,["aria-expanded","onClick"])):E("",!0),ot(g("div",{class:he(["timelines-background menu-item-collapsible",{"-expanded":e.showLists}])},[A(f,{"show-pin":e.editMode||e.forceEditMode,class:"timelines"},null,8,["show-pin"])],2),[[Wn,e.showLists]]),e.currentUser&&e.bookmarkFolders?(m(),K(c,{key:2,"show-pin":!1,item:{icon:"bookmark",label:"nav.bookmarks"},"aria-expanded":e.showBookmarkFolders?"true":"false",onClick:e.toggleBookmarkFolders},{default:X(()=>[A(d,{title:e.$t("bookmarks.manage_bookmark_folders"),class:"button-unstyled extra-button",to:{name:"bookmark-folders"},onClick:t[2]||(t[2]=Se(()=>{},["stop"]))},{default:X(()=>[A(a,{"fixed-width":"",icon:"wrench"})]),_:1},8,["title"]),A(a,{class:"timelines-chevron","fixed-width":"",icon:e.showBookmarkFolders?"chevron-up":"chevron-down"},null,8,["icon"])]),_:1},8,["aria-expanded","onClick"])):E("",!0),ot(g("div",{class:he(["timelines-background menu-item-collapsible",{"-expanded":e.showBookmarkFolders}])},[A(h,{"show-pin":e.editMode||e.forceEditMode,class:"timelines"},null,8,["show-pin"])],2),[[Wn,e.showBookmarkFolders]]),(m(!0),b(Te,null,Ke(e.rootItems,v=>(m(),K(c,{key:v.name,"show-pin":e.editMode||e.forceEditMode,item:v},null,8,["show-pin","item"]))),128)),!e.forceEditMode&&e.currentUser?(m(),K(c,{key:3,"show-pin":!1,item:{labelRaw:e.editMode?e.$t("nav.edit_finish"):e.$t("nav.edit_pinned"),icon:e.editMode?"check":"wrench"},onClick:e.toggleEditMode},null,8,["item","onClick"])):E("",!0)])):E("",!0)])])}const k5=be(Lde,[["render",Dde]]),Ude={computed:{instanceSpecificPanelContent(){return this.$store.state.instance.instanceSpecificPanelContent}}},jde={class:"instance-specific-panel"},Bde={class:"panel panel-default"},zde={class:"panel-body"},qde=["innerHTML"];function Hde(e,t,n,s,o,r){return m(),b("div",jde,[g("div",Bde,[g("div",zde,[g("div",{innerHTML:e.instanceSpecificPanelContent},null,8,qde)])])])}const $5=be(Ude,[["render",Hde]]),Vde={computed:{shout:function(){return this.$store.state.instance.shoutAvailable},pleromaChatMessages:function(){return this.$store.state.instance.pleromaChatMessagesAvailable},gopher:function(){return this.$store.state.instance.gopherAvailable},whoToFollow:function(){return this.$store.state.instance.suggestionsEnabled},mediaProxy:function(){return this.$store.state.instance.mediaProxyAvailable},minimalScopesMode:function(){return this.$store.state.instance.minimalScopesMode},textlimit:function(){return this.$store.state.instance.textlimit},uploadlimit:function(){return m0.fileSizeFormat(this.$store.state.instance.uploadlimit)}}},Wde={class:"features-panel"},Gde={class:"panel panel-default base01-background"},Kde={class:"panel-heading timeline-heading base02-background base04 -sticky"},xde={class:"title"},Yde={class:"panel-body"},Xde={key:0},Jde={key:1},Zde={key:2},Qde={key:3},efe={key:4};function tfe(e,t,n,s,o,r){return m(),b("div",Wde,[g("div",Gde,[g("div",Kde,[g("h1",xde,w(e.$t("features_panel.title")),1)]),g("div",Yde,[g("ul",null,[e.shout?(m(),b("li",Xde,w(e.$t("features_panel.shout")),1)):E("",!0),e.pleromaChatMessages?(m(),b("li",Jde,w(e.$t("features_panel.pleroma_chat_messages")),1)):E("",!0),e.gopher?(m(),b("li",Zde,w(e.$t("features_panel.gopher")),1)):E("",!0),e.whoToFollow?(m(),b("li",Qde,w(e.$t("features_panel.who_to_follow")),1)):E("",!0),e.mediaProxy?(m(),b("li",efe,w(e.$t("features_panel.media_proxy")),1)):E("",!0),g("li",null,w(e.$t("features_panel.scope_options")),1),g("li",null,w(e.$t("features_panel.text_limit"))+" = "+w(e.textlimit),1),g("li",null,w(e.$t("features_panel.upload_limit"))+" = "+w(e.uploadlimit.num)+" "+w(e.$t("upload.file_size_units."+e.uploadlimit.unit)),1)])])])])}const C5=be(Vde,[["render",tfe]]);function nfe(e,t){const n=Z.shuffle(t);e.usersToFollow.forEach((s,o)=>{const r=n[o],i=r.avatar||this.$store.state.instance.defaultAvatar,a=r.acct;s.img=i,s.name=a,e.$store.state.api.backendInteractor.fetchUser({id:a}).then(c=>{c.error||(e.$store.commit("addNewUsers",[c]),s.id=c.id)})})}function rC(e){const t=e.$store.state.users.currentUser.credentials;t&&(e.usersToFollow.forEach(n=>{n.name="Loading..."}),En.suggestions({credentials:t}).then(n=>{nfe(e,n)}))}const sfe={data:()=>({usersToFollow:[]}),computed:{user:function(){return this.$store.state.users.currentUser.screen_name},suggestionsEnabled(){return this.$store.state.instance.suggestionsEnabled}},methods:{userProfileLink(e,t){return Jo(e,t,this.$store.state.instance.restrictedNicknames)}},watch:{user:function(){this.suggestionsEnabled&&rC(this)}},mounted:function(){this.usersToFollow=new Array(3).fill().map(()=>({img:this.$store.state.instance.defaultAvatar,name:"",id:0})),this.suggestionsEnabled&&rC(this)}},ofe={class:"who-to-follow-panel"},rfe={class:"panel panel-default base01-background"},ife={class:"panel-heading timeline-heading base02-background base04"},afe={class:"title"},lfe={class:"who-to-follow"},cfe=["src"],ufe={class:"who-to-follow-more"};function dfe(e,t,n,s,o,r){const i=O("router-link");return m(),b("div",ofe,[g("div",rfe,[g("div",ife,[g("h1",afe,w(e.$t("who_to_follow.who_to_follow")),1)]),g("div",lfe,[(m(!0),b(Te,null,Ke(e.usersToFollow,a=>(m(),b("p",{key:a.id,class:"who-to-follow-items"},[g("img",{src:a.img},null,8,cfe),A(i,{to:e.userProfileLink(a.id,a.name)},{default:X(()=>[fe(w(a.name),1)]),_:2},1032,["to"]),t[0]||(t[0]=g("br",null,null,-1))]))),128)),g("p",ufe,[A(i,{to:{name:"who-to-follow"}},{default:X(()=>[fe(w(e.$t("who_to_follow.more")),1)]),_:1})])])])])}const ffe=be(sfe,[["render",dfe]]);et.add(Bu,Yn);const hfe={props:["floating"],data(){return{currentMessage:"",channel:null,collapsed:!0}},computed:{messages(){return El().messages}},methods:{submit(e){El().channel.push("new_msg",{text:e},1e4),this.currentMessage=""},togglePanel(){this.collapsed=!this.collapsed},userProfileLink(e){return Jo(e.id,e.username,this.$store.state.instance.restrictedNicknames)}},watch:{messages(){const e=this.$el.querySelector(".chat-window");e&&e.scrollTop+e.offsetHeight+20>e.scrollHeight&&this.$nextTick(()=>{e&&(e.scrollTop=e.scrollHeight-e.offsetHeight)})}}},pfe={key:0,class:"shout-panel"},mfe={class:"panel panel-default"},gfe={class:"title"},vfe={class:"panel-body shout-window"},bfe={class:"shout-avatar"},_fe=["src"],yfe={class:"shout-content"},wfe={class:"shout-text"},Sfe={class:"panel-body shout-input"},kfe={key:1,class:"shout-panel"},$fe={class:"panel panel-default"},Cfe={class:"title"};function Tfe(e,t,n,s,o,r){const i=O("FAIcon"),a=O("router-link");return!e.collapsed||!e.floating?(m(),b("div",pfe,[g("div",mfe,[g("div",{class:he(["panel-heading",{"shout-heading":e.floating}]),onClick:t[0]||(t[0]=Se((...c)=>e.togglePanel&&e.togglePanel(...c),["stop","prevent"]))},[g("h1",gfe,[fe(w(e.$t("shoutbox.title"))+" ",1),e.floating?(m(),K(i,{key:0,icon:"times",class:"close-icon"})):E("",!0)])],2),g("div",vfe,[(m(!0),b(Te,null,Ke(e.messages,c=>(m(),b("div",{key:c.id,class:"shout-message"},[g("span",bfe,[g("img",{src:c.author.avatar},null,8,_fe)]),g("div",yfe,[A(a,{class:"shout-name",to:e.userProfileLink(c.author)},{default:X(()=>[fe(w(c.author.username),1)]),_:2},1032,["to"]),t[4]||(t[4]=g("br",null,null,-1)),g("span",wfe,w(c.text),1)])]))),128))]),g("div",Sfe,[ot(g("textarea",{"onUpdate:modelValue":t[1]||(t[1]=c=>e.currentMessage=c),class:"shout-input-textarea input",rows:"1",onKeyup:t[2]||(t[2]=Ir(c=>e.submit(e.currentMessage),["enter"]))},null,544),[[Mt,e.currentMessage]])])])])):(m(),b("div",kfe,[g("div",$fe,[g("div",{class:"panel-heading -stub timeline-heading shout-heading",onClick:t[3]||(t[3]=Se((...c)=>e.togglePanel&&e.togglePanel(...c),["stop","prevent"]))},[g("div",Cfe,[A(i,{class:"icon",icon:"bullhorn"}),fe(" "+w(e.$t("shoutbox.title")),1)])])])]))}const T5=be(hfe,[["render",Tfe]]);class ui{constructor(t){this.id=-1,this.nativePointer=t,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,self.Touch&&t instanceof Touch?this.id=t.identifier:Wc(t)&&(this.id=t.pointerId)}getCoalesced(){if("getCoalescedEvents"in this.nativePointer){const t=this.nativePointer.getCoalescedEvents().map(n=>new ui(n));if(t.length>0)return t}return[this]}}const Wc=e=>"pointerId"in e,Rv=e=>"changedTouches"in e,iC=()=>{};class Afe{constructor(t,{start:n=()=>!0,move:s=iC,end:o=iC,rawUpdates:r=!1,avoidPointerEvents:i=!1}={}){this._element=t,this.startPointers=[],this.currentPointers=[],this._excludeFromButtonsCheck=new Set,this._pointerStart=a=>{if(Wc(a)&&a.buttons===0)this._excludeFromButtonsCheck.add(a.pointerId);else if(!(a.buttons&1))return;const c=new ui(a);this.currentPointers.some(d=>d.id===c.id)||this._triggerPointerStart(c,a)&&(Wc(a)?((a.target&&"setPointerCapture"in a.target?a.target:this._element).setPointerCapture(a.pointerId),this._element.addEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.addEventListener("pointerup",this._pointerEnd),this._element.addEventListener("pointercancel",this._pointerEnd)):(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd)))},this._touchStart=a=>{for(const c of Array.from(a.changedTouches))this._triggerPointerStart(new ui(c),a)},this._move=a=>{if(!Rv(a)&&(!Wc(a)||!this._excludeFromButtonsCheck.has(a.pointerId))&&a.buttons===0){this._pointerEnd(a);return}const c=this.currentPointers.slice(),d=Rv(a)?Array.from(a.changedTouches).map(h=>new ui(h)):[new ui(a)],f=[];for(const h of d){const v=this.currentPointers.findIndex(_=>_.id===h.id);v!==-1&&(f.push(h),this.currentPointers[v]=h)}f.length!==0&&this._moveCallback(c,f,a)},this._triggerPointerEnd=(a,c)=>{if(!Rv(c)&&c.buttons&1)return!1;const d=this.currentPointers.findIndex(h=>h.id===a.id);if(d===-1)return!1;this.currentPointers.splice(d,1),this.startPointers.splice(d,1),this._excludeFromButtonsCheck.delete(a.id);const f=!(c.type==="mouseup"||c.type==="touchend"||c.type==="pointerup");return this._endCallback(a,c,f),!0},this._pointerEnd=a=>{if(this._triggerPointerEnd(new ui(a),a))if(Wc(a)){if(this.currentPointers.length)return;this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd)}else window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)},this._touchEnd=a=>{for(const c of Array.from(a.changedTouches))this._triggerPointerEnd(new ui(c),a)},this._startCallback=n,this._moveCallback=s,this._endCallback=o,this._rawUpdates=r&&"onpointerrawupdate"in window,self.PointerEvent&&!i?this._element.addEventListener("pointerdown",this._pointerStart):(this._element.addEventListener("mousedown",this._pointerStart),this._element.addEventListener("touchstart",this._touchStart),this._element.addEventListener("touchmove",this._move),this._element.addEventListener("touchend",this._touchEnd),this._element.addEventListener("touchcancel",this._touchEnd))}stop(){this._element.removeEventListener("pointerdown",this._pointerStart),this._element.removeEventListener("mousedown",this._pointerStart),this._element.removeEventListener("touchstart",this._touchStart),this._element.removeEventListener("touchmove",this._move),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(t,n){return this._startCallback(t,n)?(this.currentPointers.push(t),this.startPointers.push(t),!0):!1}}function Efe(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&s.firstChild?s.insertBefore(o,s.firstChild):s.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var Ife=`pinch-zoom {
  display: block;
  overflow: hidden;
  touch-action: none;
  --scale: 1;
  --x: 0;
  --y: 0;
}

pinch-zoom > * {
  transform: translate(var(--x), var(--y)) scale(var(--scale));
  transform-origin: 0 0;
  will-change: transform;
}
`;Efe(Ife);const lf="min-scale",aC="allow-pan-min-scale",lC="reset-to-min-scale-limit",cC="reach-min-scale-strategy",Mv="stop-propagate-handled",Pfe="none";function uC(e,t){return t?Math.sqrt((t.clientX-e.clientX)**2+(t.clientY-e.clientY)**2):0}function dC(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}function fC(e,t){return typeof e=="number"?e:e.trimRight().endsWith("%")?t*parseFloat(e)/100:parseFloat(e)}let hC;function A5(){return hC||(hC=document.createElementNS("http://www.w3.org/2000/svg","svg"))}function Nv(){return A5().createSVGMatrix()}function pC(){return A5().createSVGPoint()}const Fv=.01,Dv=-1,Uv=-1,Lfe=0,mC=(e,t)=>Math.round(e*100)-Math.round(t*100);let Ofe=class extends HTMLElement{constructor(){super(),this._transform=Nv(),new MutationObserver(()=>this._stageElChange()).observe(this,{childList:!0});const t=new Afe(this,{start:(n,s)=>{if(t.currentPointers.length===2||!this._positioningEl)return!1;const o=t.currentPointers.length+1===1;return!(o&&!this._allowPan())&&(this._maybeStopPropagate(s),o||this._maybeEmitCancel([n,...t.currentPointers])),s.preventDefault(),!0},move:(n,s,o)=>{this._onPointerMove(n,t.currentPointers,o)},end:(n,s)=>{this._onPointerEnd(n,t.currentPointers,s)}});this.addEventListener("wheel",n=>this._onWheel(n)),this.addEventListener("click",n=>this._onClick(n,t))}static get observedAttributes(){return[lf]}attributeChangedCallback(t,n,s){t===lf&&this.scale<this.minScale&&this.setTransform({scale:this.minScale})}get minScale(){const t=this.getAttribute(lf);if(!t)return Fv;const n=parseFloat(t);return Number.isFinite(n)?Math.max(Fv,n):Fv}set minScale(t){this.setAttribute(lf,String(t))}get reachMinScaleStrategy(){return this.getAttribute(cC)||Pfe}set reachMinScaleStrategy(t){this.setAttribute(cC,t)}get allowPanMinScale(){const t=this.getAttribute(aC);if(!t)return Dv;const n=parseFloat(t);return Number.isFinite(n)?Math.max(Dv,n):Dv}set allowPanMinScale(t){this.setAttribute(aC,String(t))}get resetToMinScaleLimit(){const t=this.getAttribute(lC);if(!t)return Uv;const n=parseFloat(t);return Number.isFinite(n)?Math.max(Uv,n):Uv}set resetToMinScaleLimit(t){this.setAttribute(lC,String(t))}get stopPropagateHandled(){return this.hasAttribute(Mv)}set stopPropagateHandled(t){t?this.setAttribute(Mv,""):this.removeAttribute(Mv)}connectedCallback(){this._stageElChange()}get x(){return this._transform.e}get y(){return this._transform.f}get scale(){return this._transform.a}scaleTo(t,n={}){let{originX:s=0,originY:o=0}=n;const{relativeTo:r="content",allowChangeEvent:i=!1}=n,a=r==="content"?this._positioningEl:this;if(!a||!this._positioningEl){this.setTransform({scale:t,allowChangeEvent:i});return}const c=a.getBoundingClientRect();if(s=fC(s,c.width),o=fC(o,c.height),r==="content")s+=this.x,o+=this.y;else{const d=this._positioningEl.getBoundingClientRect();s-=d.left,o-=d.top}this._applyChange({allowChangeEvent:i,originX:s,originY:o,scaleDiff:t/this.scale})}setTransform(t={}){const{scale:n=this.scale,allowChangeEvent:s=!1}=t;let{x:o=this.x,y:r=this.y}=t;if(!this._positioningEl){this._updateTransform(n,o,r,s);return}const i=this.getBoundingClientRect(),a=this._positioningEl.getBoundingClientRect();if(!i.width||!i.height){this._updateTransform(n,o,r,s);return}let c=pC();c.x=a.left-i.left,c.y=a.top-i.top;let d=pC();d.x=a.width+c.x,d.y=a.height+c.y;const f=Nv().translate(o,r).scale(n).multiply(this._transform.inverse());c=c.matrixTransform(f),d=d.matrixTransform(f),c.x>i.width?o+=i.width-c.x:d.x<0&&(o+=-d.x),c.y>i.height?r+=i.height-c.y:d.y<0&&(r+=-d.y),this._updateTransform(n,o,r,s)}_updateTransform(t,n,s,o){if(t<this.minScale&&(t=this.minScale),!(t===this.scale&&n===this.x&&s===this.y)&&(this._transform.e=n,this._transform.f=s,this._transform.d=this._transform.a=t,this.style.setProperty("--x",this.x+"px"),this.style.setProperty("--y",this.y+"px"),this.style.setProperty("--scale",this.scale+""),o)){const r=new Event("change",{bubbles:!0});this.dispatchEvent(r)}}_stageElChange(){this._positioningEl=void 0,this.children.length!==0&&(this._positioningEl=this.children[0],this.children.length>1&&console.warn("<pinch-zoom> must not have more than one child."),this.setTransform({allowChangeEvent:!0}))}_onWheel(t){if(!this._positioningEl)return;t.preventDefault();const n=this._positioningEl.getBoundingClientRect();let{deltaY:s}=t;const{ctrlKey:o,deltaMode:r}=t;r===1&&(s*=15);const a=1-s/(o?100:300),c=a<1;this._applyChange({scaleDiff:a,originX:t.clientX-n.left,originY:t.clientY-n.top,allowChangeEvent:!0}),c&&this._maybeResetScale()}_onPointerMove(t,n,s){if(!this._positioningEl||t.length<2&&!this._allowPan())return;const r=this._positioningEl.getBoundingClientRect(),i=dC(t[0],t[1]),a=dC(n[0],n[1]),c=i.clientX-r.left,d=i.clientY-r.top,f=uC(t[0],t[1]),h=uC(n[0],n[1]),v=f?h/f:1;this._applyChange({originX:c,originY:d,scaleDiff:v,panX:a.clientX-i.clientX,panY:a.clientY-i.clientY,allowChangeEvent:!0}),this._maybeStopPropagate(s)}_maybeResetScale(){mC(this.scale,this.resetToMinScaleLimit)<=0&&this._resetToMinScale()}_onPointerEnd(t,n,s){if(!this._positioningEl)return;const o=1+n.length,r=o>=2,i=o==1;r&&this._maybeResetScale(),!(i&&!this._allowPan())&&this._maybeStopPropagate(s)}_resetToMinScale(){this.reachMinScaleStrategy==="reset"?this.setTransform({scale:this.minScale,x:0,y:0}):this.setTransform({scale:this.minScale})}_applyChange(t={}){const{panX:n=0,panY:s=0,originX:o=0,originY:r=0,scaleDiff:i=1,allowChangeEvent:a=!1}=t,c=Nv().translate(n,s).translate(o,r).translate(this.x,this.y).scale(i).translate(-o,-r).scale(this.scale);this.setTransform({allowChangeEvent:a,scale:c.a,x:c.e,y:c.f})}_maybeStopPropagate(t){this.stopPropagateHandled&&t.stopPropagation()}_allowPan(){return this.allowPanMinScale>0&&mC(this.scale,this.allowPanMinScale)>0}_maybeEmitCancel(t){const n=s=>new PointerEvent("pointercancel",{pointerId:s.id,clientX:s.clientX,clientY:s.clientY});this.stopPropagateHandled&&t.forEach(s=>{this.parentElement&&typeof this.parentElement.dispatchEvent=="function"&&this.parentElement.dispatchEvent(n(s))})}_onClick(t,n){if(t.button!==Lfe)return;!(n.currentPointers.length===0&&!this._allowPan())&&this._maybeStopPropagate(t)}};customElements.define("pinch-zoom",Ofe);const Rfe={methods:{setTransform({scale:e,x:t,y:n}){this.$el.setTransform({scale:e,x:t,y:n})}},created(){}};function Mfe(e,t,n,s,o,r){return m(),b("pinch-zoom",xn({class:"pinch-zoom-parent"},e.$attrs),[Ft(e.$slots,"default")],16)}const Nfe=be(Rfe,[["render",Mfe]]),Ffe=[-1,0],Dfe=[1,0],Ufe=[0,-1],jfe=[0,1],Bfe=0,v0=(e,t)=>[t[0]-e[0],t[1]-e[1]],zfe=e=>[e.screenX,e.screenY],E5=e=>zfe(e.touches[0]),jv=e=>[e.clientX,e.clientY],la=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),I5=e=>[e[1],-e[0]],ah=(e,t)=>e[0]*t[0]+e[1]*t[1],lh=(e,t)=>{const n=ah(e,t)/ah(t,t);return[n*t[0],n*t[1]]},qfe=(e,t,n=30,s=1)=>({direction:e,onSwipe:t,threshold:n,perpendicularTolerance:s,_startPos:[0,0],_swiping:!1}),Hfe=(e,t)=>{t._startPos=E5(e),t._swiping=!0},Vfe=(e,t)=>{if(!t._swiping)return;const n=v0(t._startPos,E5(e));if(la(n)<t.threshold||ah(n,t.direction)<0)return;const s=lh(n,t.direction),o=I5(t.direction),r=lh(n,o);la(s)*t.perpendicularTolerance<la(r)||(t.onSwipe(),t._swiping=!1)};class Wfe{constructor({direction:t,swipePreviewCallback:n,swipeEndCallback:s,swipeCancelCallback:o,swipelessClickCallback:r,threshold:i=30,perpendicularTolerance:a=1,disableClickThreshold:c=1}){const d=()=>{};this.direction=t,this.swipePreviewCallback=n||d,this.swipeEndCallback=s||d,this.swipeCancelCallback=o||d,this.swipelessClickCallback=r||d,this.threshold=typeof i=="function"?i:()=>i,this.disableClickThreshold=typeof c=="function"?c:()=>c,this.perpendicularTolerance=a,this._reset()}_reset(){this._startPos=[0,0],this._pointerId=-1,this._swiping=!1,this._swiped=!1,this._preventNextClick=!1}start(t){t.button===Bfe&&(this._startPos=jv(t),this._pointerId=t.pointerId,this._swiping=!0,this._swiped=!1)}move(t){if(this._swiping&&this._pointerId===t.pointerId){this._swiped=!0;const n=jv(t),s=v0(this._startPos,n);this.swipePreviewCallback(s)}}cancel(t){!this._swiping||this._pointerId!==t.pointerId||this.swipeCancelCallback()}end(t){if(!this._swiping||this._pointerId!==t.pointerId)return;this._swiping=!1;const n=jv(t),s=v0(this._startPos,n),o=(()=>{if(la(s)<this.threshold())return 0;const r=ah(s,this.direction)>0,i=lh(s,this.direction),a=I5(this.direction),c=lh(s,a);return la(i)*this.perpendicularTolerance<la(c)?0:r?1:-1})();this._swiped&&this.swipeEndCallback(o),this._reset(),la(s)>=this.disableClickThreshold()&&t.pointerType==="mouse"&&(this._preventNextClick=!0)}click(){this._preventNextClick||this.swipelessClickCallback(),this._reset()}}const Ko={DIRECTION_LEFT:Ffe,DIRECTION_RIGHT:Dfe,DIRECTION_UP:Ufe,DIRECTION_DOWN:jfe,swipeGesture:qfe,beginSwipe:Hfe,updateSwipe:Vfe,SwipeAndClickGesture:Wfe},Gfe={props:{direction:{type:Array},threshold:{type:Function,default:()=>30},disableClickThreshold:{type:Function,default:()=>1},perpendicularTolerance:{type:Number,default:1}},methods:{handlePointerDown(e){this.$gesture.start(e)},handlePointerMove(e){this.$gesture.move(e)},handlePointerUp(e){this.$gesture.end(e)},handlePointerCancel(e){this.$gesture.cancel(e)},handleNativeClick(e){this.$gesture.click(e)},preview(e){this.$emit("preview-requested",e)},end(e){this.$emit("swipe-finished",e)},click(){this.$emit("swipeless-clicked")},cancel(){this.$emit("swipe-canceled")}},created(){this.$gesture=new Ko.SwipeAndClickGesture({direction:this.direction,threshold:this.threshold,disableClickThreshold:this.disableClickThreshold,perpendicularTolerance:this.perpendicularTolerance,swipePreviewCallback:this.preview,swipeEndCallback:this.end,swipeCancelCallback:this.cancel,swipelessClickCallback:this.click})}};function Kfe(e,t,n,s,o,r){return m(),b("div",xn(e.$attrs,{onPointerdown:t[0]||(t[0]=(...i)=>e.handlePointerDown&&e.handlePointerDown(...i)),onPointermove:t[1]||(t[1]=(...i)=>e.handlePointerMove&&e.handlePointerMove(...i)),onPointerup:t[2]||(t[2]=(...i)=>e.handlePointerUp&&e.handlePointerUp(...i)),onPointercancel:t[3]||(t[3]=(...i)=>e.handlePointerCancel&&e.handlePointerCancel(...i)),onClick:t[4]||(t[4]=(...i)=>e.handleNativeClick&&e.handleNativeClick(...i))}),[Ft(e.$slots,"default")],16)}const xfe=be(Gfe,[["render",Kfe]]);et.add(Ta,Vu,mo,Yn);const Yfe={components:{StillImage:Mr,VideoAttachment:a5,PinchZoom:Nfe,SwipeClick:xfe,Modal:Fu,Flash:i5},data(){return{loading:!1,swipeDirection:Ko.DIRECTION_LEFT,swipeThreshold:()=>window.innerWidth*.25,pinchZoomMinScale:1,pinchZoomScaleResetLimit:1.2}},computed:{showing(){return as().activated},media(){return as().media},description(){return this.currentMedia.description},currentIndex(){return as().currentIndex},currentMedia(){return this.media[this.currentIndex]},canNavigate(){return this.media.length>1},type(){return this.currentMedia?this.getType(this.currentMedia):null},swipeDisableClickThreshold(){return()=>this.canNavigate?1:30}},methods:{getType(e){return wa.fileType(e.mimetype)},hide(){setTimeout(()=>{as().closeMediaViewer()},100)},hideIfNotSwiped(e){const t=this.$refs.swipeClick;t?t.$gesture.click(e):this.hide()},goPrev(){if(this.canNavigate){const e=this.currentIndex===0?this.media.length-1:this.currentIndex-1,t=this.media[e];this.getType(t)==="image"&&(this.loading=!0),as().setCurrentMedia(t)}},goNext(){if(this.canNavigate){const e=this.currentIndex===this.media.length-1?0:this.currentIndex+1,t=this.media[e];this.getType(t)==="image"&&(this.loading=!0),as().setCurrentMedia(t)}},onImageLoaded(){this.loading=!1},handleSwipePreview(e){this.$refs.pinchZoom.setTransform({scale:1,x:e[0],y:0})},handleSwipeEnd(e){this.$refs.pinchZoom.setTransform({scale:1,x:0,y:0}),e>0?this.goNext():e<0&&this.goPrev()},handleKeyupEvent(e){this.showing&&e.keyCode===27&&this.hide()},handleKeydownEvent(e){this.showing&&(e.keyCode===39?this.goNext():e.keyCode===37&&this.goPrev())}},mounted(){window.addEventListener("popstate",this.hide),document.addEventListener("keyup",this.handleKeyupEvent),document.addEventListener("keydown",this.handleKeydownEvent)},unmounted(){window.removeEventListener("popstate",this.hide),document.removeEventListener("keyup",this.handleKeyupEvent),document.removeEventListener("keydown",this.handleKeydownEvent)}},Xfe=["src","alt","title"],Jfe=["src","alt","title"],Zfe=["title"],Qfe=["title"],ehe=["title"],the={key:6,class:"description"},nhe={class:"counter"},she={key:7,class:"loading-spinner"};function ohe(e,t,n,s,o,r){const i=O("PinchZoom"),a=O("SwipeClick"),c=O("VideoAttachment"),d=O("Flash"),f=O("FAIcon"),h=O("Modal");return e.showing?(m(),K(h,{key:0,class:"media-modal-view",onBackdropClicked:e.hideIfNotSwiped},{default:X(()=>[e.type==="image"?(m(),K(a,{key:0,ref:"swipeClick",class:"modal-image-container",direction:e.swipeDirection,threshold:e.swipeThreshold,"disable-click-threshold":e.swipeDisableClickThreshold,onPreviewRequested:e.handleSwipePreview,onSwipeFinished:e.handleSwipeEnd,onSwipelessClicked:e.hide},{default:X(()=>[A(i,{ref:"pinchZoom",class:"modal-image-container-inner",selector:".modal-image","reach-min-scale-strategy":"reset","stop-propagate-handled":"stop-propgate-handled","allow-pan-min-scale":e.pinchZoomMinScale,"min-scale":e.pinchZoomMinScale,"reset-to-min-scale-limit":e.pinchZoomScaleResetLimit},{default:X(()=>[g("img",{class:he([{loading:e.loading},"modal-image"]),src:e.currentMedia.url,alt:e.currentMedia.description,title:e.currentMedia.description,onLoad:t[0]||(t[0]=(...v)=>e.onImageLoaded&&e.onImageLoaded(...v))},null,42,Xfe)]),_:1},8,["allow-pan-min-scale","min-scale","reset-to-min-scale-limit"])]),_:1},8,["direction","threshold","disable-click-threshold","onPreviewRequested","onSwipeFinished","onSwipelessClicked"])):E("",!0),e.type==="video"?(m(),K(c,{key:1,class:"modal-image",attachment:e.currentMedia,controls:!0},null,8,["attachment"])):E("",!0),e.type==="audio"?(m(),b("audio",{key:2,class:"modal-image",src:e.currentMedia.url,alt:e.currentMedia.description,title:e.currentMedia.description,controls:""},null,8,Jfe)):E("",!0),e.type==="flash"?(m(),K(d,{key:3,class:"modal-image",src:e.currentMedia.url,alt:e.currentMedia.description,title:e.currentMedia.description},null,8,["src","alt","title"])):E("",!0),e.canNavigate?(m(),b("button",{key:4,title:e.$t("media_modal.previous"),class:"modal-view-button modal-view-button-arrow modal-view-button-arrow--prev",onClick:t[1]||(t[1]=Se((...v)=>e.goPrev&&e.goPrev(...v),["stop","prevent"]))},[A(f,{class:"button-icon arrow-icon",icon:"chevron-left"})],8,Zfe)):E("",!0),e.canNavigate?(m(),b("button",{key:5,title:e.$t("media_modal.next"),class:"modal-view-button modal-view-button-arrow modal-view-button-arrow--next",onClick:t[2]||(t[2]=Se((...v)=>e.goNext&&e.goNext(...v),["stop","prevent"]))},[A(f,{class:"button-icon arrow-icon",icon:"chevron-right"})],8,Qfe)):E("",!0),g("button",{class:"modal-view-button modal-view-button-hide",title:e.$t("media_modal.hide"),onClick:t[3]||(t[3]=Se((...v)=>e.hide&&e.hide(...v),["stop","prevent"]))},[A(f,{class:"button-icon",icon:"times"})],8,ehe),e.description?(m(),b("span",the,w(e.description),1)):E("",!0),g("span",nhe,w(e.$t("media_modal.counter",{current:e.currentIndex+1,total:e.media.length},e.currentIndex+1)),1),e.loading?(m(),b("span",she,[A(f,{spin:"",icon:"circle-notch",size:"5x"})])):E("",!0)]),_:1},8,["onBackdropClicked"])):E("",!0)}const rhe=be(Yfe,[["render",ohe]]);et.add(oE,ZA,dE,ju,Bl,Gh,Bu,$a,pE,I_,Wh,Sx,qh,vE);const ihe={props:["logout"],data:()=>({closed:!0,closeGesture:void 0}),created(){this.closeGesture=Ko.swipeGesture(Ko.DIRECTION_LEFT,this.toggleDrawer),this.currentUser&&this.currentUser.locked&&this.$store.dispatch("startFetchingFollowRequests")},components:{UserCard:Yu},computed:{currentUser(){return this.$store.state.users.currentUser},shout(){return El().joined},unseenNotifications(){return x0(this.$store)},unseenNotificationsCount(){return this.unseenNotifications.length},suggestionsEnabled(){return this.$store.state.instance.suggestionsEnabled},logo(){return this.$store.state.instance.logo},hideSitename(){return this.$store.state.instance.hideSitename},sitename(){return this.$store.state.instance.name},followRequestCount(){return this.$store.state.api.followRequests.length},privateMode(){return this.$store.state.instance.private},federating(){return this.$store.state.instance.federating},timelinesRoute(){let e;return Qe().lastTimeline&&(e=Qe().lastTimeline),e=this.currentUser?"friends":"public-timeline",g5.has(e)?{name:e,params:{username:this.currentUser.screen_name}}:{name:e}},..._n(us,{supportsAnnouncements:e=>e.supportsAnnouncements,unreadAnnouncementCount:"unreadAnnouncementCount"}),...hn({pleromaChatMessagesAvailable:e=>e.instance.pleromaChatMessagesAvailable}),...Zt(["unreadChatCount","draftCount"])},methods:{toggleDrawer(){this.closed=!this.closed},doLogout(){this.logout(),this.toggleDrawer()},touchStart(e){Ko.beginSwipe(e,this.closeGesture)},touchMove(e){Ko.updateSwipe(e,this.closeGesture)},openSettingsModal(){Qe().openSettingsModal("user")},openAdminModal(){Qe().openSettingsModal("admin")}}},ahe={key:1,class:"side-drawer-logo-wrapper"},lhe=["src"],che={key:0},uhe={key:0,class:"badge -notification"},dhe={key:0},fhe={key:0,class:"badge -notification"},hhe={key:0,class:"badge -notification"},phe={key:0,class:"badge -neutral"};function mhe(e,t,n,s,o,r){const i=O("UserCard"),a=O("FAIcon"),c=O("router-link");return m(),b("div",{class:he(["side-drawer-container mobile-drawer",{"side-drawer-container-closed":e.closed,"side-drawer-container-open":!e.closed}])},[g("div",{class:he(["side-drawer-darken",{"side-drawer-darken-closed":e.closed}])},null,2),g("div",{class:he(["side-drawer",{"side-drawer-closed":e.closed}]),onTouchstart:t[21]||(t[21]=(...d)=>e.touchStart&&e.touchStart(...d)),onTouchmove:t[22]||(t[22]=(...d)=>e.touchMove&&e.touchMove(...d))},[g("div",{class:"side-drawer-heading",onClick:t[0]||(t[0]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[e.currentUser?(m(),K(i,{key:0,"user-id":e.currentUser.id,"hide-bio":!0},null,8,["user-id"])):(m(),b("div",ahe,[g("img",{src:e.logo},null,8,lhe),e.hideSitename?E("",!0):(m(),b("span",che,w(e.sitename),1))]))]),g("ul",null,[e.currentUser?E("",!0):(m(),b("li",{key:0,onClick:t[1]||(t[1]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[A(c,{to:{name:"login"},class:"menu-item"},{default:X(()=>[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"sign-in-alt"}),fe(" "+w(e.$t("login.login")),1)]),_:1})])),e.currentUser||!e.privateMode?(m(),b("li",{key:1,onClick:t[2]||(t[2]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[A(c,{to:e.timelinesRoute,class:"menu-item"},{default:X(()=>[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"home"}),fe(" "+w(e.$t("nav.timelines")),1)]),_:1},8,["to"])])):E("",!0),e.currentUser?(m(),b("li",{key:2,onClick:t[3]||(t[3]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[A(c,{to:{name:"lists"},class:"menu-item"},{default:X(()=>[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"list"}),fe(" "+w(e.$t("nav.lists")),1)]),_:1})])):E("",!0),e.currentUser?(m(),b("li",{key:3,onClick:t[4]||(t[4]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[A(c,{to:{name:"bookmarks"},class:"menu-item"},{default:X(()=>[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"bookmark"}),fe(" "+w(e.$t("nav.bookmarks")),1)]),_:1})])):E("",!0),e.currentUser&&e.pleromaChatMessagesAvailable?(m(),b("li",{key:4,onClick:t[5]||(t[5]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[A(c,{to:{name:"chats",params:{username:e.currentUser.screen_name}},style:{position:"relative"},class:"menu-item"},{default:X(()=>[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"comments"}),fe(" "+w(e.$t("nav.chats"))+" ",1),e.unreadChatCount?(m(),b("span",uhe,w(e.unreadChatCount),1)):E("",!0)]),_:1},8,["to"])])):E("",!0)]),e.currentUser?(m(),b("ul",dhe,[g("li",{onClick:t[6]||(t[6]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[A(c,{to:{name:"interactions",params:{username:e.currentUser.screen_name}},class:"menu-item"},{default:X(()=>[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"bell"}),fe(" "+w(e.$t("nav.interactions")),1)]),_:1},8,["to"])]),e.currentUser.locked?(m(),b("li",{key:0,onClick:t[7]||(t[7]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[A(c,{to:"/friend-requests",class:"menu-item"},{default:X(()=>[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"user-plus"}),fe(" "+w(e.$t("nav.friend_requests"))+" ",1),e.followRequestCount>0?(m(),b("span",fhe,w(e.followRequestCount),1)):E("",!0)]),_:1})])):E("",!0),e.shout?(m(),b("li",{key:1,onClick:t[8]||(t[8]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[A(c,{to:{name:"shout-panel"},class:"menu-item"},{default:X(()=>[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"bullhorn"}),fe(" "+w(e.$t("shoutbox.title")),1)]),_:1})])):E("",!0)])):E("",!0),g("ul",null,[e.currentUser||!e.privateMode?(m(),b("li",{key:0,onClick:t[9]||(t[9]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[A(c,{to:{name:"search"},class:"menu-item"},{default:X(()=>[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"search"}),fe(" "+w(e.$t("nav.search")),1)]),_:1})])):E("",!0),e.currentUser&&e.suggestionsEnabled?(m(),b("li",{key:1,onClick:t[10]||(t[10]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[A(c,{to:{name:"who-to-follow"},class:"menu-item"},{default:X(()=>[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"user-plus"}),fe(" "+w(e.$t("nav.who_to_follow")),1)]),_:1})])):E("",!0),g("li",{onClick:t[12]||(t[12]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[g("button",{class:"menu-item",onClick:t[11]||(t[11]=(...d)=>e.openSettingsModal&&e.openSettingsModal(...d))},[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"cog"}),fe(" "+w(e.$t("settings.settings")),1)])]),g("li",{onClick:t[13]||(t[13]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[A(c,{to:{name:"about"},class:"menu-item"},{default:X(()=>[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"info-circle"}),fe(" "+w(e.$t("nav.about")),1)]),_:1})]),e.currentUser&&e.currentUser.role==="admin"?(m(),b("li",{key:2,onClick:t[15]||(t[15]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[g("button",{class:"menu-item",onClick:t[14]||(t[14]=Se((...d)=>e.openAdminModal&&e.openAdminModal(...d),["stop"]))},[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"tachometer-alt"}),fe(" "+w(e.$t("nav.administration")),1)])])):E("",!0),e.currentUser&&e.supportsAnnouncements?(m(),b("li",{key:3,onClick:t[16]||(t[16]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[A(c,{to:{name:"announcements"},class:"menu-item"},{default:X(()=>[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"bullhorn"}),fe(" "+w(e.$t("nav.announcements"))+" ",1),e.unreadAnnouncementCount?(m(),b("span",hhe,w(e.unreadAnnouncementCount),1)):E("",!0)]),_:1})])):E("",!0),e.currentUser?(m(),b("li",{key:4,onClick:t[17]||(t[17]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[A(c,{to:{name:"drafts"},class:"menu-item"},{default:X(()=>[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"file-pen"}),fe(" "+w(e.$t("nav.drafts"))+" ",1),e.draftCount?(m(),b("span",phe,w(e.draftCount),1)):E("",!0)]),_:1})])):E("",!0),e.currentUser?(m(),b("li",{key:5,onClick:t[18]||(t[18]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[A(c,{to:{name:"edit-navigation"},class:"menu-item"},{default:X(()=>[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"compass"}),fe(" "+w(e.$t("nav.edit_nav_mobile")),1)]),_:1})])):E("",!0),e.currentUser?(m(),b("li",{key:6,onClick:t[20]||(t[20]=(...d)=>e.toggleDrawer&&e.toggleDrawer(...d))},[g("button",{class:"menu-item",onClick:t[19]||(t[19]=(...d)=>e.doLogout&&e.doLogout(...d))},[A(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"sign-out-alt"}),fe(" "+w(e.$t("login.logout")),1)])])):E("",!0)])],34),g("div",{class:he(["side-drawer-click-outside",{"side-drawer-click-outside-closed":e.closed}]),onClick:t[23]||(t[23]=Se((...d)=>e.toggleDrawer&&e.toggleDrawer(...d),["stop","prevent"]))},null,2)],2)}const P5=be(ihe,[["render",mhe]]);et.add(Wx);const ghe=new Set(["chats","chat","lists-edit"]),vhe={data(){return{hidden:!1,scrollingDown:!1,inputActive:!1,oldScrollPos:0,amountScrolled:0}},created(){this.autohideFloatingPostButton&&this.activateFloatingPostButtonAutohide(),window.addEventListener("resize",this.handleOSK)},unmounted(){this.autohideFloatingPostButton&&this.deactivateFloatingPostButtonAutohide(),window.removeEventListener("resize",this.handleOSK)},computed:{isLoggedIn(){return!!this.$store.state.users.currentUser},isHidden(){return ghe.has(this.$route.name)?!0:this.autohideFloatingPostButton&&(this.hidden||this.inputActive)},isPersistent(){return!!this.$store.getters.mergedConfig.alwaysShowNewPostButton},autohideFloatingPostButton(){return!!this.$store.getters.mergedConfig.autohideFloatingPostButton}},watch:{autohideFloatingPostButton:function(e){e?this.activateFloatingPostButtonAutohide():this.deactivateFloatingPostButtonAutohide()}},methods:{activateFloatingPostButtonAutohide(){window.addEventListener("scroll",this.handleScrollStart),window.addEventListener("scroll",this.handleScrollEnd)},deactivateFloatingPostButtonAutohide(){window.removeEventListener("scroll",this.handleScrollStart),window.removeEventListener("scroll",this.handleScrollEnd)},openPostForm(){hi().openPostStatusModal()},handleOSK(){const e=window.innerWidth<350,t=e&&window.innerHeight<345,s=!e&&window.innerWidth<450&&window.innerHeight<560;t||s?this.inputActive=!0:this.inputActive=!1},handleScrollStart:Z.debounce(function(){window.scrollY>this.oldScrollPos?this.hidden=!0:this.hidden=!1,this.oldScrollPos=window.scrollY},100,{leading:!0,trailing:!1}),handleScrollEnd:Z.debounce(function(){this.hidden=!1,this.oldScrollPos=window.scrollY},100,{leading:!1,trailing:!0})}},bhe=["title"];function _he(e,t,n,s,o,r){const i=O("FAIcon");return e.isLoggedIn?(m(),b("button",{key:0,class:he(["MobilePostButton button-default new-status-button",{hidden:e.isHidden,"always-show":e.isPersistent}]),title:e.$t("post_status.new_status"),onClick:t[0]||(t[0]=(...a)=>e.openPostForm&&e.openPostForm(...a))},[A(i,{icon:"pen"})],10,bhe)):E("",!0)}const yhe=be(vhe,[["render",_he]]),whe={props:["users"],computed:{slicedUsers(){return this.users?this.users.slice(0,15):[]}},components:{UserAvatar:xs},methods:{userProfileLink(e){return Jo(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)}}},She={class:"avatars"};function khe(e,t,n,s,o,r){const i=O("UserAvatar"),a=O("router-link");return m(),b("div",She,[(m(!0),b(Te,null,Ke(e.slicedUsers,c=>(m(),K(a,{key:c.id,to:e.userProfileLink(c),class:"avatars-item"},{default:X(()=>[A(i,{user:c,class:"avatar-small"},null,8,["user"])]),_:2},1032,["to"]))),128))])}const L5=be(whe,[["render",khe]]);et.add(mo);const $he={name:"StatusPopover",props:["statusId"],data(){return{error:!1}},computed:{status(){return Z.find(this.$store.state.statuses.allStatuses,{id:this.statusId})}},components:{Status:fo(()=>He(()=>Promise.resolve().then(()=>Mme),void 0)),Popover:fo(()=>He(()=>Promise.resolve().then(()=>hy),void 0))},methods:{enter(){if(!this.status){if(!this.statusId){this.error=!0;return}this.$store.dispatch("fetchStatus",this.statusId).then(()=>this.error=!1).catch(()=>this.error=!0)}}},watch:{status(e,t){e!==t&&this.$nextTick(()=>this.$refs.popover.updateStyles())}}},Che={key:1,class:"status-preview-no-content faint"},The={key:2,class:"status-preview-no-content"};function Ahe(e,t,n,s,o,r){const i=O("Status"),a=O("FAIcon"),c=O("Popover");return m(),K(c,{ref:"popover",trigger:"hover","stay-on-click":!0,"popover-class":"popover-default status-popover","bound-to":{x:"container"},onShow:e.enter},{trigger:X(()=>[Ft(e.$slots,"default")]),content:X(()=>[e.status?(m(),K(i,{key:0,"is-preview":!0,statusoid:e.status,compact:!0},null,8,["statusoid"])):e.error?(m(),b("div",Che,w(e.$t("status.status_unavailable")),1)):(m(),b("div",The,[A(a,{icon:"circle-notch",spin:"",size:"2x"})]))]),_:3},8,["onShow"])}const Ehe=be($he,[["render",Ahe]]),Ihe={name:"UserPopover",props:["userId","overlayCenters","disabled","overlayCentersSelector"],components:{UserCard:Yu,Popover:fo(()=>He(()=>Promise.resolve().then(()=>hy),void 0))},computed:{userPopoverAvatarAction(){return this.$store.getters.mergedConfig.userPopoverAvatarAction},userPopoverOverlay(){return this.$store.getters.mergedConfig.userPopoverOverlay}}};function Phe(e,t,n,s,o,r){const i=O("UserCard"),a=O("Popover");return m(),K(a,{trigger:"click","popover-class":"popover-default user-popover","overlay-centers-selector":e.overlayCentersSelector||".user-info .Avatar","overlay-centers":e.overlayCenters&&e.userPopoverOverlay,disabled:e.disabled},{trigger:X(()=>[Ft(e.$slots,"default")]),content:X(({close:c})=>[A(i,{class:"user-popover","user-id":e.userId,"hide-bio":!0,"avatar-action":e.userPopoverAvatarAction=="close"?c:e.userPopoverAvatarAction,"on-close":c},null,8,["user-id","avatar-action","on-close"])]),_:3},8,["overlay-centers-selector","overlay-centers","disabled"])}const hp=be(Ihe,[["render",Phe]]),vy=Object.freeze(Object.defineProperty({__proto__:null,default:hp},Symbol.toStringTag,{value:"Module"}));et.add(mo);const Lhe={name:"UserListPopover",props:["users"],components:{RichContent:Po,UnicodeDomainIndicator:lp,Popover:fo(()=>He(()=>Promise.resolve().then(()=>hy),void 0)),UserAvatar:fo(()=>He(()=>Promise.resolve().then(()=>xie),void 0))},computed:{usersCapped(){return this.users.slice(0,16)}}},Ohe={class:"user-list-popover"},Rhe={class:"user-list-names"},Mhe={class:"user-list-screen-name"};function Nhe(e,t,n,s,o,r){const i=O("UserAvatar"),a=O("RichContent"),c=O("UnicodeDomainIndicator"),d=O("FAIcon"),f=O("Popover");return m(),K(f,{trigger:"hover",placement:"top",offset:{y:5}},{trigger:X(()=>[Ft(e.$slots,"default")]),content:X(()=>[g("div",Ohe,[e.users.length?(m(!0),b(Te,{key:0},Ke(e.usersCapped,h=>(m(),b("div",{key:h.id,class:"user-list-row"},[A(i,{user:h,class:"avatar-small",compact:!0},null,8,["user"]),g("div",Rhe,[A(a,{class:"username",title:"@"+h.screen_name_ui,html:h.name_html,emoji:h.emoji},null,8,["title","html","emoji"]),g("span",Mhe,w(h.screen_name_ui),1),A(c,{user:h},null,8,["user"])])]))),128)):(m(),K(d,{key:1,icon:"circle-notch",spin:"",size:"3x"}))])]),_:3})}const O5=be(Lhe,[["render",Nhe]]);et.add(O_,qu,Kh);const Bv=12,Fhe={name:"EmojiReactions",components:{UserAvatar:xs,UserListPopover:O5,StillImage:Mr},props:["status"],data:()=>({showAll:!1}),computed:{tooManyReactions(){return this.status.emoji_reactions.length>Bv},emojiReactions(){return this.showAll?this.status.emoji_reactions:this.status.emoji_reactions.slice(0,Bv)},showMoreString(){return`+${this.status.emoji_reactions.length-Bv}`},accountsForEmoji(){return this.status.emoji_reactions.reduce((e,t)=>(e[t.name]=t.accounts||[],e),{})},loggedIn(){return!!this.$store.state.users.currentUser},remoteInteractionLink(){return this.$store.getters.remoteInteractionLink({statusId:this.status.id})}},methods:{toggleShowAll(){this.showAll=!this.showAll},reactedWith(e){return this.status.emoji_reactions.find(t=>t.name===e).me},async fetchEmojiReactionsByIfMissing(){if(this.status.emoji_reactions.find(t=>!t.accounts))return await this.$store.dispatch("fetchEmojiReactionsBy",this.status.id)},reactWith(e){this.$store.dispatch("reactWithEmoji",{id:this.status.id,emoji:e})},unreact(e){this.$store.dispatch("unreactWithEmoji",{id:this.status.id,emoji:e})},async emojiOnClick(e){this.loggedIn&&(await this.fetchEmojiReactionsByIfMissing(),this.reactedWith(e)?this.unreact(e):this.reactWith(e))},counterTriggerAttrs(e){return{class:["emoji-reaction-count-button",{"-picked-reaction":this.reactedWith(e.name),toggled:this.reactedWith(e.name)}],"aria-label":this.$t("status.reaction_count_label",{num:e.count},e.count)}}}},Dhe={class:"EmojiReactions"},Uhe={class:"reaction-emoji"},jhe={key:1,class:"reaction-emoji reaction-emoji-content"},Bhe={class:"emoji-reaction-counts"};function zhe(e,t,n,s,o,r){const i=O("StillImage"),a=O("FAIcon"),c=O("FALayers"),d=O("UserListPopover");return m(),b("div",Dhe,[(m(!0),b(Te,null,Ke(e.emojiReactions,f=>(m(),b("span",{key:f.url||f.name,class:"emoji-reaction-container btn-group"},[(m(),K(va(e.loggedIn?"button":"a"),xn({ref_for:!0},e.loggedIn?{}:{href:e.remoteInteractionLink},{role:"button",class:["emoji-reaction btn button-default",{"-picked-reaction":e.reactedWith(f.name),toggled:e.reactedWith(f.name)}],title:f.url?f.name:void 0,"aria-pressed":e.reactedWith(f.name),onClick:h=>e.emojiOnClick(f.name,h)}),{default:X(()=>[g("span",Uhe,[f.url?(m(),K(i,{key:0,src:f.url,class:"reaction-emoji-content"},null,8,["src"])):(m(),b("span",jhe,w(f.name),1))]),A(c,null,{default:X(()=>[e.reactedWith(f.name)?(m(),K(a,{key:0,class:"active-marker",transform:"shrink-6 up-9",icon:"check"})):E("",!0),e.reactedWith(f.name)?(m(),K(a,{key:2,class:"focus-marker",transform:"shrink-6 up-9",icon:"minus"})):(m(),K(a,{key:1,class:"focus-marker",transform:"shrink-6 up-9",icon:"plus"}))]),_:2},1024)]),_:2},1040,["class","title","aria-pressed","onClick"])),A(d,{users:e.accountsForEmoji[f.name],class:"emoji-reaction-popover","normal-button":!0,"trigger-attrs":e.counterTriggerAttrs(f),onShow:t[0]||(t[0]=h=>e.fetchEmojiReactionsByIfMissing())},{default:X(()=>[g("span",Bhe,w(f.count),1)]),_:2},1032,["users","trigger-attrs"])]))),128)),e.tooManyReactions?(m(),b("a",{key:0,class:"emoji-reaction-expand faint",href:"javascript:void(0)",onClick:t[1]||(t[1]=(...f)=>e.toggleShowAll&&e.toggleShowAll(...f))},w(e.showAll?e.$t("general.show_less"):e.showMoreString),1)):E("",!0)])}const qhe=be(Fhe,[["render",zhe]]);et.add(Vu,Lx);const Hhe={props:["status","close"],data(){return{}},components:{Popover:fs,StillImage:Mr},computed:{..._n(Yo,{folders:e=>e.allFolders}),folderId(){return this.status.bookmark_folder_id}},methods:{toggleFolder(e){const t=e===this.folderId?null:e;this.$store.dispatch("bookmark",{id:this.status.id,bookmark_folder_id:t}).then(()=>this.$emit("onSuccess")).catch(n=>this.$emit("onError",n.error.error))}}},Vhe={class:"dropdown-menu bookmark-folder-menu"},Whe=["onClick"],Ghe={key:1,class:"iconLetter fa-scale-110 fa-old-padding"};function Khe(e,t,n,s,o,r){const i=O("StillImage");return m(),b("div",Vhe,[(m(!0),b(Te,null,Ke(e.folders,a=>(m(),b("div",{key:a.id,class:"menu-item dropdown-item -icon-double"},[g("button",{class:"main-button",onClick:[c=>e.toggleFolder(a.id),t[0]||(t[0]=Se((...c)=>e.close&&e.close(...c),["stop"]))]},[g("span",{class:he(["input menu-checkbox -radio",{"menu-checkbox-checked":e.status.bookmark_folder_id==a.id}])},null,2),a.emoji_url?(m(),K(i,{key:0,src:a.emoji_url,class:"emoji"},null,8,["src"])):(m(),b("span",Ghe,w(a.name[0]),1)),fe(" "+w(" "+a.name),1)],8,Whe)]))),128))])}const xhe=be(Hhe,[["render",Khe]]);et.add(O_,qu,Kh,Yn,E_,Vu,k_,eE,R_,T_,nre,zh,$_,tre,S_,M_,Px,cE,_Y);const Yhe={props:["button","status","extra","status","funcArg","getClass","getComponent","doAction","outerClose"],emits:["interacted"],components:{StatusBookmarkFolderMenu:xhe,EmojiPicker:py,Popover:fs},data:()=>({animationState:!1}),computed:{buttonClass(){return[this.button.name+"-button",{"-with-extra":this.button.name==="bookmark","-extra":this.extra,"-quick":!this.extra}]},userIsMuted(){return this.$store.getters.relationship(this.status.user.id).muting},threadIsMuted(){return this.status.thread_muted},hideCustomEmoji(){return!this.$store.state.instance.pleromaCustomEmojiReactionsAvailable},buttonInnerClass(){var e,t;return[this.button.name+"-button",{"main-button":this.extra,"button-unstyled":!this.extra,"-active":(t=(e=this.button).active)==null?void 0:t.call(e,this.funcArg),disabled:this.button.interactive?!this.button.interactive(this.funcArg):!1}]},remoteInteractionLink(){return this.$store.getters.remoteInteractionLink({statusId:this.status.id})}},methods:{addReaction(e){const t=e.insertion,n=this.status.emoji_reactions.find(s=>s.name===t);n&&n.me?this.$store.dispatch("unreactWithEmoji",{id:this.status.id,emoji:t}):this.$store.dispatch("reactWithEmoji",{id:this.status.id,emoji:t})},doActionWrap(e,t=()=>{}){this.button.interactive&&!this.button.interactive(this.funcArg)||(this.$emit("interacted"),e.name==="emoji"?this.$refs.picker.showPicker():(this.animationState=!0,this.getComponent(e)==="button"&&this.doAction(e),setTimeout(()=>{this.animationState=!1},500),t()))}}},Xhe={key:0,class:"action-label"},Jhe={key:0,class:"action-counter"},Zhe={key:1,class:"separator"};function Qhe(e,t,n,s,o,r){var h,v,_,S,k,P;const i=O("FAIcon"),a=O("FALayers"),c=O("StatusBookmarkFolderMenu"),d=O("Popover"),f=O("EmojiPicker");return m(),b("div",{class:he(["action-button",e.buttonClass])},[(m(),K(va(e.getComponent(e.button)),{class:he(["action-button-inner",e.buttonInnerClass]),role:"menuitem",type:"button",title:e.$t(e.button.label(e.funcArg)),target:"_blank",tabindex:0,disabled:e.button.interactive?!e.button.interactive(e.funcArg):!1,href:e.getComponent(e.button)=="a"?((v=(h=e.button).link)==null?void 0:v.call(h,e.funcArg))||e.remoteInteractionLink:void 0,onClick:t[0]||(t[0]=C=>e.doActionWrap(e.button,e.outerClose))},{default:X(()=>{var C,$;return[A(a,null,{default:X(()=>{var L,T,R,q,D,x,oe,V,ce,de,Le;return[A(i,{class:"fa-scale-110",icon:e.button.icon(e.funcArg),spin:!e.extra&&e.getComponent(e.button)=="button"&&((T=(L=e.button).animated)==null?void 0:T.call(L))&&e.animationState,style:{"--fa-animation-duration":"750ms"},"fixed-width":""},null,8,["icon","spin"]),!e.buttonClass.disabled&&(!e.button.interactive||(R=e.button)!=null&&R.interactive(e.funcArg))&&((D=(q=e.button).toggleable)!=null&&D.call(q,e.funcArg))&&e.button.active?(m(),b(Te,{key:0},[e.button.active(e.funcArg)?(m(),K(i,{key:0,class:"active-marker",transform:"shrink-6 up-9 right-15",icon:((oe=(x=e.button).activeIndicator)==null?void 0:oe.call(x,e.funcArg))||"check"},null,8,["icon"])):E("",!0),e.button.active(e.funcArg)?(m(),K(i,{key:2,class:"focus-marker",transform:"shrink-6 up-9 right-15",icon:((Le=(de=e.button).closeIndicator)==null?void 0:Le.call(de,e.funcArg))||"minus"},null,8,["icon"])):(m(),K(i,{key:1,class:"focus-marker",transform:"shrink-6 up-9 right-15",icon:((ce=(V=e.button).openIndicator)==null?void 0:ce.call(V,e.funcArg))||"plus"},null,8,["icon"]))],64)):E("",!0)]}),_:1}),e.extra?(m(),b("span",Xhe,w(e.$t(e.button.label(e.funcArg))),1)):E("",!0),($=(C=e.button).dropdown)!=null&&$.call(C)?(m(),K(i,{key:1,class:"chevron-icon",size:"lg",icon:e.extra?"chevron-right":"chevron-up","fixed-width":""},null,8,["icon"])):E("",!0)]}),_:1},8,["class","title","disabled","href"])),!e.extra&&((S=(_=e.button).counter)==null?void 0:S.call(_,e.funcArg))>0?(m(),b("span",Jhe,w((P=(k=e.button).counter)==null?void 0:P.call(k,e.funcArg)),1)):E("",!0),!e.extra&&e.button.name==="bookmark"?(m(),b("span",Zhe)):E("",!0),e.button.name==="bookmark"?(m(),K(d,{key:2,trigger:e.extra?"hover":"click",placement:e.extra?"right":"top",offset:e.extra?{x:10}:{y:10},"trigger-attrs":{class:"extra-button"}},{trigger:X(()=>[A(i,{class:"chevron-icon",size:"lg",icon:e.extra?"chevron-right":"chevron-up","fixed-width":""},null,8,["icon"])]),content:X(({close:C})=>[e.button.name==="bookmark"?(m(),K(c,{key:0,status:e.status,close:()=>{C(),e.outerClose()}},null,8,["status","close"])):E("",!0)]),_:1},8,["trigger","placement","offset"])):E("",!0),e.button.name==="emoji"?(m(),K(f,{key:3,ref:"picker","enable-sticker-picker":!1,"hide-custom-emoji":e.hideCustomEmoji,class:"emoji-picker-panel",onEmoji:e.addReaction},null,8,["hide-custom-emoji","onEmoji"])):E("",!0)],2)}const epe=be(Yhe,[["render",Qhe]]);et.add(C_,zu,uE);const tpe={components:{ActionButton:epe,Popover:fs,MuteConfirm:m5},props:["button","status"],emits:["interacted"],mounted(){this.button.name==="mute"&&this.$store.dispatch("fetchDomainMutes")},computed:{buttonClass(){return[this.button.name+"-button",{"-with-extra":this.button.name==="bookmark","-extra":this.extra,"-quick":!this.extra}]},user(){return this.status.user},userIsMuted(){return this.$store.getters.relationship(this.user.id).muting},conversationIsMuted(){return this.status.thread_muted},domain(){return this.user.fqn.split("@")[1]},domainIsMuted(){return new Set(this.$store.state.users.currentUser.domainMutes).has(this.domain)}},methods:{unmuteUser(){return this.$store.dispatch("unmuteUser",this.user.id)},unmuteConversation(){return this.$store.dispatch("unmuteConversation",{id:this.status.id})},unmuteDomain(){return this.$store.dispatch("unmuteDomain",this.user.id)},toggleUserMute(){this.userIsMuted?this.unmuteUser():this.$refs.confirmUser.optionallyPrompt()},toggleConversationMute(){this.conversationIsMuted?this.unmuteConversation():this.$refs.confirmConversation.optionallyPrompt()},toggleDomainMute(){this.domainIsMuted?this.unmuteDomain():this.$refs.confirmDomain.optionallyPrompt()}}},npe=["id"],spe={class:"menu-item dropdown-item extra-action -icon"},ope={class:"menu-item dropdown-item extra-action -icon"},rpe={class:"menu-item dropdown-item extra-action -icon"};function ipe(e,t,n,s,o,r){var f,h;const i=O("ActionButton"),a=O("FAIcon"),c=O("Popover"),d=O("MuteConfirm");return m(),b("div",null,[(h=(f=e.button).dropdown)!=null&&h.call(f)?(m(),K(c,{key:0,trigger:e.$attrs.extra?"hover":"click",offset:{y:5},placement:e.$attrs.extra?"right":"top"},{trigger:X(()=>[A(i,xn({button:e.button,status:e.status},e.$attrs),null,16,["button","status"])]),content:X(()=>[e.button.name==="mute"?(m(),b("div",{key:0,id:`popup-menu-${e.randomSeed}`,class:"dropdown-menu",role:"menu"},[g("div",spe,[g("button",{class:"main-button",onClick:t[0]||(t[0]=(...v)=>e.toggleUserMute&&e.toggleUserMute(...v))},[A(a,{icon:"user","fixed-width":""}),e.userIsMuted?(m(),b(Te,{key:0},[fe(w(e.$t("status.unmute_user")),1)],64)):(m(),b(Te,{key:1},[fe(w(e.$t("status.mute_user")),1)],64))])]),g("div",ope,[g("button",{class:"main-button",onClick:t[1]||(t[1]=(...v)=>e.toggleConversationMute&&e.toggleConversationMute(...v))},[A(a,{icon:"folder-tree","fixed-width":""}),e.conversationIsMuted?(m(),b(Te,{key:0},[fe(w(e.$t("status.unmute_conversation")),1)],64)):(m(),b(Te,{key:1},[fe(w(e.$t("status.mute_conversation")),1)],64))])]),g("div",rpe,[g("button",{class:"main-button",onClick:t[2]||(t[2]=(...v)=>e.toggleDomainMute&&e.toggleDomainMute(...v))},[A(a,{icon:"globe","fixed-width":""}),e.domainIsMuted?(m(),b(Te,{key:0},[fe(w(e.$t("status.unmute_domain")),1)],64)):(m(),b(Te,{key:1},[fe(w(e.$t("status.mute_domain")),1)],64))])])],8,npe)):E("",!0)]),_:1},8,["trigger","placement"])):(m(),K(i,xn({key:1,button:e.button,status:e.status},e.$attrs,{onInteracted:t[3]||(t[3]=v=>e.$emit("interacted"))}),null,16,["button","status"])),(m(),K(es,{to:"#modal"},[A(d,{ref:"confirmConversation",type:"conversation",status:e.status,user:e.user},null,8,["status","user"]),A(d,{ref:"confirmDomain",type:"domain",status:e.status,user:e.user},null,8,["status","user"]),A(d,{ref:"confirmUser",type:"user",status:e.status,user:e.user},null,8,["status","user"])]))])}const ape=be(tpe,[["render",ipe]]),gC=new Set(["private","direct"]),lpe=new Set(["public","unlisted"]),cpe=[{name:"reply",label:"tool_tip.reply",icon:"reply",active:({replying:e})=>e,counter:({status:e})=>e.replies_count,anon:!0,anonLink:!0,toggleable:!0,closeIndicator:"times",activeIndicator:"none",action({emit:e}){return e("toggleReplying"),Promise.resolve()}},{name:"retweet",label:({status:e})=>e.repeated?"tool_tip.unrepeat":"tool_tip.repeat",icon({status:e,currentUser:t}){return t.id!==e.user.id&&gC.has(e.visibility)?"lock":"retweet"},animated:!0,active:({status:e})=>e.repeated,counter:({status:e})=>e.repeat_num,anonLink:!0,interactive:({status:e,currentUser:t})=>!!t&&(t.id===e.user.id||!gC.has(e.visibility)),toggleable:!0,confirm:({status:e,getters:t})=>!e.repeated&&t.mergedConfig.modalOnRepeat,confirmStrings:{title:"status.repeat_confirm_title",body:"status.repeat_confirm",confirm:"status.repeat_confirm_accept_button",cancel:"status.repeat_confirm_cancel_button"},action({status:e,dispatch:t}){return e.repeated?t("unretweet",{id:e.id}):t("retweet",{id:e.id})}},{name:"favorite",label:({status:e})=>e.favorited?"tool_tip.unfavorite":"tool_tip.favorite",icon:({status:e})=>e.favorited?["fas","star"]:["far","star"],animated:!0,active:({status:e})=>e.favorited,counter:({status:e})=>e.fave_num,anonLink:!0,toggleable:!0,action({status:e,dispatch:t}){return e.favorited?t("unfavorite",{id:e.id}):t("favorite",{id:e.id})}},{name:"emoji",label:"tool_tip.add_reaction",icon:["far","smile-beam"],anonLink:!0},{name:"mute",icon:"eye-slash",label:"status.mute_ellipsis",if:({loggedIn:e})=>e,toggleable:!0,dropdown:!0},{name:"pin",icon:"thumbtack",label:({status:e})=>e.pinned?"status.unpin":"status.pin",if({status:e,loggedIn:t,currentUser:n}){return t&&e.user.id===n.id&&lpe.has(e.visibility)},action({status:e,dispatch:t}){return e.pinned?t("unpinStatus",e.id):t("pinStatus",e.id)}},{name:"bookmark",icon:({status:e})=>e.bookmarked?["fas","bookmark"]:["far","bookmark"],toggleable:!0,active:({status:e})=>e.bookmarked,label:({status:e})=>e.bookmarked?"status.unbookmark":"status.bookmark",if:({loggedIn:e})=>e,action({status:e,dispatch:t}){return e.bookmarked?t("unbookmark",{id:e.id}):t("bookmark",{id:e.id})}},{name:"editHistory",icon:"history",label:"status.status_history",if({status:e,state:t}){return t.instance.editingAvailable&&e.edited_at!==null},action({status:e}){const t={...e};return["attachments","created_at","emojis","text","raw_html","nsfw","poll","summary","summary_raw_html"].forEach(s=>delete t[s]),au().openStatusHistoryModal(t),Promise.resolve()}},{name:"edit",icon:"pen",label:"status.edit",if({status:e,loggedIn:t,currentUser:n,state:s}){return t&&s.instance.editingAvailable&&e.user.id===n.id},action({dispatch:e,status:t}){return e("fetchStatusSource",{id:t.id}).then(n=>iu().openEditStatusModal({statusId:t.id,subject:n.spoiler_text,statusText:n.text,statusIsSensitive:t.nsfw,statusPoll:t.poll,statusFiles:[...t.attachments],visibility:t.visibility,statusContentType:n.content_type}))}},{name:"delete",icon:"times",label:"status.delete",if({status:e,loggedIn:t,currentUser:n}){return t&&(e.user.id===n.id||n.privileges.includes("messages_delete"))},confirm:({getters:e})=>e.mergedConfig.modalOnDelete,confirmStrings:{title:"status.delete_confirm_title",body:"status.delete_confirm",confirm:"status.delete_confirm_accept_button",cancel:"status.delete_confirm_cancel_button"},action({dispatch:e,status:t}){return e("deleteStatus",{id:t.id})}},{name:"share",icon:"share-alt",label:"status.copy_link",action({state:e,status:t,router:n}){return navigator.clipboard.writeText([e.instance.server,n.resolve({name:"conversation",params:{id:t.id}}).href].join("")),Promise.resolve()}},{name:"external",icon:"external-link-alt",label:"status.external_source",link:({status:e})=>e.external_url},{name:"report",icon:"flag",label:"user_card.report",if:({loggedIn:e})=>e,action({status:e}){return Ei().openUserReportingModal({userId:e.user.id,statusIds:[e.id]})}}].map(e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[t,typeof n=="function"||t==="name"?n:()=>n])));et.add(Hu);const upe={props:["status","replying"],emits:["toggleReplying","interacted"],data(){return{showPin:!1,showingConfirmDialog:!1,currentConfirmTitle:"",currentConfirmOkText:"",currentConfirmCancelText:"",currentConfirmAction:()=>{},randomSeed:ap()}},components:{Popover:fs,ConfirmModal:Zo,ActionButtonContainer:ape},computed:{..._n(bn,{pinnedItems:e=>new Set(e.prefsStorage.collections.pinnedStatusActions)}),buttons(){return cpe.filter(e=>e.if?e.if(this.funcArg):!0)},quickButtons(){return this.buttons.filter(e=>this.pinnedItems.has(e.name))},extraButtons(){return this.buttons.filter(e=>!this.pinnedItems.has(e.name))},currentUser(){return this.$store.state.users.currentUser},funcArg(){return{status:this.status,replying:this.replying,emit:this.$emit,dispatch:this.$store.dispatch,state:this.$store.state,getters:this.$store.getters,router:this.$router,currentUser:this.currentUser,loggedIn:!!this.currentUser}},triggerAttrs(){return{title:this.$t("status.more_actions"),"aria-controls":`popup-menu-${this.randomSeed}`,"aria-haspopup":"menu"}}},methods:{doAction(e){var t;(t=e.confirm)!=null&&t.call(e,this.funcArg)?(this.currentConfirmTitle=this.$t(e.confirmStrings(this.funcArg).title),this.currentConfirmOkText=this.$t(e.confirmStrings(this.funcArg).confirm),this.currentConfirmCancelText=this.$t(e.confirmStrings(this.funcArg).cancel),this.currentConfirmBody=this.$t(e.confirmStrings(this.funcArg).body),this.currentConfirmAction=()=>{this.showingConfirmDialog=!1,this.doActionReal(e)},this.showingConfirmDialog=!0):this.doActionReal(e)},doActionReal(e){e.action(this.funcArg).then(()=>this.$emit("onSuccess")).catch(t=>this.$emit("onError",t.error.error))},onExtraClose(){this.showPin=!1},isPinned(e){return this.pinnedItems.has(e.name)},unpin(e){bn().removeCollectionPreference({path:"collections.pinnedStatusActions",value:e.name}),bn().pushServerSideStorage()},pin(e){bn().addCollectionPreference({path:"collections.pinnedStatusActions",value:e.name}),bn().pushServerSideStorage()},getComponent(e){return!this.$store.state.users.currentUser&&e.anonLink||e.action==null&&e.link!=null?"a":"button"},getClass(e){var t,n;return{[e.name+"-button"]:!0,disabled:e.interactive?!e.interactive(this.funcArg):!1,"-pin-edit":this.showPin,"-dropdown":(t=e.dropdown)==null?void 0:t.call(e),"-active":(n=e.active)==null?void 0:n.call(e,this.funcArg)}}}},dpe={class:"StatusActionButtons"},fpe={class:"quick-action-buttons"},hpe=["title","onClick"],ppe=["id"],mpe={key:0,class:"menu-item dropdown-item extra-action -icon"},gpe=["onClick"],vpe=["disabled"],bpe=["title","onClick"];function _pe(e,t,n,s,o,r){const i=O("ActionButtonContainer"),a=O("FAIcon"),c=O("Popover"),d=O("confirm-modal");return m(),b("div",dpe,[g("span",fpe,[(m(!0),b(Te,null,Ke(e.quickButtons,f=>{var h;return m(),b("span",{key:f.name,class:he(["quick-action",{"-pin":e.showPin,"-toggle":(h=f.dropdown)==null?void 0:h.call(f)}])},[A(i,{class:he({"-pin":e.showPin}),button:f,status:e.status,extra:!1,"func-arg":e.funcArg,"get-class":e.getClass,"get-component":e.getComponent,close:()=>{},"do-action":e.doAction,onInteracted:t[0]||(t[0]=v=>e.$emit("interacted"))},null,8,["class","button","status","func-arg","get-class","get-component","do-action"]),e.showPin&&e.currentUser?(m(),b("button",{key:0,type:"button",class:"button-unstyled pin-action-button",title:e.$t("general.unpin"),"aria-pressed":!0,onClick:Se(v=>e.unpin(f),["stop","prevent"])},[e.showPin&&e.currentUser?(m(),K(a,{key:0,"fixed-width":"",class:"fa-scale-110",icon:"thumbtack"})):E("",!0)],8,hpe)):E("",!0)],2)}),128)),A(c,{trigger:"click","trigger-attrs":e.triggerAttrs,tabindex:0,placement:"top",offset:{y:5},"remove-padding":"",onClose:e.onExtraClose},{trigger:X(()=>[A(a,{class:"fa-scale-110",icon:"ellipsis-h"})]),content:X(({close:f,resize:h})=>[g("div",{id:`popup-menu-${e.randomSeed}`,class:"dropdown-menu extra-action-buttons",role:"menu"},[e.currentUser?(m(),b("div",mpe,[g("button",{class:"main-button",role:"menuitem",tabindex:0,onClick:Se(()=>{h(),e.showPin=!e.showPin},["stop"])},[A(a,{class:"fa-scale-110","fixed-width":"",icon:"wrench"}),g("span",null,w(e.$t("nav.edit_pinned")),1)],8,gpe)])):E("",!0),(m(!0),b(Te,null,Ke(e.extraButtons,v=>(m(),b("div",{key:v.name,class:he(["menu-item dropdown-item extra-action -icon",{disabled:e.getClass(v).disabled}]),disabled:e.getClass(v).disabled},[A(i,{button:v,status:e.status,extra:!0,"func-arg":e.funcArg,"get-class":e.getClass,"get-component":e.getComponent,"outer-close":f,"do-action":e.doAction,onInteracted:t[1]||(t[1]=_=>e.$emit("interacted"))},null,8,["button","status","func-arg","get-class","get-component","outer-close","do-action"]),e.showPin&&e.currentUser?(m(),b("button",{key:0,type:"button",class:"button-unstyled pin-action-button extra-button",title:e.$t("general.pin"),"aria-pressed":!1,onClick:Se(_=>e.pin(v),["stop","prevent"])},[e.showPin&&e.currentUser?(m(),K(a,{key:0,"fixed-width":"",class:"fa-scale-110",transform:"rotate-45",icon:"thumbtack"})):E("",!0)],8,bpe)):E("",!0)],10,vpe))),128))],8,ppe)]),_:1},8,["trigger-attrs","onClose"])]),(m(),K(es,{to:"#modal"},[e.showingConfirmDialog?(m(),K(d,{key:0,title:e.currentConfirmTitle,"confirm-text":e.currentConfirmOkText,"cancel-text":e.currentConfirmCancelText,onAccepted:e.currentConfirmAction,onCancelled:t[2]||(t[2]=f=>e.showingConfirmDialog=!1)},{default:X(()=>[fe(w(e.currentConfirmBody),1)]),_:1},8,["title","confirm-text","cancel-text","onAccepted"])):E("",!0)]))])}const ype=be(upe,[["render",_pe]]);et.add(Vh,zu,nE,lE,Yn,R_,eE,Fx,T_,zh,Hu,S_,Vx,M_,k_,Ca,rE,aY);const by=e=>e.charAt(0).toUpperCase()+e.slice(1),wpe=e=>e.reduce((t,n)=>{const s=by(n),o=`controlledToggle${s}`,r=`controlled${s}`,i=`uncontrolled${s}`;return t[n]=function(){return(this.$data[o]!==void 0||this.$props[o]!==void 0)&&this[o]?this[r]:this[i]},t},{}),Spe=(e,t)=>{const n=by(t),s=`controlledToggle${n}`,o=`uncontrolled${n}`;e[s]?e[s]():e[o]=!e[o]},vC=(e,t,n)=>{const s=by(t),o=`controlledSet${s}`,r=`uncontrolled${s}`;e[o]?e[o](n):e[r]=n},kpe={name:"Status",components:{PostStatusForm:ql,UserAvatar:xs,AvatarList:L5,Timeago:Ku,StatusPopover:Ehe,UserListPopover:O5,EmojiReactions:qhe,StatusContent:Pa,RichContent:Po,MentionLink:l5,MentionsLine:g0,UserPopover:hp,UserLink:xu,StatusActionButtons:ype},props:["statusoid","expandable","inConversation","focused","highlight","compact","replies","isPreview","noHeading","inlineExpanded","showPinned","inProfile","profileUserId","inQuote","simpleTree","controlledThreadDisplayStatus","controlledToggleThreadDisplay","showOtherRepliesAsButton","controlledShowingTall","controlledToggleShowingTall","controlledExpandingSubject","controlledToggleExpandingSubject","controlledShowingLongSubject","controlledToggleShowingLongSubject","controlledReplying","controlledToggleReplying","controlledMediaPlaying","controlledSetMediaPlaying","dive"],emits:["interacted"],data(){return{uncontrolledReplying:!1,unmuted:!1,userExpanded:!1,uncontrolledMediaPlaying:[],suspendable:!0,error:null,headTailLinks:null,displayQuote:!this.inQuote}},computed:{...wpe(["replying","mediaPlaying"]),showReasonMutedThread(){return(this.status.thread_muted||this.status.reblog&&this.status.reblog.thread_muted)&&!this.inConversation},repeaterClass(){const e=this.statusoid.user;return rh(e)},userClass(){const e=this.retweet?this.statusoid.retweeted_status.user:this.statusoid.user;return rh(e)},deleted(){return this.statusoid.deleted},repeaterStyle(){const e=this.statusoid.user,t=this.mergedConfig.highlight;return oh(t[e.screen_name])},userStyle(){if(this.noHeading)return;const e=this.retweet?this.statusoid.retweeted_status.user:this.statusoid.user,t=this.mergedConfig.highlight;return oh(t[e.screen_name])},userProfileLink(){return this.generateUserProfileLink(this.status.user.id,this.status.user.screen_name)},replyProfileLink(){if(this.isReply){const e=this.$store.getters.findUser(this.status.in_reply_to_user_id);return e?e.statusnet_profile_url:"NOT_FOUND"}},retweet(){return!!this.statusoid.retweeted_status},retweeterUser(){return this.statusoid.user},retweeter(){return this.statusoid.user.name||this.statusoid.user.screen_name_ui},retweeterHtml(){return this.statusoid.user.name},retweeterProfileLink(){return this.generateUserProfileLink(this.statusoid.user.id,this.statusoid.user.screen_name)},status(){return this.retweet?this.statusoid.retweeted_status:this.statusoid},statusFromGlobalRepository(){return this.$store.state.statuses.allStatusesObject[this.status.id]},loggedIn(){return!!this.currentUser},muteFilterHits(){return $6(Object.values(bn().prefsStorage.simple.muteFilters),this.status)},botStatus(){return this.status.user.actor_type==="Service"},showActorTypeIndicator(){return!this.hideBotIndication},sensitiveStatus(){return this.status.nsfw},mentionsLine(){if(!this.headTailLinks)return[];const e=new Set(this.headTailLinks.writtenMentions.map(t=>t.url));return this.status.attentions.filter(t=>t.id!==this.status.in_reply_to_user_id&&t.statusnet_profile_url!==this.status.user.statusnet_profile_url&&!e.has(t.statusnet_profile_url)).map(t=>({url:t.statusnet_profile_url,content:t.screen_name,userId:t.id}))},hasMentionsLine(){return this.mentionsLine.length>0},muteReasons(){return[this.userIsMuted?"user":null,this.status.thread_muted?"thread":null,this.muteFilterHits.length>0?"filtered":null,this.muteBotStatuses&&this.botStatus?"bot":null,this.muteSensitiveStatuses&&this.sensitiveStatus?"nsfw":null].filter(e=>e)},muteLocalized(){if(this.muteReasons.length===0)return null;const e=()=>{switch(this.muteReasons[0]){case"user":return this.$t("status.muted_user");case"thread":return this.$t("status.thread_muted");case"filtered":return this.$t("status.muted_filters",{name:this.muteFilterHits[0].name,filterMore:this.muteFilterHits.length-1},this.muteFilterHits.length);case"bot":return this.$t("status.bot_muted");case"nsfw":return this.$t("status.sensitive_muted")}};return this.muteReasons.length>1?this.$t("status.multi_reason_mute",{main:e(),numReasonsMore:this.muteReasons.length-1},this.muteReasons.length-1):e()},muted(){return this.statusoid.user.id===this.currentUser.id?!1:!this.unmuted&&!this.shouldNotMute&&this.muteReasons.length>0},userIsMuted(){if(this.statusoid.user.id===this.currentUser.id)return!1;const{status:e}=this,{reblog:t}=e,n=this.$store.getters.relationship(e.user.id),s=t&&this.$store.getters.relationship(t.user.id);return e.muted&&!e.thread_muted||t&&t.muted&&!t.thread_muted||n.muting||s&&s.muting},shouldNotMute(){if(this.isFocused)return!0;const{status:e}=this,{reblog:t}=e;return(this.inProfile&&(!t&&e.user.id===this.profileUserId||t&&t.user.id===this.profileUserId)||this.inConversation&&e.thread_muted)&&!this.muteFilterHits.length>0},hideMutedUsers(){return this.mergedConfig.hideMutedPosts},hideMutedThreads(){return this.mergedConfig.hideMutedThreads},hideFilteredStatuses(){return this.mergedConfig.hideFilteredStatuses},hideWordFilteredPosts(){return this.mergedConfig.hideWordFilteredPosts},hideStatus(){return!this.shouldNotMute&&(this.muted&&this.hideFilteredStatuses||this.userIsMuted&&this.hideMutedUsers||this.status.thread_muted&&this.hideMutedThreads||this.muteFilterHits.length>0&&this.hideWordFilteredPosts||this.muteFilterHits.some(e=>e.hide))},isFocused(){return this.focused?!0:this.inConversation?this.status.id===this.highlight:!1},isReply(){return!!(this.status.in_reply_to_status_id&&this.status.in_reply_to_user_id)},replyToName(){if(this.status.in_reply_to_screen_name)return this.status.in_reply_to_screen_name;{const e=this.$store.getters.findUser(this.status.in_reply_to_user_id);return e&&e.screen_name_ui}},replySubject(){if(!this.status.summary)return"";const e=Z.unescape(this.status.summary),t=this.mergedConfig.subjectLineBehavior,n=e.match(/^re[: ]/i);if(t!=="noop"&&n||t==="masto")return e;if(t==="email")return"re: ".concat(e);if(t==="noop")return""},combinedFavsAndRepeatsUsers(){const e=[].concat(this.statusFromGlobalRepository.favoritedBy,this.statusFromGlobalRepository.rebloggedBy);return Z.uniqBy(e,"id")},tags(){return this.status.tags.filter(e=>e.hasOwnProperty("name")).map(e=>e.name).join(" ")},hidePostStats(){return this.mergedConfig.hidePostStats},shouldDisplayFavsAndRepeats(){return!this.hidePostStats&&this.isFocused&&(this.combinedFavsAndRepeatsUsers.length>0||this.statusFromGlobalRepository.quotes_count)},muteBotStatuses(){return this.mergedConfig.muteBotStatuses},muteSensitiveStatuses(){return this.mergedConfig.muteSensitiveStatuses},hideBotIndication(){return this.mergedConfig.hideBotIndication},currentUser(){return this.$store.state.users.currentUser},mergedConfig(){return this.$store.getters.mergedConfig},isSuspendable(){return!this.replying&&this.mediaPlaying.length===0},inThreadForest(){return!!this.controlledThreadDisplayStatus},threadShowing(){return this.controlledThreadDisplayStatus==="showing"},visibilityLocalized(){return this.$i18n.t("general.scope_in_timeline."+this.status.visibility)},isEdited(){return this.status.edited_at!==null},editingAvailable(){return this.$store.state.instance.editingAvailable},hasVisibleQuote(){return this.status.quote_url&&this.status.quote_visible},hasInvisibleQuote(){return this.status.quote_url&&!this.status.quote_visible},quotedStatus(){return this.status.quote_id?this.$store.state.statuses.allStatusesObject[this.status.quote_id]:void 0},shouldDisplayQuote(){return this.quotedStatus&&this.displayQuote},scrobblePresent(){if(this.mergedConfig.hideScrobbles||!this.status.user.latestScrobble)return!1;const e=this.mergedConfig.hideScrobblesAfter.match(/\d+/gs)[0],t=this.mergedConfig.hideScrobblesAfter.match(/\D+/gs)[0];let n=60*1e3;switch(t){case"m":break;case"h":n*=60;break;case"d":n*=60,n*=24;break}const s=Number(e)*n,o=Date.parse(this.status.user.latestScrobble.created_at);return Date.now()-o>s?!1:this.status.user.latestScrobble.artist},scrobble(){return this.status.user.latestScrobble}},methods:{visibilityIcon(e){switch(e){case"private":return"lock";case"unlisted":return"lock-open";case"direct":return"envelope";default:return"globe"}},showError(e){this.error=e},clearError(){this.$emit("interacted"),this.error=void 0},toggleReplying(){this.$emit("interacted"),this.replying?this.$refs.postStatusForm.requestClose():this.doToggleReplying()},doToggleReplying(){Spe(this,"replying")},gotoOriginal(e){this.inConversation&&this.$emit("goto",e)},toggleExpanded(){this.$emit("toggleExpanded")},toggleMute(){this.unmuted=!this.unmuted},toggleUserExpanded(){this.userExpanded=!this.userExpanded},generateUserProfileLink(e,t){return Jo(e,t,this.$store.state.instance.restrictedNicknames)},addMediaPlaying(e){vC(this,"mediaPlaying",this.mediaPlaying.concat(e))},removeMediaPlaying(e){vC(this,"mediaPlaying",this.mediaPlaying.filter(t=>t!==e))},setHeadTailLinks(e){this.headTailLinks=e},toggleThreadDisplay(){this.controlledToggleThreadDisplay()},scrollIfHighlighted(e){if(this.$el.getBoundingClientRect==null)return;const t=e;if(this.status.id===t){const n=this.$el.getBoundingClientRect();n.top<100||n.height>=window.innerHeight-50?window.scrollBy(0,n.top-100):n.bottom>window.innerHeight-50&&window.scrollBy(0,n.bottom-window.innerHeight+50)}},toggleDisplayQuote(){this.shouldDisplayQuote?this.displayQuote=!1:this.quotedStatus?this.displayQuote=!0:this.$store.dispatch("fetchStatus",this.status.quote_id).then(()=>{this.displayQuote=!0})}},watch:{highlight:function(e){this.scrollIfHighlighted(e)},"status.repeat_num":function(e){this.isFocused&&this.statusFromGlobalRepository.rebloggedBy&&this.statusFromGlobalRepository.rebloggedBy.length!==e&&this.$store.dispatch("fetchRepeats",this.status.id)},"status.fave_num":function(e){this.isFocused&&this.statusFromGlobalRepository.favoritedBy&&this.statusFromGlobalRepository.favoritedBy.length!==e&&this.$store.dispatch("fetchFavs",this.status.id)},isSuspendable:function(e){this.suspendable=e}}},$pe={key:0,class:"alert error"},Cpe={key:1,class:"status-container muted"},Tpe={class:"status-username"},Ape={class:"mute-reason"},Epe={key:0,class:"pin"},Ipe={class:"faint"},Ppe={class:"right-side faint"},Lpe=["title"],Ope=["data-tags"],Rpe={key:0,class:"left-side"},Mpe=["href"],Npe={class:"right-side"},Fpe={key:0,class:"status-heading"},Dpe={class:"heading-name-row"},Upe={class:"heading-left"},jpe=["title"],Bpe=["title"],zpe=["src"],qpe={class:"heading-right"},Hpe=["title"],Vpe=["title"],Wpe=["title","aria-expanded"],Gpe=["title"],Kpe={key:0,class:"status-rich-presence"},xpe=["href"],Ype={class:"status-rich-presence-time"},Xpe={key:1},Jpe={class:"status-rich-presence-time"},Zpe={key:1,class:"heading-reply-row"},Qpe={key:0,class:"glued-label reply-glued-label"},eme=["aria-label"],tme={class:"reply-to-text"},nme={key:1,class:"reply-to-no-popover"},sme={class:"reply-to-text"},ome={key:1,class:"glued-label"},rme=["aria-label"],ime={class:"mentions-text"},ame={key:2,class:"heading-edited-row"},lme={key:1,class:"quoted-status"},cme=["aria-expanded"],ume={key:2,class:"quoted-status -unavailable-prompt"},dme=["href"],fme={key:3,class:"replies"},hme=["title"],pme={key:1,class:"faint"},mme=["onClick"],gme={key:0,class:"favs-repeated-users"},vme={class:"stats"},bme={class:"stat-count"},_me={class:"stat-title"},yme={class:"stat-number"},wme={class:"stat-count"},Sme={class:"stat-title"},kme={class:"stat-number"},$me={class:"stat-count"},Cme={class:"stat-title"},Tme={class:"stat-number"},Ame={class:"avatar-row"},Eme={key:3,class:"gravestone"},Ime={class:"left-side"},Pme={class:"right-side"},Lme={class:"deleted-text"},Ome={key:4,class:"status-container reply-form"};function Rme(e,t,n,s,o,r){const i=O("FAIcon"),a=O("user-link"),c=O("UserAvatar"),d=O("RichContent"),f=O("router-link"),h=O("UserPopover"),v=O("Timeago"),_=O("i18n-t"),S=O("StatusPopover"),k=O("MentionLink"),P=O("MentionsLine"),C=O("StatusContent"),$=O("Status",!0),L=O("UserListPopover"),T=O("AvatarList"),R=O("EmojiReactions"),q=O("StatusActionButtons"),D=O("PostStatusForm");return e.hideStatus?E("",!0):(m(),b("div",{key:0,ref:"root",class:he(["Status",[{"-focused":e.isFocused},{"-conversation":e.inlineExpanded}]])},[e.error?(m(),b("div",$pe,[fe(w(e.error)+" ",1),g("span",{class:"fa-scale-110 fa-old-padding",onClick:t[0]||(t[0]=(...x)=>e.clearError&&e.clearError(...x))},[A(i,{icon:"times"})])])):E("",!0),e.muted&&!e.isPreview?(m(),b("div",Cpe,[g("small",Tpe,[e.muted&&e.retweet?(m(),K(i,{key:0,class:"fa-scale-110 fa-old-padding repeat-icon",icon:"retweet"})):E("",!0),A(a,{user:e.status.user,at:!1},null,8,["user"])]),g("small",Ape,w(e.muteLocalized),1),g("button",{class:"unmute button-unstyled",onClick:t[1]||(t[1]=Se((...x)=>e.toggleMute&&e.toggleMute(...x),["prevent"]))},[A(i,{icon:"eye-slash",class:"fa-scale-110 fa-old-padding"})])])):(m(),b(Te,{key:2},[e.showPinned?(m(),b("div",Epe,[A(i,{icon:"thumbtack",class:"faint"}),g("span",Ipe,w(e.$t("status.pinned")),1)])):E("",!0),e.retweet&&!e.noHeading&&!e.inConversation?(m(),b("div",{key:1,class:he([[e.repeaterClass,{highlighted:e.repeaterStyle}],"status-container repeat-info"]),style:gn([e.repeaterStyle])},[e.retweet?(m(),K(c,{key:0,class:"left-side repeater-avatar","show-actor-type-indicator":e.showActorTypeIndicator,user:e.statusoid.user},null,8,["show-actor-type-indicator","user"])):E("",!0),g("div",Ppe,[g("bdi",{class:"status-username repeater-name",title:e.retweeter},[e.retweeterHtml?(m(),K(f,{key:0,to:e.retweeterProfileLink},{default:X(()=>[A(d,{html:e.retweeterHtml,emoji:e.retweeterUser.emoji},null,8,["html","emoji"])]),_:1},8,["to"])):(m(),K(f,{key:1,to:e.retweeterProfileLink},{default:X(()=>[fe(w(e.retweeter),1)]),_:1},8,["to"]))],8,Lpe),t[14]||(t[14]=fe(" "+w(" ")+" ")),A(i,{icon:"retweet",class:"repeat-icon",title:e.$t("tool_tip.repeat")},null,8,["title"]),fe(" "+w(e.$t("timeline.repeated")),1)])],6)):E("",!0),e.deleted?(m(),b("div",Eme,[g("div",Ime,[A(c,{class:"post-avatar",compact:e.compact,"show-actor-type-indicator":e.showActorTypeIndicator},null,8,["compact","show-actor-type-indicator"])]),g("div",Pme,[g("div",Lme,w(e.$t("status.status_deleted")),1)])])):(m(),b("div",{key:2,class:he([[e.userClass,{highlighted:e.userStyle,"-repeat":e.retweet&&!e.inConversation}],"status-container"]),style:gn([e.userStyle]),"data-tags":e.tags},[e.noHeading?E("",!0):(m(),b("div",Rpe,[g("a",{href:e.$router.resolve(e.userProfileLink).href,onClick:t[2]||(t[2]=Se(()=>{},["prevent"]))},[A(h,{"user-id":e.status.user.id,"overlay-centers":!0},{default:X(()=>[A(c,{class:"post-avatar","show-actor-type-indicator":e.showActorTypeIndicator,compact:e.compact,user:e.status.user},null,8,["show-actor-type-indicator","compact","user"])]),_:1},8,["user-id"])],8,Mpe)])),g("div",Npe,[e.noHeading?E("",!0):(m(),b("div",Fpe,[g("div",Dpe,[g("div",Upe,[e.status.user.name_html?(m(),b("h4",{key:0,class:"status-username",title:e.status.user.name},[A(d,{html:e.status.user.name,emoji:e.status.user.emoji},null,8,["html","emoji"])],8,jpe)):(m(),b("h4",{key:1,class:"status-username",title:e.status.user.name},w(e.status.user.name),9,Bpe)),A(a,{class:"account-name",title:e.status.user.screen_name_ui,user:e.status.user,at:!1},null,8,["title","user"]),e.status.user&&e.status.user.favicon?(m(),b("img",{key:2,class:"status-favicon",src:e.status.user.favicon},null,8,zpe)):E("",!0)]),g("span",qpe,[A(f,{class:"timeago faint",to:{name:"conversation",params:{id:e.status.id}}},{default:X(()=>[A(v,{time:e.status.created_at,"auto-update":60},null,8,["time"])]),_:1},8,["to"]),e.status.visibility?(m(),b("span",{key:0,class:"visibility-icon",title:e.visibilityLocalized},[A(i,{"fixed-width":"",class:"fa-scale-110",icon:e.visibilityIcon(e.status.visibility)},null,8,["icon"])],8,Hpe)):E("",!0),e.expandable&&!e.isPreview?(m(),b("button",{key:1,class:"button-unstyled",title:e.$t("status.expand"),onClick:t[3]||(t[3]=Se((...x)=>e.toggleExpanded&&e.toggleExpanded(...x),["prevent"]))},[A(i,{"fixed-width":"",class:"fa-scale-110",icon:"plus-square"})],8,Vpe)):E("",!0),e.unmuted?(m(),b("button",{key:2,class:"button-unstyled",onClick:t[4]||(t[4]=Se((...x)=>e.toggleMute&&e.toggleMute(...x),["prevent"]))},[A(i,{"fixed-width":"",icon:"eye-slash",class:"fa-scale-110"})])):E("",!0),e.inThreadForest&&e.replies&&e.replies.length&&!e.simpleTree?(m(),b("button",{key:3,class:"button-unstyled",title:e.threadShowing?e.$t("status.thread_hide"):e.$t("status.thread_show"),"aria-expanded":e.threadShowing?"true":"false",onClick:t[5]||(t[5]=Se((...x)=>e.toggleThreadDisplay&&e.toggleThreadDisplay(...x),["prevent"]))},[A(i,{"fixed-width":"",class:"fa-scale-110",icon:e.threadShowing?"chevron-up":"chevron-down"},null,8,["icon"])],8,Wpe)):E("",!0),e.dive&&!e.simpleTree?(m(),b("button",{key:4,class:"button-unstyled",title:e.$t("status.show_only_conversation_under_this"),onClick:t[6]||(t[6]=Se((...x)=>e.dive&&e.dive(...x),["prevent"]))},[A(i,{"fixed-width":"",class:"fa-scale-110",icon:"angle-double-right"})],8,Gpe)):E("",!0)])]),e.scrobblePresent?(m(),b("div",Kpe,[e.scrobble.externalLink?(m(),b("a",{key:0,href:e.scrobble.externalLink,target:"_blank"},[fe(w(e.scrobble.artist)+"  "+w(e.scrobble.title)+" ",1),A(i,{class:"fa-scale-110 fa-old-padding",icon:"play"}),g("span",Ype,[A(v,{"template-key":"time.in_past",time:e.scrobble.created_at,"auto-update":60},null,8,["time"])])],8,xpe)):E("",!0),e.scrobble.externalLink?E("",!0):(m(),b("span",Xpe,[A(i,{class:"fa-scale-110 fa-old-padding",icon:"music"}),fe(" "+w(e.scrobble.artist)+"  "+w(e.scrobble.title)+" ",1),A(i,{class:"fa-scale-110 fa-old-padding",icon:"play"}),g("span",Jpe,[A(v,{"template-key":"time.in_past",time:e.scrobble.created_at,"auto-update":60},null,8,["time"])])]))])):E("",!0),e.isReply||e.hasMentionsLine?(m(),b("div",Zpe,[e.isReply?(m(),b("span",Qpe,[A(_,{keypath:"status.reply_to_with_arg",scope:"global"},{replyToWithIcon:X(()=>[e.isPreview?(m(),b("span",nme,[g("span",sme,w(e.$t("status.reply_to")),1)])):(m(),K(S,{key:0,"status-id":e.status.parent_visible&&e.status.in_reply_to_status_id,class:he(["reply-to-popover",{"-strikethrough":!e.status.parent_visible}]),style:{"min-width":"0"}},{default:X(()=>[g("button",{class:"button-unstyled reply-to","aria-label":e.$t("tool_tip.reply"),onClick:t[7]||(t[7]=Se(x=>e.gotoOriginal(e.status.in_reply_to_status_id),["prevent"]))},[A(_,{keypath:"status.reply_to_with_icon",scope:"global"},{icon:X(()=>[A(i,{class:"fa-scale-110 fa-old-padding",icon:"reply",flip:"horizontal"})]),replyTo:X(()=>[g("span",tme,w(e.$t("status.reply_to")),1)]),_:1})],8,eme)]),_:1},8,["status-id","class"]))]),user:X(()=>[A(k,{content:e.replyToName,url:e.replyProfileLink,"user-id":e.status.in_reply_to_user_id,"user-screen-name":e.status.in_reply_to_screen_name},null,8,["content","url","user-id","user-screen-name"])]),_:1})])):E("",!0),e.hasMentionsLine?(m(),b("span",ome,[g("span",{class:"mentions","aria-label":e.$t("tool_tip.mentions"),onClick:t[8]||(t[8]=Se(x=>e.gotoOriginal(e.status.in_reply_to_status_id),["prevent"]))},[g("span",ime,w(e.$t("status.mentions")),1)],8,rme),e.hasMentionsLine?(m(),K(P,{key:0,mentions:e.mentionsLine.slice(0,1),class:"mentions-line-first"},null,8,["mentions"])):E("",!0)])):E("",!0),t[15]||(t[15]=fe(" "+w(" ")+" ")),e.hasMentionsLine?(m(),K(P,{key:2,mentions:e.mentionsLine.slice(1),class:"mentions-line"},null,8,["mentions"])):E("",!0)])):E("",!0),e.isEdited&&e.editingAvailable&&!e.isPreview?(m(),b("div",ame,[A(_,{scope:"global",keypath:"status.edited_at",tag:"span"},{time:X(()=>[A(v,{"template-key":"time.in_past",time:e.status.edited_at,"auto-update":60,"long-format":!0},null,8,["time"])]),_:1})])):E("",!0)])),A(C,{ref:"content",status:e.status,"no-heading":e.noHeading,highlight:e.highlight,focused:e.isFocused,"controlled-showing-tall":e.controlledShowingTall,"controlled-expanding-subject":e.controlledExpandingSubject,"controlled-showing-long-subject":e.controlledShowingLongSubject,"controlled-toggle-showing-tall":e.controlledToggleShowingTall,"controlled-toggle-expanding-subject":e.controlledToggleExpandingSubject,"controlled-toggle-showing-long-subject":e.controlledToggleShowingLongSubject,onMediaplay:t[9]||(t[9]=x=>e.addMediaPlaying(x)),onMediapause:t[10]||(t[10]=x=>e.removeMediaPlaying(x)),onParseReady:e.setHeadTailLinks},null,8,["status","no-heading","highlight","focused","controlled-showing-tall","controlled-expanding-subject","controlled-showing-long-subject","controlled-toggle-showing-tall","controlled-toggle-expanding-subject","controlled-toggle-showing-long-subject","onParseReady"]),e.hasVisibleQuote?(m(),b("article",lme,[g("button",{class:"button-unstyled -link display-quoted-status-button","aria-expanded":e.shouldDisplayQuote,onClick:t[11]||(t[11]=(...x)=>e.toggleDisplayQuote&&e.toggleDisplayQuote(...x))},[fe(w(e.shouldDisplayQuote?e.$t("status.hide_quote"):e.$t("status.display_quote"))+" ",1),A(i,{class:"display-quoted-status-button-icon",icon:e.shouldDisplayQuote?"chevron-up":"chevron-down"},null,8,["icon"])],8,cme),e.shouldDisplayQuote?(m(),K($,{key:0,statusoid:e.quotedStatus,"in-quote":!0},null,8,["statusoid"])):E("",!0)])):e.hasInvisibleQuote?(m(),b("p",ume,[A(_,{scope:"global",keypath:"status.invisible_quote"},{link:X(()=>[g("bdi",null,[g("a",{href:e.status.quote_url,target:"_blank"},w(e.status.quote_url),9,dme)])]),_:1})])):E("",!0),e.inConversation&&!e.isPreview&&e.replies&&e.replies.length?(m(),b("div",fme,[e.showOtherRepliesAsButton&&e.replies.length>1?(m(),b("button",{key:0,class:"button-unstyled -link",title:e.$t("status.ancestor_follow",{numReplies:e.replies.length-1},e.replies.length-1),onClick:t[12]||(t[12]=Se((...x)=>e.dive&&e.dive(...x),["prevent"]))},w(e.$t("status.replies_list_with_others",{numReplies:e.replies.length-1},e.replies.length-1)),9,hme)):(m(),b("span",pme,w(e.$t("status.replies_list")),1)),(m(!0),b(Te,null,Ke(e.replies,x=>(m(),K(S,{key:x.id,"status-id":x.id},{default:X(()=>[g("button",{class:"button-unstyled -link reply-link",onClick:Se(oe=>e.gotoOriginal(x.id),["prevent"])},w(x.name),9,mme)]),_:2},1032,["status-id"]))),128))])):E("",!0),A(i6,{name:"fade"},{default:X(()=>[e.shouldDisplayFavsAndRepeats?(m(),b("div",gme,[g("div",vme,[e.statusFromGlobalRepository.rebloggedBy&&e.statusFromGlobalRepository.rebloggedBy.length>0?(m(),K(L,{key:0,users:e.statusFromGlobalRepository.rebloggedBy},{default:X(()=>[g("div",bme,[g("a",_me,w(e.$t("status.repeats")),1),g("div",yme,w(e.statusFromGlobalRepository.rebloggedBy.length),1)])]),_:1},8,["users"])):E("",!0),e.statusFromGlobalRepository.favoritedBy&&e.statusFromGlobalRepository.favoritedBy.length>0?(m(),K(L,{key:1,users:e.statusFromGlobalRepository.favoritedBy},{default:X(()=>[g("div",wme,[g("a",Sme,w(e.$t("status.favorites")),1),g("div",kme,w(e.statusFromGlobalRepository.favoritedBy.length),1)])]),_:1},8,["users"])):E("",!0),e.statusFromGlobalRepository.quotes_count>0?(m(),K(f,{key:2,to:{name:"quotes",params:{id:e.status.id}}},{default:X(()=>[g("div",$me,[g("a",Cme,w(e.$t("status.quotes")),1),g("div",Tme,w(e.statusFromGlobalRepository.quotes_count),1)])]),_:1},8,["to"])):E("",!0),g("div",Ame,[A(T,{users:e.combinedFavsAndRepeatsUsers},null,8,["users"])])])])):E("",!0)]),_:1}),(e.mergedConfig.emojiReactionsOnTimeline||e.isFocused)&&!e.noHeading&&!e.isPreview?(m(),K(R,{key:4,status:e.status},null,8,["status"])):E("",!0),!e.noHeading&&!e.isPreview?(m(),K(q,{key:5,status:e.status,replying:e.replying,onToggleReplying:e.toggleReplying,onInteracted:t[13]||(t[13]=x=>e.$emit("interacted"))},null,8,["status","replying","onToggleReplying"])):E("",!0)])],14,Ope)),e.replying?(m(),b("div",Ome,[A(D,{ref:"postStatusForm",class:"reply-body",closeable:!0,"reply-to":e.status.id,attentions:e.status.attentions,"replied-user":e.status.user,"copy-message-scope":e.status.visibility,subject:e.replySubject,onPosted:e.doToggleReplying,onDraftDone:e.doToggleReplying,onCanClose:e.doToggleReplying},null,8,["reply-to","attentions","replied-user","copy-message-scope","subject","onPosted","onDraftDone","onCanClose"])])):E("",!0)],64))],2))}const Di=be(kpe,[["render",Rme]]),Mme=Object.freeze(Object.defineProperty({__proto__:null,default:Di},Symbol.toStringTag,{value:"Module"})),Nme={props:["reportId"],components:{Select:zl,StatusContent:Pa,Timeago:Ku,RichContent:Po},computed:{report(){return Ei().reports[this.reportId]||{}},state:{get:function(){return this.report.state},set:function(e){this.setReportState(e)}}},methods:{generateUserProfileLink(e){return Jo(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)},setReportState(e){return Ei().setReportState({id:this.report.id,state:e})}}},Fme={class:"Report"},Dme={class:"reported-user"},Ume={class:"reporter"},jme={class:"report-state"},Bme=["value"],zme={key:0},qme={class:"reported-status-heading"},Hme={class:"reported-status-name"},Vme={key:1};function Wme(e,t,n,s,o,r){const i=O("router-link"),a=O("Select"),c=O("RichContent"),d=O("Timeago"),f=O("status-content");return m(),b("div",Fme,[g("div",Dme,[g("span",null,w(e.$t("report.reported_user")),1),A(i,{to:e.generateUserProfileLink(e.report.acct)},{default:X(()=>[fe(" @"+w(e.report.acct.screen_name),1)]),_:1},8,["to"])]),g("div",Ume,[g("span",null,w(e.$t("report.reporter")),1),A(i,{to:e.generateUserProfileLink(e.report.actor)},{default:X(()=>[fe(" @"+w(e.report.actor.screen_name),1)]),_:1},8,["to"])]),g("div",jme,[g("span",null,w(e.$t("report.state")),1),A(a,{id:e.report-e.state,modelValue:e.state,"onUpdate:modelValue":t[0]||(t[0]=h=>e.state=h),class:"input form-control"},{default:X(()=>[(m(),b(Te,null,Ke(["open","closed","resolved"],h=>g("option",{key:h,value:h},w(e.$t("report.state_"+h)),9,Bme)),64))]),_:1},8,["id","modelValue"])]),A(c,{class:"report-content",html:e.report.content,emoji:[]},null,8,["html"]),e.report.statuses.length?(m(),b("div",zme,[g("small",null,w(e.$t("report.reported_statuses")),1),(m(!0),b(Te,null,Ke(e.report.statuses,h=>(m(),K(i,{key:h.id,to:{name:"conversation",params:{id:h.id}},class:"reported-status"},{default:X(()=>[g("div",qme,[g("span",Hme,w(h.user.name),1),A(d,{time:h.created_at,"auto-update":240,class:"faint"},null,8,["time"])]),A(f,{status:h},null,8,["status"])]),_:2},1032,["to"]))),128))])):E("",!0),e.report.notes.length?(m(),b("div",Vme,[g("small",null,w(e.$t("report.notes")),1),(m(!0),b(Te,null,Ke(e.report.notes,h=>(m(),b("div",{key:h.id,class:"note"},[g("span",null,w(h.content),1),A(d,{time:h.created_at,"auto-update":240,class:"faint"},null,8,["time"])]))),128))])):E("",!0)])}const Gme=be(Nme,[["render",Wme]]);et.add(Kh,Yn,T_,R_,Gh,C_,S_,uY,bE,mx);const Kme={data(){return{statusExpanded:!1,unmuted:!1,showingApproveConfirmDialog:!1,showingDenyConfirmDialog:!1}},props:["notification"],emits:["interacted"],components:{StatusContent:Pa,UserAvatar:xs,UserCard:Yu,Timeago:Ku,Status:Di,Report:Gme,RichContent:Po,UserPopover:hp,UserLink:xu,ConfirmModal:Zo},methods:{toggleStatusExpanded(){this.statusExpanded=!this.statusExpanded},generateUserProfileLink(e){return Jo(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)},getUser(e){return this.$store.state.users.usersObject[e.from_profile.id]},interacted(){this.$emit("interacted")},toggleMute(){this.unmuted=!this.unmuted},showApproveConfirmDialog(){this.showingApproveConfirmDialog=!0},hideApproveConfirmDialog(){this.showingApproveConfirmDialog=!1},showDenyConfirmDialog(){this.showingDenyConfirmDialog=!0},hideDenyConfirmDialog(){this.showingDenyConfirmDialog=!1},approveUser(){this.shouldConfirmApprove?this.showApproveConfirmDialog():this.doApprove()},doApprove(){this.$emit("interacted"),this.$store.state.api.backendInteractor.approveUser({id:this.user.id}),this.$store.dispatch("removeFollowRequest",this.user),this.$store.dispatch("markSingleNotificationAsSeen",{id:this.notification.id}),this.$store.dispatch("updateNotification",{id:this.notification.id,updater:e=>{e.type="follow"}}),this.hideApproveConfirmDialog()},denyUser(){this.shouldConfirmDeny?this.showDenyConfirmDialog():this.doDeny()},doDeny(){this.$emit("interacted"),this.$store.state.api.backendInteractor.denyUser({id:this.user.id}).then(()=>{this.$store.dispatch("dismissNotificationLocal",{id:this.notification.id}),this.$store.dispatch("removeFollowRequest",this.user)}),this.hideDenyConfirmDialog()}},computed:{userClass(){return rh(this.notification.from_profile)},userStyle(){const e=this.$store.getters.mergedConfig.highlight,t=this.notification.from_profile;return oh(e[t.screen_name])},user(){return this.$store.getters.findUser(this.notification.from_profile.id)},userProfileLink(){return this.generateUserProfileLink(this.user)},targetUser(){return this.$store.getters.findUser(this.notification.target.id)},targetUserProfileLink(){return this.generateUserProfileLink(this.targetUser)},needMute(){return this.$store.getters.relationship(this.user.id).muting},isStatusNotification(){return Mu(this.notification.type)},mergedConfig(){return this.$store.getters.mergedConfig},shouldConfirmApprove(){return this.mergedConfig.modalOnApproveFollow},shouldConfirmDeny(){return this.mergedConfig.modalOnDenyFollow},...hn({currentUser:e=>e.users.currentUser})}},xme={key:0},Yme={key:1},Xme={key:0,class:"Notification container -muted"},Jme=["href"],Zme={class:"notification-right"},Qme={class:"notification-details"},ege={class:"name-and-action"},tge={key:0},nge=["title"],sge={key:2},oge={key:3},rge={key:4},ige={key:5},age={key:6},lge={key:7},cge=["src","alt","title"],uge={key:1,class:"emoji-reaction-emoji"},dge={key:8},fge={key:9},hge={key:0,class:"timeago"},pge=["title","aria-expanded"],mge={key:1,class:"timeago"},gge={class:"faint"},vge=["title","aria-expanded"],bge={key:0,class:"follow-text"},_ge={key:0,style:{"white-space":"nowrap"}},yge=["title"],wge=["title"],Sge={key:1,class:"move-text"};function kge(e,t,n,s,o,r){const i=O("Status"),a=O("user-link"),c=O("FAIcon"),d=O("UserAvatar"),f=O("UserPopover"),h=O("RichContent"),v=O("i18n-t"),_=O("Timeago"),S=O("router-link"),k=O("Report"),P=O("StatusContent"),C=O("confirm-modal");return e.notification.type==="mention"||e.notification.type==="status"?(m(),b("article",xme,[A(i,{class:"Notification",compact:!0,statusoid:e.notification.status,onInteracted:e.interacted},null,8,["statusoid","onInteracted"])])):(m(),b("article",Yme,[e.needMute&&!e.unmuted?(m(),b("div",Xme,[g("small",null,[A(a,{user:e.notification.from_profile,at:!1},null,8,["user"])]),g("button",{class:"button-unstyled unmute",onClick:t[0]||(t[0]=Se((...$)=>e.toggleMute&&e.toggleMute(...$),["prevent"]))},[A(c,{class:"fa-scale-110 fa-old-padding",icon:"eye-slash"})])])):(m(),b("div",{key:1,class:he(["Notification non-mention",[e.userClass,{highlighted:e.userStyle},"-type--"+e.notification.type]]),style:gn([e.userStyle])},[g("a",{class:"avatar-container",href:e.$router.resolve(e.userProfileLink).href,onClick:t[1]||(t[1]=Se(()=>{},["prevent"]))},[A(f,{"user-id":e.notification.from_profile.id,"overlay-centers":!0},{default:X(()=>[A(d,{class:"post-avatar",compact:!0,user:e.notification.from_profile},null,8,["user"])]),_:1},8,["user-id"])],8,Jme),g("div",Zme,[g("span",Qme,[g("div",ege,[e.notification.from_profile.name_html?(m(),b("bdi",tge,[A(h,{class:"username",title:"@"+e.notification.from_profile.screen_name_ui,html:e.notification.from_profile.name_html,emoji:e.notification.from_profile.emoji},null,8,["title","html","emoji"])])):(m(),b("span",{key:1,class:"username",title:"@"+e.notification.from_profile.screen_name_ui},w(e.notification.from_profile.name),9,nge)),t[12]||(t[12]=fe(" "+w(" ")+" ")),e.notification.type==="like"?(m(),b("span",sge,[A(c,{class:"type-icon",icon:"star"}),t[6]||(t[6]=fe(" "+w(" ")+" ")),g("small",null,w(e.$t("notifications.favorited_you")),1)])):E("",!0),e.notification.type==="repeat"?(m(),b("span",oge,[A(c,{class:"type-icon",icon:"retweet",title:e.$t("tool_tip.repeat")},null,8,["title"]),t[7]||(t[7]=fe(" "+w(" ")+" ")),g("small",null,w(e.$t("notifications.repeated_you")),1)])):E("",!0),e.notification.type==="follow"?(m(),b("span",rge,[A(c,{class:"type-icon",icon:"user-plus"}),t[8]||(t[8]=fe(" "+w(" ")+" ")),g("small",null,w(e.$t("notifications.followed_you")),1)])):E("",!0),e.notification.type==="follow_request"?(m(),b("span",ige,[A(c,{class:"type-icon",icon:"user"}),t[9]||(t[9]=fe(" "+w(" ")+" ")),g("small",null,w(e.$t("notifications.follow_request")),1)])):E("",!0),e.notification.type==="move"?(m(),b("span",age,[A(c,{class:"type-icon",icon:"suitcase-rolling"}),t[10]||(t[10]=fe(" "+w(" ")+" ")),g("small",null,w(e.$t("notifications.migrated_to")),1)])):E("",!0),e.notification.type==="pleroma:emoji_reaction"?(m(),b("span",lge,[g("small",null,[A(v,{scope:"global",keypath:"notifications.reacted_with"},{default:X(()=>[e.notification.emoji_url?(m(),b("img",{key:0,class:"emoji-reaction-emoji emoji-reaction-emoji-image",src:e.notification.emoji_url,alt:e.notification.emoji,title:e.notification.emoji},null,8,cge)):(m(),b("span",uge,w(e.notification.emoji),1))]),_:1})])])):E("",!0),e.notification.type==="pleroma:report"?(m(),b("span",dge,[g("small",null,w(e.$t("notifications.submitted_report")),1)])):E("",!0),e.notification.type==="poll"?(m(),b("span",fge,[A(c,{class:"type-icon",icon:"poll-h"}),t[11]||(t[11]=fe(" "+w(" ")+" ")),g("small",null,w(e.$t("notifications.poll_ended")),1)])):E("",!0)]),e.isStatusNotification?(m(),b("div",hge,[e.notification.status?(m(),K(S,{key:0,to:{name:"conversation",params:{id:e.notification.status.id}},class:"timeago-link faint"},{default:X(()=>[A(_,{time:e.notification.created_at,"auto-update":240},null,8,["time"])]),_:1},8,["to"])):E("",!0),g("button",{class:"button-unstyled expand-icon",title:e.$t("tool_tip.toggle_expand"),"aria-expanded":e.statusExpanded,onClick:t[2]||(t[2]=Se((...$)=>e.toggleStatusExpanded&&e.toggleStatusExpanded(...$),["prevent"]))},[A(c,{class:"fa-scale-110","fixed-width":"",icon:e.statusExpanded?"compress-alt":"expand-alt"},null,8,["icon"])],8,pge)])):(m(),b("div",mge,[g("span",gge,[A(_,{time:e.notification.created_at,"auto-update":240},null,8,["time"])])])),e.needMute?(m(),b("button",{key:2,class:"button-unstyled",title:e.$t("tool_tip.toggle_mute"),"aria-expanded":!e.unmuted,onClick:t[3]||(t[3]=Se((...$)=>e.toggleMute&&e.toggleMute(...$),["prevent"]))},[A(c,{class:"fa-scale-110 fa-old-padding",icon:"eye-slash"})],8,vge)):E("",!0)]),e.notification.type==="follow"||e.notification.type==="follow_request"?(m(),b("div",bge,[A(a,{class:"follow-name",user:e.notification.from_profile},null,8,["user"]),e.notification.type==="follow_request"?(m(),b("div",_ge,[g("button",{class:"button-unstyled",title:e.$t("tool_tip.accept_follow_request"),onClick:t[4]||(t[4]=$=>e.approveUser())},[A(c,{icon:"check",class:"fa-scale-110 fa-old-padding follow-request-accept"})],8,yge),g("button",{class:"button-unstyled",title:e.$t("tool_tip.reject_follow_request"),onClick:t[5]||(t[5]=$=>e.denyUser())},[A(c,{icon:"times",class:"fa-scale-110 fa-old-padding follow-request-reject"})],8,wge)])):E("",!0)])):e.notification.type==="move"?(m(),b("div",Sge,[A(a,{user:e.notification.target},null,8,["user"])])):e.notification.type==="pleroma:report"?(m(),K(k,{key:2,"report-id":e.notification.report.id},null,8,["report-id"])):(m(),K(P,{key:3,compact:!e.statusExpanded,status:e.notification.status},null,8,["compact","status"]))])],6)),(m(),K(es,{to:"#modal"},[e.showingApproveConfirmDialog?(m(),K(C,{key:0,title:e.$t("user_card.approve_confirm_title"),"confirm-text":e.$t("user_card.approve_confirm_accept_button"),"cancel-text":e.$t("user_card.approve_confirm_cancel_button"),onAccepted:e.doApprove,onCancelled:e.hideApproveConfirmDialog},{default:X(()=>[fe(w(e.$t("user_card.approve_confirm",{user:e.user.screen_name_ui})),1)]),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):E("",!0),e.showingDenyConfirmDialog?(m(),K(C,{key:1,title:e.$t("user_card.deny_confirm_title"),"confirm-text":e.$t("user_card.deny_confirm_accept_button"),"cancel-text":e.$t("user_card.deny_confirm_cancel_button"),onAccepted:e.doDeny,onCancelled:e.hideDenyConfirmDialog},{default:X(()=>[fe(w(e.$t("user_card.deny_confirm",{user:e.user.screen_name_ui})),1)]),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):E("",!0)]))]))}const $ge=be(Kme,[["render",kge]]);et.add(Gh,ju,Bu);const Cge={computed:{shouldShowChats(){return this.mergedConfig.showExtraNotifications&&this.mergedConfig.showChatsInExtraNotifications&&this.unreadChatCount},shouldShowAnnouncements(){return this.mergedConfig.showExtraNotifications&&this.mergedConfig.showAnnouncementsInExtraNotifications&&this.unreadAnnouncementCount},shouldShowFollowRequests(){return this.mergedConfig.showExtraNotifications&&this.mergedConfig.showFollowRequestsInExtraNotifications&&this.followRequestCount},hasAnythingToShow(){return this.shouldShowChats||this.shouldShowAnnouncements||this.shouldShowFollowRequests},shouldShowCustomizationTip(){return this.mergedConfig.showExtraNotificationsTip&&this.hasAnythingToShow},currentUser(){return this.$store.state.users.currentUser},...Zt(["unreadChatCount","followRequestCount","mergedConfig"]),..._n(us,{unreadAnnouncementCount:"unreadAnnouncementCount"})},methods:{openNotificationSettings(){return Qe().openSettingsModalTab("notifications")},dismissConfigurationTip(){return this.$store.dispatch("setOption",{name:"showExtraNotificationsTip",value:!1})}}},Tge={class:"ExtraNotifications"},Age={key:0,class:"notification unseen"},Ege={key:1,class:"notification unseen"},Ige={key:2,class:"notification unseen"};function Pge(e,t,n,s,o,r){const i=O("FAIcon"),a=O("router-link"),c=O("i18n-t");return m(),b("div",Tge,[e.shouldShowChats?(m(),b("div",Age,[t[2]||(t[2]=g("div",{class:"notification-overlay"},null,-1)),A(a,{class:"button-unstyled -link extra-notification",to:{name:"chats",params:{username:e.currentUser.screen_name}}},{default:X(()=>[A(i,{"fixed-width":"",class:"fa-scale-110 icon",icon:"comments"}),fe(" "+w(e.$t("notifications.unread_chats",{num:e.unreadChatCount},e.unreadChatCount)),1)]),_:1},8,["to"])])):E("",!0),e.shouldShowAnnouncements?(m(),b("div",Ege,[t[3]||(t[3]=g("div",{class:"notification-overlay"},null,-1)),A(a,{class:"button-unstyled -link extra-notification",to:{name:"announcements"}},{default:X(()=>[A(i,{"fixed-width":"",class:"fa-scale-110 icon",icon:"bullhorn"}),fe(" "+w(e.$t("notifications.unread_announcements",{num:e.unreadAnnouncementCount},e.unreadAnnouncementCount)),1)]),_:1})])):E("",!0),e.shouldShowFollowRequests?(m(),b("div",Ige,[t[4]||(t[4]=g("div",{class:"notification-overlay"},null,-1)),A(a,{class:"button-unstyled -link extra-notification",to:{name:"friend-requests"}},{default:X(()=>[A(i,{"fixed-width":"",class:"fa-scale-110 icon",icon:"user-plus"}),fe(" "+w(e.$t("notifications.unread_follow_requests",{num:e.followRequestCount},e.followRequestCount)),1)]),_:1})])):E("",!0),e.shouldShowCustomizationTip?(m(),K(c,{key:3,tag:"span",class:"notification tip extra-notification",keypath:"notifications.configuration_tip",scope:"global"},{theSettings:X(()=>[g("button",{class:"button-unstyled -link",onClick:t[0]||(t[0]=(...d)=>e.openNotificationSettings&&e.openNotificationSettings(...d))},w(e.$t("notifications.configuration_tip_settings")),1)]),dismiss:X(()=>[g("button",{class:"button-unstyled -link",onClick:t[1]||(t[1]=(...d)=>e.dismissConfigurationTip&&e.dismissConfigurationTip(...d))},w(e.$t("notifications.configuration_tip_dismiss")),1)]),_:1})):E("",!0)])}const Lge=be(Cge,[["render",Pge]]);et.add(iE);const Oge={components:{Popover:fs},computed:{filters(){return this.$store.getters.mergedConfig.notificationVisibility}},methods:{toggleNotificationFilter(e){this.$store.dispatch("setOption",{name:"notificationVisibility",value:{...this.filters,[e]:!this.filters[e]}})}}},Rge={class:"dropdown-menu"},Mge={class:"menu-item dropdown-item -icon"},Nge={class:"menu-item dropdown-item -icon"},Fge={class:"menu-item dropdown-item -icon"},Dge={class:"menu-item dropdown-item -icon"},Uge={class:"menu-item dropdown-item -icon"},jge={class:"menu-item dropdown-item -icon"},Bge={class:"menu-item dropdown-item -icon"},zge={class:"menu-item dropdown-item -icon"},qge={class:"filter-trigger-button button-unstyled"};function Hge(e,t,n,s,o,r){const i=O("FAIcon"),a=O("Popover");return m(),K(a,{trigger:"click",class:"NotificationFilters",placement:"bottom","bound-to":{x:"container"}},{content:X(()=>[g("div",Rge,[g("div",Mge,[g("button",{class:"main-button",onClick:t[0]||(t[0]=c=>r.toggleNotificationFilter("likes"))},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":r.filters.likes}])},null,2),fe(w(e.$t("settings.notification_visibility_likes")),1)])]),g("div",Nge,[g("button",{class:"main-button",onClick:t[1]||(t[1]=c=>r.toggleNotificationFilter("repeats"))},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":r.filters.repeats}])},null,2),fe(w(e.$t("settings.notification_visibility_repeats")),1)])]),g("div",Fge,[g("button",{class:"main-button",onClick:t[2]||(t[2]=c=>r.toggleNotificationFilter("follows"))},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":r.filters.follows}])},null,2),fe(w(e.$t("settings.notification_visibility_follows")),1)])]),g("div",Dge,[g("button",{class:"main-button",onClick:t[3]||(t[3]=c=>r.toggleNotificationFilter("mentions"))},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":r.filters.mentions}])},null,2),fe(w(e.$t("settings.notification_visibility_mentions")),1)])]),g("div",Uge,[g("button",{class:"main-button",onClick:t[4]||(t[4]=c=>r.toggleNotificationFilter("statuses"))},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":r.filters.statuses}])},null,2),fe(w(e.$t("settings.notification_visibility_statuses")),1)])]),g("div",jge,[g("button",{class:"main-button",onClick:t[5]||(t[5]=c=>r.toggleNotificationFilter("emojiReactions"))},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":r.filters.emojiReactions}])},null,2),fe(w(e.$t("settings.notification_visibility_emoji_reactions")),1)])]),g("div",Bge,[g("button",{class:"main-button",onClick:t[6]||(t[6]=c=>r.toggleNotificationFilter("moves"))},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":r.filters.moves}])},null,2),fe(w(e.$t("settings.notification_visibility_moves")),1)])]),g("div",zge,[g("button",{class:"main-button",onClick:t[7]||(t[7]=c=>r.toggleNotificationFilter("polls"))},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":r.filters.polls}])},null,2),fe(w(e.$t("settings.notification_visibility_polls")),1)])])])]),trigger:X(()=>[g("button",qge,[A(i,{icon:"filter"})])]),_:1})}const Vge=be(Oge,[["render",Hge]]);et.add(mo,L_,qu);const bC=30,Wge={components:{Notification:$ge,NotificationFilters:Vge,ExtraNotifications:Lge},props:{minimalMode:Boolean,filterMode:Array,noExtra:{type:Boolean,default:!1},disableTeleport:Boolean},data(){return{showScrollTop:!1,bottomedOut:!1,seenToDisplayCount:bC}},provide(){return{popoversZLayer:vt(()=>this.popoversZLayer)}},computed:{mainClass(){return this.minimalMode?"":"panel panel-default"},notifications(){return K0(this.$store)},error(){return this.$store.state.notifications.error},unseenNotifications(){return x0(this.$store)},filteredNotifications(){return this.unseenAtTop?[...gf(this.$store).filter(e=>this.shouldShowUnseen(e)),...gf(this.$store).filter(e=>!this.shouldShowUnseen(e))]:gf(this.$store,this.filterMode)},unseenCountBadgeText(){return`${this.unseenCount?this.unseenCount:""}${this.extraNotificationsCount?"*":""}`},unseenCount(){return this.unseenNotifications.length},ignoreInactionableSeen(){return this.$store.getters.mergedConfig.ignoreInactionableSeen},extraNotificationsCount(){return P6(this.$store)},unseenCountTitle(){return this.unseenNotifications.length+this.unreadChatCount+this.unreadAnnouncementCount},loading(){return this.$store.state.notifications.loading},noHeading(){const{layoutType:e}=Qe();return this.minimalMode||e==="mobile"},teleportTarget(){const{layoutType:e}=Qe();return{wide:"#notifs-column",mobile:"#mobile-notifications"}[e]||"#notifs-sidebar"},popoversZLayer(){const{layoutType:e}=Qe();return e==="mobile"?"navbar":null},notificationsToDisplay(){return this.filteredNotifications.slice(0,this.unseenCount+this.seenToDisplayCount)},noSticky(){return this.$store.getters.mergedConfig.disableStickyHeaders},unseenAtTop(){return this.$store.getters.mergedConfig.unseenAtTop},showExtraNotifications(){return!this.noExtra},..._n(us,["unreadAnnouncementCount"]),...Zt(["unreadChatCount"])},mounted(){this.scrollerRef=this.$refs.root.closest(".column.-scrollable"),this.scrollerRef||(this.scrollerRef=this.$refs.root.closest(".mobile-notifications")),this.scrollerRef||(this.scrollerRef=this.$refs.root.closest(".column.main")),this.scrollerRef.addEventListener("scroll",this.updateScrollPosition)},unmounted(){this.scrollerRef&&this.scrollerRef.removeEventListener("scroll",this.updateScrollPosition)},watch:{unseenCountTitle(e){e>0?(jf.drawFaviconBadge(),Qe().setPageTitle(`(${e})`)):(jf.clearFaviconBadge(),Qe().setPageTitle(""))},teleportTarget(){this.$nextTick(()=>{this.scrollerRef.removeEventListener("scroll",this.updateScrollPosition),this.scrollerRef=this.$refs.root.closest(".column.-scrollable"),this.scrollerRef||(this.scrollerRef=this.$refs.root.closest(".mobile-notifications")),this.scrollerRef.addEventListener("scroll",this.updateScrollPosition),this.updateScrollPosition()})}},methods:{scrollToTop(){this.scrollerRef.scrollTo({top:this.$refs.root.offsetTop})},updateScrollPosition(){this.showScrollTop=this.$refs.root.offsetTop<this.scrollerRef.scrollTop},shouldShowUnseen(e){if(e.seen)return!1;const t=E6.has(e.type);return this.ignoreInactionableSeen?t:!0},notificationClicked(e){const{id:t}=e;this.$store.dispatch("notificationClicked",{id:t})},notificationInteracted(e){const{id:t}=e;this.$store.dispatch("markSingleNotificationAsSeen",{id:t})},markAsSeen(){this.$store.dispatch("markNotificationsAsSeen"),this.seenToDisplayCount=bC},fetchOlderNotifications(){if(this.loading)return;const e=this.filteredNotifications.length-this.unseenCount;if(this.seenToDisplayCount<e){this.seenToDisplayCount=Math.min(this.seenToDisplayCount+20,e);return}else this.seenToDisplayCount>e&&(this.seenToDisplayCount=e);const t=this.$store,n=t.state.users.currentUser.credentials;t.commit("setNotificationsLoading",{value:!0}),Kb.fetchAndUpdate({store:t,credentials:n,older:!0}).then(s=>{t.commit("setNotificationsLoading",{value:!1}),s.length===0&&(this.bottomedOut=!0),this.seenToDisplayCount+=s.length})}}},Gge={key:0,class:"notifications-heading panel-heading -sticky"},Kge={class:"title"},xge={key:0,class:"badge -notification unseen-count"},Yge={key:0,class:"rightside-button"},Xge=["title"],Jge={class:"panel-body",role:"feed"},Zge={key:0,role:"listitem",class:"notification"},Qge=["onClick"],e1e={class:"panel-footer"},t1e={key:0,class:"new-status-notification text-center faint"},n1e={class:"new-status-notification text-center"},s1e={key:2,class:"new-status-notification text-center"};function o1e(e,t,n,s,o,r){const i=O("FAIcon"),a=O("FALayers"),c=O("NotificationFilters"),d=O("extra-notifications"),f=O("notification");return m(),K(es,{disabled:e.minimalMode||e.disableTeleport,to:e.teleportTarget},[(m(),K(va(e.noHeading?"div":"aside"),{ref:"root",class:he([{minimal:e.minimalMode},"Notifications"])},{default:X(()=>[g("div",{class:he(e.mainClass)},[e.noHeading?E("",!0):(m(),b("div",Gge,[g("h1",Kge,[fe(w(e.$t("notifications.notifications"))+" ",1),e.unseenCountBadgeText?(m(),b("span",xge,w(e.unseenCountBadgeText),1)):E("",!0)]),e.showScrollTop?(m(),b("div",Yge,[g("button",{class:"button-unstyled scroll-to-top-button",type:"button",title:e.$t("general.scroll_to_top"),onClick:t[0]||(t[0]=(...h)=>e.scrollToTop&&e.scrollToTop(...h))},[A(a,{class:"fa-scale-110 fa-old-padding-layer"},{default:X(()=>[A(i,{icon:"arrow-up"}),A(i,{icon:"minus",transform:"up-7"})]),_:1})],8,Xge)])):E("",!0),e.unseenCount?(m(),b("button",{key:1,class:"button-default read-button",type:"button",onClick:t[1]||(t[1]=Se((...h)=>e.markAsSeen&&e.markAsSeen(...h),["prevent"]))},w(e.$t("notifications.read")),1)):E("",!0),A(c,{class:"rightside-button"})])),g("div",Jge,[e.showExtraNotifications?(m(),b("div",Zge,[A(d)])):E("",!0),(m(!0),b(Te,null,Ke(e.notificationsToDisplay,h=>(m(),b("div",{key:h.id,role:"listitem",class:he(["notification",{unseen:!e.minimalMode&&e.shouldShowUnseen(h)}]),onClick:v=>e.notificationClicked(h)},[t[3]||(t[3]=g("div",{class:"notification-overlay"},null,-1)),A(f,{notification:h,onInteracted:v=>e.notificationInteracted(h)},null,8,["notification","onInteracted"])],10,Qge))),128))]),g("div",e1e,[e.bottomedOut?(m(),b("div",t1e,w(e.$t("notifications.no_more_notifications")),1)):e.loading?(m(),b("div",s1e,[A(i,{icon:"circle-notch",spin:"",size:"lg"})])):(m(),b("button",{key:1,class:"button-unstyled -link text-center",onClick:t[2]||(t[2]=Se(h=>e.fetchOlderNotifications(),["prevent"]))},[g("div",n1e,w(e.minimalMode?e.$t("interactions.load_older"):e.$t("notifications.load_older")),1)]))])],2)]),_:1},8,["class"]))],8,["disabled","to"])}const pp=be(Wge,[["render",o1e]]),r1e=Object.freeze(Object.defineProperty({__proto__:null,default:pp},Symbol.toStringTag,{value:"Module"}));et.add(Yn,Bl,tE,L_,qu,Jx);const i1e={components:{SideDrawer:P5,Notifications:pp,NavigationPins:S5,ConfirmModal:Zo},data:()=>({notificationsCloseGesture:void 0,notificationsOpen:!1,notificationsAtTop:!0,showingConfirmLogout:!1}),created(){this.notificationsCloseGesture=Ko.swipeGesture(Ko.DIRECTION_RIGHT,()=>this.closeMobileNotifications(!0),50)},computed:{currentUser(){return this.$store.state.users.currentUser},unseenNotifications(){return x0(this.$store)},unseenNotificationsCount(){return this.unseenNotifications.length+P6(this.$store)},unseenCount(){return this.unseenNotifications.length},unseenCountBadgeText(){return`${this.unseenCount?this.unseenCount:""}`},hideSitename(){return this.$store.state.instance.hideSitename},sitename(){return this.$store.state.instance.name},isChat(){return this.$route.name==="chat"},..._n(us,["unreadAnnouncementCount"]),..._n(bn,{pinnedItems:e=>new Set(e.prefsStorage.collections.pinnedNavItems).has("chats")}),shouldConfirmLogout(){return this.$store.getters.mergedConfig.modalOnLogout},closingDrawerMarksAsSeen(){return this.$store.getters.mergedConfig.closingDrawerMarksAsSeen},...Zt(["unreadChatCount"])},methods:{toggleMobileSidebar(){this.$refs.sideDrawer.toggleDrawer()},openMobileNotifications(){this.notificationsOpen=!0},closeMobileNotifications(e){this.notificationsOpen&&(this.notificationsOpen=!1,e&&this.closingDrawerMarksAsSeen&&this.markNotificationsAsSeen())},notificationsTouchStart(e){Ko.beginSwipe(e,this.notificationsCloseGesture)},notificationsTouchMove(e){Ko.updateSwipe(e,this.notificationsCloseGesture)},scrollToTop(){window.scrollTo(0,0)},scrollMobileNotificationsToTop(){this.$refs.mobileNotifications.scrollTo(0,0)},showConfirmLogout(){this.showingConfirmLogout=!0},hideConfirmLogout(){this.showingConfirmLogout=!1},logout(){this.shouldConfirmLogout?this.showConfirmLogout():this.doLogout()},doLogout(){this.$router.replace("/main/public"),this.$store.dispatch("logout"),this.hideConfirmLogout()},markNotificationsAsSeen(){this.$store.dispatch("markNotificationsAsSeen")},onScroll({target:{scrollTop:e,clientHeight:t,scrollHeight:n}}){this.notificationsAtTop=e>0,e+t>=n&&this.$refs.notifications.fetchOlderNotifications()}},watch:{$route(){this.closeMobileNotifications()}}},a1e={class:"MobileNav"},l1e={class:"item"},c1e=["title","aria-expanaded"],u1e={key:0,class:"badge -dot -notification"},d1e={class:"item right"},f1e=["title"],h1e={key:0,class:"badge -dot -notification"},p1e={class:"panel-heading mobile-notifications-header"},m1e={class:"title"},g1e={key:0,class:"badge -notification unseen-count"},v1e=["title"],b1e=["title"],_1e=["title"];function y1e(e,t,n,s,o,r){const i=O("FAIcon"),a=O("NavigationPins"),c=O("FALayers"),d=O("SideDrawer"),f=O("confirm-modal");return m(),b("div",a1e,[g("nav",{id:"nav",class:"mobile-nav",onClick:t[2]||(t[2]=h=>e.scrollToTop())},[g("div",l1e,[g("button",{class:"button-unstyled mobile-nav-button",title:e.$t("nav.mobile_sidebar"),"aria-expanaded":e.$refs.sideDrawer&&!e.$refs.sideDrawer.closed,onClick:t[0]||(t[0]=Se(h=>e.toggleMobileSidebar(),["stop","prevent"]))},[A(i,{class:"fa-scale-110 fa-old-padding",icon:"bars"}),e.unreadChatCount&&!e.chatsPinned||e.unreadAnnouncementCount?(m(),b("div",u1e)):E("",!0)],8,c1e),A(a,{class:"pins"})]),t[9]||(t[9]=fe()),g("div",d1e,[e.currentUser?(m(),b("button",{key:0,class:"button-unstyled mobile-nav-button",title:e.unseenNotificationsCount?e.$t("nav.mobile_notifications_unread_active"):e.$t("nav.mobile_notifications"),onClick:t[1]||(t[1]=Se(h=>e.openMobileNotifications(),["stop","prevent"]))},[A(i,{class:"fa-scale-110 fa-old-padding",icon:"bell"}),e.unseenNotificationsCount?(m(),b("div",h1e)):E("",!0)],8,f1e)):E("",!0)])]),e.currentUser?(m(),b("aside",{key:0,class:he(["mobile-notifications-drawer mobile-drawer",{"-closed":!e.notificationsOpen}]),onTouchstart:t[7]||(t[7]=Se((...h)=>e.notificationsTouchStart&&e.notificationsTouchStart(...h),["stop"])),onTouchmove:t[8]||(t[8]=Se((...h)=>e.notificationsTouchMove&&e.notificationsTouchMove(...h),["stop"]))},[g("div",p1e,[g("h1",m1e,[fe(w(e.$t("notifications.notifications"))+" ",1),e.unseenCountBadgeText?(m(),b("span",g1e,w(e.unseenCountBadgeText),1)):E("",!0)]),t[10]||(t[10]=g("span",{class:"spacer"},null,-1)),e.notificationsAtTop?(m(),b("button",{key:0,class:"button-unstyled mobile-nav-button",title:e.$t("general.scroll_to_top"),onClick:t[3]||(t[3]=Se((...h)=>e.scrollMobileNotificationsToTop&&e.scrollMobileNotificationsToTop(...h),["stop","prevent"]))},[A(c,{class:"fa-scale-110 fa-old-padding-layer"},{default:X(()=>[A(i,{icon:"arrow-up"}),A(i,{icon:"minus",transform:"up-7"})]),_:1})],8,v1e)):E("",!0),e.closingDrawerMarksAsSeen?E("",!0):(m(),b("button",{key:1,class:"button-unstyled mobile-nav-button",title:e.$t("nav.mobile_notifications_mark_as_seen"),onClick:t[4]||(t[4]=Se(h=>e.markNotificationsAsSeen(),["stop","prevent"]))},[A(i,{class:"fa-scale-110 fa-old-padding",icon:"check-double"})],8,b1e)),g("button",{class:"button-unstyled mobile-nav-button",title:e.$t("nav.mobile_notifications_close"),onClick:t[5]||(t[5]=Se(h=>e.closeMobileNotifications(!0),["stop","prevent"]))},[A(i,{class:"fa-scale-110 fa-old-padding",icon:"times"})],8,_1e)]),g("div",{id:"mobile-notifications",ref:"mobileNotifications",class:"mobile-notifications",onScroll:t[6]||(t[6]=(...h)=>e.onScroll&&e.onScroll(...h))},null,544)],34)):E("",!0),A(d,{ref:"sideDrawer",logout:e.logout},null,8,["logout"]),(m(),K(es,{to:"#modal"},[e.showingConfirmLogout?(m(),K(f,{key:0,title:e.$t("login.logout_confirm_title"),"confirm-text":e.$t("login.logout_confirm_accept_button"),"cancel-text":e.$t("login.logout_confirm_cancel_button"),onAccepted:e.doLogout,onCancelled:e.hideConfirmLogout},{default:X(()=>[fe(w(e.$t("login.logout_confirm")),1)]),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):E("",!0)]))])}const w1e=be(i1e,[["render",y1e]]);et.add(Yn,$a);const S1e={data:()=>({searchTerm:void 0,hidden:!0,error:!1}),watch:{$route:function(e){e.name==="search"&&(this.searchTerm=e.query.query)}},methods:{find(e){this.$router.push({name:"search",query:{query:e}}),this.$refs.searchInput.focus()},toggleHidden(){this.hidden=!this.hidden,this.$emit("toggled",this.hidden),this.$nextTick(()=>{this.hidden||this.$refs.searchInput.focus()})}}},k1e=["title","aria-expanded"],$1e=["placeholder"],C1e=["title"],T1e=["title","aria-expanded"];function A1e(e,t,n,s,o,r){const i=O("FAIcon");return m(),b("div",{class:he(["SearchBar",{"-expanded":!e.hidden}])},[e.hidden?(m(),b("button",{key:0,class:"button-unstyled nav-icon",title:e.$t("nav.search"),type:"button","aria-expanded":!e.hidden,onClick:t[0]||(t[0]=Se((...a)=>e.toggleHidden&&e.toggleHidden(...a),["prevent","stop"]))},[A(i,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"search"})],8,k1e)):(m(),b(Te,{key:1},[ot(g("input",{id:"search-bar-input",ref:"searchInput","onUpdate:modelValue":t[1]||(t[1]=a=>e.searchTerm=a),class:"input search-bar-input",placeholder:e.$t("nav.search"),type:"text",onKeyup:t[2]||(t[2]=Ir(a=>e.find(e.searchTerm),["enter"]))},null,40,$1e),[[Mt,e.searchTerm]]),g("button",{class:"button-default search-button",type:"submit",title:e.$t("nav.search"),onClick:t[3]||(t[3]=a=>e.find(e.searchTerm))},[A(i,{"fixed-width":"",icon:"search"})],8,C1e),g("button",{class:"button-unstyled cancel-search",type:"button",title:e.$t("nav.search_close"),"aria-expanded":!e.hidden,onClick:t[4]||(t[4]=Se((...a)=>e.toggleHidden&&e.toggleHidden(...a),["prevent","stop"]))},[A(i,{"fixed-width":"",icon:"times",class:"cancel-icon fa-scale-110 fa-old-padding"})],8,T1e),t[5]||(t[5]=g("span",{class:"spacer"},null,-1)),t[6]||(t[6]=g("span",{class:"spacer"},null,-1))],64))],2)}const E1e=be(S1e,[["render",A1e]]);et.add(oE,ZA,dE,ju,Bl,Gh,Bu,$a,pE,I_,Wh);const I1e={components:{SearchBar:E1e,ConfirmModal:Zo},data:()=>({searchBarHidden:!0,supportsMask:window.CSS&&window.CSS.supports&&(window.CSS.supports("mask-size","contain")||window.CSS.supports("-webkit-mask-size","contain")||window.CSS.supports("-moz-mask-size","contain")||window.CSS.supports("-ms-mask-size","contain")||window.CSS.supports("-o-mask-size","contain")),showingConfirmLogout:!1}),computed:{enableMask(){return this.supportsMask&&this.$store.state.instance.logoMask},logoStyle(){return{visibility:this.enableMask?"hidden":"visible"}},logoMaskStyle(){return this.enableMask?{"mask-image":`url(${this.$store.state.instance.logo})`}:{"background-color":this.enableMask?"":"transparent"}},logoBgStyle(){return Object.assign({margin:`${this.$store.state.instance.logoMargin} 0`,opacity:this.searchBarHidden?1:0},this.enableMask?{}:{"background-color":this.enableMask?"":"transparent"})},logo(){return this.$store.state.instance.logo},sitename(){return this.$store.state.instance.name},hideSitename(){return this.$store.state.instance.hideSitename},logoLeft(){return this.$store.state.instance.logoLeft},currentUser(){return this.$store.state.users.currentUser},privateMode(){return this.$store.state.instance.private},shouldConfirmLogout(){return this.$store.getters.mergedConfig.modalOnLogout}},methods:{scrollToTop(){window.scrollTo(0,0)},showConfirmLogout(){this.showingConfirmLogout=!0},hideConfirmLogout(){this.showingConfirmLogout=!1},logout(){this.shouldConfirmLogout?this.showConfirmLogout():this.doLogout()},doLogout(){this.$router.replace("/main/public"),this.$store.dispatch("logout"),this.hideConfirmLogout()},onSearchBarToggled(e){this.searchBarHidden=e},openSettingsModal(){Qe().openSettingsModal("user")},openAdminModal(){Qe().openSettingsModal("admin")}}},P1e={class:"inner-nav"},L1e={class:"item sitename"},O1e=["src"],R1e={class:"item right actions"},M1e=["title"],N1e=["title"],F1e=["title"];function D1e(e,t,n,s,o,r){const i=O("router-link"),a=O("search-bar"),c=O("FAIcon"),d=O("confirm-modal");return m(),b("nav",{id:"nav",class:he(["DesktopNav",{"-logoLeft":e.logoLeft}]),onClick:t[4]||(t[4]=f=>e.scrollToTop())},[g("div",P1e,[g("div",L1e,[e.hideSitename?E("",!0):(m(),K(i,{key:0,class:"site-name",to:{name:"root"},"active-class":"home"},{default:X(()=>[fe(w(e.sitename),1)]),_:1}))]),A(i,{class:"logo",to:{name:"root"},style:gn(e.logoBgStyle),title:e.sitename},{default:X(()=>[g("div",{class:"mask",style:gn(e.logoMaskStyle)},null,4),g("img",{src:e.logo,style:gn(e.logoStyle)},null,12,O1e)]),_:1},8,["style","title"]),g("div",R1e,[e.currentUser||!e.privateMode?(m(),K(a,{key:0,onToggled:e.onSearchBarToggled,onClick:t[0]||(t[0]=Se(()=>{},["stop"]))},null,8,["onToggled"])):E("",!0),g("button",{class:"button-unstyled nav-icon",title:e.$t("nav.preferences"),onClick:t[1]||(t[1]=Se((...f)=>e.openSettingsModal&&e.openSettingsModal(...f),["stop"]))},[A(c,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"cog"})],8,M1e),e.currentUser&&e.currentUser.role==="admin"?(m(),b("button",{key:1,class:"button-unstyled nav-icon",target:"_blank",title:e.$t("nav.administration"),onClick:t[2]||(t[2]=Se((...f)=>e.openAdminModal&&e.openAdminModal(...f),["stop"]))},[A(c,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"tachometer-alt"})],8,N1e)):E("",!0),t[5]||(t[5]=g("span",{class:"spacer"},null,-1)),e.currentUser?(m(),b("button",{key:2,class:"button-unstyled nav-icon",title:e.$t("login.logout"),onClick:t[3]||(t[3]=Se((...f)=>e.logout&&e.logout(...f),["stop","prevent"]))},[A(c,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"sign-out-alt"})],8,F1e)):E("",!0)])]),(m(),K(es,{to:"#modal"},[e.showingConfirmLogout?(m(),K(d,{key:0,title:e.$t("login.logout_confirm_title"),"confirm-text":e.$t("login.logout_confirm_accept_button"),"cancel-text":e.$t("login.logout_confirm_cancel_button"),onAccepted:e.doLogout,onCancelled:e.hideConfirmLogout},{default:X(()=>[fe(w(e.$t("login.logout_confirm")),1)]),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):E("",!0)]))],2)}const U1e=be(I1e,[["render",D1e]]),j1e={props:{items:{type:Array,default:()=>[]},getKey:{type:Function,default:e=>e.id},getClass:{type:Function,default:()=>""},nonInteractive:{type:Boolean,default:!1}}},B1e={class:"list",role:"list"},z1e={key:0,class:"list-empty-content faint"};function q1e(e,t,n,s,o,r){return m(),b("div",B1e,[(m(!0),b(Te,null,Ke(n.items,i=>(m(),b("div",{key:n.getKey(i),class:he(["list-item",[n.getClass(i),n.nonInteractive?"-non-interactive":""]]),role:"listitem"},[Ft(e.$slots,"item",{item:i})],2))),128)),n.items.length===0&&e.$slots.empty?(m(),b("div",z1e,[Ft(e.$slots,"empty")])):E("",!0)])}const Xu=be(j1e,[["render",q1e]]),H1e={components:{Status:Di,List:Xu,Checkbox:Ia,Modal:Fu,UserLink:xu},data(){return{comment:"",forward:!1,statusIdsToReport:[],processing:!1,error:!1}},computed:{reportModal(){return Ei().reportModal},isLoggedIn(){return!!this.$store.state.users.currentUser},isOpen(){return this.isLoggedIn&&this.reportModal.activated},userId(){return this.reportModal.userId},user(){return this.$store.getters.findUser(this.userId)},remoteInstance(){return!this.user.is_local&&this.user.screen_name.substr(this.user.screen_name.indexOf("@")+1)},statuses(){return this.reportModal.statuses},preTickedIds(){return this.reportModal.preTickedIds}},watch:{userId:"resetState",preTickedIds(e){this.statusIdsToReport=e}},methods:{resetState(){this.comment="",this.forward=!1,this.statusIdsToReport=this.preTickedIds,this.processing=!1,this.error=!1},closeModal(){Ei().closeUserReportingModal()},reportUser(){this.processing=!0,this.error=!1;const e={userId:this.userId,comment:this.comment,forward:this.forward,statusIds:this.statusIdsToReport};this.$store.state.api.backendInteractor.reportUser({...e}).then(()=>{this.processing=!1,this.resetState(),this.closeModal()}).catch(()=>{this.processing=!1,this.error=!0})},clearError(){this.error=!1},isChecked(e){return this.statusIdsToReport.indexOf(e)!==-1},toggleStatus(e,t){e!==this.isChecked(t)&&(e?this.statusIdsToReport.push(t):this.statusIdsToReport.splice(this.statusIdsToReport.indexOf(t),1))},resize(e){const t=e.target||e;t instanceof window.Element&&(t.style.height="auto",t.style.height=`${t.scrollHeight}px`,t.value===""&&(t.style.height=null))}}},V1e={class:"user-reporting-panel panel"},W1e={class:"panel-heading"},G1e={class:"panel-body"},K1e={class:"user-reporting-panel-left"},x1e=["placeholder"],Y1e={key:0},X1e=["disabled"],J1e={key:0,class:"alert error"},Z1e={class:"user-reporting-panel-right"},Q1e={class:"status-fadein user-reporting-panel-sitem"};function eve(e,t,n,s,o,r){const i=O("UserLink"),a=O("i18n-t"),c=O("Checkbox"),d=O("Status"),f=O("List"),h=O("Modal");return e.isOpen?(m(),K(h,{key:0,onBackdropClicked:e.closeModal},{default:X(()=>[g("div",V1e,[g("div",W1e,[A(a,{tag:"h1",keypath:"user_reporting.title",class:"title"},{default:X(()=>[A(i,{user:e.user},null,8,["user"])]),_:1})]),g("div",G1e,[g("div",K1e,[g("div",null,[g("p",null,w(e.$t("user_reporting.add_comment_description")),1),ot(g("textarea",{"onUpdate:modelValue":t[0]||(t[0]=v=>e.comment=v),class:"input form-control",placeholder:e.$t("user_reporting.additional_comments"),rows:"1",onInput:t[1]||(t[1]=(...v)=>e.resize&&e.resize(...v))},null,40,x1e),[[Mt,e.comment]])]),e.user.is_local?E("",!0):(m(),b("div",Y1e,[g("p",null,w(e.$t("user_reporting.forward_description")),1),A(c,{modelValue:e.forward,"onUpdate:modelValue":t[2]||(t[2]=v=>e.forward=v)},{default:X(()=>[fe(w(e.$t("user_reporting.forward_to",[e.remoteInstance])),1)]),_:1},8,["modelValue"])])),g("div",null,[g("button",{class:"btn button-default",disabled:e.processing,onClick:t[3]||(t[3]=(...v)=>e.reportUser&&e.reportUser(...v))},w(e.$t("user_reporting.submit")),9,X1e),e.error?(m(),b("div",J1e,w(e.$t("user_reporting.generic_error")),1)):E("",!0)])]),g("div",Z1e,[A(f,{items:e.statuses},{item:X(({item:v})=>[g("div",Q1e,[A(d,{"in-conversation":!1,focused:!1,statusoid:v},null,8,["statusoid"]),A(c,{"model-value":e.isChecked(v.id),"onUpdate:modelValue":_=>e.toggleStatus(_,v.id)},null,8,["model-value","onUpdate:modelValue"])])]),_:1},8,["items"])])])])]),_:1},8,["onBackdropClicked"])):E("",!0)}const tve=be(H1e,[["render",eve]]),nve={components:{PostStatusForm:ql},props:{params:{type:Object,required:!0}},methods:{requestClose(){this.$refs.postStatusForm.requestClose()},doEditStatus({status:e,spoilerText:t,sensitive:n,media:s,contentType:o,poll:r}){const i={store:this.$store,statusId:this.params.statusId,status:e,spoilerText:t,sensitive:n,poll:r,media:s,contentType:o};return uu.editStatus(i).then(a=>a).catch(a=>(console.error("Error editing status",a),{error:a.message}))}}};function sve(e,t,n,s,o,r){const i=O("PostStatusForm");return m(),K(i,xn({ref:"postStatusForm"},e.params,{"post-handler":e.doEditStatus,"disable-polls":!0,"disable-visibility-selector":!0}),null,16,["post-handler"])}const R5=be(nve,[["render",sve]]);var ove=GE();const Ii=Gs(ove),rve={components:{EditStatusForm:R5,Modal:Fu},data(){return{resettingForm:!1}},computed:{isLoggedIn(){return!!this.$store.state.users.currentUser},modalActivated(){return iu().modalActivated},isFormVisible(){return this.isLoggedIn&&!this.resettingForm&&this.modalActivated},params(){return iu().params||{}}},watch:{params(e,t){Ii(e,"statusId")!==Ii(t,"statusId")&&(this.resettingForm=!0,this.$nextTick(()=>{this.resettingForm=!1}))},isFormVisible(e){e&&this.$nextTick(()=>this.$el&&this.$el.querySelector("textarea").focus())}},methods:{closeModal(){this.$refs.editStatusForm.requestClose()},doCloseModal(){iu().closeEditStatusModal()}}},ive={class:"edit-form-modal-panel panel"},ave={class:"panel-heading"},lve={class:"title"};function cve(e,t,n,s,o,r){const i=O("EditStatusForm"),a=O("Modal");return e.isFormVisible?(m(),K(a,{key:0,class:"edit-form-modal-view",onBackdropClicked:e.closeModal},{default:X(()=>[g("div",ive,[g("div",ave,[g("h1",lve,w(e.$t("post_status.edit_status")),1)]),A(i,{ref:"editStatusForm",class:"panel-body",params:e.params,onPosted:e.doCloseModal,onDraftDone:e.doCloseModal,onCanClose:e.doCloseModal},null,8,["params","onPosted","onDraftDone","onCanClose"])])]),_:1},8,["onBackdropClicked"])):E("",!0)}const uve=be(rve,[["render",cve]]),dve={components:{PostStatusForm:ql,Modal:Fu},data(){return{resettingForm:!1}},computed:{isLoggedIn(){return!!this.$store.state.users.currentUser},modalActivated(){return hi().modalActivated},isFormVisible(){return this.isLoggedIn&&!this.resettingForm&&this.modalActivated},params(){return hi().params||{}}},watch:{params(e,t){Ii(e,"repliedUser.id")!==Ii(t,"repliedUser.id")&&(this.resettingForm=!0,this.$nextTick(()=>{this.resettingForm=!1}))},isFormVisible(e){e&&this.$nextTick(()=>this.$el&&this.$el.querySelector("textarea").focus())}},methods:{closeModal(){hi().closePostStatusModal()},resetAndClose(){hi().resetPostStatusModal(),hi().closePostStatusModal()}}},fve={class:"post-form-modal-panel panel"},hve={class:"panel-heading"},pve={class:"title"};function mve(e,t,n,s,o,r){const i=O("PostStatusForm"),a=O("Modal");return e.isLoggedIn&&!e.resettingForm?(m(),K(a,{key:0,"is-open":e.modalActivated,class:"post-form-modal-view",onBackdropClicked:e.closeModal},{default:X(()=>[g("div",fve,[g("div",hve,[g("h1",pve,w(e.$t("post_status.new_status")),1)]),A(i,xn({class:"panel-body"},e.params,{closeable:!0,onPosted:e.resetAndClose,onDraftDone:e.resetAndClose}),null,16,["onPosted","onDraftDone"])])]),_:1},8,["is-open","onBackdropClicked"])):E("",!0)}const gve=be(dve,[["render",mve]]),vve={components:{Modal:Fu,Status:Di},data(){return{statuses:[]}},computed:{modalActivated(){return au().modalActivated},params(){return au().params},statusId(){return this.params.id},historyCount(){return this.statuses.length},history(){return this.statuses}},watch:{params(e,t){const n=Z.get(e,"id")!==Z.get(t,"id");n&&this.resetHistory(),(n||Z.get(e,"edited_at")!==Z.get(t,"edited_at"))&&this.fetchStatusHistory()}},methods:{resetHistory(){this.statuses=[]},fetchStatusHistory(){this.$store.dispatch("fetchStatusHistory",this.params).then(e=>{this.statuses=e})},closeModal(){au().closeStatusHistoryModal()}}},bve={class:"status-history-modal-panel panel"},_ve={class:"panel-heading"},yve={class:"title"},wve={class:"panel-body"},Sve={key:0,class:"history-body"};function kve(e,t,n,s,o,r){const i=O("status"),a=O("Modal");return e.modalActivated?(m(),K(a,{key:0,class:"status-history-modal-view",onBackdropClicked:e.closeModal},{default:X(()=>[g("div",bve,[g("div",_ve,[g("h1",yve,w(e.$t("status.status_history"))+" ("+w(e.historyCount)+") ",1)]),g("div",wve,[e.historyCount>0?(m(),b("div",Sve,[(m(!0),b(Te,null,Ke(e.history,c=>(m(),K(i,{key:c.id,statusoid:c,"is-preview":!0,class:"conversation-status status-fadein panel-body"},null,8,["statusoid"]))),128))])):E("",!0)])])]),_:1},8,["onBackdropClicked"])):E("",!0)}const $ve=be(vve,[["render",kve]]);et.add(Yn);const Cve={computed:{notices(){return Qe().globalNotices}},methods:{closeNotice(e){Qe().removeGlobalNotice(e)}}},Tve={class:"global-notice-list"},Ave={class:"notice-message"},Eve=["onClick"];function Ive(e,t,n,s,o,r){const i=O("FAIcon");return m(),b("div",Tve,[(m(!0),b(Te,null,Ke(e.notices,(a,c)=>(m(),b("div",{key:c,class:he(["alert global-notice",{[a.level]:!0}])},[g("div",Ave,w(e.$t(a.messageKey,a.messageArgs)),1),g("button",{class:"button-unstyled close-notice",onClick:d=>e.closeNotice(a)},[A(i,{class:"fa-scale-110 fa-old-padding",icon:"times"})],8,Eve)],2))),128))])}const Pve=be(Cve,[["render",Ive]]),Lve={name:"app",components:{UserPanel:ude,NavPanel:k5,Notifications:fo(()=>He(()=>Promise.resolve().then(()=>r1e),void 0)),InstanceSpecificPanel:$5,FeaturesPanel:C5,WhoToFollowPanel:ffe,ShoutPanel:T5,MediaModal:rhe,SideDrawer:P5,MobilePostStatusButton:yhe,MobileNav:w1e,DesktopNav:U1e,SettingsModal:fo(()=>He(()=>import("./settings_modal.BQqWcrxE.js").then(e=>e.s),__vite__mapDeps([2,3]))),UpdateNotification:fo(()=>He(()=>import("./update_notification.DSl6IeU7.js"),__vite__mapDeps([4,5]))),UserReportingModal:tve,PostStatusModal:gve,EditStatusModal:uve,StatusHistoryModal:$ve,GlobalNoticeList:Pve},data:()=>({mobileActivePanel:"timeline"}),watch:{themeApplied(){this.removeSplash()},currentTheme(){this.setThemeBodyClass()},layoutType(){document.getElementById("modal").classList=["-"+this.layoutType]}},created(){const e=this.$store.getters.mergedConfig.interfaceLanguage;this.$store.dispatch("setOption",{name:"interfaceLanguage",value:e}),document.getElementById("modal").classList=["-"+this.layoutType],this.updateScrollState=Z.throttle(this.scrollHandler,200),this.updateMobileState=Z.throttle(this.resizeHandler,200)},mounted(){window.addEventListener("resize",this.updateMobileState),this.scrollParent.addEventListener("scroll",this.updateScrollState),Qe().themeApplied&&(this.setThemeBodyClass(),this.removeSplash())},unmounted(){window.removeEventListener("resize",this.updateMobileState),this.scrollParent.removeEventListener("scroll",this.updateScrollState)},computed:{themeApplied(){return Qe().themeApplied},currentTheme(){if(Qe().styleDataUsed){const e=Qe().styleDataUsed.find(t=>t.component==="@meta");if(e!==void 0)return e.directives.name.replaceAll(" ","-").toLowerCase()}return"stock"},layoutModalClass(){return"-"+this.layoutType},classes(){return[{"-reverse":this.reverseLayout,"-no-sticky-headers":this.noSticky,"-has-new-post-button":this.newPostButtonShown},"-"+this.layoutType]},navClasses(){const{navbarColumnStretch:e}=this.$store.getters.mergedConfig;return["-"+this.layoutType,...e?["-column-stretch"]:[]]},currentUser(){return this.$store.state.users.currentUser},userBackground(){return this.currentUser.background_image},instanceBackground(){return this.mergedConfig.hideInstanceWallpaper?null:this.$store.state.instance.background},background(){return this.userBackground||this.instanceBackground},bgStyle(){if(this.background)return{"--body-background-image":`url(${this.background})`}},shout(){return El().joined},suggestionsEnabled(){return this.$store.state.instance.suggestionsEnabled},showInstanceSpecificPanel(){return this.$store.state.instance.showInstanceSpecificPanel&&!this.$store.getters.mergedConfig.hideISP&&this.$store.state.instance.instanceSpecificPanelContent},isChats(){return this.$route.name==="chat"||this.$route.name==="chats"},isListEdit(){return this.$route.name==="lists-edit"},newPostButtonShown(){return this.isChats||this.isListEdit?!1:this.$store.getters.mergedConfig.alwaysShowNewPostButton||this.layoutType==="mobile"},showFeaturesPanel(){return this.$store.state.instance.showFeaturesPanel},editingAvailable(){return this.$store.state.instance.editingAvailable},shoutboxPosition(){return this.$store.getters.mergedConfig.alwaysShowNewPostButton||!1},hideShoutbox(){return this.$store.getters.mergedConfig.hideShoutbox},layoutType(){return Qe().layoutType},privateMode(){return this.$store.state.instance.private},reverseLayout(){const{thirdColumnMode:e,sidebarRight:t}=this.$store.getters.mergedConfig;return this.layoutType!=="wide"||e==="notifications"?t:!t},noSticky(){return this.$store.getters.mergedConfig.disableStickyHeaders},showScrollbars(){return this.$store.getters.mergedConfig.showScrollbars},scrollParent(){return window},...Zt(["mergedConfig"])},methods:{resizeHandler(){Qe().setLayoutWidth(Yf()),Qe().setLayoutHeight(Xf())},scrollHandler(){(this.scrollParent===window?window.scrollY:this.scrollParent.scrollTop)!=0?this.$refs.appContentRef.classList.add(["-scrolled"]):this.$refs.appContentRef.classList.remove(["-scrolled"])},setThemeBodyClass(){const e=this.currentTheme,n=Array.from(document.body.classList).filter(s=>s.startsWith("theme-"));if(e!==null&&e!==""){const s=`theme-${e.toLowerCase()}`;n.length?document.body.classList.replace(n[0],s):document.body.classList.add(s)}else document.body.classList.remove(...n)},removeSplash(){document.querySelector("#status").textContent=this.$t("splash.fun_"+Math.ceil(Math.random()*4));const e=document.querySelector("#splash");e.addEventListener("transitionend",()=>{e.remove()}),e.classList.add("hidden"),document.querySelector("#app").classList.remove("hidden")}}},Ove={key:0,class:"login-hint panel panel-default"};function Rve(e,t,n,s,o,r){const i=O("MobileNav"),a=O("DesktopNav"),c=O("Notifications"),d=O("user-panel"),f=O("nav-panel"),h=O("instance-specific-panel"),v=O("features-panel"),_=O("who-to-follow-panel"),S=O("router-link"),k=O("router-view"),P=O("MediaModal"),C=O("shout-panel"),$=O("MobilePostStatusButton"),L=O("UserReportingModal"),T=O("PostStatusModal"),R=O("EditStatusModal"),q=O("StatusHistoryModal"),D=O("SettingsModal"),x=O("UpdateNotification"),oe=O("GlobalNoticeList");return ot((m(),b("div",{id:"app-loaded",style:gn(e.bgStyle)},[t[2]||(t[2]=g("div",{id:"app_bg_wrapper",class:"app-bg-wrapper"},null,-1)),e.layoutType==="mobile"?(m(),K(i,{key:0})):(m(),K(a,{key:1,class:he(e.navClasses)},null,8,["class"])),e.currentUser?(m(),K(c,{key:2})):E("",!0),g("div",{id:"content",ref:"appContentRef",class:he(["app-layout container",e.classes])},[t[1]||(t[1]=g("div",{class:"underlay"},null,-1)),g("div",{id:"sidebar",class:he(["column -scrollable",{"-show-scrollbar":e.showScrollbars}])},[A(d),e.layoutType!=="mobile"?(m(),b(Te,{key:0},[A(f),e.showInstanceSpecificPanel?(m(),K(h,{key:0})):E("",!0),!e.currentUser&&e.showFeaturesPanel?(m(),K(v,{key:1})):E("",!0),e.currentUser&&e.suggestionsEnabled?(m(),K(_,{key:2})):E("",!0),t[0]||(t[0]=g("div",{id:"notifs-sidebar"},null,-1))],64)):E("",!0)],2),g("main",{id:"main-scroller",class:he(["column main",{"-full-height":e.isChats||e.isListEdit}])},[e.currentUser?E("",!0):(m(),b("div",Ove,[A(S,{to:{name:"login"},class:"panel-body"},{default:X(()=>[fe(w(e.$t("login.hint")),1)]),_:1})])),A(k)],2),g("div",{id:"notifs-column",class:he(["column -scrollable",{"-show-scrollbar":e.showScrollbars}])},null,2)],2),A(P),e.currentUser&&e.shout&&!e.hideShoutbox?(m(),K(C,{key:3,floating:!0,class:he(["floating-shout mobile-hidden",{"-left":e.shoutboxPosition}])},null,8,["class"])):E("",!0),A($),A(L),A(T),e.editingAvailable?(m(),K(R,{key:4})):E("",!0),e.editingAvailable?(m(),K(q,{key:5})):E("",!0),A(D,{class:he(e.layoutModalClass)},null,8,["class"]),A(x),A(oe)],4)),[[Wn,e.themeApplied]])}const Mve=be(Lve,[["render",Rve]]);et.add(QA,rE);const Nve={components:{Status:Di},name:"ThreadTree",props:{depth:Number,status:Object,inProfile:Boolean,conversation:Array,collapsable:Boolean,isExpanded:Boolean,pinnedStatusIdsObject:Object,profileUserId:String,isFocusedFunction:Function,highlight:String,getReplies:Function,setHighlight:Function,toggleExpanded:Function,simple:Boolean,toggleThreadDisplay:Function,threadDisplayStatus:Object,showThreadRecursively:Function,totalReplyCount:Object,totalReplyDepth:Object,statusContentProperties:Object,setStatusContentProperty:Function,toggleStatusContentProperty:Function,dive:Function},computed:{suspendable(){const e=this.$refs.statusComponent?this.$refs.statusComponent.suspendable:!0;return this.$refs.childComponent?e&&this.$refs.childComponent.every(t=>t.suspendable):e},reverseLookupTable(){return this.conversation.reduce((e,t,n)=>(e[t.id]=n,e),{})},currentReplies(){return this.getReplies(this.status.id).map(({id:e})=>this.statusById(e))},threadShowing(){return this.threadDisplayStatus[this.status.id]==="showing"},currentProp(){return this.statusContentProperties[this.status.id]}},methods:{statusById(e){return this.conversation[this.reverseLookupTable[e]]},collapseThread(){},showThread(){},showAllSubthreads(){},toggleCurrentProp(e){this.toggleStatusContentProperty(this.status.id,e)},setCurrentProp(e){this.setStatusContentProperty(this.status.id,e)}}},Fve={class:"thread-tree"},Dve={key:0,class:"thread-tree-replies"},Uve={key:1,class:"thread-tree-replies thread-tree-replies-hidden"};function jve(e,t,n,s,o,r){const i=O("status"),a=O("thread-tree"),c=O("FAIcon"),d=O("i18n-t");return m(),b("article",Fve,[(m(),K(i,{key:e.status.id,ref:"statusComponent","inline-expanded":e.collapsable&&e.isExpanded,statusoid:e.status,expandable:!e.isExpanded,"show-pinned":e.pinnedStatusIdsObject&&e.pinnedStatusIdsObject[e.status.id],focused:e.isFocusedFunction(e.status.id),"in-conversation":e.isExpanded,highlight:e.highlight,replies:e.getReplies(e.status.id),"in-profile":e.inProfile,"profile-user-id":e.profileUserId,class:"conversation-status conversation-status-treeview status-fadein panel-body","simple-tree":e.simple,"controlled-thread-display-status":e.threadDisplayStatus[e.status.id],"controlled-toggle-thread-display":()=>e.toggleThreadDisplay(e.status.id),"controlled-showing-tall":e.currentProp.showingTall,"controlled-expanding-subject":e.currentProp.expandingSubject,"controlled-showing-long-subject":e.currentProp.showingLongSubject,"controlled-replying":e.currentProp.replying,"controlled-media-playing":e.currentProp.mediaPlaying,"controlled-toggle-showing-tall":()=>e.toggleCurrentProp("showingTall"),"controlled-toggle-expanding-subject":()=>e.toggleCurrentProp("expandingSubject"),"controlled-toggle-showing-long-subject":()=>e.toggleCurrentProp("showingLongSubject"),"controlled-toggle-replying":()=>e.toggleCurrentProp("replying"),"controlled-set-media-playing":f=>e.setCurrentProp("mediaPlaying",f),dive:e.dive?()=>e.dive(e.status.id):void 0,onGoto:e.setHighlight,onToggleExpanded:e.toggleExpanded},null,8,["inline-expanded","statusoid","expandable","show-pinned","focused","in-conversation","highlight","replies","in-profile","profile-user-id","simple-tree","controlled-thread-display-status","controlled-toggle-thread-display","controlled-showing-tall","controlled-expanding-subject","controlled-showing-long-subject","controlled-replying","controlled-media-playing","controlled-toggle-showing-tall","controlled-toggle-expanding-subject","controlled-toggle-showing-long-subject","controlled-toggle-replying","controlled-set-media-playing","dive","onGoto","onToggleExpanded"])),e.currentReplies.length&&e.threadShowing?(m(),b("div",Dve,[(m(!0),b(Te,null,Ke(e.currentReplies,f=>(m(),K(a,{key:f.id,ref_for:!0,ref:"childComponent",depth:e.depth+1,status:f,"in-profile":e.inProfile,conversation:e.conversation,collapsable:e.collapsable,"is-expanded":e.isExpanded,"pinned-status-ids-object":e.pinnedStatusIdsObject,"profile-user-id":e.profileUserId,"is-focused-function":e.isFocusedFunction,"get-replies":e.getReplies,highlight:e.highlight,"set-highlight":e.setHighlight,"toggle-expanded":e.toggleExpanded,simple:e.simple,"toggle-thread-display":e.toggleThreadDisplay,"thread-display-status":e.threadDisplayStatus,"show-thread-recursively":e.showThreadRecursively,"total-reply-count":e.totalReplyCount,"total-reply-depth":e.totalReplyDepth,"status-content-properties":e.statusContentProperties,"set-status-content-property":e.setStatusContentProperty,"toggle-status-content-property":e.toggleStatusContentProperty,dive:e.dive},null,8,["depth","status","in-profile","conversation","collapsable","is-expanded","pinned-status-ids-object","profile-user-id","is-focused-function","get-replies","highlight","set-highlight","toggle-expanded","simple","toggle-thread-display","thread-display-status","show-thread-recursively","total-reply-count","total-reply-depth","status-content-properties","set-status-content-property","toggle-status-content-property","dive"]))),128))])):E("",!0),e.currentReplies.length&&!e.threadShowing?(m(),b("div",Uve,[e.simple?(m(),K(d,{key:0,scope:"global",tag:"button",keypath:"status.thread_follow_with_icon",class:"button-unstyled -link thread-tree-show-replies-button",onClick:t[0]||(t[0]=Se(f=>e.dive(e.status.id),["prevent"]))},{icon:X(()=>[A(c,{icon:"angle-double-right"})]),text:X(()=>[g("span",null,w(e.$t("status.thread_follow",{numStatus:e.totalReplyCount[e.status.id]},e.totalReplyCount[e.status.id])),1)]),_:1})):(m(),K(d,{key:1,scope:"global",tag:"button",keypath:"status.thread_show_full_with_icon",class:"button-unstyled -link thread-tree-show-replies-button",onClick:t[1]||(t[1]=Se(f=>e.showThreadRecursively(e.status.id),["prevent"]))},{icon:X(()=>[A(c,{icon:"angle-double-down"})]),text:X(()=>[g("span",null,w(e.$t("status.thread_show_full",{numStatus:e.totalReplyCount[e.status.id],depth:e.totalReplyDepth[e.status.id]},e.totalReplyCount[e.status.id])),1)]),_:1}))])):E("",!0)])}const Bve=be(Nve,[["render",jve]]);et.add(iE,lY,E_);const zve={props:{conversation:Boolean,nested:Boolean},components:{Popover:fs},methods:{setReplyVisibility(e){this.$store.dispatch("setOption",{name:"replyVisibility",value:e}),this.$store.dispatch("queueFlushAll")},openTab(e){Qe().openSettingsModalTab(e)}},computed:{...Zt(["mergedConfig"]),..._n(Qe,{mobileLayout:e=>e.layoutType==="mobile"}),triggerAttrs(){return this.mobileLayout?{}:{title:this.$t("timeline.quick_filter_settings")}},mainClass(){return this.mobileLayout?"main-button":"dropdown-item"},loggedIn(){return!!this.$store.state.users.currentUser},replyVisibilitySelf:{get(){return this.mergedConfig.replyVisibility==="self"},set(){this.setReplyVisibility("self")}},replyVisibilityFollowing:{get(){return this.mergedConfig.replyVisibility==="following"},set(){this.setReplyVisibility("following")}},replyVisibilityAll:{get(){return this.mergedConfig.replyVisibility==="all"},set(){this.setReplyVisibility("all")}},hideMedia:{get(){return this.mergedConfig.hideAttachments||this.mergedConfig.hideAttachmentsInConv},set(){const e=!this.hideMedia;this.$store.dispatch("setOption",{name:"hideAttachments",value:e}),this.$store.dispatch("setOption",{name:"hideAttachmentsInConv",value:e})}},hideMutedPosts:{get(){return this.mergedConfig.hideFilteredStatuses},set(){const e=!this.hideMutedPosts;this.$store.dispatch("setOption",{name:"hideFilteredStatuses",value:e})}},muteBotStatuses:{get(){return this.mergedConfig.muteBotStatuses},set(){const e=!this.muteBotStatuses;this.$store.dispatch("setOption",{name:"muteBotStatuses",value:e})}},muteSensitiveStatuses:{get(){return this.mergedConfig.muteSensitiveStatuses},set(){const e=!this.muteSensitiveStatuses;this.$store.dispatch("setOption",{name:"muteSensitiveStatuses",value:e})}}}},qve={class:"dropdown-menu",role:"menu"},Hve={key:0,role:"group"},Vve={class:"menu-item dropdown-item -icon"},Wve=["aria-checked"],Gve={key:0,class:"menu-item dropdown-item -icon"},Kve=["aria-checked"],xve={key:1,class:"menu-item dropdown-item -icon"},Yve=["aria-checked"],Xve={key:2,role:"separator",class:"dropdown-divider"},Jve={class:"menu-item dropdown-item -icon"},Zve=["aria-checked"],Qve={class:"menu-item dropdown-item -icon"},ebe=["aria-checked"],tbe={class:"menu-item dropdown-item -icon"},nbe=["aria-checked"],sbe={class:"menu-item dropdown-item -icon"},obe=["aria-checked"],rbe={class:"menu-item dropdown-item -icon"};function ibe(e,t,n,s,o,r){const i=O("FAIcon"),a=O("Popover");return m(),K(a,{trigger:e.nested?"hover":"click",class:"QuickFilterSettings","bound-to":{x:"container"},position:e.nested?"right":"top","trigger-attrs":e.triggerAttrs},{content:X(()=>[g("div",qve,[e.loggedIn?(m(),b("div",Hve,[g("div",Vve,[e.conversation?E("",!0):(m(),b("button",{key:0,class:"main-button","aria-checked":e.replyVisibilityAll,role:"menuitemradio",onClick:t[0]||(t[0]=c=>e.replyVisibilityAll=!0)},[g("span",{class:he(["input menu-checkbox -radio",{"menu-checkbox-checked":e.replyVisibilityAll}]),"aria-hidden":!0},null,2),fe(w(e.$t("settings.reply_visibility_all")),1)],8,Wve))]),e.conversation?E("",!0):(m(),b("div",Gve,[g("button",{class:"main-button","aria-checked":e.replyVisibilityFollowing,role:"menuitemradio",onClick:t[1]||(t[1]=c=>e.replyVisibilityFollowing=!0)},[g("span",{class:he(["input menu-checkbox -radio",{"menu-checkbox-checked":e.replyVisibilityFollowing}]),"aria-hidden":!0},null,2),fe(w(e.$t("settings.reply_visibility_following_short")),1)],8,Kve)])),e.conversation?E("",!0):(m(),b("div",xve,[g("button",{class:"main-button","aria-checked":e.replyVisibilitySelf,role:"menuitemradio",onClick:t[2]||(t[2]=c=>e.replyVisibilitySelf=!0)},[g("span",{class:he(["input menu-checkbox -radio",{"menu-checkbox-checked":e.replyVisibilitySelf}]),"aria-hidden":!0},null,2),fe(w(e.$t("settings.reply_visibility_self_short")),1)],8,Yve)])),e.conversation?E("",!0):(m(),b("div",Xve))])):E("",!0),g("div",Jve,[g("button",{class:"main-button",role:"menuitemcheckbox","aria-checked":e.muteBotStatuses,onClick:t[3]||(t[3]=c=>e.muteBotStatuses=!e.muteBotStatuses)},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":e.muteBotStatuses}]),"aria-hidden":!0},null,2),fe(w(e.$t("settings.mute_bot_posts")),1)],8,Zve)]),g("div",Qve,[g("button",{class:"main-button",role:"menuitemcheckbox","aria-checked":e.muteSensitiveStatuses,onClick:t[4]||(t[4]=c=>e.muteSensitiveStatuses=!e.muteSensitiveStatuses)},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":e.muteSensitiveStatuses}]),"aria-hidden":!0},null,2),fe(w(e.$t("settings.mute_sensitive_posts")),1)],8,ebe)]),g("div",tbe,[g("button",{class:"main-button",role:"menuitemcheckbox","aria-checked":e.hideMedia,onClick:t[5]||(t[5]=c=>e.hideMedia=!e.hideMedia)},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":e.hideMedia}]),"aria-hidden":!0},null,2),fe(w(e.$t("settings.hide_media_previews")),1)],8,nbe)]),g("div",sbe,[g("button",{class:"main-button",role:"menuitemcheckbox","aria-checked":e.hideMutedPosts,onClick:t[6]||(t[6]=c=>e.hideMutedPosts=!e.hideMutedPosts)},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":e.hideMutedPosts}]),"aria-hidden":!0},null,2),fe(w(e.$t("settings.hide_all_muted_posts")),1)],8,obe)]),g("div",rbe,[g("button",{class:"main-button",role:"menuitem",onClick:t[7]||(t[7]=c=>e.openTab("filtering"))},[A(i,{"fixed-width":"",icon:"font"}),fe(w(e.$t("settings.word_filter_and_more")),1)])])])]),trigger:X(()=>[g("div",{class:he(e.mobileLayout?"main-button":"")},[A(i,{icon:"filter","fixed-width":e.nested},null,8,["fixed-width"]),e.nested?(m(),b(Te,{key:0},[fe(w(e.$t("timeline.filter_settings")),1)],64)):E("",!0),e.nested?(m(),K(i,{key:1,class:"chevron-icon",size:"lg",icon:"chevron-right","fixed-width":""})):E("",!0)],2)]),_:1},8,["trigger","position","trigger-attrs"])}const _y=be(zve,[["render",ibe]]);et.add(qh,uE,tE,E_);const abe={props:{conversation:Boolean},components:{Popover:fs,QuickFilterSettings:_y},methods:{setConversationDisplay(e){this.$store.dispatch("setOption",{name:"conversationDisplay",value:e})},openTab(e){Qe().openSettingsModalTab(e)}},computed:{...Zt(["mergedConfig"]),..._n(Qe,{mobileLayout:e=>e.layoutType==="mobile"}),loggedIn(){return!!this.$store.state.users.currentUser},conversationDisplay:{get(){return this.mergedConfig.conversationDisplay},set(e){this.setConversationDisplay(e)}},autoUpdate:{get(){return this.mergedConfig.streaming},set(){const e=!this.autoUpdate;this.$store.dispatch("setOption",{name:"streaming",value:e})}},collapseWithSubjects:{get(){return this.mergedConfig.collapseMessageWithSubject},set(){const e=!this.collapseWithSubjects;this.$store.dispatch("setOption",{name:"collapseMessageWithSubject",value:e})}},showUserAvatars:{get(){return this.mergedConfig.mentionLinkShowAvatar},set(){const e=!this.showUserAvatars;this.$store.dispatch("setOption",{name:"mentionLinkShowAvatar",value:e})}},muteBotStatuses:{get(){return this.mergedConfig.muteBotStatuses},set(){const e=!this.muteBotStatuses;this.$store.dispatch("setOption",{name:"muteBotStatuses",value:e})}},muteSensitiveStatuses:{get(){return this.mergedConfig.muteSensitiveStatuses},set(){const e=!this.muteSensitiveStatuses;this.$store.dispatch("setOption",{name:"muteSensitiveStatuses",value:e})}}}},lbe={class:"dropdown-menu",role:"menu"},cbe={key:0,class:"menu-item dropdown-item -icon"},ube={key:1,role:"separator",class:"dropdown-divider"},dbe={role:"group"},fbe={class:"menu-item dropdown-item -icon-double"},hbe=["aria-checked"],pbe={class:"menu-item dropdown-item -icon-double"},mbe=["aria-checked"],gbe={class:"menu-item dropdown-item -icon"},vbe=["aria-checked"],bbe={key:2,class:"menu-item dropdown-item -icon"},_be=["aria-checked"],ybe={key:3,class:"menu-item dropdown-item -icon"},wbe=["aria-checked"],Sbe={class:"menu-item dropdown-item -icon"};function kbe(e,t,n,s,o,r){const i=O("QuickFilterSettings"),a=O("FAIcon"),c=O("Popover");return m(),K(c,{trigger:"click",class:"QuickViewSettings","bound-to":{x:"container"}},{content:X(()=>[g("div",lbe,[e.mobileLayout?(m(),b("div",cbe,[A(i,{nested:!0})])):E("",!0),e.mobileLayout?(m(),b("div",ube)):E("",!0),g("div",dbe,[g("div",fbe,[g("button",{class:"main-button","aria-checked":e.conversationDisplay==="tree",role:"menuitemradio",onClick:t[0]||(t[0]=d=>e.conversationDisplay="tree")},[g("span",{class:he(["input menu-checkbox -radio",{"menu-checkbox-checked":e.conversationDisplay==="tree"}]),"aria-hidden":!0},null,2),A(a,{icon:"folder-tree","aria-hidden":!0,"fixed-width":""}),fe(" "+w(e.$t("settings.conversation_display_tree_quick")),1)],8,hbe)]),g("div",pbe,[g("button",{class:"main-button","aria-checked":e.conversationDisplay==="linear",role:"menuitemradio",onClick:t[1]||(t[1]=d=>e.conversationDisplay="linear")},[g("span",{class:he(["input menu-checkbox -radio",{"menu-checkbox-checked":e.conversationDisplay==="linear"}]),"aria-hidden":!0},null,2),A(a,{icon:"list","aria-hidden":!0,"fixed-width":""}),fe(" "+w(e.$t("settings.conversation_display_linear_quick")),1)],8,mbe)])]),t[6]||(t[6]=g("div",{role:"separator",class:"dropdown-divider"},null,-1)),g("div",gbe,[g("button",{class:"main-button",role:"menuitemcheckbox","aria-checked":e.showUserAvatars,onClick:t[2]||(t[2]=d=>e.showUserAvatars=!e.showUserAvatars)},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":e.showUserAvatars}]),"aria-hidden":!0},null,2),fe(w(e.$t("settings.mention_link_show_avatar_quick")),1)],8,vbe)]),e.conversation?E("",!0):(m(),b("div",bbe,[g("button",{class:"main-button",role:"menuitemcheckbox","aria-checked":e.autoUpdate,onClick:t[3]||(t[3]=d=>e.autoUpdate=!e.autoUpdate)},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":e.autoUpdate}]),"aria-hidden":!0},null,2),fe(w(e.$t("settings.auto_update")),1)],8,_be)])),e.conversation?E("",!0):(m(),b("div",ybe,[g("button",{class:"main-button",role:"menuitemcheckbox","aria-checked":e.collapseWithSubjects,onClick:t[4]||(t[4]=d=>e.collapseWithSubjects=!e.collapseWithSubjects)},[g("span",{class:he(["input menu-checkbox",{"menu-checkbox-checked":e.collapseWithSubjects}]),"aria-hidden":!0},null,2),fe(w(e.$t("settings.collapse_subject")),1)],8,wbe)])),g("div",Sbe,[g("button",{class:"main-button",role:"menuitem",onClick:t[5]||(t[5]=d=>e.openTab("general"))},[A(a,{icon:"wrench","fixed-width":""}),fe(w(e.$t("settings.more_settings")),1)])])])]),trigger:X(()=>[A(a,{icon:"bars"})]),_:1})}const M5=be(abe,[["render",kbe]]);et.add(QA,vY,Ta);const $be=(e,t)=>{const n=e.type==="retweet"?e.retweeted_status.id:e.id,s=t.type==="retweet"?t.retweeted_status.id:t.id,o=Number(n),r=Number(s),i=!Number.isNaN(o),a=!Number.isNaN(r);return i&&a?o<r?-1:1:i&&!a?-1:!i&&a?1:n<s?-1:1},Cbe=(e,t)=>(t.type==="retweet"?e=Z.filter(e,n=>n.type==="retweet"||n.id!==t.retweeted_status.id):e=Z.filter(e,n=>n.type!=="retweet"),e.filter(n=>n).sort($be)),Tbe={data(){return{highlight:null,expanded:!1,threadDisplayStatusObject:{},statusContentPropertiesObject:{},inlineDivePosition:null,loadStatusError:null}},props:["statusId","collapsable","isPage","pinnedStatusIdsObject","inProfile","profileUserId","virtualHidden"],created(){this.isPage&&this.fetchConversation()},computed:{maxDepthToShowByDefault(){const e=this.$store.getters.mergedConfig.maxDepthInThread-2;return e>=1?e:1},streamingEnabled(){return this.mergedConfig.useStreamingApi&&this.mastoUserSocketStatus===qs.JOINED},displayStyle(){return this.$store.getters.mergedConfig.conversationDisplay},isTreeView(){return!this.isLinearView},treeViewIsSimple(){return!this.$store.getters.mergedConfig.conversationTreeAdvanced},isLinearView(){return this.displayStyle==="linear"},shouldFadeAncestors(){return this.$store.getters.mergedConfig.conversationTreeFadeAncestors},otherRepliesButtonPosition(){return this.$store.getters.mergedConfig.conversationOtherRepliesButton},showOtherRepliesButtonBelowStatus(){return this.otherRepliesButtonPosition==="below"},showOtherRepliesButtonInsideStatus(){return this.otherRepliesButtonPosition==="inside"},suspendable(){return this.isTreeView?Object.entries(this.statusContentProperties).every(([,e])=>!e.replying&&e.mediaPlaying.length===0):this.$refs.statusComponent&&this.$refs.statusComponent[0]?this.$refs.statusComponent.every(e=>e.suspendable):!0},hideStatus(){return this.virtualHidden&&this.suspendable},status(){return this.$store.state.statuses.allStatusesObject[this.statusId]},originalStatusId(){return this.status.retweeted_status?this.status.retweeted_status.id:this.statusId},conversationId(){return this.getConversationId(this.statusId)},conversation(){if(!this.status)return[];if(!this.isExpanded)return[this.status];const e=Z.clone(this.$store.state.statuses.conversationsObject[this.conversationId]),t=Z.findIndex(e,{id:this.originalStatusId});return t!==-1&&(e[t]=this.status),Cbe(e,this.status)},statusMap(){return this.conversation.reduce((e,t)=>(e[t.id]=t,e),{})},threadTree(){const e=this.conversation.reduce((o,r,i)=>(o[r.id]=i,o),{}),t=this.conversation.reduce((o,r)=>{const i=r.id;return o.forest[i]=this.getReplies(i).map(a=>a.id),o},{forest:{}}),n=(o,r,i=0,a={})=>r.map(c=>a[c]?[]:(a[c]=!0,[{status:this.conversation[e[c]],id:c,depth:i},n(o,o[c],i+1,a)].reduce((d,f)=>d.concat(f),[]))).reduce((c,d)=>c.concat(d),[]);return n(t.forest,this.topLevel.map(o=>o.id))},replyIds(){return this.conversation.map(e=>e.id).reduce((e,t)=>(e[t]=(this.replies[t]||[]).map(n=>n.id),e),{})},totalReplyCount(){const e={},t=n=>(e[n]||(e[n]=1+this.replyIds[n].map(s=>t(s)).reduce((s,o)=>s+o,0)),e[n]);return this.conversation.map(n=>n.id).map(t),Object.keys(e).reduce((n,s)=>(n[s]=e[s]-1,n),{})},totalReplyDepth(){const e={},t=n=>(e[n]||(e[n]=1+this.replyIds[n].map(s=>t(s)).reduce((s,o)=>s>o?s:o,0)),e[n]);return this.conversation.map(n=>n.id).map(t),Object.keys(e).reduce((n,s)=>(n[s]=e[s]-1,n),{})},depths(){return this.threadTree.reduce((e,t)=>(e[t.id]=t.depth,e),{})},topLevel(){return this.conversation.reduce((t,n)=>t.filter(s=>this.getReplies(n.id).map(o=>o.id).indexOf(s.id)===-1),this.conversation)},otherTopLevelCount(){return this.topLevel.length-1},showingTopLevel(){return this.canDive&&this.diveRoot?[this.statusMap[this.diveRoot]]:this.topLevel},diveRoot(){const e=this.inlineDivePosition||this.statusId;return!this.parentOf(e)?null:e},diveDepth(){return this.canDive&&this.diveRoot?this.depths[this.diveRoot]:0},diveMode(){return this.canDive&&!!this.diveRoot},shouldShowAllConversationButton(){return this.isTreeView&&this.isExpanded&&this.diveMode&&this.topLevel.length>1},shouldShowAncestors(){return this.isTreeView&&this.isExpanded&&this.ancestorsOf(this.diveRoot).length},replies(){let e=1;return Z.reduce(this.conversation,(t,{id:n,in_reply_to_status_id:s})=>(s&&(t[s]=t[s]||[],t[s].push({name:`#${e}`,id:n})),e++,t),{})},isExpanded(){return!!(this.expanded||this.isPage)},hiddenStyle(){const e=this.status&&this.status.virtualHeight||"120px";return this.virtualHidden?{height:e}:{}},threadDisplayStatus(){return this.conversation.reduce((e,t)=>{const n=t.id,s=this.depths[n],o=this.threadDisplayStatusObject[n]?this.threadDisplayStatusObject[n]:s-this.diveDepth<=this.maxDepthToShowByDefault?"showing":"hidden";return e[n]=o,e},{})},statusContentProperties(){return this.conversation.reduce((e,t)=>{const n=t.id,s=(()=>{const o={showingTall:!1,expandingSubject:!1,showingLongSubject:!1,isReplying:!1,mediaPlaying:[]};return this.statusContentPropertiesObject[n]?{...o,...this.statusContentPropertiesObject[n]}:o})();return e[n]=s,e},{})},canDive(){return this.isTreeView&&this.isExpanded},maybeHighlight(){return this.isExpanded?this.highlight:null},...Zt(["mergedConfig"]),...hn({mastoUserSocketStatus:e=>e.api.mastoUserSocketStatus}),..._n(Qe,{mobileLayout:e=>e.layoutType==="mobile"})},components:{Status:Di,ThreadTree:Bve,QuickFilterSettings:_y,QuickViewSettings:M5},watch:{statusId(e,t){const n=this.getConversationId(e),s=this.getConversationId(t);n&&s&&n===s?this.setHighlight(this.originalStatusId):this.fetchConversation()},expanded(e){e?this.fetchConversation():this.resetDisplayState()},virtualHidden(){this.$store.dispatch("setVirtualHeight",{statusId:this.statusId,height:`${this.$el.clientHeight}px`})}},methods:{fetchConversation(){this.status?this.$store.state.api.backendInteractor.fetchConversation({id:this.statusId}).then(({ancestors:e,descendants:t})=>{this.$store.dispatch("addNewStatuses",{statuses:e}),this.$store.dispatch("addNewStatuses",{statuses:t}),this.setHighlight(this.originalStatusId)}):(this.loadStatusError=null,this.$store.state.api.backendInteractor.fetchStatus({id:this.statusId}).then(e=>{this.$store.dispatch("addNewStatuses",{statuses:[e]}),this.fetchConversation()}).catch(e=>{this.loadStatusError=e}))},isFocused(e){return this.isExpanded&&e===this.highlight},getReplies(e){return this.replies[e]||[]},getHighlight(){return this.isExpanded?this.highlight:null},setHighlight(e){e&&(this.highlight=e,this.streamingEnabled||this.$store.dispatch("fetchStatus",e),this.$store.dispatch("fetchFavsAndRepeats",e),this.$store.dispatch("fetchEmojiReactionsBy",e))},toggleExpanded(){this.expanded=!this.expanded},getConversationId(e){const t=this.$store.state.statuses.allStatusesObject[e];return Z.get(t,"retweeted_status.statusnet_conversation_id",Z.get(t,"statusnet_conversation_id"))},setThreadDisplay(e,t){this.threadDisplayStatusObject={...this.threadDisplayStatusObject,[e]:t}},toggleThreadDisplay(e){const n=this.threadDisplayStatus[e]==="showing"?"hidden":"showing";this.setThreadDisplay(e,n)},setThreadDisplayRecursively(e,t){this.setThreadDisplay(e,t),this.getReplies(e).map(n=>n.id).map(n=>this.setThreadDisplayRecursively(n,t))},showThreadRecursively(e){this.setThreadDisplayRecursively(e,"showing")},setStatusContentProperty(e,t,n){this.statusContentPropertiesObject={...this.statusContentPropertiesObject,[e]:{...this.statusContentPropertiesObject[e],[t]:n}}},toggleStatusContentProperty(e,t){this.setStatusContentProperty(e,t,!this.statusContentProperties[e][t])},leastVisibleAncestor(e){let t=e,n=this.parentOf(t);for(;t;){if(this.threadDisplayStatus[n]==="showing")return t;n=this.parentOf(n),t=this.parentOf(t)}return this.topLevel[0]?this.topLevel[0].id:void 0},diveIntoStatus(e){this.tryScrollTo(e)},diveToTopLevel(){this.tryScrollTo(this.topLevelAncestorOrSelfId(this.diveRoot)||this.topLevel[0].id)},undive(){this.inlineDivePosition=null,this.setHighlight(this.statusId)},tryScrollTo(e){e&&(this.isPage?this.$router.push({name:"conversation",params:{id:e}}):this.inlineDivePosition=e,this.$nextTick(()=>{this.setHighlight(e)}))},goToCurrent(){this.tryScrollTo(this.diveRoot||this.topLevel[0].id)},statusById(e){return this.statusMap[e]},parentOf(e){const t=this.statusById(e);if(!t)return;const{in_reply_to_status_id:n}=t;if(this.statusMap[n])return n},parentOrSelf(e){return this.parentOf(e)||e},ancestorsOf(e){const t=[];let n=this.parentOf(e);for(;n;)t.unshift(this.statusMap[n]),n=this.parentOf(n);return t},topLevelAncestorOrSelfId(e){let t=e,n=this.parentOf(e);for(;n;)t=this.parentOf(t),n=this.parentOf(n);return t},resetDisplayState(){this.undive(),this.threadDisplayStatusObject={}}}},Abe={key:0,class:"panel-heading conversation-heading -sticky"},Ebe={class:"title"},Ibe={key:0},Pbe={key:1},Lbe={key:0,class:"thread-body"},Obe={key:0,class:"conversation-dive-to-top-level-box"},Rbe={key:1,class:"thread-ancestors"},Mbe={key:0,class:"thread-ancestor-dive-box"},Nbe={class:"thread-ancestor-dive-box-inner"},Fbe={key:1,class:"thread-body"};function Dbe(e,t,n,s,o,r){const i=O("QuickFilterSettings"),a=O("QuickViewSettings"),c=O("FAIcon"),d=O("i18n-t"),f=O("status"),h=O("thread-tree");return e.hideStatus?(m(),b("div",{key:1,class:"Conversation -hidden",style:gn(e.hiddenStyle)},null,4)):(m(),b("div",{key:0,style:gn(e.hiddenStyle),class:he(["Conversation",{"-expanded":e.isExpanded,panel:e.isExpanded}])},[e.isExpanded?(m(),b("div",Abe,[g("h1",Ebe,w(e.$t("timeline.conversation")),1),e.collapsable?(m(),b("button",{key:0,class:"button-unstyled -link",onClick:t[0]||(t[0]=Se((...v)=>e.toggleExpanded&&e.toggleExpanded(...v),["prevent"]))},w(e.$t("timeline.collapse")),1)):E("",!0),!e.collapsable&&e.mobileLayout?(m(),K(i,{key:1,conversation:!0,class:"rightside-button"})):E("",!0),e.collapsable?E("",!0):(m(),K(a,{key:2,conversation:!0,class:"rightside-button"}))])):E("",!0),e.isPage&&!e.status?(m(),b("div",{key:1,class:he(["conversation-body",{"panel-body":e.isExpanded}])},[e.loadStatusError?(m(),b("p",Pbe,w(e.$t("status.load_error",{error:e.loadStatusError})),1)):(m(),b("p",Ibe,[A(c,{spin:"",icon:"circle-notch"}),fe(" "+w(e.$t("status.loading")),1)]))],2)):(m(),b("div",{key:2,class:he(["conversation-body",{"panel-body":e.isExpanded}])},[e.isTreeView?(m(),b("div",Lbe,[e.shouldShowAllConversationButton?(m(),b("div",Obe,[A(d,{keypath:"status.show_all_conversation_with_icon",tag:"button",class:"button-unstyled -link",scope:"global",onClick:Se(e.diveToTopLevel,["prevent"])},{icon:X(()=>[A(c,{icon:"angle-double-left"})]),text:X(()=>[g("span",null,w(e.$t("status.show_all_conversation",{numStatus:e.otherTopLevelCount},e.otherTopLevelCount)),1)]),_:1},8,["onClick"])])):E("",!0),e.shouldShowAncestors?(m(),b("div",Rbe,[(m(!0),b(Te,null,Ke(e.ancestorsOf(e.diveRoot),v=>(m(),b("article",{key:v.id,class:he(["thread-ancestor",{"thread-ancestor-has-other-replies":e.getReplies(v.id).length>1,"-faded":e.shouldFadeAncestors}])},[A(f,{ref_for:!0,ref:"statusComponent","inline-expanded":e.collapsable&&e.isExpanded,statusoid:v,expandable:!e.isExpanded,"show-pinned":e.pinnedStatusIdsObject&&e.pinnedStatusIdsObject[v.id],focused:e.isFocused(v.id),"in-conversation":e.isExpanded,highlight:e.getHighlight(),replies:e.getReplies(v.id),"in-profile":e.inProfile,"profile-user-id":e.profileUserId,class:"conversation-status status-fadein panel-body","simple-tree":e.treeViewIsSimple,"toggle-thread-display":e.toggleThreadDisplay,"thread-display-status":e.threadDisplayStatus,"show-thread-recursively":e.showThreadRecursively,"total-reply-count":e.totalReplyCount,"total-reply-depth":e.totalReplyDepth,"show-other-replies-as-button":e.showOtherRepliesButtonInsideStatus,dive:()=>e.diveIntoStatus(v.id),"controlled-showing-tall":e.statusContentProperties[v.id].showingTall,"controlled-expanding-subject":e.statusContentProperties[v.id].expandingSubject,"controlled-showing-long-subject":e.statusContentProperties[v.id].showingLongSubject,"controlled-replying":e.statusContentProperties[v.id].replying,"controlled-media-playing":e.statusContentProperties[v.id].mediaPlaying,"controlled-toggle-showing-tall":()=>e.toggleStatusContentProperty(v.id,"showingTall"),"controlled-toggle-expanding-subject":()=>e.toggleStatusContentProperty(v.id,"expandingSubject"),"controlled-toggle-showing-long-subject":()=>e.toggleStatusContentProperty(v.id,"showingLongSubject"),"controlled-toggle-replying":()=>e.toggleStatusContentProperty(v.id,"replying"),"controlled-set-media-playing":_=>e.toggleStatusContentProperty(v.id,"mediaPlaying",_),onGoto:e.setHighlight,onToggleExpanded:e.toggleExpanded},null,8,["inline-expanded","statusoid","expandable","show-pinned","focused","in-conversation","highlight","replies","in-profile","profile-user-id","simple-tree","toggle-thread-display","thread-display-status","show-thread-recursively","total-reply-count","total-reply-depth","show-other-replies-as-button","dive","controlled-showing-tall","controlled-expanding-subject","controlled-showing-long-subject","controlled-replying","controlled-media-playing","controlled-toggle-showing-tall","controlled-toggle-expanding-subject","controlled-toggle-showing-long-subject","controlled-toggle-replying","controlled-set-media-playing","onGoto","onToggleExpanded"]),e.showOtherRepliesButtonBelowStatus&&e.getReplies(v.id).length>1?(m(),b("div",Mbe,[g("div",Nbe,[A(d,{tag:"button",scope:"global",keypath:"status.ancestor_follow_with_icon",class:"button-unstyled -link thread-tree-show-replies-button",onClick:Se(_=>e.diveIntoStatus(v.id),["prevent"])},{icon:X(()=>[A(c,{icon:"angle-double-right"})]),text:X(()=>[g("span",null,w(e.$t("status.ancestor_follow",{numReplies:e.getReplies(v.id,e.getReplies(v.id).length-1).length-1})),1)]),_:2},1032,["onClick"])])])):E("",!0)],2))),128))])):E("",!0),(m(!0),b(Te,null,Ke(e.showingTopLevel,v=>(m(),K(h,{key:v.id,ref_for:!0,ref:"statusComponent",depth:0,status:v,"in-profile":e.inProfile,conversation:e.conversation,collapsable:e.collapsable,"is-expanded":e.isExpanded,"pinned-status-ids-object":e.pinnedStatusIdsObject,"profile-user-id":e.profileUserId,"is-focused-function":e.isFocused,"get-replies":e.getReplies,highlight:e.maybeHighlight,"set-highlight":e.setHighlight,"toggle-expanded":e.toggleExpanded,simple:e.treeViewIsSimple,"toggle-thread-display":e.toggleThreadDisplay,"thread-display-status":e.threadDisplayStatus,"show-thread-recursively":e.showThreadRecursively,"total-reply-count":e.totalReplyCount,"total-reply-depth":e.totalReplyDepth,"status-content-properties":e.statusContentProperties,"set-status-content-property":e.setStatusContentProperty,"toggle-status-content-property":e.toggleStatusContentProperty,dive:e.canDive?e.diveIntoStatus:void 0},null,8,["status","in-profile","conversation","collapsable","is-expanded","pinned-status-ids-object","profile-user-id","is-focused-function","get-replies","highlight","set-highlight","toggle-expanded","simple","toggle-thread-display","thread-display-status","show-thread-recursively","total-reply-count","total-reply-depth","status-content-properties","set-status-content-property","toggle-status-content-property","dive"]))),128))])):E("",!0),e.isLinearView?(m(),b("div",Fbe,[g("article",null,[(m(!0),b(Te,null,Ke(e.conversation,v=>(m(),K(f,{key:v.id,ref_for:!0,ref:"statusComponent","inline-expanded":e.collapsable&&e.isExpanded,statusoid:v,expandable:!e.isExpanded,"show-pinned":e.pinnedStatusIdsObject&&e.pinnedStatusIdsObject[v.id],focused:e.isFocused(v.id),"in-conversation":e.isExpanded,highlight:e.getHighlight(),replies:e.getReplies(v.id),"in-profile":e.inProfile,"profile-user-id":e.profileUserId,class:"conversation-status status-fadein panel-body","toggle-thread-display":e.toggleThreadDisplay,"thread-display-status":e.threadDisplayStatus,"show-thread-recursively":e.showThreadRecursively,"total-reply-count":e.totalReplyCount,"total-reply-depth":e.totalReplyDepth,"status-content-properties":e.statusContentProperties,"set-status-content-property":e.setStatusContentProperty,"toggle-status-content-property":e.toggleStatusContentProperty,onGoto:e.setHighlight,onToggleExpanded:e.toggleExpanded},null,8,["inline-expanded","statusoid","expandable","show-pinned","focused","in-conversation","highlight","replies","in-profile","profile-user-id","toggle-thread-display","thread-display-status","show-thread-recursively","total-reply-count","total-reply-depth","status-content-properties","set-status-content-property","toggle-status-content-property","onGoto","onToggleExpanded"]))),128))])])):E("",!0)],2))],6))}const mp=be(Tbe,[["render",Dbe]]);et.add(Ca);const _C=e=>({friends:"nav.home_timeline",bookmarks:e?"nav.all_bookmarks":"nav.bookmarks",dms:"nav.dms","public-timeline":"nav.public_tl","public-external-timeline":"nav.twkn",quotes:"nav.quotes"}),Ube={components:{Popover:fs,NavigationEntry:fp,ListsMenuContent:w5,BookmarkFoldersMenuContent:y5},data(){return{isOpen:!1}},created(){_C(this.bookmarkFolders)[this.$route.name]&&Qe().setLastTimeline(this.$route.name)},computed:{useListsMenu(){return this.$route.name==="lists-timeline"},useBookmarkFoldersMenu(){const e=this.$route.name;return this.bookmarkFolders&&(e==="bookmark-folder"||e==="bookmarks")},...hn({currentUser:e=>e.users.currentUser,privateMode:e=>e.instance.private,federating:e=>e.instance.federating,bookmarkFolders:e=>e.instance.pleromaBookmarkFoldersAvailable}),timelinesList(){return Eu(Object.entries(_l).map(([e,t])=>({...t,name:e})),{hasChats:this.pleromaChatMessagesAvailable,isFederating:this.federating,isPrivate:this.privateMode,currentUser:this.currentUser,supportsBookmarkFolders:this.bookmarkFolders})}},methods:{openMenu(){setTimeout(()=>{this.isOpen=!0},25)},blockOpen(e){this.isOpen||e.stopPropagation()},timelineName(){const e=this.$route.name;if(e==="tag-timeline")return"#"+this.$route.params.tag;if(e==="lists-timeline")return Rn().findListTitle(this.$route.params.id);if(e==="bookmark-folder")return Yo().findBookmarkFolderName(this.$route.params.id);const t=_C(this.bookmarkFolders)[this.$route.name];return t?this.$t(t):e}}},jbe={key:2},Bbe={class:"button-unstyled timeline-menu-title"},zbe={class:"title timeline-title"};function qbe(e,t,n,s,o,r){const i=O("ListsMenuContent"),a=O("BookmarkFoldersMenuContent"),c=O("NavigationEntry"),d=O("FAIcon"),f=O("Popover");return m(),K(f,{trigger:"click",class:he(["TimelineMenu",{open:e.isOpen}]),"bound-to":{x:"container"},"bound-to-selector":".Timeline","popover-class":"timeline-menu-popover popover-default",onShow:e.openMenu,onClose:t[1]||(t[1]=()=>e.isOpen=!1)},{content:X(()=>[e.useListsMenu?(m(),K(i,{key:0,"show-pin":!1,class:"timelines"})):e.useBookmarkFoldersMenu?(m(),K(a,{key:1,class:"timelines"})):(m(),b("ul",jbe,[(m(!0),b(Te,null,Ke(e.timelinesList,h=>(m(),K(c,{key:h.name,"show-pin":!1,item:h},null,8,["item"]))),128))]))]),trigger:X(()=>[g("span",Bbe,[g("h1",zbe,w(e.timelineName()),1),g("span",null,[A(d,{size:"sm",icon:"chevron-down"})]),g("span",{class:"click-blocker",onClick:t[0]||(t[0]=(...h)=>e.blockOpen&&e.blockOpen(...h))})])]),_:1},8,["class","onShow"])}const Hbe=be(Ube,[["render",qbe]]),Vbe={props:{fast:{type:Boolean,required:!1,default:!1}},methods:{scrollToTop(){const e=this.fast?"instant":"smooth";window.scrollTo({top:0,behavior:e})}}},Wbe={class:"rightside-button scroll-to-top"},Gbe=["title"];function Kbe(e,t,n,s,o,r){const i=O("FAIcon"),a=O("FALayers");return m(),b("div",Wbe,[g("button",{class:"button-unstyled scroll-to-top-button",type:"button",title:e.$t("general.scroll_to_top"),onClick:t[0]||(t[0]=(...c)=>e.scrollToTop&&e.scrollToTop(...c))},[A(a,{class:"fa-scale-110 fa-old-padding-layer"},{default:X(()=>[A(i,{icon:"arrow-up"}),A(i,{icon:"minus",transform:"up-7"})]),_:1})],8,Gbe)])}const xbe=be(Vbe,[["render",Kbe]]);et.add(mo,I_,qu,L_,wY,Kh);const Ybe={props:["timeline","timelineName","title","userId","listId","statusId","bookmarkFolderId","tag","embedded","count","pinnedStatusIds","inProfile","footerSlipgate"],data(){return{showScrollTop:!1,paused:!1,unfocused:!1,bottomedOut:!1,virtualScrollIndex:0,blockingClicks:!1}},components:{Status:Di,ScrollTopButton:xbe,Conversation:mp,TimelineMenu:Hbe,QuickFilterSettings:_y,QuickViewSettings:M5},computed:{filteredVisibleStatuses(){return this.timeline.visibleStatuses.filter(e=>this.timelineName!=="user"||e.id>=this.timeline.minId&&e.id<=this.timeline.maxId)},filteredPinnedStatusIds(){return(this.pinnedStatusIds||[]).filter(e=>this.timeline.statusesObject[e])},newStatusCount(){return this.timeline.newStatusCount},showLoadButton(){return this.timeline.newStatusCount>0||this.timeline.flushMarker!==0},loadButtonString(){return this.timeline.flushMarker!==0?this.$t("timeline.reload"):`${this.$t("timeline.show_new")} (${this.newStatusCount})`},mobileLoadButtonString(){return this.timeline.flushMarker!==0?"+":this.newStatusCount>99?"":this.newStatusCount},classes(){let e=this.embedded?["-embedded"]:["panel","panel-default"];return this.blockingClicks&&(e=e.concat(["-blocked","_misclick-prevention"])),{root:e,header:["timeline-heading"].concat(this.embedded?["panel-body"]:["panel-heading","-sticky"]),body:["timeline-body"].concat(this.embedded?["panel-body"]:["panel-body"]),footer:["timeline-footer"].concat(this.embedded?["panel-body"]:["panel-footer"])}},pinnedStatusIdsObject(){return Z.keyBy(this.pinnedStatusIds)},statusesToDisplay(){const e=this.timeline.visibleStatuses.length,t=Math.ceil(Math.max(3,window.innerHeight/80)),n=this.virtualScrollIndex-this.filteredPinnedStatusIds.length,s=Math.max(0,n-t),o=Math.min(e,n+t);return this.timeline.visibleStatuses.slice(s,o).map(r=>r.id)},virtualScrollingEnabled(){return this.$store.getters.mergedConfig.virtualScrolling},..._n(Qe,{mobileLayout:e=>e.layoutType==="mobile"})},created(){const e=this.$store,t=e.state.users.currentUser.credentials,n=this.timeline.visibleStatuses.length===0;if(window.addEventListener("scroll",this.handleScroll),e.state.api.fetchers[this.timelineName])return!1;Kf.fetchAndUpdate({store:e,credentials:t,timeline:this.timelineName,showImmediately:n,userId:this.userId,listId:this.listId,statusId:this.statusId,bookmarkFolderId:this.bookmarkFolderId,tag:this.tag})},mounted(){typeof document.hidden<"u"&&(document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),this.unfocused=document.hidden),window.addEventListener("keydown",this.handleShortKey),setTimeout(this.determineVisibleStatuses,250)},unmounted(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("keydown",this.handleShortKey),typeof document.hidden<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1),this.$store.commit("setLoading",{timeline:this.timelineName,value:!1})},methods:{stopBlockingClicks:Z.debounce(function(){this.blockingClicks=!1},1e3),blockClicksTemporarily(){this.blockingClicks||(this.blockingClicks=!0),this.stopBlockingClicks()},handleShortKey(e){["textarea","input"].includes(e.target.tagName.toLowerCase())||e.key==="."&&this.showNewStatuses()},showNewStatuses(){this.timeline.flushMarker!==0?(this.$store.commit("clearTimeline",{timeline:this.timelineName,excludeUserId:!0}),this.$store.commit("queueFlush",{timeline:this.timelineName,id:0}),this.timelineName==="user"&&this.$store.dispatch("fetchPinnedStatuses",this.userId),this.fetchOlderStatuses()):(this.blockClicksTemporarily(),this.$store.commit("showNewStatuses",{timeline:this.timelineName}),this.paused=!1),window.scrollTo({top:0})},fetchOlderStatuses:Z.throttle(function(){const e=this.$store,t=e.state.users.currentUser.credentials;e.commit("setLoading",{timeline:this.timelineName,value:!0}),Kf.fetchAndUpdate({store:e,credentials:t,timeline:this.timelineName,older:!0,showImmediately:!0,userId:this.userId,listId:this.listId,statusId:this.statusId,bookmarkFolderId:this.bookmarkFolderId,tag:this.tag}).then(({statuses:n})=>{n&&n.length===0&&(this.bottomedOut=!0)}).finally(()=>e.commit("setLoading",{timeline:this.timelineName,value:!1}))},1e3,void 0),determineVisibleStatuses(){if(!this.$refs.timeline||!this.virtualScrollingEnabled)return;const e=this.$refs.timeline.children,t=Math.max(0,Math.min(this.virtualScrollIndex,e.length-1));if(e.length===0)return;const n=Math.max(document.body.offsetHeight,window.pageYOffset),s=window.pageYOffset+window.innerHeight*.5;let o=Math.floor(e.length*(s/n)),r=e[o].getBoundingClientRect().y;const i=e[t].getBoundingClientRect().y;for(Math.abs(r)>i&&(o=t,r=i);r<-20&&o<e.length-1;)r+=e[o].offsetHeight,o++;for(;r>window.innerHeight+100&&o>0;)o--,r-=e[o].offsetHeight;this.virtualScrollIndex=o},scrollLoad(){const e=document.body.getBoundingClientRect(),t=Math.max(e.height,-e.y);this.timeline.loading===!1&&this.$el.offsetHeight>0&&window.innerHeight+window.pageYOffset>=t-750&&this.fetchOlderStatuses()},handleScroll:Z.throttle(function(e){this.determineVisibleStatuses(),this.scrollLoad(e)},200),handleVisibilityChange(){this.unfocused=document.hidden}},watch:{newStatusCount(e){if(this.$store.getters.mergedConfig.streaming&&e>0){const t=document.documentElement;(window.pageYOffset||t.scrollTop)-(t.clientTop||0)<15&&!this.paused&&!(this.unfocused&&this.$store.getters.mergedConfig.pauseOnUnfocused)?this.showNewStatuses():this.paused=!0}}}},Xbe={key:0,class:"rightside-button"},Jbe=["title"],Zbe={class:"badge -counter"},Qbe=["title"],e0e={ref:"timeline",class:"timeline",role:"feed"},t0e={key:0,class:"new-status-notification text-center faint"},n0e={key:1,class:"new-status-notification text-center faint"},s0e={class:"new-status-notification text-center"},o0e={key:3,class:"new-status-notification text-center"},r0e={key:0};function i0e(e,t,n,s,o,r){const i=O("TimelineMenu"),a=O("ScrollTopButton"),c=O("FAIcon"),d=O("QuickFilterSettings"),f=O("QuickViewSettings"),h=O("conversation");return m(),b("div",{class:he(["Timeline",e.classes.root])},[e.embedded?E("",!0):(m(),b("div",{key:0,class:he(e.classes.header)},[e.embedded?E("",!0):(m(),K(i,{key:0,"timeline-name":e.timelineName},null,8,["timeline-name"])),A(a),e.mobileLayout?(m(),b(Te,{key:1},[e.showLoadButton?(m(),b("div",Xbe,[g("button",{class:"button-unstyled loadmore-button",title:e.loadButtonString,onClick:t[0]||(t[0]=Se((...v)=>e.showNewStatuses&&e.showNewStatuses(...v),["prevent"]))},[A(c,{"fixed-width":"",icon:"circle-plus"}),g("div",Zbe,w(e.mobileLoadButtonString),1)],8,Jbe)])):(m(),b("div",{key:1,class:"loadmore-text faint veryfaint rightside-icon",title:e.$t("timeline.up_to_date"),"aria-disabled":!0,onClick:t[1]||(t[1]=Se(()=>{},["prevent"]))},[A(c,{"fixed-width":"",icon:"check"})],8,Qbe))],64)):(m(),b(Te,{key:2},[e.showLoadButton?(m(),b("button",{key:0,class:"button-default loadmore-button",onClick:t[2]||(t[2]=Se((...v)=>e.showNewStatuses&&e.showNewStatuses(...v),["prevent"]))},w(e.loadButtonString),1)):(m(),b("div",{key:1,class:"loadmore-text faint",onClick:t[3]||(t[3]=Se(()=>{},["prevent"]))},w(e.$t("timeline.up_to_date")),1))],64)),e.mobileLayout?E("",!0):(m(),K(d,{key:3,class:"rightside-button"})),A(f,{class:"rightside-button"})],2)),g("div",{class:he(e.classes.body)},[g("div",e0e,[(m(!0),b(Te,null,Ke(e.filteredPinnedStatusIds,v=>(m(),K(h,{key:v+"-pinned",role:"listitem",class:"status-fadein","status-id":v,collapsable:!0,"pinned-status-ids-object":e.pinnedStatusIdsObject,"in-profile":e.inProfile,"profile-user-id":e.userId},null,8,["status-id","pinned-status-ids-object","in-profile","profile-user-id"]))),128)),(m(!0),b(Te,null,Ke(e.filteredVisibleStatuses,v=>(m(),K(h,{key:v.id,role:"listitem",class:"status-fadein","status-id":v.id,collapsable:!0,"in-profile":e.inProfile,"profile-user-id":e.userId,"virtual-hidden":e.virtualScrollingEnabled&&!e.statusesToDisplay.includes(v.id)},null,8,["status-id","in-profile","profile-user-id","virtual-hidden"]))),128))],512)],2),g("div",{class:he(e.classes.footer)},[(m(),K(es,{to:e.footerSlipgate,disabled:!e.embedded||!e.footerSlipgate},[e.count===0?(m(),b("div",t0e,w(e.$t("timeline.no_statuses")),1)):e.bottomedOut?(m(),b("div",n0e,w(e.$t("timeline.no_more_statuses")),1)):e.timeline.loading?(m(),b("div",o0e,[A(c,{icon:"circle-notch",spin:"",size:"lg"})])):(m(),b("button",{key:2,class:"button-unstyled -link",onClick:t[4]||(t[4]=Se(v=>e.fetchOlderStatuses(),["prevent"]))},[g("div",s0e,w(e.$t("timeline.load_older")),1)]))],8,["to","disabled"])),e.embedded&&e.footerSlipgate?(m(),b("span",r0e)):E("",!0)],2)],2)}const Br=be(Ybe,[["render",i0e]]),a0e={components:{Timeline:Br},computed:{timeline(){return this.$store.state.statuses.timelines.public}},created(){this.$store.dispatch("startFetchingTimeline",{timeline:"public"})},unmounted(){this.$store.dispatch("stopFetchingTimeline","public")}};function l0e(e,t,n,s,o,r){const i=O("Timeline");return m(),K(i,{title:e.$t("nav.public_tl"),timeline:e.timeline,"timeline-name":"public"},null,8,["title","timeline"])}const c0e=be(a0e,[["render",l0e]]),u0e={components:{Timeline:Br},computed:{timeline(){return this.$store.state.statuses.timelines.publicAndExternal}},created(){this.$store.dispatch("startFetchingTimeline",{timeline:"publicAndExternal"})},unmounted(){this.$store.dispatch("stopFetchingTimeline","publicAndExternal")}};function d0e(e,t,n,s,o,r){const i=O("Timeline");return m(),K(i,{title:e.$t("nav.twkn"),timeline:e.timeline,"timeline-name":"publicAndExternal"},null,8,["title","timeline"])}const f0e=be(u0e,[["render",d0e]]),h0e={components:{Timeline:Br},computed:{timeline(){return this.$store.state.statuses.timelines.friends}}};function p0e(e,t,n,s,o,r){const i=O("Timeline");return m(),K(i,{title:e.$t("nav.timeline"),timeline:e.timeline,"timeline-name":"friends"},null,8,["title","timeline"])}const m0e=be(h0e,[["render",p0e]]),g0e={created(){this.$store.commit("clearTimeline",{timeline:"tag"}),this.$store.dispatch("startFetchingTimeline",{timeline:"tag",tag:this.tag})},components:{Timeline:Br},computed:{tag(){return this.$route.params.tag},timeline(){return this.$store.state.statuses.timelines.tag}},watch:{tag(){this.$store.commit("clearTimeline",{timeline:"tag"}),this.$store.dispatch("startFetchingTimeline",{timeline:"tag",tag:this.tag})}},unmounted(){this.$store.dispatch("stopFetchingTimeline","tag")}};function v0e(e,t,n,s,o,r){const i=O("Timeline");return m(),K(i,{title:e.tag,timeline:e.timeline,"timeline-name":"tag",tag:e.tag},null,8,["title","timeline","tag"])}const b0e=be(g0e,[["render",v0e]]),_0e={created(){this.$store.commit("clearTimeline",{timeline:"bookmarks"}),this.$store.dispatch("startFetchingTimeline",{timeline:"bookmarks",bookmarkFolderId:this.folderId||null})},components:{Timeline:Br},computed:{folderId(){return this.$route.params.id},timeline(){return this.$store.state.statuses.timelines.bookmarks}},watch:{folderId(){this.$store.commit("clearTimeline",{timeline:"bookmarks"}),this.$store.dispatch("stopFetchingTimeline","bookmarks"),this.$store.dispatch("startFetchingTimeline",{timeline:"bookmarks",bookmarkFolderId:this.folderId||null})}},unmounted(){this.$store.commit("clearTimeline",{timeline:"bookmarks"}),this.$store.dispatch("stopFetchingTimeline","bookmarks")}};function y0e(e,t,n,s,o,r){const i=O("Timeline");return m(),K(i,{title:e.$t("nav.bookmarks"),timeline:e.timeline,"timeline-name":"bookmarks","bookmark-folder-id":e.folderId},null,8,["title","timeline","bookmark-folder-id"])}const yC=be(_0e,[["render",y0e]]),w0e={components:{Conversation:mp},computed:{statusId(){return this.$route.params.id}}};function S0e(e,t,n,s,o,r){const i=O("conversation");return m(),K(i,{collapsable:!1,"is-page":"true","status-id":e.statusId},null,8,["status-id"])}const k0e=be(w0e,[["render",S0e]]),wC=e=>e.findIndex(t=>t.props),gp={name:"TabSwitcher",props:{renderOnlyFocused:{required:!1,type:Boolean,default:!1},onSwitch:{required:!1,type:Function,default:void 0},activeTab:{required:!1,type:String,default:void 0},scrollableTabs:{required:!1,type:Boolean,default:!1},sideTabBar:{required:!1,type:Boolean,default:!1},bodyScrollLock:{required:!1,type:Boolean,default:!1}},data(){return{active:wC(this.slots())}},computed:{activeIndex(){return this.activeTab?this.slots().findIndex(e=>e&&e.props&&this.activeTab===e.props.key):this.active},isActive(){return e=>{const t=n=>n.props&&n.props["data-tab-name"]===e;return this.$slots.default().findIndex(t)===this.activeIndex}}},beforeUpdate(){this.slots()[this.active].props||(this.active=wC(this.slots()))},methods:{clickTab(e){return t=>{t.preventDefault(),this.setTab(e)}},slots(){return this.$slots.default()[0].type===Te?this.$slots.default()[0].children:this.$slots.default()},setTab(e){typeof this.onSwitch=="function"&&this.onSwitch.call(null,this.slots()[e].key),this.active=e,this.scrollableTabs&&(this.$refs.contents.scrollTop=0)}},render(){const e=this.slots().map((n,s)=>{const o=n.props;if(!o)return;const r=["tab"],i=["tab-wrapper"];return this.activeIndex===s&&(r.push("active"),i.push("active")),o.image?A("div",{class:i.join(" ")},[A("button",{disabled:o.disabled,onClick:this.clickTab(s),class:r.join(" "),type:"button",role:"tab"},[A("img",{src:o.image,title:o["image-tooltip"]},null),o.label?"":o.label])]):A("div",{class:i.join(" ")},[A("button",{disabled:o.disabled,onClick:this.clickTab(s),class:r.join(" "),type:"button",role:"tab"},[o.icon?A(fy,{class:"tab-icon",size:"2x","fixed-width":!0,icon:o.icon},null):"",A("span",{class:"text"},[o.label])])])}),t=this.slots().map((n,s)=>{const o=n.props;if(!o)return;const r=this.activeIndex===s,i=[r?"active":"hidden"];o.fullHeight&&i.push("full-height");let a=n.props["delay-render"];a&&r&&(n.props["delay-render"]=!1,a=!1);const c=!a&&(!this.renderOnlyFocused||r)?n:"";return A("div",{class:i},[this.sideTabBar?A("h1",{class:"mobile-label"},[o.label]):"",c])});return A("div",{class:"tab-switcher "+(this.sideTabBar?"side-tabs":"top-tabs")},[A("div",{class:"tabs",role:"tablist"},[e]),ot(A("div",{ref:"contents",role:"tabpanel",class:"contents"+(this.scrollableTabs?" scrollable-tabs":"")},[t]),[[Dl("body-scroll-lock"),this.bodyScrollLock]])])}},SC={mentions:["mention"],statuses:["status"],"likes+repeats":["repeat","like"],follows:["follow"],reactions:["pleroma:emoji_reaction"],reports:["pleroma:report"],moves:["move"]},$0e={data(){return{allowFollowingMove:this.$store.state.users.currentUser.allow_following_move,filterMode:SC.mentions,canSeeReports:this.$store.state.users.currentUser.privileges.includes("reports_manage_reports")}},methods:{onModeSwitch(e){this.filterMode=SC[e]}},components:{Notifications:pp,TabSwitcher:gp}},C0e={class:"panel panel-default"},T0e={class:"panel-heading"},A0e={class:"title"},E0e=["label"],I0e=["label"],P0e=["label"],L0e=["label"],O0e=["label"],R0e=["label"],M0e=["label"];function N0e(e,t,n,s,o,r){const i=O("tab-switcher"),a=O("Notifications");return m(),b("div",C0e,[g("div",T0e,[g("h1",A0e,w(e.$t("nav.interactions")),1)]),A(i,{ref:"tabSwitcher","on-switch":e.onModeSwitch},{default:X(()=>[g("span",{key:"statuses",label:e.$t("nav.mentions")},null,8,E0e),g("span",{key:"statuses",label:e.$t("interactions.statuses")},null,8,I0e),g("span",{key:"likes+repeats",label:e.$t("interactions.favs_repeats")},null,8,P0e),g("span",{key:"follows",label:e.$t("interactions.follows")},null,8,L0e),g("span",{key:"reactions",label:e.$t("interactions.emoji_reactions")},null,8,O0e),e.canSeeReports?(m(),b("span",{key:"reports",label:e.$t("interactions.reports")},null,8,R0e)):E("",!0),e.allowFollowingMove?E("",!0):(m(),b("span",{key:"moves",label:e.$t("interactions.moves")},null,8,M0e))]),_:1},8,["on-switch"]),A(a,{ref:"notifications","no-heading":!0,"no-extra":!0,"minimal-mode":!0,"filter-mode":e.filterMode},null,8,["filter-mode"])])}const F0e=be($0e,[["render",N0e]]),D0e={computed:{timeline(){return this.$store.state.statuses.timelines.dms}},components:{Timeline:Br}};function U0e(e,t,n,s,o,r){const i=O("Timeline");return m(),K(i,{title:e.$t("nav.dms"),timeline:e.timeline,"timeline-name":"dms"},null,8,["title","timeline"])}const j0e=be(D0e,[["render",U0e]]),B0e={name:"ChatTitle",components:{UserAvatar:xs,RichContent:Po,UserPopover:fo(()=>He(()=>Promise.resolve().then(()=>vy),void 0))},props:["user","withAvatar"],computed:{title(){return this.user?this.user.screen_name_ui:""},htmlTitle(){return this.user?this.user.name_html:""}}},z0e=["title"];function q0e(e,t,n,s,o,r){const i=O("UserAvatar"),a=O("UserPopover"),c=O("RichContent");return m(),b("div",{class:"chat-title",title:e.title},[e.withAvatar&&e.user?(m(),K(a,{key:0,class:"avatar-container","user-id":e.user.id},{default:X(()=>[A(i,{class:"titlebar-avatar",user:e.user},null,8,["user"])]),_:1},8,["user-id"])):E("",!0),e.user?(m(),K(c,{key:1,class:"username",title:"@"+(e.user&&e.user.screen_name_ui),html:e.htmlTitle,emoji:e.user.emoji||[]},null,8,["title","html","emoji"])):E("",!0)],8,z0e)}const N5=be(B0e,[["render",q0e]]),H0e={name:"ChatListItem",props:["chat"],components:{UserAvatar:xs,AvatarList:L5,Timeago:Ku,ChatTitle:N5,StatusBody:Pa},computed:{...hn({currentUser:e=>e.users.currentUser}),attachmentInfo(){if(this.chat.lastMessage.attachments.length===0)return;const e=this.chat.lastMessage.attachments.map(t=>wa.fileType(t.mimetype));return e.includes("video")?this.$t("file_type.video"):e.includes("audio")?this.$t("file_type.audio"):e.includes("image")?this.$t("file_type.image"):this.$t("file_type.file")},messageForStatusContent(){const e=this.chat.lastMessage,t=e?e.emojis:[],n=e&&e.account_id===this.currentUser.id,s=e?this.attachmentInfo||e.content:"",o=n?`<i>${this.$t("chats.you")}</i> ${s}`:s;return{summary:"",emojis:t,raw_html:o,text:o,attachments:[]}}},methods:{openChat(){this.chat.id&&this.$router.push({name:"chat",params:{username:this.currentUser.screen_name,recipient_id:this.chat.account.id}})}}},V0e={class:"chat-list-item-left"},W0e={class:"chat-list-item-center"},G0e={class:"heading"},K0e={key:0,class:"name-and-account-name"},x0e={class:"time-wrapper"},Y0e={class:"chat-preview"},X0e={key:0,class:"badge -notification unread-chat-count"};function J0e(e,t,n,s,o,r){const i=O("UserAvatar"),a=O("ChatTitle"),c=O("Timeago"),d=O("StatusBody");return m(),b("div",{class:"chat-list-item",onClickCapture:t[0]||(t[0]=Se((...f)=>e.openChat&&e.openChat(...f),["prevent"]))},[g("div",V0e,[A(i,{user:e.chat.account,height:"48px",width:"48px"},null,8,["user"])]),g("div",W0e,[g("div",G0e,[e.chat.account?(m(),b("span",K0e,[A(a,{user:e.chat.account},null,8,["user"])])):E("",!0),t[1]||(t[1]=g("span",{class:"heading-right"},null,-1)),g("div",x0e,[A(c,{time:e.chat.updated_at,"auto-update":60},null,8,["time"])])]),g("div",Y0e,[A(d,{class:"chat-preview-body",status:e.messageForStatusContent,"single-line":!0},null,8,["status"]),e.chat.unread>0?(m(),b("div",X0e,w(e.chat.unread),1)):E("",!0)])])],32)}const Z0e=be(H0e,[["render",J0e]]),Q0e={props:["user"],components:{UserPopover:hp,UserAvatar:xs,RichContent:Po,UserLink:xu},methods:{userProfileLink(e){return Jo(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)}}},e_e={class:"basic-user-card"},t_e={class:"basic-user-card-collapsed-content"},n_e=["title"];function s_e(e,t,n,s,o,r){const i=O("UserAvatar"),a=O("UserPopover"),c=O("router-link"),d=O("RichContent"),f=O("user-link");return m(),b("div",e_e,[A(c,{to:e.userProfileLink(e.user),onClick:t[1]||(t[1]=Se(()=>{},["prevent"]))},{default:X(()=>[A(a,{"user-id":e.user.id,"overlay-centers":!0,"overlay-centers-selector":".avatar"},{default:X(()=>[A(i,{class:"user-avatar avatar",user:e.user,onClick:t[0]||(t[0]=Se(()=>{},["prevent"]))},null,8,["user"])]),_:1},8,["user-id"])]),_:1},8,["to"]),g("div",t_e,[g("div",{title:e.user.name,class:"basic-user-card-user-name"},[A(d,{class:"basic-user-card-user-name-value",html:e.user.name,emoji:e.user.emoji},null,8,["html","emoji"])],8,n_e),g("div",null,[A(f,{class:"basic-user-card-screen-name",user:e.user},null,8,["user"])]),Ft(e.$slots,"default")])])}const Ju=be(Q0e,[["render",s_e]]);et.add($a,Ta);const o_e={components:{BasicUserCard:Ju,UserAvatar:xs},data(){return{suggestions:[],userIds:[],loading:!1,query:""}},async created(){const{chats:e}=await this.backendInteractor.chats();e.forEach(t=>this.suggestions.push(t.account))},computed:{users(){return this.userIds.map(e=>this.findUser(e))},availableUsers(){return this.query.length!==0?this.users:this.suggestions},...hn({currentUser:e=>e.users.currentUser,backendInteractor:e=>e.api.backendInteractor}),...Zt(["findUser"])},methods:{goBack(){this.$emit("cancel")},goToChat(e){this.$router.push({name:"chat",params:{recipient_id:e.id}})},onInput(){this.search(this.query)},addUser(e){this.selectedUserIds.push(e.id),this.query=""},removeUser(e){this.selectedUserIds=this.selectedUserIds.filter(t=>t!==e)},search(e){if(!e){this.loading=!1;return}this.loading=!0,this.userIds=[],this.$store.dispatch("search",{q:e,resolve:!0,type:"accounts"}).then(t=>{this.loading=!1,this.userIds=t.accounts.map(n=>n.id)})}}},r_e={class:"panel-default panel chat-new"},i_e={ref:"header",class:"panel-heading"},a_e={class:"panel-body"},l_e={class:"input-wrap"},c_e={class:"input-search"},u_e={class:"member-list"},d_e=["onClickCapture"];function f_e(e,t,n,s,o,r){const i=O("FAIcon"),a=O("BasicUserCard");return m(),b("div",r_e,[g("div",i_e,[g("button",{class:"button-unstyled go-back-button",onClick:t[0]||(t[0]=(...c)=>e.goBack&&e.goBack(...c))},[A(i,{size:"lg",icon:"chevron-left"})])],512),g("div",a_e,[g("div",l_e,[g("div",c_e,[A(i,{class:"search-icon fa-scale-110 fa-old-padding",icon:"search"})]),ot(g("input",{ref:"search","onUpdate:modelValue":t[1]||(t[1]=c=>e.query=c),class:"input",placeholder:"Search people",onInput:t[2]||(t[2]=(...c)=>e.onInput&&e.onInput(...c))},null,544),[[Mt,e.query]])]),g("div",u_e,[(m(!0),b(Te,null,Ke(e.availableUsers,c=>(m(),b("div",{key:c.id,class:"list-item",onClickCapture:Se(d=>e.goToChat(c),["prevent"])},[A(a,{user:c},null,8,["user"])],40,d_e))),128))])])])}const h_e=be(o_e,[["render",f_e]]),p_e={components:{ChatListItem:Z0e,List:Xu,ChatNew:h_e},computed:{...hn({currentUser:e=>e.users.currentUser}),...Zt(["sortedChatList"])},data(){return{isNew:!1}},created(){this.$store.dispatch("fetchChats",{latest:!0})},methods:{cancelNewChat(){this.isNew=!1,this.$store.dispatch("fetchChats",{latest:!0})},newChat(){this.isNew=!0}}},m_e={key:0},g_e={key:1,class:"chat-list panel panel-default"},v_e={class:"panel-heading -sticky"},b_e={class:"title"},__e={class:"panel-body"},y_e={key:0,class:"timeline"},w_e={key:1,class:"empty-chat-list-alert"};function S_e(e,t,n,s,o,r){const i=O("ChatNew"),a=O("ChatListItem"),c=O("List");return e.isNew?(m(),b("div",m_e,[A(i,{onCancel:e.cancelNewChat},null,8,["onCancel"])])):(m(),b("div",g_e,[g("div",v_e,[g("h1",b_e,w(e.$t("chats.chats")),1),g("button",{class:"button-default",onClick:t[0]||(t[0]=(...d)=>e.newChat&&e.newChat(...d))},w(e.$t("chats.new")),1)]),g("div",__e,[e.sortedChatList.length>0?(m(),b("div",y_e,[A(c,{items:e.sortedChatList},{item:X(({item:d})=>[(m(),K(a,{key:d.id,compact:!1,chat:d},null,8,["chat"]))]),_:1},8,["items"])])):(m(),b("div",w_e,[g("span",null,w(e.$t("chats.empty_chat_list_placeholder")),1)]))])]))}const k_e=be(p_e,[["render",S_e]]),$_e={name:"Timeago",props:["date"],computed:{displayDate(){const e=new Date;return e.setHours(0,0,0,0),this.date.getTime()===e.getTime()?this.$t("display_date.today"):this.date.toLocaleDateString(ko.internalToBrowserLocale(this.$i18n.locale),{day:"numeric",month:"long"})}}};function C_e(e,t,n,s,o,r){return m(),b("time",null,w(r.displayDate),1)}const T_e=be($_e,[["render",C_e]]);et.add(Yn,Hu);const A_e={name:"ChatMessage",props:["author","edited","noHeading","chatViewItem","hoveredMessageChain"],emits:["hover"],components:{Popover:fs,Attachment:cp,StatusContent:Pa,UserAvatar:xs,Gallery:up,LinkPreview:c5,ChatMessageDate:T_e,UserPopover:fo(()=>He(()=>Promise.resolve().then(()=>vy),void 0))},computed:{createdAt(){return this.chatViewItem.data.created_at.toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit",hour12:!1})},isCurrentUser(){return this.message.account_id===this.currentUser.id},message(){return this.chatViewItem.data},isMessage(){return this.chatViewItem.type==="message"},messageForStatusContent(){return{summary:"",emojis:this.message.emojis,raw_html:this.message.content||"",text:this.message.content||"",attachments:this.message.attachments}},hasAttachment(){return this.message.attachments.length>0},..._n(Qe,{betterShadow:e=>e.browserSupport.cssFilter}),...hn({currentUser:e=>e.users.currentUser,restrictedNicknames:e=>e.instance.restrictedNicknames}),popoverMarginStyle(){return this.isCurrentUser?{}:{left:50}},...Zt(["mergedConfig","findUser"])},data(){return{hovered:!1,menuOpened:!1}},methods:{onHover(e){this.$emit("hover",{isHovered:e,messageChainId:this.chatViewItem.messageChainId})},async deleteMessage(){window.confirm(this.$t("chats.delete_confirm"))&&await this.$store.dispatch("deleteChatMessage",{messageId:this.chatViewItem.data.id,chatId:this.chatViewItem.data.chat_id}),this.hovered=!1,this.menuOpened=!1}}},E_e={key:0,class:"avatar-wrapper"},I_e={class:"chat-message-inner"},P_e={class:"dropdown-menu"},L_e={class:"menu-item dropdown-item -icon"},O_e=["title"],R_e={class:"created-at"},M_e={key:1,class:"chat-message-date-separator"};function N_e(e,t,n,s,o,r){const i=O("UserAvatar"),a=O("UserPopover"),c=O("FAIcon"),d=O("Popover"),f=O("StatusContent"),h=O("ChatMessageDate");return e.isMessage?(m(),b("div",{key:0,class:he(["chat-message-wrapper",{"hovered-message-chain":e.hoveredMessageChain}]),onMouseover:t[5]||(t[5]=v=>e.onHover(!0)),onMouseleave:t[6]||(t[6]=v=>e.onHover(!1))},[g("div",{class:he(["chat-message",[{outgoing:e.isCurrentUser,incoming:!e.isCurrentUser}]])},[e.isCurrentUser?E("",!0):(m(),b("div",E_e,[e.chatViewItem.isHead?(m(),K(a,{key:0,"user-id":e.author.id},{default:X(()=>[A(i,{compact:!0,user:e.author},null,8,["user"])]),_:1},8,["user-id"])):E("",!0)])),g("div",I_e,[g("div",{class:"status-body",style:gn({"min-width":e.message.attachment?"80%":""})},[g("div",{class:he(["media status",{"without-attachment":!e.hasAttachment,pending:e.chatViewItem.data.pending,error:e.chatViewItem.data.error}]),style:{position:"relative"},onMouseenter:t[3]||(t[3]=v=>e.hovered=!0),onMouseleave:t[4]||(t[4]=v=>e.hovered=!1)},[g("div",{class:he(["chat-message-menu",{visible:e.hovered||e.menuOpened}])},[A(d,{trigger:"click",placement:"top","bound-to-selector":".chat-view-inner","bound-to":{x:"container"},margin:e.popoverMarginStyle,onShow:t[1]||(t[1]=v=>e.menuOpened=!0),onClose:t[2]||(t[2]=v=>e.menuOpened=!1)},{content:X(()=>[g("div",P_e,[g("div",L_e,[g("button",{class:"main-button",onClick:t[0]||(t[0]=(...v)=>e.deleteMessage&&e.deleteMessage(...v))},[A(c,{icon:"times"}),fe(" "+w(e.$t("chats.delete")),1)])])])]),trigger:X(()=>[g("button",{class:"button-default menu-icon",title:e.$t("chats.more")},[A(c,{icon:"ellipsis-h"})],8,O_e)]),_:1},8,["margin"])],2),A(f,{class:"message-content",status:e.messageForStatusContent,"full-content":!0},{footer:X(()=>[g("span",R_e,w(e.createdAt),1)]),_:1},8,["status"])],34)],4)])],2)],34)):(m(),b("div",M_e,[A(h,{date:e.chatViewItem.date},null,8,["date"])]))}const F_e=be(A_e,[["render",N_e]]),Rc=()=>({scrollTop:window.scrollY,scrollHeight:document.documentElement.scrollHeight,offsetHeight:window.innerHeight}),D_e=(e,t)=>e.scrollTop+(t.scrollHeight-e.scrollHeight),U_e=(e=0)=>{const t=window.scrollY+e;return document.documentElement.scrollHeight-window.innerHeight<=t},j_e=()=>document.documentElement.scrollHeight>window.innerHeight;et.add(Ca,Ta);const kC=10,$C=10,B_e=100,z_e=1500,cf=10,q_e={components:{ChatMessage:F_e,ChatTitle:N5,PostStatusForm:ql},data(){return{jumpToBottomButtonVisible:!1,hoveredMessageChainId:void 0,lastScrollPosition:{},scrollableContainerHeight:"100%",errorLoadingChat:!1,messageRetriers:{}}},created(){this.startFetching(),window.addEventListener("resize",this.handleResize)},mounted(){window.addEventListener("scroll",this.handleScroll),typeof document.hidden<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),this.$nextTick(()=>{this.handleResize()})},unmounted(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize),typeof document.hidden<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1),this.$store.dispatch("clearCurrentChat")},computed:{recipient(){return this.currentChat&&this.currentChat.account},recipientId(){return this.$route.params.recipient_id},formPlaceholder(){return this.recipient?this.$t("chats.message_user",{nickname:this.recipient.screen_name_ui}):""},chatViewItems(){return Bo.getView(this.currentChatMessageService)},newMessageCount(){return this.currentChatMessageService&&this.currentChatMessageService.newMessageCount},streamingEnabled(){return this.mergedConfig.useStreamingApi&&this.mastoUserSocketStatus===qs.JOINED},...Zt(["currentChat","currentChatMessageService","findOpenedChatByRecipientId","mergedConfig"]),..._n(Qe,{mobileLayout:e=>e.layoutType==="mobile"}),...hn({backendInteractor:e=>e.api.backendInteractor,mastoUserSocketStatus:e=>e.api.mastoUserSocketStatus,currentUser:e=>e.users.currentUser})},watch:{chatViewItems(){const e=this.bottomedOut(kC);this.$nextTick(()=>{e&&this.scrollDown()})},$route:function(){this.startFetching()},mastoUserSocketStatus(e){e===qs.JOINED&&this.fetchChat({isFirstFetch:!0})}},methods:{onMessageHover({isHovered:e,messageChainId:t}){this.hoveredMessageChainId=e?t:void 0},onFilesDropped(){this.$nextTick(()=>{this.handleResize()})},handleVisibilityChange(){this.$nextTick(()=>{!document.hidden&&this.bottomedOut(kC)&&this.scrollDown({forceRead:!0})})},handleResize(e={}){const{delayed:t=!1}=e;if(t){setTimeout(()=>{this.handleResize({...e,delayed:!1})},B_e);return}this.$nextTick(()=>{const{offsetHeight:n=void 0}=Rc(),s=n-this.lastScrollPosition.offsetHeight;s!==0&&!this.bottomedOut()&&this.$nextTick(()=>{window.scrollBy({top:-Math.trunc(s)})}),this.lastScrollPosition=Rc()})},scrollDown(e={}){const{behavior:t="auto",forceRead:n=!1}=e;this.$nextTick(()=>{window.scrollTo({top:document.documentElement.scrollHeight,behavior:t})}),n&&this.readChat()},readChat(){if(!(this.currentChatMessageService&&this.currentChatMessageService.maxId)||document.hidden)return;const e=this.currentChatMessageService.maxId;this.$store.dispatch("readChat",{id:this.currentChat.id,lastReadId:e})},bottomedOut(e){return U_e(e)},reachedTop(){return window.scrollY<=0},cullOlderCheck(){window.setTimeout(()=>{this.bottomedOut($C)&&this.$store.dispatch("cullOlderMessages",this.currentChatMessageService.chatId)},5e3)},handleScroll:Si.throttle(function(){this.lastScrollPosition=Rc(),this.currentChat&&(this.reachedTop()?this.fetchChat({maxId:this.currentChatMessageService.minId}):this.bottomedOut($C)?(this.jumpToBottomButtonVisible=!1,this.cullOlderCheck(),this.newMessageCount>0&&window.setTimeout(()=>{this.$el&&this.readChat()},z_e)):this.jumpToBottomButtonVisible=!0)},200),handleScrollUp(e){const t=Rc();window.scrollTo({top:D_e(e,t)})},fetchChat({isFirstFetch:e=!1,fetchLatest:t=!1,maxId:n}){const s=this.currentChatMessageService;if(!s||t&&this.streamingEnabled)return;const o=s.chatId,r=!!n,i=t&&s.maxId;return this.backendInteractor.chatMessages({id:o,maxId:n,sinceId:i}).then(a=>{e&&Bo.clear(s);const c=Rc();this.$store.dispatch("addChatMessages",{chatId:o,messages:a}).then(()=>{this.$nextTick(()=>{r&&this.handleScrollUp(c),!j_e()&&a.length>0&&this.fetchChat({maxId:this.currentChatMessageService.minId})})})})},async startFetching(){let e=this.findOpenedChatByRecipientId(this.recipientId);if(!e)try{e=await this.backendInteractor.getOrCreateChat({accountId:this.recipientId})}catch(t){console.error("Error creating or getting a chat",t),this.errorLoadingChat=!0}e&&(this.$nextTick(()=>{this.scrollDown({forceRead:!0})}),this.$store.dispatch("addOpenedChat",{chat:e}),this.doStartFetching())},doStartFetching(){this.$store.dispatch("startFetchingCurrentChat",{fetcher:()=>Ea(()=>this.fetchChat({fetchLatest:!0}),5e3)}),this.fetchChat({isFirstFetch:!0})},handleAttachmentPosting(){this.$nextTick(()=>{this.handleResize(),this.scrollDown({forceRead:!0})})},sendMessage({status:e,media:t,idempotencyKey:n}){const s={id:this.currentChat.id,content:e,idempotencyKey:n};t[0]&&(s.mediaId=t[0].id);const o=ZJ({attachments:t,chatId:this.currentChat.id,content:e,userId:this.currentUser.id,idempotencyKey:n});return this.$store.dispatch("addChatMessages",{chatId:this.currentChat.id,messages:[o]}).then(()=>{this.handleAttachmentPosting()}),this.doSendMessage({params:s,fakeMessage:o,retriesLeft:cf})},doSendMessage({params:e,fakeMessage:t,retriesLeft:n=cf}){if(!(n<=0))return this.backendInteractor.sendChatMessage(e).then(s=>(this.$store.dispatch("addChatMessages",{chatId:this.currentChat.id,updateMaxId:!1,messages:[{...s,fakeId:t.id}]}),s)).catch(s=>(console.error("Error sending message",s),this.$store.dispatch("handleMessageError",{chatId:this.currentChat.id,fakeId:t.id,isRetry:n!==cf}),(s.statusCode>=500&&s.statusCode<600||s.message==="Failed to fetch")&&(this.messageRetriers[t.id]=setTimeout(()=>{this.doSendMessage({params:e,fakeMessage:t,retriesLeft:n-1})},1e3*2**(cf-n))),{})),Promise.resolve(t)},goBack(){this.$router.push({name:"chats",params:{username:this.currentUser.screen_name}})}}},H_e={class:"chat-view"},V_e={class:"chat-view-inner"},W_e={ref:"inner",class:"panel-default panel chat-view-body"},G_e={ref:"header",class:"panel-heading -sticky chat-view-heading"},K_e={class:"title text-center"},x_e={key:1,class:"chat-loading-error"},Y_e={class:"alert error"},X_e={ref:"footer",class:"panel-body footer"},J_e={key:0,class:"badge -notification unread-chat-count unread-message-count"};function Z_e(e,t,n,s,o,r){const i=O("FAIcon"),a=O("ChatTitle"),c=O("ChatMessage"),d=O("PostStatusForm");return m(),b("div",H_e,[g("div",V_e,[g("div",W_e,[g("div",G_e,[g("button",{class:"button-unstyled go-back-button",onClick:t[0]||(t[0]=(...f)=>e.goBack&&e.goBack(...f))},[A(i,{size:"lg",icon:"chevron-left"})]),g("div",K_e,[A(a,{user:e.recipient,"with-avatar":!0},null,8,["user"])])],512),g("div",{class:"chat-message-list message-list",style:gn({height:e.scrollableContainerHeight})},[e.errorLoadingChat?(m(),b("div",x_e,[g("div",Y_e,w(e.$t("chats.error_loading_chat")),1)])):(m(!0),b(Te,{key:0},Ke(e.chatViewItems,f=>(m(),K(c,{key:f.id,author:e.recipient,"chat-view-item":f,"hovered-message-chain":f.messageChainId===e.hoveredMessageChainId,onHover:e.onMessageHover},null,8,["author","chat-view-item","hovered-message-chain","onHover"]))),128))],4),g("div",X_e,[g("div",{class:he(["jump-to-bottom-button",{visible:e.jumpToBottomButtonVisible}]),onClick:t[1]||(t[1]=f=>e.scrollDown({behavior:"smooth"}))},[g("span",null,[A(i,{icon:"chevron-down"}),e.newMessageCount?(m(),b("div",J_e,w(e.newMessageCount),1)):E("",!0)])],2),A(d,{"disable-subject":!0,"disable-scope-selector":!0,"disable-notice":!0,"disable-lock-warning":!0,"disable-polls":!0,"disable-sensitivity-checkbox":!0,"disable-submit":e.errorLoadingChat||!e.currentChat,"disable-preview":!0,"disable-draft":!0,"optimistic-posting":!0,"post-handler":e.sendMessage,"submit-on-enter":!e.mobileLayout,"preserve-focus":!e.mobileLayout,"auto-focus":!e.mobileLayout,placeholder:e.formPlaceholder,"file-limit":1,"max-height":"160","emoji-picker-placement":"top",onResize:e.handleResize},null,8,["disable-submit","post-handler","submit-on-enter","preserve-focus","auto-focus","placeholder","onResize"])],512)],512)])])}const Q_e=be(q_e,[["render",Z_e]]),eye={props:["user","relationship"],data(){return{inProgress:!1,showingConfirmRemoveFollower:!1}},components:{ConfirmModal:Zo},computed:{label(){return this.inProgress?this.$t("user_card.follow_progress"):this.$t("user_card.remove_follower")},shouldConfirmRemoveUserFromFollowers(){return this.$store.getters.mergedConfig.modalOnRemoveUserFromFollowers}},methods:{showConfirmRemoveUserFromFollowers(){this.showingConfirmRemoveFollower=!0},hideConfirmRemoveUserFromFollowers(){this.showingConfirmRemoveFollower=!1},onClick(){this.shouldConfirmRemoveUserFromFollowers?this.showConfirmRemoveUserFromFollowers():this.doRemoveUserFromFollowers()},doRemoveUserFromFollowers(){this.inProgress=!0,this.$store.dispatch("removeUserFromFollowers",this.relationship.id).then(()=>{this.inProgress=!1}),this.hideConfirmRemoveUserFromFollowers()}}},tye=["disabled","title"],nye=["textContent"];function sye(e,t,n,s,o,r){const i=O("i18n-t"),a=O("confirm-modal");return m(),b("button",{class:he(["btn button-default follow-button",{toggled:e.inProgress}]),disabled:e.inProgress,title:e.$t("user_card.remove_follower"),onClick:t[0]||(t[0]=(...c)=>e.onClick&&e.onClick(...c))},[fe(w(e.label)+" ",1),(m(),K(es,{to:"#modal"},[e.showingConfirmRemoveFollower?(m(),K(a,{key:0,title:e.$t("user_card.remove_follower_confirm_title"),"confirm-text":e.$t("user_card.remove_follower_confirm_accept_button"),"cancel-text":e.$t("user_card.remove_follower_confirm_cancel_button"),onAccepted:e.doRemoveUserFromFollowers,onCancelled:e.hideConfirmRemoveUserFromFollowers},{default:X(()=>[A(i,{scope:"global",keypath:"user_card.remove_follower_confirm",tag:"span"},{user:X(()=>[g("span",{textContent:w(e.user.screen_name_ui)},null,8,nye)]),_:1})]),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):E("",!0)]))],10,tye)}const oye=be(eye,[["render",sye]]),rye={props:["user","noFollowsYou"],components:{BasicUserCard:Ju,RemoteFollow:d5,FollowButton:p5,RemoveFollowerButton:oye},computed:{isMe(){return this.$store.state.users.currentUser.id===this.user.id},loggedIn(){return this.$store.state.users.currentUser},relationship(){return this.$store.getters.relationship(this.user.id)}}},iye={class:"follow-card-content-container"},aye={key:0,class:"faint"},lye={key:0,class:"follow-card-follow-button"};function cye(e,t,n,s,o,r){const i=O("RemoteFollow"),a=O("FollowButton"),c=O("RemoveFollowerButton"),d=O("basic-user-card");return m(),K(d,{user:e.user},{default:X(()=>[g("div",iye,[e.isMe||!e.noFollowsYou&&e.relationship.followed_by?(m(),b("span",aye,w(e.isMe?e.$t("user_card.its_you"):e.$t("user_card.follows_you")),1)):E("",!0),e.loggedIn?e.isMe?E("",!0):(m(),b(Te,{key:2},[A(a,{relationship:e.relationship,"label-following":e.$t("user_card.follow_unfollow"),class:"follow-card-follow-button",user:e.user},null,8,["relationship","label-following","user"]),e.noFollowsYou&&e.relationship.followed_by?(m(),K(c,{key:0,user:e.user,relationship:e.relationship,class:"follow-card-button"},null,8,["user","relationship"])):E("",!0)],64)):(m(),b(Te,{key:1},[e.relationship.following?E("",!0):(m(),b("div",lye,[A(i,{user:e.user},null,8,["user"])]))],64))])]),_:1},8,["user"])}const yy=be(rye,[["render",cye]]);var zv,CC;function uye(){if(CC)return zv;CC=1;var e=ME(),t=jE(),n=D_(),s=go(),o=Yh(),r=U_(),i=RE(),a=B_(),c="[object Map]",d="[object Set]",f=Object.prototype,h=f.hasOwnProperty;function v(_){if(_==null)return!0;if(o(_)&&(s(_)||typeof _=="string"||typeof _.splice=="function"||r(_)||a(_)||n(_)))return!_.length;var S=t(_);if(S==c||S==d)return!_.size;if(i(_))return!e(_).length;for(var k in _)if(h.call(_,k))return!1;return!0}return zv=v,zv}var dye=uye();const fye=Gs(dye);var hye=q_();const pye=Gs(hye),mye=e=>pye(e)?e.options:e,gye=e=>mye(e).props;function vye(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!_i(e)}et.add(mo);const F5=({fetch:e,select:t,unmounted:n,childPropName:s="entries",additionalPropNames:o=[]})=>r=>({props:Object.keys(gye(r)).filter(c=>c!==s).concat(o),data(){return{loading:!1,bottomedOut:!1,error:!1,entries:[]}},created(){window.addEventListener("scroll",this.scrollLoad),this.entries.length===0&&this.fetchEntries()},unmounted(){window.removeEventListener("scroll",this.scrollLoad),n&&n(this.$props,this.$store)},methods:{updateEntries(){this.entries=t(this.$props,this.$store)||[]},fetchEntries(){this.loading||(this.loading=!0,this.error=!1,e(this.$props,this.$store).then(c=>{this.loading=!1,this.bottomedOut=fye(c)}).catch(()=>{this.loading=!1,this.error=!0}).finally(()=>{this.updateEntries()}))},scrollLoad(c){const d=document.body.getBoundingClientRect(),f=Math.max(d.height,-d.y);this.loading===!1&&this.bottomedOut===!1&&this.$el.offsetHeight>0&&window.innerHeight+window.pageYOffset>=f-750&&this.fetchEntries()}},render(){const c={...this.$props,[s]:this.entries},d=this.$slots;return A("div",{class:"with-load-more"},[A(r,c,vye(d)?d:{default:()=>[d]}),A("div",{class:"with-load-more-footer"},[this.error&&A("button",{onClick:this.fetchEntries,class:"button-unstyled -link -fullwidth alert error"},[this.$t("general.generic_error")]),!this.error&&this.loading&&A(fy,{spin:!0,icon:"circle-notch"},null),!this.error&&!this.loading&&!this.bottomedOut&&A("a",{onClick:this.fetchEntries,role:"button",tabindex:"0"},[this.$t("general.more")])])])}});et.add(mo,Yx);const bye=F5({fetch:(e,t)=>t.dispatch("fetchFollowers",e.userId),select:(e,t)=>Ii(t.getters.findUser(e.userId),"followerIds",[]).map(n=>t.getters.findUser(n)),childPropName:"items",additionalPropNames:["userId"]})(Xu),_ye=F5({fetch:(e,t)=>t.dispatch("fetchFriends",e.userId),select:(e,t)=>Ii(t.getters.findUser(e.userId),"friendIds",[]).map(n=>t.getters.findUser(n)),childPropName:"items",additionalPropNames:["userId"]})(Xu),qv="statuses",yye={data(){return{error:!1,userId:null,tab:qv,footerRef:null}},created(){const e=this.$route.params;this.load({name:e.name,id:e.id}),this.tab=Ii(this.$route,"query.tab",qv)},unmounted(){this.stopFetching()},computed:{timeline(){return this.$store.state.statuses.timelines.user},favorites(){return this.$store.state.statuses.timelines.favorites},media(){return this.$store.state.statuses.timelines.media},isUs(){return this.userId&&this.$store.state.users.currentUser.id&&this.userId===this.$store.state.users.currentUser.id},user(){return this.$store.getters.findUser(this.userId)},isExternal(){return this.$route.name==="external-user-profile"},followsTabVisible(){return this.isUs||!this.user.hide_follows},followersTabVisible(){return this.isUs||!this.user.hide_followers},favoritesTabVisible(){return this.isUs||!this.user.hide_favorites},formattedBirthday(){const e=ko.internalToBrowserLocale(this.$i18n.locale);return this.user.birthday&&new Date(Date.parse(this.user.birthday)).toLocaleDateString(e,{timeZone:"UTC",day:"numeric",month:"long",year:"numeric"})}},methods:{setFooterRef(e){this.footerRef=e},load(e){const t=(i,a)=>{a!==this.$store.state.statuses.timelines[i].userId&&this.$store.commit("clearTimeline",{timeline:i}),this.$store.dispatch("startFetchingTimeline",{timeline:i,userId:a})},n=i=>{this.userId=i,t("user",i),t("media",i),this.isUs?t("favorites"):this.user.hide_favorites||t("favorites",i),this.$store.dispatch("fetchPinnedStatuses",i)};this.userId=null,this.error=!1;const s=e.id,o=e.name,r=s?this.$store.getters.findUser(s):this.$store.getters.findUserByName(o);r?n(r.id):(s?this.$store.dispatch("fetchUser",s):this.$store.dispatch("fetchUserByName",o)).then(({id:i})=>n(i)).catch(i=>{const a=Ii(i,"error.error");a==="No user with such user_id"?this.error=this.$t("user_profile.profile_does_not_exist"):a?this.error=a:this.error=this.$t("user_profile.profile_loading_error")})},stopFetching(){this.$store.dispatch("stopFetchingTimeline","user"),this.$store.dispatch("stopFetchingTimeline","favorites"),this.$store.dispatch("stopFetchingTimeline","media")},switchUser(e){this.stopFetching(),this.load(e)},onTabSwitch(e){this.tab=e,this.$router.replace({query:{tab:e}})},linkClicked({target:e}){e.tagName==="SPAN"&&(e=e.parentNode),e.tagName==="A"&&window.open(e.href,"_blank")}},watch:{"$route.params.id":function(e){e&&this.switchUser({id:e})},"$route.params.name":function(e){e&&this.switchUser({name:e})},"$route.query":function(e){this.tab=e.tab||qv}},components:{UserCard:Yu,Timeline:Br,FollowerList:bye,FriendList:_ye,FollowCard:yy,TabSwitcher:gp,Conversation:mp,RichContent:Po}},wye={key:0,class:"user-profile panel panel-default"},Sye={class:"panel-body"},kye={key:0,class:"user-birthday"},$ye={key:1,class:"user-profile-fields"},Cye=["title"],Tye=["title"],Aye=["label","disabled"],Eye=["label","disabled"],Iye={key:1,class:"panel user-profile-placeholder"},Pye={class:"panel-heading"},Lye={class:"title"},Oye={class:"panel-body"},Rye={key:0,class:"alert error"},Mye={class:"error-message"};function Nye(e,t,n,s,o,r){const i=O("UserCard"),a=O("FAIcon"),c=O("RichContent"),d=O("Timeline"),f=O("FollowCard"),h=O("FriendList"),v=O("FollowerList"),_=O("tab-switcher");return m(),b("div",null,[e.user?(m(),b("div",wye,[g("div",Sye,[A(i,{"user-id":e.userId,switcher:!0,selected:e.timeline.viewing,"avatar-action":"zoom",rounded:"top","has-note-editor":!0},null,8,["user-id","selected"]),e.user.birthday?(m(),b("span",kye,[A(a,{class:"fa-old-padding",icon:"birthday-cake"}),fe(" "+w(e.$t("user_card.birthday",{birthday:e.formattedBirthday})),1)])):E("",!0),e.user.fields_html&&e.user.fields_html.length>0?(m(),b("div",$ye,[(m(!0),b(Te,null,Ke(e.user.fields_html,(S,k)=>(m(),b("dl",{key:k,class:"user-profile-field"},[g("dt",{title:e.user.fields_text[k].name,class:"user-profile-field-name"},[A(c,{html:S.name,emoji:e.user.emoji},null,8,["html","emoji"])],8,Cye),g("dd",{title:e.user.fields_text[k].value,class:"user-profile-field-value"},[A(c,{html:S.value,emoji:e.user.emoji},null,8,["html","emoji"])],8,Tye)]))),128))])):E("",!0)]),A(_,{"active-tab":e.tab,"render-only-focused":!0,"on-switch":e.onTabSwitch},{default:X(()=>[A(d,{key:"statuses",label:e.$t("user_card.statuses"),count:e.user.statuses_count,embedded:!0,title:e.$t("user_profile.timeline_title"),timeline:e.timeline,"timeline-name":"user","user-id":e.userId,"pinned-status-ids":e.user.pinnedStatusIds,"in-profile":!0,"footer-slipgate":e.footerRef},null,8,["label","count","title","timeline","user-id","pinned-status-ids","footer-slipgate"]),e.followsTabVisible?(m(),b("div",{key:"followees",class:"panel-body",label:e.$t("user_card.followees"),disabled:!e.user.friends_count},[A(h,{"user-id":e.userId,"non-interactive":!0},{item:X(({item:S})=>[A(f,{user:S},null,8,["user"])]),_:1},8,["user-id"])],8,Aye)):E("",!0),e.followersTabVisible?(m(),b("div",{key:"followers",class:"panel-body",label:e.$t("user_card.followers"),disabled:!e.user.followers_count},[A(v,{"user-id":e.userId,"non-interactive":!0},{item:X(({item:S})=>[A(f,{user:S,"no-follows-you":e.isUs},null,8,["user","no-follows-you"])]),_:1},8,["user-id"])],8,Eye)):E("",!0),A(d,{key:"media",label:e.$t("user_card.media"),disabled:!e.media.visibleStatuses.length,embedded:!0,title:e.$t("user_card.media"),"timeline-name":"media",timeline:e.media,"user-id":e.userId,"in-profile":!0,"footer-slipgate":e.footerRef},null,8,["label","disabled","title","timeline","user-id","footer-slipgate"]),e.favoritesTabVisible?(m(),K(d,{key:"favorites",label:e.$t("user_card.favorites"),disabled:!e.favorites.visibleStatuses.length,embedded:!0,title:e.$t("user_card.favorites"),"timeline-name":"favorites",timeline:e.favorites,"user-id":e.isUs?void 0:e.userId,"in-profile":!0,"footer-slipgate":e.footerRef},null,8,["label","disabled","title","timeline","user-id","footer-slipgate"])):E("",!0)]),_:1},8,["active-tab","on-switch"]),g("div",{ref:e.setFooterRef,class:"panel-footer"},null,512)])):(m(),b("div",Iye,[g("div",Pye,[g("h1",Lye,w(e.$t("settings.profile_tab")),1)]),g("div",Oye,[e.error?(m(),b("div",Rye,[g("span",Mye,w(e.error),1)])):(m(),K(a,{key:1,spin:"",icon:"circle-notch"}))])]))])}const Hv=be(yye,[["render",Nye]]);var Vv,TC;function Fye(){if(TC)return Vv;TC=1;var e=V_(),t=Yh();function n(s,o){var r=-1,i=t(s)?Array(s.length):[];return e(s,function(a,c,d){i[++r]=o(a,c,d)}),i}return Vv=n,Vv}var Wv,AC;function Dye(){if(AC)return Wv;AC=1;var e=HE(),t=Y_(),n=Fye(),s=go();function o(r,i){var a=s(r)?e:n;return a(r,t(i,3))}return Wv=o,Wv}var Uye=Dye();const D5=Gs(Uye);et.add(mo,$a);const jye={components:{FollowCard:yy,Conversation:mp,Status:Di,TabSwitcher:gp},props:["query"],data(){return{loaded:!1,loading:!1,searchTerm:this.query||"",userIds:[],statuses:[],hashtags:[],currenResultTab:"statuses",statusesOffset:0,lastStatusFetchCount:0,lastQuery:""}},computed:{users(){return this.userIds.map(e=>this.$store.getters.findUser(e))},visibleStatuses(){const e=this.$store.state.statuses.allStatusesObject;return this.statuses.filter(t=>e[t.id]&&!e[t.id].deleted)}},mounted(){this.search(this.query)},watch:{query(e){this.searchTerm=e,this.search(e)}},methods:{newQuery(e){this.$router.push({name:"search",query:{query:e}}),this.$refs.searchInput.focus()},search(e,t=null){if(!e){this.loading=!1;return}this.loading=!0,this.$refs.searchInput.blur(),this.lastQuery!==e&&(this.userIds=[],this.hashtags=[],this.statuses=[],this.statusesOffset=0,this.lastStatusFetchCount=0),this.$store.dispatch("search",{q:e,resolve:!0,offset:this.statusesOffset,type:t}).then(n=>{this.loading=!1;const s=this.statuses.length;this.userIds=this.userIds.concat(D5(n.accounts,"id")),this.statuses=Z.uniqBy(this.statuses.concat(n.statuses),"id"),this.hashtags=this.hashtags.concat(n.hashtags),this.currenResultTab=this.getActiveTab(),this.loaded=!0,this.statusesOffset=this.statuses.length,this.lastStatusFetchCount=this.statuses.length-s,this.lastQuery=e})},resultCount(e){const t=this[e].length;return t===0?"":` (${t})`},onResultTabSwitch(e){this.currenResultTab=e},getActiveTab(){return this.visibleStatuses.length>0?"statuses":this.users.length>0?"people":this.hashtags.length>0?"hashtags":"statuses"},lastHistoryRecord(e){return e.history&&e.history[0]}}},Bye={class:"Search panel panel-default"},zye={class:"panel-heading"},qye={class:"title"},Hye={class:"panel-body search-input-container"},Vye=["placeholder"],Wye={key:0,class:"panel-body text-center loading-icon"},Gye={key:1},Kye={class:"search-nav-heading"},xye=["label"],Yye=["label"],Xye=["label"],Jye={class:"panel-body"},Zye={key:0},Qye={class:"new-status-notification text-center"},e2e={key:1,class:"text-center loading-icon"},t2e={key:2,class:"search-result-heading"},n2e={key:1},s2e={key:0,class:"search-result-heading"},o2e={key:2},r2e={key:0,class:"search-result-heading"},i2e={class:"name"},a2e={key:0},l2e={key:0},c2e={key:1},u2e={key:0,class:"count"};function d2e(e,t,n,s,o,r){const i=O("FAIcon"),a=O("tab-switcher"),c=O("Status"),d=O("FollowCard"),f=O("router-link");return m(),b("div",Bye,[g("div",zye,[g("h1",qye,w(e.$t("nav.search")),1)]),g("div",Hye,[ot(g("input",{ref:"searchInput","onUpdate:modelValue":t[0]||(t[0]=h=>e.searchTerm=h),class:"input search-input",placeholder:e.$t("nav.search"),onKeyup:t[1]||(t[1]=Ir(h=>e.newQuery(e.searchTerm),["enter"]))},null,40,Vye),[[Mt,e.searchTerm]]),g("button",{class:"btn button-default search-button",type:"submit",onClick:t[2]||(t[2]=h=>e.newQuery(e.searchTerm))},[A(i,{icon:"search"})])]),e.loading&&e.statusesOffset==0?(m(),b("div",Wye,[A(i,{icon:"circle-notch",spin:"",size:"lg"})])):e.loaded?(m(),b("div",Gye,[g("div",Kye,[A(a,{ref:"tabSwitcher","on-switch":e.onResultTabSwitch,"active-tab":e.currenResultTab},{default:X(()=>[g("span",{key:"statuses",label:e.$t("user_card.statuses")+e.resultCount("visibleStatuses")},null,8,xye),g("span",{key:"people",label:e.$t("search.people")+e.resultCount("users")},null,8,Yye),g("span",{key:"hashtags",label:e.$t("search.hashtags")+e.resultCount("hashtags")},null,8,Xye)]),_:1},8,["on-switch","active-tab"])])])):E("",!0),g("div",Jye,[e.currenResultTab==="statuses"?(m(),b("div",Zye,[(m(!0),b(Te,null,Ke(e.visibleStatuses,h=>(m(),K(c,{key:h.id,collapsable:!1,expandable:!1,compact:!1,class:"search-result",statusoid:h,"no-heading":!1},null,8,["statusoid"]))),128)),!e.loading&&e.loaded&&e.lastStatusFetchCount>0?(m(),b("button",{key:0,class:"more-statuses-button button-unstyled -link",onClick:t[3]||(t[3]=Se(h=>e.search(e.searchTerm,"statuses"),["prevent"]))},[g("div",Qye,w(e.$t("search.load_more")),1)])):e.loading&&e.statusesOffset>0?(m(),b("div",e2e,[A(i,{icon:"circle-notch",spin:"",size:"lg"})])):E("",!0),(e.visibleStatuses.length===0||e.lastStatusFetchCount===0)&&!e.loading&&e.loaded?(m(),b("div",t2e,[g("h4",null,w(e.visibleStatuses.length===0?e.$t("search.no_results"):e.$t("search.no_more_results")),1)])):E("",!0)])):e.currenResultTab==="people"?(m(),b("div",n2e,[e.users.length===0&&!e.loading&&e.loaded?(m(),b("div",s2e,[g("h4",null,w(e.$t("search.no_results")),1)])):E("",!0),(m(!0),b(Te,null,Ke(e.users,h=>(m(),K(d,{key:h.id,user:h,class:"list-item search-result"},null,8,["user"]))),128))])):e.currenResultTab==="hashtags"?(m(),b("div",o2e,[e.hashtags.length===0&&!e.loading&&e.loaded?(m(),b("div",r2e,[g("h4",null,w(e.$t("search.no_results")),1)])):E("",!0),(m(!0),b(Te,null,Ke(e.hashtags,h=>(m(),b("div",{key:h.url,class:"status trend search-result"},[A(f,{class:"list-item hashtag",to:{name:"tag-timeline",params:{tag:h.name}}},{default:X(()=>[g("span",i2e," #"+w(h.name),1),e.lastHistoryRecord(h)?(m(),b("div",a2e,[e.lastHistoryRecord(h).accounts==1?(m(),b("span",l2e,w(e.$t("search.person_talking",{count:e.lastHistoryRecord(h).accounts})),1)):(m(),b("span",c2e,w(e.$t("search.people_talking",{count:e.lastHistoryRecord(h).accounts})),1))])):E("",!0)]),_:2},1032,["to"]),e.lastHistoryRecord(h)?(m(),b("div",u2e,w(e.lastHistoryRecord(h).uses),1)):E("",!0)]))),128))])):E("",!0)]),t[4]||(t[4]=g("div",{class:"search-result-footer text-center panel-footer faint"},null,-1))])}const f2e=be(jye,[["render",d2e]]);function EC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EC(Object(n),!0).forEach(function(s){h2e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function h2e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IC(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((n,s)=>(t.includes(s)||(n[s]=Lt(e[s])),n),{})}function ch(e){return typeof e=="function"}function p2e(e){return Er(e)||vi(e)}function U5(e,t,n){let s=e;const o=t.split(".");for(let r=0;r<o.length;r++){if(!s[o[r]])return n;s=s[o[r]]}return s}function Gv(e,t,n){return vt(()=>e.some(s=>U5(t,s,{[n]:!1})[n]))}function PC(e,t,n){return vt(()=>e.reduce((s,o)=>{const r=U5(t,o,{[n]:!1})[n]||[];return s.concat(r)},[]))}function j5(e,t,n,s){return e.call(s,Lt(t),Lt(n),s)}function B5(e){return e.$valid!==void 0?!e.$valid:!e}function m2e(e,t,n,s,o,r,i){let{$lazy:a,$rewardEarly:c}=o,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],f=arguments.length>8?arguments[8]:void 0,h=arguments.length>9?arguments[9]:void 0,v=arguments.length>10?arguments[10]:void 0;const _=Gn(!!s.value),S=Gn(0);n.value=!1;const k=Qn([t,s].concat(d,v),()=>{if(a&&!s.value||c&&!h.value&&!n.value)return;let P;try{P=j5(e,t,f,i)}catch(C){P=Promise.reject(C)}S.value++,n.value=!!S.value,_.value=!1,Promise.resolve(P).then(C=>{S.value--,n.value=!!S.value,r.value=C,_.value=B5(C)}).catch(C=>{S.value--,n.value=!!S.value,r.value=C,_.value=!0})},{immediate:!0,deep:typeof t=="object"});return{$invalid:_,$unwatch:k}}function g2e(e,t,n,s,o,r,i,a){let{$lazy:c,$rewardEarly:d}=s;const f=()=>({}),h=vt(()=>{if(c&&!n.value||d&&!a.value)return!1;let v=!0;try{const _=j5(e,t,i,r);o.value=_,v=B5(_)}catch(_){o.value=_}return v});return{$unwatch:f,$invalid:h}}function v2e(e,t,n,s,o,r,i,a,c,d,f){const h=Gn(!1),v=e.$params||{},_=Gn(null);let S,k;e.$async?{$invalid:S,$unwatch:k}=m2e(e.$validator,t,h,n,s,_,o,e.$watchTargets,c,d,f):{$invalid:S,$unwatch:k}=g2e(e.$validator,t,n,s,_,o,c,d);const P=e.$message;return{$message:ch(P)?vt(()=>P(IC({$pending:h,$invalid:S,$params:IC(v),$model:t,$response:_,$validator:r,$propertyPath:a,$property:i}))):P||"",$params:v,$pending:h,$invalid:S,$response:_,$unwatch:k}}function b2e(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Lt(e),n=Object.keys(t),s={},o={},r={};let i=null;return n.forEach(a=>{const c=t[a];switch(!0){case ch(c.$validator):s[a]=c;break;case ch(c):s[a]={$validator:c};break;case a==="$validationGroups":i=c;break;case a.startsWith("$"):r[a]=c;break;default:o[a]=c}}),{rules:s,nestedValidators:o,config:r,validationGroups:i}}const _2e="__root";function y2e(e,t,n,s,o,r,i,a,c){const d=Object.keys(e),f=s.get(o,e),h=Gn(!1),v=Gn(!1),_=Gn(0);if(f){if(!f.$partial)return f;f.$unwatch(),h.value=f.$dirty.value}const S={$dirty:h,$path:o,$touch:()=>{h.value||(h.value=!0)},$reset:()=>{h.value&&(h.value=!1)},$commit:()=>{}};return d.length?(d.forEach(k=>{S[k]=v2e(e[k],t,S.$dirty,r,i,k,n,o,c,v,_)}),S.$externalResults=vt(()=>a.value?[].concat(a.value).map((k,P)=>({$propertyPath:o,$property:n,$validator:"$externalResults",$uid:`${o}-externalResult-${P}`,$message:k,$params:{},$response:null,$pending:!1})):[]),S.$invalid=vt(()=>{const k=d.some(P=>Lt(S[P].$invalid));return v.value=k,!!S.$externalResults.value.length||k}),S.$pending=vt(()=>d.some(k=>Lt(S[k].$pending))),S.$error=vt(()=>S.$dirty.value?S.$pending.value||S.$invalid.value:!1),S.$silentErrors=vt(()=>d.filter(k=>Lt(S[k].$invalid)).map(k=>{const P=S[k];return To({$propertyPath:o,$property:n,$validator:k,$uid:`${o}-${k}`,$message:P.$message,$params:P.$params,$response:P.$response,$pending:P.$pending})}).concat(S.$externalResults.value)),S.$errors=vt(()=>S.$dirty.value?S.$silentErrors.value:[]),S.$unwatch=()=>d.forEach(k=>{S[k].$unwatch()}),S.$commit=()=>{v.value=!0,_.value=Date.now()},s.set(o,e,S),S):(f&&s.set(o,e,S),S)}function w2e(e,t,n,s,o,r,i){const a=Object.keys(e);return a.length?a.reduce((c,d)=>(c[d]=b0({validations:e[d],state:t,key:d,parentKey:n,resultsCache:s,globalConfig:o,instance:r,externalResults:i}),c),{}):{}}function S2e(e,t,n){const s=vt(()=>[t,n].filter(S=>S).reduce((S,k)=>S.concat(Object.values(Lt(k))),[])),o=vt({get(){return e.$dirty.value||(s.value.length?s.value.every(S=>S.$dirty):!1)},set(S){e.$dirty.value=S}}),r=vt(()=>{const S=Lt(e.$silentErrors)||[],k=s.value.filter(P=>(Lt(P).$silentErrors||[]).length).reduce((P,C)=>P.concat(...C.$silentErrors),[]);return S.concat(k)}),i=vt(()=>{const S=Lt(e.$errors)||[],k=s.value.filter(P=>(Lt(P).$errors||[]).length).reduce((P,C)=>P.concat(...C.$errors),[]);return S.concat(k)}),a=vt(()=>s.value.some(S=>S.$invalid)||Lt(e.$invalid)||!1),c=vt(()=>s.value.some(S=>Lt(S.$pending))||Lt(e.$pending)||!1),d=vt(()=>s.value.some(S=>S.$dirty)||s.value.some(S=>S.$anyDirty)||o.value),f=vt(()=>o.value?c.value||a.value:!1),h=()=>{e.$touch(),s.value.forEach(S=>{S.$touch()})},v=()=>{e.$commit(),s.value.forEach(S=>{S.$commit()})},_=()=>{e.$reset(),s.value.forEach(S=>{S.$reset()})};return s.value.length&&s.value.every(S=>S.$dirty)&&h(),{$dirty:o,$errors:i,$invalid:a,$anyDirty:d,$error:f,$pending:c,$touch:h,$reset:_,$silentErrors:r,$commit:v}}function b0(e){let{validations:t,state:n,key:s,parentKey:o,childResults:r,resultsCache:i,globalConfig:a={},instance:c,externalResults:d}=e;const f=o?`${o}.${s}`:s,{rules:h,nestedValidators:v,config:_,validationGroups:S}=b2e(t),k=di(di({},a),_),P=s?vt(()=>{const dt=Lt(n);return dt?Lt(dt[s]):void 0}):n,C=di({},Lt(d)||{}),$=vt(()=>{const dt=Lt(d);return s?dt?Lt(dt[s]):void 0:dt}),L=y2e(h,P,s,i,f,k,c,$,n),T=w2e(v,P,f,i,k,c,$),R={};S&&Object.entries(S).forEach(dt=>{let[bt,It]=dt;R[bt]={$invalid:Gv(It,T,"$invalid"),$error:Gv(It,T,"$error"),$pending:Gv(It,T,"$pending"),$errors:PC(It,T,"$errors"),$silentErrors:PC(It,T,"$silentErrors")}});const{$dirty:q,$errors:D,$invalid:x,$anyDirty:oe,$error:V,$pending:ce,$touch:de,$reset:Le,$silentErrors:Ve,$commit:Ge}=S2e(L,T,r),We=s?vt({get:()=>Lt(P),set:dt=>{q.value=!0;const bt=Lt(n),It=Lt(d);It&&(It[s]=C[s]),wn(bt[s])?bt[s].value=dt:bt[s]=dt}}):null;s&&k.$autoDirty&&Qn(P,()=>{q.value||de();const dt=Lt(d);dt&&(dt[s]=C[s])},{flush:"sync"});async function Be(){return de(),k.$rewardEarly&&(Ge(),await bi()),await bi(),new Promise(dt=>{if(!ce.value)return dt(!x.value);const bt=Qn(ce,()=>{dt(!x.value),bt()})})}function it(dt){return(r.value||{})[dt]}function $t(){wn(d)?d.value=C:Object.keys(C).length===0?Object.keys(d).forEach(dt=>{delete d[dt]}):Object.assign(d,C)}return To(di(di(di({},L),{},{$model:We,$dirty:q,$error:V,$errors:D,$invalid:x,$anyDirty:oe,$pending:ce,$touch:de,$reset:Le,$path:f||_2e,$silentErrors:Ve,$validate:Be,$commit:Ge},r&&{$getResultsForChild:it,$clearExternalResults:$t,$validationGroups:R}),T))}class k2e{constructor(){this.storage=new Map}set(t,n,s){this.storage.set(t,{rules:n,result:s})}checkRulesValidity(t,n,s){const o=Object.keys(s),r=Object.keys(n);return r.length!==o.length||!r.every(a=>o.includes(a))?!1:r.every(a=>n[a].$params?Object.keys(n[a].$params).every(c=>Lt(s[a].$params[c])===Lt(n[a].$params[c])):!0)}get(t,n){const s=this.storage.get(t);if(!s)return;const{rules:o,result:r}=s,i=this.checkRulesValidity(t,n,o),a=r.$unwatch?r.$unwatch:()=>({});return i?r:{$dirty:r.$dirty,$partial:!0,$unwatch:a}}}const Cf={COLLECT_ALL:!0,COLLECT_NONE:!1},LC=Symbol("vuelidate#injectChildResults"),OC=Symbol("vuelidate#removeChildResults");function $2e(e){let{$scope:t,instance:n}=e;const s={},o=Gn([]),r=vt(()=>o.value.reduce((f,h)=>(f[h]=Lt(s[h]),f),{}));function i(f,h){let{$registerAs:v,$scope:_,$stopPropagation:S}=h;S||t===Cf.COLLECT_NONE||_===Cf.COLLECT_NONE||t!==Cf.COLLECT_ALL&&t!==_||(s[v]=f,o.value.push(v))}n.__vuelidateInjectInstances=[].concat(n.__vuelidateInjectInstances||[],i);function a(f){o.value=o.value.filter(h=>h!==f),delete s[f]}n.__vuelidateRemoveInstances=[].concat(n.__vuelidateRemoveInstances||[],a);const c=Vs(LC,[]);gl(LC,n.__vuelidateInjectInstances);const d=Vs(OC,[]);return gl(OC,n.__vuelidateRemoveInstances),{childResults:r,sendValidationResultsToParent:c,removeValidationResultsFromParent:d}}function z5(e){return new Proxy(e,{get(t,n){return typeof t[n]=="object"?z5(t[n]):vt(()=>t[n])}})}let RC=0;function C2e(e,t){var n;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(s=e,e=void 0,t=void 0);let{$registerAs:o,$scope:r=Cf.COLLECT_ALL,$stopPropagation:i,$externalResults:a,currentVueInstance:c}=s;const d=c||((n=yi())===null||n===void 0?void 0:n.proxy),f=d?d.$options:{};o||(RC+=1,o=`_vuelidate_${RC}`);const h=Gn({}),v=new k2e,{childResults:_,sendValidationResultsToParent:S,removeValidationResultsFromParent:k}=d?$2e({$scope:r,instance:d}):{childResults:Gn({})};if(!e&&f.validations){const P=f.validations;t=Gn({}),NT(()=>{t.value=d,Qn(()=>ch(P)?P.call(t.value,new z5(t.value)):P,C=>{h.value=b0({validations:C,state:t,childResults:_,resultsCache:v,globalConfig:s,instance:d,externalResults:a||d.vuelidateExternalResults})},{immediate:!0})}),s=f.validationsConfig||s}else{const P=wn(e)||p2e(e)?e:To(e||{});Qn(P,C=>{h.value=b0({validations:C,state:t,childResults:_,resultsCache:v,globalConfig:s,instance:d??{},externalResults:a})},{immediate:!0})}return d&&(S.forEach(P=>P(h,{$registerAs:o,$scope:r,$stopPropagation:i})),kh(()=>k.forEach(P=>P(o)))),vt(()=>di(di({},Lt(h.value)),_.value))}const wy=e=>{if(e=Lt(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let t in e)return!0;return!1}return!!String(e).length};function La(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s=>(s=Lt(s),!wy(s)||t.every(o=>(o.lastIndex=0,o.test(s))))}La(/^[a-zA-Z]*$/);La(/^[a-zA-Z0-9]*$/);La(/^\d*(\.\d+)?$/);const T2e=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;La(T2e);function A2e(e){return typeof e=="string"&&(e=e.trim()),wy(e)}var uf={$validator:A2e,$message:"Value is required",$params:{type:"required"}};const MC=(e,t)=>e?wy(typeof t=="string"?t.trim():t):!0;function E2e(e){return function(t,n){if(typeof e!="function")return MC(Lt(e),t);const s=e.call(this,t,n);return MC(s,t)}}function Kv(e){return{$validator:E2e(e),$message:"The value is required",$params:{type:"requiredIf",prop:e}}}function I2e(e){return t=>Lt(t)===Lt(e)}function P2e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"other";return{$validator:I2e(e),$message:n=>`The value must be equal to the ${t} value`,$params:{equalTo:e,otherName:t,type:"sameAs"}}}const L2e=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;La(L2e);La(/(^[0-9]*$)|(^-[0-9]+$)/);La(/^[-]?\d*(\.\d+)?$/);const O2e={components:{Select:zl},props:{promptText:{type:String,required:!0},language:{type:[Array,String],required:!0},setLanguage:{type:Function,required:!0}},computed:{languages(){return ko.languages},controlledLanguage:{get:function(){return Array.isArray(this.language)?this.language:[this.language]},set:function(e){this.setLanguage(e)}}},methods:{getLanguageName(e){return ko.getLanguageName(e)},addLanguage(){this.controlledLanguage=[...this.controlledLanguage,""]},setLanguageAt(e,t){const n=[...this.controlledLanguage];n[e]=t,this.controlledLanguage=n},removeLanguageAt(e){const t=[...this.controlledLanguage];t.splice(e,1),this.controlledLanguage=t}}},R2e={class:"interface-language-switcher"},M2e={class:"setting-list"},N2e=["value"],F2e=["onClick"];function D2e(e,t,n,s,o,r){const i=O("Select");return m(),b("div",R2e,[g("label",null,w(n.promptText),1),g("ul",M2e,[(m(!0),b(Te,null,Ke(r.controlledLanguage.keys(),a=>(m(),b("li",{key:a},[g("label",null,[fe(w(a===0?e.$t("settings.primary_language"):e.$t("settings.fallback_language",{index:a},a))+" ",1),A(i,{class:"language-select","model-value":r.controlledLanguage[a],"onUpdate:modelValue":c=>r.setLanguageAt(a,c)},{default:X(()=>[(m(!0),b(Te,null,Ke(r.languages,c=>(m(),b("option",{key:c.code,value:c.code},w(c.name),9,N2e))),128))]),_:2},1032,["model-value","onUpdate:modelValue"])]),r.controlledLanguage.length>1&&a!==0?(m(),b("button",{key:0,class:"button-default btn",onClick:()=>r.removeLanguageAt(a)},w(e.$t("settings.remove_language")),9,F2e)):E("",!0)]))),128)),g("li",null,[g("button",{class:"button-default btn",onClick:t[0]||(t[0]=(...a)=>r.addLanguage&&r.addLanguage(...a))},w(e.$t("settings.add_language")),1)])])])}const U2e=be(O2e,[["render",D2e]]),j2e={computed:{content(){return this.$store.state.instance.tos},embedded(){return this.$store.state.instance.embeddedToS}}},B2e={class:"terms-of-service-panel"},z2e={class:"panel panel-default"},q2e={key:0,class:"panel-heading -sticky"},H2e={class:"title"},V2e={class:"panel-body"},W2e=["innerHTML"];function G2e(e,t,n,s,o,r){return m(),b("div",B2e,[g("div",z2e,[e.embedded?E("",!0):(m(),b("div",q2e,[g("div",H2e,w(e.$t("about.terms")),1)])),g("div",V2e,[g("div",{class:"tos-content",innerHTML:e.content},null,8,W2e)])])])}const q5=be(j2e,[["render",G2e]]),K2e={setup(){return{v$:C2e()}},data:()=>({user:{email:"",fullname:"",username:"",password:"",confirm:"",birthday:"",reason:"",language:[""]},captcha:{}}),components:{InterfaceLanguageSwitcher:U2e,TermsOfServicePanel:q5},validations(){return{user:{email:{required:Kv(()=>this.accountActivationRequired)},username:{required:uf},fullname:{required:uf},password:{required:uf},confirm:{required:uf,sameAs:P2e(this.user.password)},birthday:{required:Kv(()=>this.birthdayRequired),maxValue:e=>!this.birthdayRequired||new Date(e).getTime()<=this.birthdayMin.getTime()},reason:{required:Kv(()=>this.accountApprovalRequired)},language:{}}}},created(){(!this.registrationOpen&&!this.token||this.signedIn)&&this.$router.push({name:"root"}),this.setCaptcha()},computed:{token(){return this.$route.params.token},bioPlaceholder(){return this.replaceNewlines(this.$t("registration.bio_placeholder"))},reasonPlaceholder(){return this.replaceNewlines(this.$t("registration.reason_placeholder"))},birthdayMin(){const e=this.birthdayMinAge,t=new Date;t.setUTCMilliseconds(0),t.setUTCSeconds(0),t.setUTCMinutes(0),t.setUTCHours(0);const n=new Date;return n.setTime(t.getTime()-e*Nr),n},birthdayMinAttr(){return this.birthdayMin.toJSON().replace(/T.+$/,"")},birthdayMinFormatted(){const e=ko.internalToBrowserLocale(this.$i18n.locale);return this.user.birthday&&new Date(Date.parse(this.birthdayMin)).toLocaleDateString(e,{timeZone:"UTC",day:"numeric",month:"long",year:"numeric"})},...hn({registrationOpen:e=>e.instance.registrationOpen,signedIn:e=>!!e.users.currentUser,isPending:e=>e.users.signUpPending,serverValidationErrors:e=>e.users.signUpErrors,signUpNotice:e=>e.users.signUpNotice,hasSignUpNotice:e=>!!e.users.signUpNotice.message,termsOfService:e=>e.instance.tos,embeddedToS:e=>e.instance.embeddedToS,accountActivationRequired:e=>e.instance.accountActivationRequired,accountApprovalRequired:e=>e.instance.accountApprovalRequired,birthdayRequired:e=>e.instance.birthdayRequired,birthdayMinAge:e=>e.instance.birthdayMinAge})},methods:{...Ah(["signUp","getCaptcha"]),async submit(){if(this.user.nickname=this.user.username,this.user.token=this.token,this.user.captcha_solution=this.captcha.solution,this.user.captcha_token=this.captcha.token,this.user.captcha_answer_data=this.captcha.answer_data,this.user.language&&(this.user.language=ko.internalToBackendLocaleMulti(this.user.language.filter(e=>e))),this.v$.$touch(),!this.v$.$invalid)try{await this.signUp(this.user)==="ok"&&this.$router.push({name:"friends"})}catch(e){console.warn("Registration failed: ",e),this.setCaptcha()}},setCaptcha(){this.getCaptcha().then(e=>{this.captcha=e})},replaceNewlines(e){return e.replace(/\s*\n\s*/g,` 
`)}}},x2e={class:"column-inner"},Y2e={class:"settings panel panel-default"},X2e={class:"panel-heading"},J2e={class:"title"},Z2e={key:0,class:"panel-body"},Q2e={class:"container"},ewe={class:"text-fields"},twe={class:"form--label",for:"sign-up-username"},nwe=["disabled","placeholder"],swe={key:0,class:"form-error"},owe={key:0},rwe={class:"form--label",for:"sign-up-fullname"},iwe=["disabled","placeholder"],awe={key:1,class:"form-error"},lwe={key:0},cwe={class:"form--label",for:"email"},uwe=["disabled","aria-required"],dwe={key:2,class:"form-error"},fwe={key:0},hwe={class:"form-group"},pwe={class:"form--label",for:"bio"},mwe=["disabled","placeholder"],gwe={class:"form--label",for:"sign-up-password"},vwe=["disabled"],bwe={key:3,class:"form-error"},_we={key:0},ywe={class:"form--label",for:"sign-up-password-confirmation"},wwe=["disabled"],Swe={key:4,class:"form-error"},kwe={key:0},$we={key:1},Cwe={class:"form--label",for:"sign-up-birthday"},Twe=["disabled","max","aria-required"],Awe={key:5,class:"form-error"},Ewe={key:0},Iwe={key:1},Pwe={key:6,class:"form-group"},Lwe={class:"form--label",for:"reason"},Owe=["disabled","placeholder"],Rwe={key:7,id:"captcha-group",class:"form-group"},Mwe={class:"form--label",for:"captcha-label"},Nwe=["src"],Fwe=["disabled"],Dwe={key:8,class:"form-group"},Uwe={for:"token"},jwe={class:"form-group"},Bwe=["disabled"],zwe=["innerHTML"],qwe={key:0,class:"form-group"},Hwe={class:"alert error"},Vwe={key:1},Wwe={class:"registration-notice"};function Gwe(e,t,n,s,o,r){const i=O("TermsOfServicePanel"),a=O("interface-language-switcher");return m(),b("div",x2e,[!e.hasSignUpNotice&&!e.embeddedToS?(m(),K(i,{key:0})):E("",!0),g("div",Y2e,[g("div",X2e,[g("h1",J2e,w(e.$t("registration.registration")),1)]),e.hasSignUpNotice?(m(),b("div",Vwe,[g("p",Wwe,w(e.signUpNotice.message),1)])):(m(),b("div",Z2e,[g("form",{class:"registration-form",onSubmit:t[12]||(t[12]=Se(c=>e.submit(e.user),["prevent"]))},[g("div",Q2e,[g("div",ewe,[g("div",{class:he(["form-group",{"form-group--error":e.v$.user.username.$error}])},[g("label",twe,w(e.$t("login.username")),1),ot(g("input",{id:"sign-up-username","onUpdate:modelValue":t[0]||(t[0]=c=>e.v$.user.username.$model=c),disabled:e.isPending,class:"input form-control","aria-required":!0,placeholder:e.$t("registration.username_placeholder")},null,8,nwe),[[Mt,e.v$.user.username.$model,void 0,{trim:!0}]])],2),e.v$.user.username.$dirty?(m(),b("div",swe,[g("ul",null,[e.v$.user.username.required?E("",!0):(m(),b("li",owe,[g("span",null,w(e.$t("registration.validations.username_required")),1)]))])])):E("",!0),g("div",{class:he(["form-group",{"form-group--error":e.v$.user.fullname.$error}])},[g("label",rwe,w(e.$t("registration.fullname")),1),ot(g("input",{id:"sign-up-fullname","onUpdate:modelValue":t[1]||(t[1]=c=>e.v$.user.fullname.$model=c),disabled:e.isPending,class:"input form-control","aria-required":!0,placeholder:e.$t("registration.fullname_placeholder")},null,8,iwe),[[Mt,e.v$.user.fullname.$model,void 0,{trim:!0}]])],2),e.v$.user.fullname.$dirty?(m(),b("div",awe,[g("ul",null,[e.v$.user.fullname.required?E("",!0):(m(),b("li",lwe,[g("span",null,w(e.$t("registration.validations.fullname_required")),1)]))])])):E("",!0),g("div",{class:he(["form-group",{"form-group--error":e.v$.user.email.$error}])},[g("label",cwe,w(e.accountActivationRequired?e.$t("registration.email"):e.$t("registration.email_optional")),1),ot(g("input",{id:"email","onUpdate:modelValue":t[2]||(t[2]=c=>e.v$.user.email.$model=c),disabled:e.isPending,class:"input form-control",type:"email","aria-required":e.accountActivationRequired},null,8,uwe),[[Mt,e.v$.user.email.$model]])],2),e.v$.user.email.$dirty?(m(),b("div",dwe,[g("ul",null,[e.v$.user.email.required?E("",!0):(m(),b("li",fwe,[g("span",null,w(e.$t("registration.validations.email_required")),1)]))])])):E("",!0),g("div",hwe,[g("label",pwe,w(e.$t("registration.bio_optional")),1),ot(g("textarea",{id:"bio","onUpdate:modelValue":t[3]||(t[3]=c=>e.user.bio=c),disabled:e.isPending,class:"input form-control",placeholder:e.bioPlaceholder},null,8,mwe),[[Mt,e.user.bio]])]),g("div",{class:he(["form-group",{"form-group--error":e.v$.user.password.$error}])},[g("label",gwe,w(e.$t("login.password")),1),ot(g("input",{id:"sign-up-password","onUpdate:modelValue":t[4]||(t[4]=c=>e.user.password=c),disabled:e.isPending,class:"input form-control",type:"password","aria-required":!0},null,8,vwe),[[Mt,e.user.password]])],2),e.v$.user.password.$dirty?(m(),b("div",bwe,[g("ul",null,[e.v$.user.password.required?E("",!0):(m(),b("li",_we,[g("span",null,w(e.$t("registration.validations.password_required")),1)]))])])):E("",!0),g("div",{class:he(["form-group",{"form-group--error":e.v$.user.confirm.$error}])},[g("label",ywe,w(e.$t("registration.password_confirm")),1),ot(g("input",{id:"sign-up-password-confirmation","onUpdate:modelValue":t[5]||(t[5]=c=>e.user.confirm=c),disabled:e.isPending,class:"input form-control",type:"password","aria-required":!0},null,8,wwe),[[Mt,e.user.confirm]])],2),e.v$.user.confirm.$dirty?(m(),b("div",Swe,[g("ul",null,[e.v$.user.confirm.required.$invalid?(m(),b("li",kwe,[g("span",null,w(e.$t("registration.validations.password_confirmation_required")),1)])):E("",!0),e.v$.user.confirm.sameAs.$invalid?(m(),b("li",$we,[g("span",null,w(e.$t("registration.validations.password_confirmation_match")),1)])):E("",!0)])])):E("",!0),g("div",{class:he(["form-group",{"form-group--error":e.v$.user.birthday.$error}])},[g("label",Cwe,w(e.birthdayRequired?e.$t("registration.birthday"):e.$t("registration.birthday_optional")),1),ot(g("input",{id:"sign-up-birthday","onUpdate:modelValue":t[6]||(t[6]=c=>e.user.birthday=c),disabled:e.isPending,class:"input form-control",type:"date",max:e.birthdayRequired?e.birthdayMinAttr:void 0,"aria-required":e.birthdayRequired},null,8,Twe),[[Mt,e.user.birthday]])],2),e.v$.user.birthday.$dirty?(m(),b("div",Awe,[g("ul",null,[e.v$.user.birthday.required.$invalid?(m(),b("li",Ewe,[g("span",null,w(e.$t("registration.validations.birthday_required")),1)])):E("",!0),e.v$.user.birthday.maxValue.$invalid?(m(),b("li",Iwe,[g("span",null,w(e.$t("registration.validations.birthday_min_age",{date:e.birthdayMinFormatted})),1)])):E("",!0)])])):E("",!0),g("div",{class:he(["form-group",{"form-group--error":e.v$.user.language.$error}])},[A(a,{for:"email-language","prompt-text":e.$t("registration.email_language"),language:e.v$.user.language.$model,"set-language":c=>e.v$.user.language.$model=c,onClick:t[7]||(t[7]=Se(()=>{},["stop","prevent"]))},null,8,["prompt-text","language","set-language"])],2),e.accountApprovalRequired?(m(),b("div",Pwe,[g("label",Lwe,w(e.$t("registration.reason")),1),ot(g("textarea",{id:"reason","onUpdate:modelValue":t[8]||(t[8]=c=>e.user.reason=c),disabled:e.isPending,class:"input form-control",placeholder:e.reasonPlaceholder},null,8,Owe),[[Mt,e.user.reason]])])):E("",!0),e.captcha.type!="none"?(m(),b("div",Rwe,[g("label",Mwe,w(e.$t("registration.captcha")),1),["kocaptcha","native"].includes(e.captcha.type)?(m(),b(Te,{key:0},[g("img",{src:e.captcha.url,onClick:t[9]||(t[9]=(...c)=>e.setCaptcha&&e.setCaptcha(...c))},null,8,Nwe),g("sub",null,w(e.$t("registration.new_captcha")),1),ot(g("input",{id:"captcha-answer","onUpdate:modelValue":t[10]||(t[10]=c=>e.captcha.solution=c),disabled:e.isPending,class:"input form-control",type:"text",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},null,8,Fwe),[[Mt,e.captcha.solution]])],64)):E("",!0)])):E("",!0),e.token?(m(),b("div",Dwe,[g("label",Uwe,w(e.$t("registration.token")),1),ot(g("input",{id:"token","onUpdate:modelValue":t[11]||(t[11]=c=>e.token=c),disabled:"true",class:"input form-control",type:"text"},null,512),[[Mt,e.token]])])):E("",!0),g("div",jwe,[g("button",{disabled:e.isPending,type:"submit",class:"btn button-default"},w(e.$t("registration.register")),9,Bwe)])]),e.embeddedToS?(m(),b("div",{key:0,class:"terms-of-service",innerHTML:e.termsOfService},null,8,zwe)):E("",!0)]),e.serverValidationErrors.length?(m(),b("div",qwe,[g("div",Hwe,[(m(!0),b(Te,null,Ke(e.serverValidationErrors,c=>(m(),b("span",{key:c},w(c),1))),128))])])):E("",!0)],32)]))])])}const NC=be(K2e,[["render",Gwe]]),Kwe="/auth/password",xwe=({instance:e,email:t})=>{const n={email:t},s=Z.reduce(n,(r,i,a)=>{const c=`${a}=${encodeURIComponent(i)}`;return`${r}&${c}`},""),o=`${e}${Kwe}?${s}`;return window.fetch(o,{method:"POST"})};et.add(Yn);const Ywe={data:()=>({user:{email:""},isPending:!1,success:!1,throttled:!1,error:null}),computed:{...hn({signedIn:e=>!!e.users.currentUser,instance:e=>e.instance}),mailerEnabled(){return this.instance.mailerEnabled}},created(){this.signedIn&&this.$router.push({name:"root"})},props:{passwordResetRequested:{default:!1,type:Boolean}},methods:{dismissError(){this.error=null},submit(){this.isPending=!0;const e=this.user.email,t=this.instance.server;xwe({instance:t,email:e}).then(({status:n})=>{this.isPending=!1,this.user.email="",n===204?(this.success=!0,this.error=null):n===429&&(this.throttled=!0,this.error=this.$t("password_reset.too_many_requests"))}).catch(()=>{this.isPending=!1,this.user.email="",this.error=this.$t("general.generic_error")})}}},Xwe={class:"settings panel panel-default"},Jwe={class:"panel-heading"},Zwe={class:"title"},Qwe={class:"panel-body"},eSe={class:"container"},tSe={key:0},nSe={key:0},sSe={key:1},oSe={key:1},rSe={key:0},iSe={class:"form-group text-center"},aSe={key:2},lSe={key:0,class:"alert password-reset-required error"},cSe={class:"form-group"},uSe=["disabled","placeholder"],dSe={class:"form-group"},fSe=["disabled"],hSe={key:3,class:"alert error notice-dismissible"};function pSe(e,t,n,s,o,r){const i=O("router-link"),a=O("FAIcon");return m(),b("div",Xwe,[g("div",Jwe,[g("h1",Zwe,w(e.$t("password_reset.password_reset")),1)]),g("div",Qwe,[g("form",{class:"password-reset-form",onSubmit:t[2]||(t[2]=Se((...c)=>e.submit&&e.submit(...c),["prevent"]))},[g("div",eSe,[e.mailerEnabled?e.success||e.throttled?(m(),b("div",oSe,[e.success?(m(),b("p",rSe,w(e.$t("password_reset.check_email")),1)):E("",!0),g("div",iSe,[A(i,{to:{name:"root"}},{default:X(()=>[fe(w(e.$t("password_reset.return_home")),1)]),_:1})])])):(m(),b("div",aSe,[e.passwordResetRequested?(m(),b("p",lSe,w(e.$t("password_reset.password_reset_required")),1)):E("",!0),g("p",null,w(e.$t("password_reset.instruction")),1),g("div",cSe,[ot(g("input",{ref:"email","onUpdate:modelValue":t[0]||(t[0]=c=>e.user.email=c),disabled:e.isPending,placeholder:e.$t("password_reset.placeholder"),class:"input form-control",type:"input"},null,8,uSe),[[Mt,e.user.email]])]),g("div",dSe,[g("button",{disabled:e.isPending,type:"submit",class:"btn button-default btn-block"},w(e.$t("settings.save")),9,fSe)])])):(m(),b("div",tSe,[e.passwordResetRequested?(m(),b("p",nSe,w(e.$t("password_reset.password_reset_required_but_mailer_is_disabled")),1)):(m(),b("p",sSe,w(e.$t("password_reset.password_reset_disabled")),1))])),e.error?(m(),b("p",hSe,[g("span",null,w(e.error),1),g("a",{class:"fa-scale-110 fa-old-padding dismiss",onClick:t[1]||(t[1]=Se(c=>e.dismissError(),["prevent"]))},[A(a,{icon:"times"})])])):E("",!0)])],32)])])}const mSe=be(Ywe,[["render",pSe]]),gSe={props:["user"],components:{BasicUserCard:Ju,ConfirmModal:Zo},data(){return{showingApproveConfirmDialog:!1,showingDenyConfirmDialog:!1}},methods:{findFollowRequestNotificationId(){const e=K0(this.$store).find(t=>t.from_profile.id===this.user.id&&t.type==="follow_request");return e&&e.id},showApproveConfirmDialog(){this.showingApproveConfirmDialog=!0},hideApproveConfirmDialog(){this.showingApproveConfirmDialog=!1},showDenyConfirmDialog(){this.showingDenyConfirmDialog=!0},hideDenyConfirmDialog(){this.showingDenyConfirmDialog=!1},approveUser(){this.shouldConfirmApprove?this.showApproveConfirmDialog():this.doApprove()},doApprove(){this.$store.state.api.backendInteractor.approveUser({id:this.user.id}),this.$store.dispatch("removeFollowRequest",this.user);const e=this.findFollowRequestNotificationId();this.$store.dispatch("markSingleNotificationAsSeen",{id:e}),this.$store.dispatch("updateNotification",{id:e,updater:t=>{t.type="follow"}}),this.hideApproveConfirmDialog()},denyUser(){this.shouldConfirmDeny?this.showDenyConfirmDialog():this.doDeny()},doDeny(){const e=this.findFollowRequestNotificationId();this.$store.state.api.backendInteractor.denyUser({id:this.user.id}).then(()=>{this.$store.dispatch("dismissNotificationLocal",{id:e}),this.$store.dispatch("removeFollowRequest",this.user)}),this.hideDenyConfirmDialog()}},computed:{mergedConfig(){return this.$store.getters.mergedConfig},shouldConfirmApprove(){return this.mergedConfig.modalOnApproveFollow},shouldConfirmDeny(){return this.mergedConfig.modalOnDenyFollow}}},vSe={class:"follow-request-card-content-container"};function bSe(e,t,n,s,o,r){const i=O("confirm-modal"),a=O("basic-user-card");return m(),K(a,{user:e.user},{default:X(()=>[g("div",vSe,[g("button",{class:"btn button-default",onClick:t[0]||(t[0]=(...c)=>e.approveUser&&e.approveUser(...c))},w(e.$t("user_card.approve")),1),g("button",{class:"btn button-default",onClick:t[1]||(t[1]=(...c)=>e.denyUser&&e.denyUser(...c))},w(e.$t("user_card.deny")),1)]),(m(),K(es,{to:"#modal"},[e.showingApproveConfirmDialog?(m(),K(i,{key:0,title:e.$t("user_card.approve_confirm_title"),"confirm-text":e.$t("user_card.approve_confirm_accept_button"),"cancel-text":e.$t("user_card.approve_confirm_cancel_button"),onAccepted:e.doApprove,onCancelled:e.hideApproveConfirmDialog},{default:X(()=>[fe(w(e.$t("user_card.approve_confirm",{user:e.user.screen_name_ui})),1)]),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):E("",!0),e.showingDenyConfirmDialog?(m(),K(i,{key:1,title:e.$t("user_card.deny_confirm_title"),"confirm-text":e.$t("user_card.deny_confirm_accept_button"),"cancel-text":e.$t("user_card.deny_confirm_cancel_button"),onAccepted:e.doDeny,onCancelled:e.hideDenyConfirmDialog},{default:X(()=>[fe(w(e.$t("user_card.deny_confirm",{user:e.user.screen_name_ui})),1)]),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):E("",!0)]))]),_:1},8,["user"])}const _Se=be(gSe,[["render",bSe]]),ySe={components:{FollowRequestCard:_Se},computed:{requests(){return this.$store.state.api.followRequests}}},wSe={class:"settings panel panel-default"},SSe={class:"panel-heading"},kSe={class:"title"},$Se={class:"panel-body"};function CSe(e,t,n,s,o,r){const i=O("FollowRequestCard");return m(),b("div",wSe,[g("div",SSe,[g("h1",kSe,w(e.$t("nav.friend_requests")),1)]),g("div",$Se,[(m(!0),b(Te,null,Ke(e.requests,a=>(m(),K(i,{key:a.id,user:a,class:"list-item"},null,8,["user"]))),128))])])}const TSe=be(ySe,[["render",CSe]]),ASe={props:["code"],mounted(){if(this.code){const e=$o(),{clientId:t,clientSecret:n}=e;Jf.getToken({clientId:t,clientSecret:n,instance:this.$store.state.instance.server,code:this.code}).then(s=>{e.setToken(s.access_token),this.$store.dispatch("loginUser",s.access_token),this.$router.push({name:"friends"})})}}};function ESe(e,t,n,s,o,r){return m(),b("h1",null,"...")}const ISe=be(ASe,[["render",ESe]]),PSe={components:{FollowCard:yy},data(){return{users:[]}},mounted(){this.getWhoToFollow()},methods:{showWhoToFollow(e){e.forEach(t=>{this.$store.state.api.backendInteractor.fetchUser({id:t.acct}).then(n=>{n.error||(this.$store.commit("addNewUsers",[n]),this.users.push(n))})})},getWhoToFollow(){const e=this.$store.state.users.currentUser.credentials;e&&En.suggestions({credentials:e}).then(t=>{this.showWhoToFollow(t)})}}},LSe={class:"panel panel-default"},OSe={class:"panel-heading"},RSe={class:"title"},MSe={class:"panel-body"};function NSe(e,t,n,s,o,r){const i=O("FollowCard");return m(),b("div",LSe,[g("div",OSe,[g("h1",RSe,w(e.$t("who_to_follow.who_to_follow")),1)]),g("div",MSe,[(m(!0),b(Te,null,Ke(e.users,a=>(m(),K(i,{key:a.id,user:a,class:"list-item"},null,8,["user"]))),128))])])}const FSe=be(PSe,[["render",NSe]]);var xv,FC;function DSe(){if(FC)return xv;FC=1;var e=Aa(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return xv=t,xv}var Yv,DC;function USe(){if(DC)return Yv;DC=1;var e=DSe();function t(n,s,o){s=="__proto__"&&e?e(n,s,{configurable:!0,enumerable:!0,value:o,writable:!0}):n[s]=o}return Yv=t,Yv}var Xv,UC;function jSe(){if(UC)return Xv;UC=1;function e(t,n,s,o){for(var r=-1,i=t==null?0:t.length;++r<i;){var a=t[r];n(o,a,s(a),t)}return o}return Xv=e,Xv}var Jv,jC;function BSe(){if(jC)return Jv;jC=1;var e=V_();function t(n,s,o,r){return e(n,function(i,a,c){s(r,i,o(i),c)}),r}return Jv=t,Jv}var Zv,BC;function zSe(){if(BC)return Zv;BC=1;var e=jSe(),t=BSe(),n=Y_(),s=go();function o(r,i){return function(a,c){var d=s(a)?e:t,f=i?i():{};return d(a,r,n(c,2),f)}}return Zv=o,Zv}var Qv,zC;function qSe(){if(zC)return Qv;zC=1;var e=USe(),t=zSe(),n=Object.prototype,s=n.hasOwnProperty,o=t(function(r,i,a){s.call(r,a)?r[a].push(i):e(r,a,[i])});return Qv=o,Qv}var HSe=qSe();const VSe=Gs(HSe),WSe={created(){this.$store.state.instance.staffAccounts.forEach(t=>this.$store.dispatch("fetchUserIfMissing",t))},components:{BasicUserCard:Ju},computed:{groupedStaffAccounts(){const e=D5(this.staffAccounts,this.findUserByName).filter(n=>n),t=VSe(e,"role");return[{role:"admin",users:t.admin},{role:"moderator",users:t.moderator}].filter(n=>n.users)},...Zt(["findUserByName"]),...hn({staffAccounts:e=>e.instance.staffAccounts})}},GSe={class:"staff-panel"},KSe={class:"panel panel-default base01-background"},xSe={class:"panel-heading timeline-heading base02-background -sticky"},YSe={class:"title"},XSe={class:"panel-body"};function JSe(e,t,n,s,o,r){const i=O("basic-user-card");return m(),b("div",GSe,[g("div",KSe,[g("div",xSe,[g("div",YSe,w(e.$t("about.staff")),1)]),g("div",XSe,[(m(!0),b(Te,null,Ke(e.groupedStaffAccounts,a=>(m(),b("div",{key:a.role,class:"staff-group"},[g("h4",null,w(e.$t("general.role."+a.role)),1),(m(!0),b(Te,null,Ke(a.users,c=>(m(),K(i,{key:c.screen_name,user:c},null,8,["user"]))),128))]))),128))])])])}const ZSe=be(WSe,[["render",JSe]]),al=(e,t,n)=>e.map(s=>t[n]&&t[n][s]&&t[n][s].reason?{instance:s,reason:t[n][s].reason}:{instance:s,reason:""}),QSe={computed:{...hn({federationPolicy:e=>Z.get(e,"instance.federationPolicy"),mrfPolicies:e=>Z.get(e,"instance.federationPolicy.mrf_policies",[]),quarantineInstances:e=>al(Z.get(e,"instance.federationPolicy.quarantined_instances",[]),Z.get(e,"instance.federationPolicy.quarantined_instances_info",[]),"quarantined_instances"),acceptInstances:e=>al(Z.get(e,"instance.federationPolicy.mrf_simple.accept",[]),Z.get(e,"instance.federationPolicy.mrf_simple_info",[]),"accept"),rejectInstances:e=>al(Z.get(e,"instance.federationPolicy.mrf_simple.reject",[]),Z.get(e,"instance.federationPolicy.mrf_simple_info",[]),"reject"),ftlRemovalInstances:e=>al(Z.get(e,"instance.federationPolicy.mrf_simple.federated_timeline_removal",[]),Z.get(e,"instance.federationPolicy.mrf_simple_info",[]),"federated_timeline_removal"),mediaNsfwInstances:e=>al(Z.get(e,"instance.federationPolicy.mrf_simple.media_nsfw",[]),Z.get(e,"instance.federationPolicy.mrf_simple_info",[]),"media_nsfw"),mediaRemovalInstances:e=>al(Z.get(e,"instance.federationPolicy.mrf_simple.media_removal",[]),Z.get(e,"instance.federationPolicy.mrf_simple_info",[]),"media_removal"),keywordsFtlRemoval:e=>Z.get(e,"instance.federationPolicy.mrf_keyword.federated_timeline_removal",[]),keywordsReject:e=>Z.get(e,"instance.federationPolicy.mrf_keyword.reject",[]),keywordsReplace:e=>Z.get(e,"instance.federationPolicy.mrf_keyword.replace",[])}),hasInstanceSpecificPolicies(){return this.quarantineInstances.length||this.acceptInstances.length||this.rejectInstances.length||this.ftlRemovalInstances.length||this.mediaNsfwInstances.length||this.mediaRemovalInstances.length},hasKeywordPolicies(){return this.keywordsFtlRemoval.length||this.keywordsReject.length||this.keywordsReplace.length}}},eke={key:0,class:"mrf-transparency-panel"},tke={class:"panel panel-default base01-background"},nke={class:"panel-heading timeline-heading base02-background -sticky"},ske={class:"title"},oke={class:"panel-body"},rke={class:"mrf-section"},ike=["textContent"],ake={key:0},lke={key:1},cke={key:0},uke={key:1},dke={key:2},fke={key:0},hke={key:1},pke={key:3},mke={key:0},gke={key:1},vke={key:4},bke={key:0},_ke={key:1},yke={key:5},wke={key:0},Ske={key:1},kke={key:6},$ke={key:0},Cke={key:1},Tke={key:7},Ake={key:8},Eke=["textContent"],Ike={key:9},Pke=["textContent"],Lke={key:10};function Oke(e,t,n,s,o,r){return e.federationPolicy?(m(),b("div",eke,[g("div",tke,[g("div",nke,[g("div",ske,w(e.$t("about.mrf.federation")),1)]),g("div",oke,[g("div",rke,[g("h2",null,w(e.$t("about.mrf.mrf_policies")),1),g("p",null,w(e.$t("about.mrf.mrf_policies_desc")),1),g("ul",null,[(m(!0),b(Te,null,Ke(e.mrfPolicies,i=>(m(),b("li",{key:i,textContent:w(i)},null,8,ike))),128))]),e.hasInstanceSpecificPolicies?(m(),b("h2",ake,w(e.$t("about.mrf.simple.simple_policies")),1)):E("",!0),e.acceptInstances.length?(m(),b("div",lke,[g("h4",null,w(e.$t("about.mrf.simple.accept")),1),g("p",null,w(e.$t("about.mrf.simple.accept_desc")),1),g("table",null,[g("tbody",null,[g("tr",null,[g("th",null,w(e.$t("about.mrf.simple.instance")),1),g("th",null,w(e.$t("about.mrf.simple.reason")),1)]),(m(!0),b(Te,null,Ke(e.acceptInstances,i=>(m(),b("tr",{key:i.instance+"_accept"},[g("td",null,w(i.instance),1),i.reason===""?(m(),b("td",cke,w(e.$t("about.mrf.simple.not_applicable")),1)):(m(),b("td",uke,w(i.reason),1))]))),128))])])])):E("",!0),e.rejectInstances.length?(m(),b("div",dke,[g("h4",null,w(e.$t("about.mrf.simple.reject")),1),g("p",null,w(e.$t("about.mrf.simple.reject_desc")),1),g("table",null,[g("tbody",null,[g("tr",null,[g("th",null,w(e.$t("about.mrf.simple.instance")),1),g("th",null,w(e.$t("about.mrf.simple.reason")),1)]),(m(!0),b(Te,null,Ke(e.rejectInstances,i=>(m(),b("tr",{key:i.instance+"_reject"},[g("td",null,w(i.instance),1),i.reason===""?(m(),b("td",fke,w(e.$t("about.mrf.simple.not_applicable")),1)):(m(),b("td",hke,w(i.reason),1))]))),128))])])])):E("",!0),e.quarantineInstances.length?(m(),b("div",pke,[g("h4",null,w(e.$t("about.mrf.simple.quarantine")),1),g("p",null,w(e.$t("about.mrf.simple.quarantine_desc")),1),g("table",null,[g("tbody",null,[g("tr",null,[g("th",null,w(e.$t("about.mrf.simple.instance")),1),g("th",null,w(e.$t("about.mrf.simple.reason")),1)]),(m(!0),b(Te,null,Ke(e.quarantineInstances,i=>(m(),b("tr",{key:i.instance+"_quarantine"},[g("td",null,w(i.instance),1),i.reason===""?(m(),b("td",mke,w(e.$t("about.mrf.simple.not_applicable")),1)):(m(),b("td",gke,w(i.reason),1))]))),128))])])])):E("",!0),e.ftlRemovalInstances.length?(m(),b("div",vke,[g("h4",null,w(e.$t("about.mrf.simple.ftl_removal")),1),g("p",null,w(e.$t("about.mrf.simple.ftl_removal_desc")),1),g("table",null,[g("tbody",null,[g("tr",null,[g("th",null,w(e.$t("about.mrf.simple.instance")),1),g("th",null,w(e.$t("about.mrf.simple.reason")),1)]),(m(!0),b(Te,null,Ke(e.ftlRemovalInstances,i=>(m(),b("tr",{key:i.instance+"_ftl_removal"},[g("td",null,w(i.instance),1),i.reason===""?(m(),b("td",bke,w(e.$t("about.mrf.simple.not_applicable")),1)):(m(),b("td",_ke,w(i.reason),1))]))),128))])])])):E("",!0),e.mediaNsfwInstances.length?(m(),b("div",yke,[g("h4",null,w(e.$t("about.mrf.simple.media_nsfw")),1),g("p",null,w(e.$t("about.mrf.simple.media_nsfw_desc")),1),g("table",null,[g("tbody",null,[g("tr",null,[g("th",null,w(e.$t("about.mrf.simple.instance")),1),g("th",null,w(e.$t("about.mrf.simple.reason")),1)]),(m(!0),b(Te,null,Ke(e.mediaNsfwInstances,i=>(m(),b("tr",{key:i.instance+"_media_nsfw"},[g("td",null,w(i.instance),1),i.reason===""?(m(),b("td",wke,w(e.$t("about.mrf.simple.not_applicable")),1)):(m(),b("td",Ske,w(i.reason),1))]))),128))])])])):E("",!0),e.mediaRemovalInstances.length?(m(),b("div",kke,[g("h4",null,w(e.$t("about.mrf.simple.media_removal")),1),g("p",null,w(e.$t("about.mrf.simple.media_removal_desc")),1),g("table",null,[g("tbody",null,[g("tr",null,[g("th",null,w(e.$t("about.mrf.simple.instance")),1),g("th",null,w(e.$t("about.mrf.simple.reason")),1)]),(m(!0),b(Te,null,Ke(e.mediaRemovalInstances,i=>(m(),b("tr",{key:i.instance+"_media_removal"},[g("td",null,w(i.instance),1),i.reason===""?(m(),b("td",$ke,w(e.$t("about.mrf.simple.not_applicable")),1)):(m(),b("td",Cke,w(i.reason),1))]))),128))])])])):E("",!0),e.hasKeywordPolicies?(m(),b("h2",Tke,w(e.$t("about.mrf.keyword.keyword_policies")),1)):E("",!0),e.keywordsFtlRemoval.length?(m(),b("div",Ake,[g("h4",null,w(e.$t("about.mrf.keyword.ftl_removal")),1),g("ul",null,[(m(!0),b(Te,null,Ke(e.keywordsFtlRemoval,i=>(m(),b("li",{key:i,textContent:w(i)},null,8,Eke))),128))])])):E("",!0),e.keywordsReject.length?(m(),b("div",Ike,[g("h4",null,w(e.$t("about.mrf.keyword.reject")),1),g("ul",null,[(m(!0),b(Te,null,Ke(e.keywordsReject,i=>(m(),b("li",{key:i,textContent:w(i)},null,8,Pke))),128))])])):E("",!0),e.keywordsReplace.length?(m(),b("div",Lke,[g("h4",null,w(e.$t("about.mrf.keyword.replace")),1),g("ul",null,[(m(!0),b(Te,null,Ke(e.keywordsReplace,i=>(m(),b("li",{key:i},w(i.pattern)+" "+w(e.$t("about.mrf.keyword.is_replaced_by"))+" "+w(i.replacement),1))),128))])])):E("",!0)])])])])):E("",!0)}const Rke=be(QSe,[["render",Oke]]),Mke={components:{InstanceSpecificPanel:$5,FeaturesPanel:C5,TermsOfServicePanel:q5,StaffPanel:ZSe,MRFTransparencyPanel:Rke},computed:{showFeaturesPanel(){return this.$store.state.instance.showFeaturesPanel},showInstanceSpecificPanel(){return this.$store.state.instance.showInstanceSpecificPanel&&!this.$store.getters.mergedConfig.hideISP&&this.$store.state.instance.instanceSpecificPanelContent}}},Nke={class:"column-inner"};function Fke(e,t,n,s,o,r){const i=O("instance-specific-panel"),a=O("staff-panel"),c=O("terms-of-service-panel"),d=O("MRFTransparencyPanel"),f=O("features-panel");return m(),b("div",Nke,[e.showInstanceSpecificPanel?(m(),K(i,{key:0})):E("",!0),A(a),A(c),A(d),e.showFeaturesPanel?(m(),K(f,{key:1})):E("",!0)])}const Dke=be(Mke,[["render",Fke]]),Uke={data:()=>({error:!1}),mounted(){this.redirect()},methods:{redirect(){const e=this.$route.params.username+"@"+this.$route.params.hostname;this.$store.state.api.backendInteractor.fetchUser({id:e}).then(t=>{if(t.error)this.error=!0;else{this.$store.commit("addNewUsers",[t]);const n=t.id;this.$router.replace({name:"external-user-profile",params:{id:n}})}}).catch(()=>{this.error=!0})}}},jke={class:"panel panel-default"},Bke={class:"panel-heading"},zke={class:"title"},qke={class:"panel-body"},Hke={key:0};function Vke(e,t,n,s,o,r){return m(),b("div",jke,[g("div",Bke,[g("h1",zke,w(e.$t("remote_user_resolver.remote_user_resolver")),1)]),g("div",qke,[g("p",null,w(e.$t("remote_user_resolver.searching_for"))+" @"+w(e.$route.params.username)+"@"+w(e.$route.params.hostname),1),e.error?(m(),b("p",Hke,w(e.$t("remote_user_resolver.error")),1)):E("",!0)])])}const qC=be(Uke,[["render",Vke]]);et.add(Hu);const Wke={props:["list"]},Gke={class:"list-card"};function Kke(e,t,n,s,o,r){const i=O("router-link"),a=O("FAIcon");return m(),b("div",Gke,[A(i,{to:{name:"lists-timeline",params:{id:e.list.id}},class:"list-name"},{default:X(()=>[fe(w(e.list.title),1)]),_:1},8,["to"]),A(i,{to:{name:"lists-edit",params:{id:e.list.id}},class:"button-list-edit"},{default:X(()=>[A(a,{class:"fa-scale-110 fa-old-padding",icon:"ellipsis-h"})]),_:1},8,["to"])])}const xke=be(Wke,[["render",Kke]]),Yke={data(){return{isNew:!1}},components:{ListsCard:xke},computed:{lists(){return Rn().allLists}},methods:{cancelNewList(){this.isNew=!1},newList(){this.isNew=!0}}},Xke={class:"Lists panel panel-default"},Jke={class:"panel-heading"},Zke={class:"title"},Qke={class:"title"},e3e={class:"panel-body"};function t3e(e,t,n,s,o,r){const i=O("router-link"),a=O("ListsCard");return m(),b("div",Xke,[g("div",Jke,[g("div",Zke,[g("h1",Qke,w(e.$t("lists.lists")),1)]),A(i,{to:{name:"lists-new"},class:"button-default btn new-list-button"},{default:X(()=>[fe(w(e.$t("lists.new")),1)]),_:1})]),g("div",e3e,[(m(!0),b(Te,null,Ke(e.lists.slice().reverse(),c=>(m(),K(a,{key:c,list:c,class:"list-item"},null,8,["list"]))),128))])])}const n3e=be(Yke,[["render",t3e]]),s3e={data(){return{listId:null}},components:{Timeline:Br},computed:{timeline(){return this.$store.state.statuses.timelines.list}},watch:{$route:function(e){e.name==="lists-timeline"&&e.params.id!==this.listId&&(this.listId=e.params.id,this.$store.dispatch("stopFetchingTimeline","list"),this.$store.commit("clearTimeline",{timeline:"list"}),Rn().fetchList({listId:this.listId}),this.$store.dispatch("startFetchingTimeline",{timeline:"list",listId:this.listId}))}},created(){this.listId=this.$route.params.id,Rn().fetchList({listId:this.listId}),this.$store.dispatch("startFetchingTimeline",{timeline:"list",listId:this.listId})},unmounted(){this.$store.dispatch("stopFetchingTimeline","list"),this.$store.commit("clearTimeline",{timeline:"list"})}};function o3e(e,t,n,s,o,r){const i=O("Timeline");return m(),K(i,{title:"list.name",timeline:e.timeline,"list-id":e.listId,"timeline-name":"list"},null,8,["timeline","list-id"])}const r3e=be(s3e,[["render",o3e]]);et.add($a,Ta);const i3e={components:{Checkbox:Ia},emits:["loading","loadingDone","results"],data(){return{loading:!1,query:"",followingOnly:!0}},methods:{onInput:Z.debounce(function(){this.search(this.query)},2e3),search(e){if(!e){this.loading=!1;return}this.loading=!0,this.$emit("loading"),this.userIds=[],this.$store.dispatch("search",{q:e,resolve:!0,type:"accounts",following:this.followingOnly}).then(t=>{this.$emit("results",t.accounts.map(n=>n.id))}).finally(()=>{this.loading=!1,this.$emit("loadingDone")})}}},a3e={class:"ListsUserSearch"},l3e={class:"input-wrap"},c3e={class:"input-search"},u3e=["placeholder"],d3e={class:"input-wrap"};function f3e(e,t,n,s,o,r){const i=O("FAIcon"),a=O("Checkbox");return m(),b("div",a3e,[g("div",l3e,[g("div",c3e,[A(i,{class:"search-icon fa-scale-110 fa-old-padding",icon:"search"})]),ot(g("input",{ref:"search","onUpdate:modelValue":t[0]||(t[0]=c=>e.query=c),class:"input",placeholder:e.$t("lists.search"),onInput:t[1]||(t[1]=(...c)=>e.onInput&&e.onInput(...c))},null,40,u3e),[[Mt,e.query]])]),g("div",d3e,[A(a,{modelValue:e.followingOnly,"onUpdate:modelValue":t[2]||(t[2]=c=>e.followingOnly=c),onChange:e.onInput},{default:X(()=>[fe(w(e.$t("lists.following_only")),1)]),_:1},8,["modelValue","onChange"])])])}const h3e=be(i3e,[["render",f3e]]);et.add(mo);const p3e={},m3e={class:"panel-loading"},g3e={class:"loading-text"};function v3e(e,t,n,s,o,r){const i=O("FAIcon");return m(),b("div",m3e,[g("span",g3e,[A(i,{icon:"circle-notch",spin:"",size:"3x"}),fe(" "+w(e.$t("general.loading")),1)])])}const b3e=be(p3e,[["render",v3e]]);et.add($a,Ta);const _3e={components:{BasicUserCard:Ju,UserAvatar:xs,ListsUserSearch:h3e,TabSwitcher:gp,PanelLoading:b3e},data(){return{title:"",titleDraft:"",membersUserIds:[],removedUserIds:new Set([]),searchUserIds:[],addedUserIds:new Set([]),searchLoading:!1,reallyDelete:!1}},created(){this.id&&(Rn().fetchList({listId:this.id}).then(()=>{this.title=this.findListTitle(this.id),this.titleDraft=this.title}),Rn().fetchListAccounts({listId:this.id}).then(()=>{this.membersUserIds=this.findListAccounts(this.id),this.membersUserIds.forEach(e=>{this.$store.dispatch("fetchUserIfMissing",e)})}))},computed:{id(){return this.$route.params.id},membersUsers(){return[...this.membersUserIds,...this.addedUserIds].map(e=>this.findUser(e)).filter(e=>e)},searchUsers(){return this.searchUserIds.map(e=>this.findUser(e)).filter(e=>e)},...hn({currentUser:e=>e.users.currentUser}),..._n(Rn,["findListTitle","findListAccounts"]),...Zt(["findUser"])},methods:{onInput(){this.search(this.query)},toggleRemoveMember(e){this.removedUserIds.has(e.id)?(this.id&&this.addUser(e),this.removedUserIds.delete(e.id)):(this.id&&this.removeUser(e.id),this.removedUserIds.add(e.id))},toggleAddFromSearch(e){this.addedUserIds.has(e.id)?(this.id&&this.removeUser(e.id),this.addedUserIds.delete(e.id)):(this.id&&this.addUser(e),this.addedUserIds.add(e.id))},isRemoved(e){return this.removedUserIds.has(e.id)},isAdded(e){return this.addedUserIds.has(e.id)},addUser(e){Rn().addListAccount({accountId:e.id,listId:this.id})},removeUser(e){Rn().removeListAccount({accountId:e,listId:this.id})},onSearchLoading(){this.searchLoading=!0},onSearchLoadingDone(){this.searchLoading=!1},onSearchResults(e){this.searchLoading=!1,this.searchUserIds=e},updateListTitle(){Rn().setList({listId:this.id,title:this.titleDraft}).then(()=>{this.title=this.findListTitle(this.id)})},createList(){Rn().createList({title:this.titleDraft}).then(e=>Rn().setListAccounts({listId:e.id,accountIds:[...this.addedUserIds]}).then(()=>e.id)).then(e=>{this.$router.push({name:"lists-timeline",params:{id:e}})}).catch(e=>{Qe().pushGlobalNotice({messageKey:"lists.error",messageArgs:[e.message],level:"error"})})},deleteList(){Rn().deleteList({listId:this.id}),this.$router.push({name:"lists"})}}},y3e={class:"panel-default panel ListEdit"},w3e={ref:"header",class:"panel-heading list-edit-heading"},S3e={class:"title"},k3e={class:"panel-body"},$3e={class:"input-wrap"},C3e={for:"list-edit-title"},T3e=["label"],A3e={class:"users-list"},E3e=["onClick"],I3e=["label"],P3e={key:0,class:"loading"},L3e={key:1,class:"users-list"},O3e={key:0},R3e=["onClick"],M3e=["onClick"],N3e={class:"panel-footer"};function F3e(e,t,n,s,o,r){const i=O("FAIcon"),a=O("i18n-t"),c=O("BasicUserCard"),d=O("ListsUserSearch"),f=O("PanelLoading"),h=O("tab-switcher");return m(),b("div",y3e,[g("div",w3e,[g("button",{class:"button-unstyled go-back-button",onClick:t[0]||(t[0]=(...v)=>e.$router.back&&e.$router.back(...v))},[A(i,{size:"lg",icon:"chevron-left"})]),g("div",S3e,[e.id?(m(),K(a,{key:0,keypath:"lists.editing_list",scope:"global"},{listTitle:X(()=>[fe(w(e.title),1)]),_:1})):(m(),K(a,{key:1,keypath:"lists.creating_list",scope:"global"}))])],512),g("div",k3e,[g("div",$3e,[g("label",C3e,w(e.$t("lists.title")),1),t[7]||(t[7]=fe(" "+w(" ")+" ")),ot(g("input",{id:"list-edit-title",ref:"title","onUpdate:modelValue":t[1]||(t[1]=v=>e.titleDraft=v),class:"input"},null,512),[[Mt,e.titleDraft]]),e.id?(m(),b("button",{key:0,class:"btn button-default follow-button",onClick:t[2]||(t[2]=(...v)=>e.updateListTitle&&e.updateListTitle(...v))},w(e.$t("lists.update_title")),1)):E("",!0)]),A(h,{class:"list-member-management","scrollable-tabs":!0},{default:X(()=>[e.id||e.addedUserIds.size>0?(m(),b("div",{key:0,label:e.$t("lists.manage_members"),class:"members-list"},[g("div",A3e,[(m(!0),b(Te,null,Ke(e.membersUsers,v=>(m(),b("div",{key:v.id,class:"member"},[A(c,{user:v},{default:X(()=>[g("button",{class:"btn button-default follow-button",onClick:_=>e.toggleRemoveMember(v)},w(e.isRemoved(v)?e.$t("general.undo"):e.$t("lists.remove_from_list")),9,E3e)]),_:2},1032,["user"])]))),128))])],8,T3e)):E("",!0),g("div",{class:"search-list",label:e.$t("lists.add_members")},[A(d,{onResults:e.onSearchResults,onLoading:e.onSearchLoading,onLoadingDone:e.onSearchLoadingDone},null,8,["onResults","onLoading","onLoadingDone"]),e.searchLoading?(m(),b("div",P3e,[A(f)])):(m(),b("div",L3e,[(m(!0),b(Te,null,Ke(e.searchUsers,v=>(m(),b("div",{key:v.id,class:"member"},[A(c,{user:v},{default:X(()=>[e.membersUserIds.includes(v.id)?(m(),b("span",O3e,w(e.$t("lists.is_in_list")),1)):E("",!0),e.membersUserIds.includes(v.id)?(m(),b("button",{key:2,class:"btn button-default follow-button",onClick:_=>e.toggleRemoveMember(v)},w(e.isRemoved(v)?e.$t("general.undo"):e.$t("lists.remove_from_list")),9,M3e)):(m(),b("button",{key:1,class:"btn button-default follow-button",onClick:_=>e.toggleAddFromSearch(v)},w(e.isAdded(v)?e.$t("general.undo"):e.$t("lists.add_to_list")),9,R3e))]),_:2},1032,["user"])]))),128))]))],8,I3e)]),_:1})]),g("div",N3e,[t[8]||(t[8]=g("span",{class:"spacer"},null,-1)),e.id?e.reallyDelete?(m(),b(Te,{key:2},[fe(w(e.$t("lists.really_delete"))+" ",1),g("button",{class:"btn button-default footer-button",onClick:t[5]||(t[5]=(...v)=>e.deleteList&&e.deleteList(...v))},w(e.$t("general.yes")),1),g("button",{class:"btn button-default footer-button",onClick:t[6]||(t[6]=v=>e.reallyDelete=!1)},w(e.$t("general.no")),1)],64)):(m(),b("button",{key:1,class:"btn button-default footer-button",onClick:t[4]||(t[4]=v=>e.reallyDelete=!0)},w(e.$t("lists.delete")),1)):(m(),b("button",{key:0,class:"btn button-default footer-button",onClick:t[3]||(t[3]=(...v)=>e.createList&&e.createList(...v))},w(e.$t("lists.create")),1))])])}const HC=be(_3e,[["render",F3e]]),D3e={components:{Checkbox:Ia},props:{announcement:Object,disabled:Boolean}},U3e={class:"announcement-editor"},j3e=["placeholder","disabled"],B3e={class:"announcement-metadata"},z3e={for:"announcement-start-time"},q3e=["type","disabled"],H3e={class:"announcement-metadata"},V3e={for:"announcement-end-time"},W3e=["type","disabled"],G3e={class:"announcement-metadata"};function K3e(e,t,n,s,o,r){const i=O("Checkbox");return m(),b("div",U3e,[ot(g("textarea",{ref:"textarea","onUpdate:modelValue":t[0]||(t[0]=a=>e.announcement.content=a),class:"input post-textarea",rows:"1",cols:"1",placeholder:e.$t("announcements.post_placeholder"),disabled:e.disabled},null,8,j3e),[[Mt,e.announcement.content]]),g("span",B3e,[g("label",z3e,w(e.$t("announcements.start_time_prompt")),1),ot(g("input",{id:"announcement-start-time","onUpdate:modelValue":t[1]||(t[1]=a=>e.announcement.startsAt=a),class:"input",type:e.announcement.allDay?"date":"datetime-local",disabled:e.disabled},null,8,q3e),[[hS,e.announcement.startsAt]])]),g("span",H3e,[g("label",V3e,w(e.$t("announcements.end_time_prompt")),1),ot(g("input",{id:"announcement-end-time","onUpdate:modelValue":t[2]||(t[2]=a=>e.announcement.endsAt=a),class:"input",type:e.announcement.allDay?"date":"datetime-local",disabled:e.disabled},null,8,W3e),[[hS,e.announcement.endsAt]])]),g("span",G3e,[A(i,{id:"announcement-all-day",modelValue:e.announcement.allDay,"onUpdate:modelValue":t[3]||(t[3]=a=>e.announcement.allDay=a),disabled:e.disabled},{default:X(()=>[fe(w(e.$t("announcements.all_day_prompt")),1)]),_:1},8,["modelValue","disabled"])])])}const H5=be(D3e,[["render",K3e]]),x3e={components:{AnnouncementEditor:H5,RichContent:Po},data(){return{editing:!1,editedAnnouncement:{content:"",startsAt:void 0,endsAt:void 0,allDay:void 0},editError:""}},props:{announcement:Object},computed:{...hn({currentUser:e=>e.users.currentUser}),canEditAnnouncement(){return this.currentUser&&this.currentUser.privileges.includes("announcements_manage_announcements")},content(){return this.announcement.content},isRead(){return this.announcement.read},publishedAt(){const e=this.announcement.published_at;if(e)return this.formatTimeOrDate(e,ko.internalToBrowserLocale(this.$i18n.locale))},startsAt(){const e=this.announcement.starts_at;if(e)return this.formatTimeOrDate(e,ko.internalToBrowserLocale(this.$i18n.locale))},endsAt(){const e=this.announcement.ends_at;if(e)return this.formatTimeOrDate(e,ko.internalToBrowserLocale(this.$i18n.locale))},inactive(){return this.announcement.inactive}},methods:{markAsRead(){if(!this.isRead)return us().markAnnouncementAsRead(this.announcement.id)},deleteAnnouncement(){return us().deleteAnnouncement(this.announcement.id)},formatTimeOrDate(e,t){const n=new Date(e);return this.announcement.all_day?n.toLocaleDateString(t):n.toLocaleString(t)},enterEditMode(){this.editedAnnouncement.content=this.announcement.pleroma.raw_content,this.editedAnnouncement.startsAt=this.announcement.starts_at,this.editedAnnouncement.endsAt=this.announcement.ends_at,this.editedAnnouncement.allDay=this.announcement.all_day,this.editing=!0},submitEdit(){us().editAnnouncement({id:this.announcement.id,...this.editedAnnouncement}).then(()=>{this.editing=!1}).catch(e=>{this.editError=e.error})},cancelEdit(){this.editing=!1},clearError(){this.editError=void 0}}},Y3e={class:"announcement"},X3e={class:"heading"},J3e={class:"body"},Z3e={class:"footer"},Q3e={key:0,class:"times"},e$e={key:0},t$e={key:1},n$e={key:2},s$e={key:1,class:"actions"},o$e=["disabled","title"],r$e={key:2,class:"actions"},i$e={key:0,class:"alert error"};function a$e(e,t,n,s,o,r){const i=O("rich-content"),a=O("announcement-editor"),c=O("FAIcon");return m(),b("div",Y3e,[g("div",X3e,[g("h4",null,w(e.$t("announcements.title")),1)]),g("div",J3e,[e.editing?(m(),K(a,{key:1,announcement:e.editedAnnouncement},null,8,["announcement"])):(m(),K(i,{key:0,html:e.content,emoji:e.announcement.emojis,"handle-links":!0},null,8,["html","emoji"]))]),g("div",Z3e,[e.editing?E("",!0):(m(),b("div",Q3e,[e.publishedAt?(m(),b("span",e$e,w(e.$t("announcements.published_time_display",{time:e.publishedAt})),1)):E("",!0),e.startsAt?(m(),b("span",t$e,w(e.$t("announcements.start_time_display",{time:e.startsAt})),1)):E("",!0),e.endsAt?(m(),b("span",n$e,w(e.$t("announcements.end_time_display",{time:e.endsAt})),1)):E("",!0)])),e.editing?(m(),b("div",r$e,[g("button",{class:"btn button-default",onClick:t[3]||(t[3]=(...d)=>e.submitEdit&&e.submitEdit(...d))},w(e.$t("announcements.submit_edit_action")),1),g("button",{class:"btn button-default",onClick:t[4]||(t[4]=(...d)=>e.cancelEdit&&e.cancelEdit(...d))},w(e.$t("announcements.cancel_edit_action")),1),e.editing&&e.editError?(m(),b("div",i$e,[fe(w(e.$t("announcements.edit_error",{error:e.error}))+" ",1),g("button",{class:"button-unstyled",onClick:t[5]||(t[5]=(...d)=>e.clearError&&e.clearError(...d))},[A(c,{class:"fa-scale-110 fa-old-padding",icon:"times",title:e.$t("announcements.close_error")},null,8,["title"])])])):E("",!0)])):(m(),b("div",s$e,[e.currentUser?(m(),b("button",{key:0,class:he(["btn button-default",{toggled:e.isRead}]),disabled:e.inactive,title:e.inactive?e.$t("announcements.inactive_message"):"",onClick:t[0]||(t[0]=(...d)=>e.markAsRead&&e.markAsRead(...d))},w(e.$t("announcements.mark_as_read_action")),11,o$e)):E("",!0),e.canEditAnnouncement?(m(),b("button",{key:1,class:"btn button-default",onClick:t[1]||(t[1]=(...d)=>e.enterEditMode&&e.enterEditMode(...d))},w(e.$t("announcements.edit_action")),1)):E("",!0),e.canEditAnnouncement?(m(),b("button",{key:2,class:"btn button-default",onClick:t[2]||(t[2]=(...d)=>e.deleteAnnouncement&&e.deleteAnnouncement(...d))},w(e.$t("announcements.delete_action")),1)):E("",!0)]))])])}const l$e=be(x3e,[["render",a$e]]),c$e={components:{Announcement:l$e,AnnouncementEditor:H5},data(){return{newAnnouncement:{content:"",startsAt:void 0,endsAt:void 0,allDay:!1},posting:!1,error:void 0}},mounted(){us().fetchAnnouncements()},computed:{...hn({currentUser:e=>e.users.currentUser}),announcements(){return us().announcements},canPostAnnouncement(){return this.currentUser&&this.currentUser.privileges.includes("announcements_manage_announcements")}},methods:{postAnnouncement(){this.posting=!0,us().postAnnouncement(this.newAnnouncement).then(()=>{this.newAnnouncement.content="",this.startsAt=void 0,this.endsAt=void 0}).catch(e=>{this.error=e.error}).finally(()=>{this.posting=!1})},clearError(){this.error=void 0}}},u$e={class:"panel panel-default announcements-page"},d$e={class:"panel-heading"},f$e={class:"title"},h$e={class:"panel-body"},p$e={key:0},m$e={class:"post-form"},g$e={class:"heading"},v$e={class:"body"},b$e={class:"footer"},_$e=["disabled"],y$e={key:0,class:"alert error"};function w$e(e,t,n,s,o,r){const i=O("announcement-editor"),a=O("FAIcon"),c=O("announcement");return m(),b("div",u$e,[g("div",d$e,[g("h1",f$e,w(e.$t("announcements.page_header")),1)]),g("div",h$e,[e.canPostAnnouncement?(m(),b("section",p$e,[g("div",m$e,[g("div",g$e,[g("h4",null,w(e.$t("announcements.post_form_header")),1)]),g("div",v$e,[A(i,{announcement:e.newAnnouncement,disabled:e.posting},null,8,["announcement","disabled"])]),g("div",b$e,[g("button",{class:"btn button-default post-button",disabled:e.posting,onClick:t[0]||(t[0]=Se((...d)=>e.postAnnouncement&&e.postAnnouncement(...d),["prevent"]))},w(e.$t("announcements.post_action")),9,_$e),e.error?(m(),b("div",y$e,[fe(w(e.$t("announcements.post_error",{error:e.error}))+" ",1),g("button",{class:"button-unstyled",onClick:t[1]||(t[1]=(...d)=>e.clearError&&e.clearError(...d))},[A(a,{class:"fa-scale-110 fa-old-padding",icon:"times",title:e.$t("announcements.close_error")},null,8,["title"])])])):E("",!0)])])])):E("",!0),(m(!0),b(Te,null,Ke(e.announcements,d=>(m(),b("section",{key:d.id},[A(c,{announcement:d},null,8,["announcement"])]))),128))])])}const S$e=be(c$e,[["render",w$e]]),k$e={created(){this.$store.commit("clearTimeline",{timeline:"quotes"}),this.$store.dispatch("startFetchingTimeline",{timeline:"quotes",statusId:this.statusId})},components:{Timeline:Br},computed:{statusId(){return this.$route.params.id},timeline(){return this.$store.state.statuses.timelines.quotes}},watch:{statusId(){this.$store.commit("clearTimeline",{timeline:"quotes"}),this.$store.dispatch("startFetchingTimeline",{timeline:"quotes",statusId:this.statusId})}},unmounted(){this.$store.dispatch("stopFetchingTimeline","quotes")}};function $$e(e,t,n,s,o,r){const i=O("Timeline");return m(),K(i,{title:e.$t("nav.quotes"),timeline:e.timeline,"timeline-name":"quotes","status-id":e.statusId},null,8,["title","timeline","status-id"])}const C$e=be(k$e,[["render",$$e]]);et.add(Hh);const T$e={components:{PostStatusForm:ql,EditStatusForm:R5,ConfirmModal:Zo,StatusContent:Pa,Gallery:up},props:{draft:{type:Object,required:!0}},data(){return{referenceDraft:Z.cloneDeep(this.draft),editing:!1,showingConfirmDialog:!1}},computed:{relAttrs(){return this.draft.type==="edit"?{statusId:this.draft.refId}:this.draft.type==="reply"?{replyTo:this.draft.refId}:{}},safeToSave(){var e;return this.draft.status||((e=this.draft.files)==null?void 0:e.length)||this.draft.hasPoll},postStatusFormProps(){return{draftId:this.draft.id,...this.relAttrs}},refStatus(){return this.draft.refId?this.$store.state.statuses.allStatusesObject[this.draft.refId]:void 0},localCollapseSubjectDefault(){return this.$store.getters.mergedConfig.collapseMessageWithSubject},nsfwClickthrough(){return!(!this.draft.nsfw||this.draft.summary&&this.localCollapseSubjectDefault)}},watch:{editing(e){e||(this.safeToSave?this.$store.dispatch("addOrSaveDraft",{draft:this.draft}):this.$store.dispatch("addOrSaveDraft",{draft:this.referenceDraft}))}},methods:{toggleEditing(){this.editing=!this.editing},abandon(){this.showingConfirmDialog=!0},doAbandon(){this.$store.dispatch("abandonDraft",{id:this.draft.id}).then(()=>{this.hideConfirmDialog()})},hideConfirmDialog(){this.showingConfirmDialog=!1}}},A$e={class:"Draft"},E$e={key:0,class:"status-content"},I$e={class:"status-preview"},P$e={class:"status_content"},L$e={key:0},O$e={key:1},R$e={key:2,class:"faint"},M$e=["title"],N$e={class:"poll-indicator"},F$e={key:1},D$e={class:"actions"},U$e=["aria-expanded"];function j$e(e,t,n,s,o,r){var S;const i=O("router-link"),a=O("i18n-t"),c=O("StatusContent"),d=O("gallery"),f=O("FAIcon"),h=O("PostStatusForm"),v=O("EditStatusForm"),_=O("confirm-modal");return m(),b("article",A$e,[e.editing?E("",!0):(m(),b("div",E$e,[g("div",null,[e.draft.type==="reply"||e.draft.type==="edit"?(m(),K(a,{key:0,tag:"span",keypath:e.draft.type==="reply"?"drafts.replying":"drafts.editing"},{statusLink:X(()=>[A(i,{class:"faint-link",to:{name:"conversation",params:{id:e.draft.refId}}},{default:X(()=>[fe(w(e.refStatus?e.refStatus.external_url:e.$t("drafts.unavailable")),1)]),_:1},8,["to"])]),_:1},8,["keypath"])):E("",!0),e.draft.refId&&e.refStatus?(m(),K(c,{key:1,class:"status-content",status:e.refStatus,compact:!0},null,8,["status"])):E("",!0)]),g("div",I$e,[g("span",P$e,[e.draft.spoilerText?(m(),b("p",L$e,[g("i",null,w(e.draft.spoilerText)+": ",1)])):E("",!0),e.draft.status?(m(),b("p",O$e,w(e.draft.status),1)):(m(),b("p",R$e,w(e.$t("drafts.empty")),1))]),((S=e.draft.files)==null?void 0:S.length)!==0?(m(),K(d,{key:0,class:"attachments media-body",compact:!0,nsfw:e.nsfwClickthrough,attachments:e.draft.files,limit:1,size:"small",onPlay:t[0]||(t[0]=k=>e.$emit("mediaplay",e.attachment.id)),onPause:t[1]||(t[1]=k=>e.$emit("mediapause",e.attachment.id))},null,8,["nsfw","attachments"])):E("",!0),e.draft.poll.options?(m(),b("div",{key:1,class:"poll-indicator-container",title:e.$t("drafts.poll_tooltip")},[g("div",N$e,[A(f,{icon:"poll-h",size:"3x"})])],8,M$e)):E("",!0)])])),e.editing?(m(),b("div",F$e,[e.draft.type!=="edit"?(m(),K(h,xn({key:0,"hide-draft":!0},e.postStatusFormProps),null,16)):(m(),K(v,{key:1,"hide-draft":!0,params:e.postStatusFormProps},null,8,["params"]))])):E("",!0),(m(),K(es,{to:"#modal"},[e.showingConfirmDialog?(m(),K(_,{key:0,title:e.$t("drafts.abandon_confirm_title"),"confirm-text":e.$t("drafts.abandon_confirm_accept_button"),"cancel-text":e.$t("drafts.abandon_confirm_cancel_button"),onAccepted:e.doAbandon,onCancelled:e.hideConfirmDialog},{default:X(()=>[fe(w(e.$t("drafts.abandon_confirm")),1)]),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):E("",!0)])),g("div",D$e,[g("button",{class:"btn button-default","aria-expanded":e.editing,onClick:t[2]||(t[2]=Se((...k)=>e.toggleEditing&&e.toggleEditing(...k),["prevent","stop"]))},w(e.editing?e.$t("drafts.save"):e.$t("drafts.continue")),9,U$e),g("button",{class:"btn button-default",onClick:t[3]||(t[3]=Se((...k)=>e.abandon&&e.abandon(...k),["prevent","stop"]))},w(e.$t("drafts.abandon")),1)])])}const B$e=be(T$e,[["render",j$e]]),z$e={components:{Draft:B$e,List:Xu},computed:{drafts(){return this.$store.getters.draftsArray}}},q$e={class:"Drafts"},H$e={class:"panel panel-default"},V$e={class:"panel-heading -sticky"},W$e={class:"title"},G$e={class:"panel-body"},K$e={key:0,class:"empty-drafs-list-alert"};function x$e(e,t,n,s,o,r){const i=O("Draft"),a=O("List");return m(),b("div",q$e,[g("div",H$e,[g("div",V$e,[g("div",W$e,w(e.$t("drafts.drafts")),1)]),g("div",G$e,[e.drafts.length===0?(m(),b("div",K$e,w(e.$t("drafts.no_drafts")),1)):(m(),K(a,{key:1,items:e.drafts,"non-interactive":!0},{item:X(({item:c})=>[A(i,{class:"draft",draft:c},null,8,["draft"])]),_:1},8,["items"]))])])])}const Y$e=be(z$e,[["render",x$e]]);et.add(Hu);const X$e={props:["folder","allBookmarks"],computed:{firstLetter(){return this.folder?this.folder.name[0]:null}}},J$e={key:0,class:"bookmark-folder-card"},Z$e={class:"icon"},Q$e={key:1,class:"bookmark-folder-card"},e4e=["src","alt","title"],t4e={key:1,class:"iconEmoji"},n4e={key:2,class:"icon iconLetter fa-scale-110"};function s4e(e,t,n,s,o,r){const i=O("FAIcon"),a=O("router-link");return e.allBookmarks?(m(),b("div",J$e,[A(a,{to:{name:"bookmarks"},class:"bookmark-folder-name"},{default:X(()=>[g("span",Z$e,[A(i,{"fixed-width":"",class:"fa-scale-110 menu-icon",icon:"bookmark"})]),fe(w(e.$t("nav.all_bookmarks")),1)]),_:1})])):(m(),b("div",Q$e,[A(a,{to:{name:"bookmark-folder",params:{id:e.folder.id}},class:"bookmark-folder-name"},{default:X(()=>[e.folder.emoji_url?(m(),b("img",{key:0,class:"iconEmoji iconEmoji-image",src:e.folder.emoji_url,alt:e.folder.emoji,title:e.folder.emoji},null,8,e4e)):e.folder.emoji?(m(),b("span",t4e,[g("span",null,w(e.folder.emoji),1)])):e.firstLetter?(m(),b("span",n4e,w(e.firstLetter),1)):E("",!0),fe(w(e.folder.name),1)]),_:1},8,["to"]),A(a,{to:{name:"bookmark-folder-edit",params:{id:e.folder.id}},class:"button-folder-edit"},{default:X(()=>[A(i,{class:"fa-scale-110 fa-old-padding",icon:"ellipsis-h"})]),_:1},8,["to"])]))}const o4e=be(X$e,[["render",s4e]]),r4e={data(){return{isNew:!1}},components:{BookmarkFolderCard:o4e},computed:{bookmarkFolders(){return Yo().allFolders}},methods:{cancelNewFolder(){this.isNew=!1},newFolder(){this.isNew=!0}}},i4e={class:"Bookmark-folders panel panel-default"},a4e={class:"panel-heading"},l4e={class:"title"},c4e={class:"panel-body"};function u4e(e,t,n,s,o,r){const i=O("router-link"),a=O("BookmarkFolderCard");return m(),b("div",i4e,[g("div",a4e,[g("h1",l4e,w(e.$t("nav.bookmark_folders")),1),A(i,{to:{name:"bookmark-folder-new"},class:"button-default btn new-folder-button"},{default:X(()=>[fe(w(e.$t("bookmark_folders.new")),1)]),_:1})]),g("div",c4e,[A(a,{"all-bookmarks":!0,class:"list-item"}),(m(!0),b(Te,null,Ke(e.bookmarkFolders.slice().reverse(),c=>(m(),K(a,{key:c,folder:c,class:"list-item"},null,8,["folder"]))),128))])])}const d4e=be(r4e,[["render",u4e]]),f4e={data(){return{name:"",nameDraft:"",emoji:"",emojiUrl:null,emojiDraft:"",emojiUrlDraft:null,emojiPickerExpanded:!1,reallyDelete:!1}},components:{EmojiPicker:py},created(){if(!this.id)return;const e=this.$store.state.users.currentUser.credentials;En.fetchBookmarkFolders({credentials:e}).then(t=>{const n=t.find(s=>s.id===this.id);n&&(this.nameDraft=this.name=n.name,this.emojiDraft=this.emoji=n.emoji,this.emojiUrlDraft=this.emojiUrl=n.emoji_url)})},computed:{id(){return this.$route.params.id}},methods:{selectEmoji(e){this.emojiDraft=e.insertion,this.emojiUrlDraft=e.insertionUrl},showEmojiPicker(){this.emojiPickerExpanded||this.$refs.picker.showPicker()},onShowPicker(){this.emojiPickerExpanded=!0},onClosePicker(){this.emojiPickerExpanded=!1},updateFolder(){Yo().updateBookmarkFolder({folderId:this.id,name:this.nameDraft,emoji:this.emojiDraft}).then(()=>{this.$router.push({name:"bookmark-folders"})})},createFolder(){Yo().createBookmarkFolder({name:this.nameDraft,emoji:this.emojiDraft}).then(()=>{this.$router.push({name:"bookmark-folders"})}).catch(e=>{Qe().pushGlobalNotice({messageKey:"bookmark_folders.error",messageArgs:[e.message],level:"error"})})},deleteFolder(){Yo().deleteBookmarkFolder({folderId:this.id}),this.$router.push({name:"bookmark-folders"})}}},h4e={class:"panel-default panel BookmarkFolderEdit"},p4e={ref:"header",class:"panel-heading folder-edit-heading"},m4e={class:"title"},g4e={class:"panel-body"},v4e={class:"input-wrap"},b4e={for:"folder-edit-title"},_4e=["title"],y4e=["src","alt","title"],w4e={key:1,class:"iconEmoji"},S4e={class:"input-wrap"},k4e={for:"folder-edit-title"},$4e={class:"panel-footer"},C4e={key:3};function T4e(e,t,n,s,o,r){const i=O("FAIcon"),a=O("i18n-t"),c=O("EmojiPicker");return m(),b("div",h4e,[g("div",p4e,[g("button",{class:"button-unstyled go-back-button",onClick:t[0]||(t[0]=(...d)=>e.$router.back&&e.$router.back(...d))},[A(i,{size:"lg",icon:"chevron-left"})]),g("h1",m4e,[e.id?(m(),K(a,{key:0,keypath:"bookmark_folders.editing_folder",scope:"global"},{folderName:X(()=>[fe(w(e.name),1)]),_:1})):(m(),K(a,{key:1,keypath:"bookmark_folders.creating_folder",scope:"global"}))])],512),g("div",g4e,[g("div",v4e,[g("label",b4e,w(e.$t("bookmark_folders.emoji")),1),g("button",{class:"input input-emoji",title:e.$t("bookmark_folder.emoji_pick"),onClick:t[1]||(t[1]=(...d)=>e.showEmojiPicker&&e.showEmojiPicker(...d))},[e.emojiUrlDraft?(m(),b("img",{key:0,class:"iconEmoji iconEmoji-image",src:e.emojiUrlDraft,alt:e.emojiDraft,title:e.emojiDraft},null,8,y4e)):e.emojiDraft?(m(),b("span",w4e,[g("span",null,w(e.emojiDraft),1)])):E("",!0)],8,_4e),A(c,{ref:"picker",class:"emoji-picker-panel",onEmoji:e.selectEmoji,onShow:e.onShowPicker,onClose:e.onClosePicker},null,8,["onEmoji","onShow","onClose"])]),g("div",S4e,[g("label",k4e,w(e.$t("bookmark_folders.name")),1),ot(g("input",{id:"folder-edit-title",ref:"name","onUpdate:modelValue":t[2]||(t[2]=d=>e.nameDraft=d),class:"input"},null,512),[[Mt,e.nameDraft]])])]),g("div",$4e,[t[8]||(t[8]=g("span",{class:"spacer"},null,-1)),e.id?e.reallyDelete?(m(),b(Te,{key:2},[fe(w(e.$t("bookmark_folders.really_delete"))+" ",1),g("button",{class:"btn button-default footer-button",onClick:t[5]||(t[5]=(...d)=>e.deleteFolder&&e.deleteFolder(...d))},w(e.$t("general.yes")),1),g("button",{class:"btn button-default footer-button",onClick:t[6]||(t[6]=d=>e.reallyDelete=!1)},w(e.$t("general.no")),1)],64)):(m(),b("button",{key:1,class:"btn button-default footer-button",onClick:t[4]||(t[4]=d=>e.reallyDelete=!0)},w(e.$t("bookmark_folders.delete")),1)):(m(),b("button",{key:0,class:"btn button-default footer-button",onClick:t[3]||(t[3]=(...d)=>e.createFolder&&e.createFolder(...d))},w(e.$t("bookmark_folders.create")),1)),e.id&&!e.reallyDelete?(m(),b("div",C4e,[g("button",{class:"btn button-default follow-button",onClick:t[7]||(t[7]=(...d)=>e.updateFolder&&e.updateFolder(...d))},w(e.$t("bookmark_folders.update_folder")),1)])):E("",!0)])])}const VC=be(f4e,[["render",T4e]]),A4e=e=>{const t=(s,o,r)=>{e.state.users.currentUser?r():r(e.state.instance.redirectRootNoLogin||"/main/all")};let n=[{name:"root",path:"/",redirect:()=>(e.state.users.currentUser?e.state.instance.redirectRootLogin:e.state.instance.redirectRootNoLogin)||"/main/all"},{name:"public-external-timeline",path:"/main/all",component:f0e},{name:"public-timeline",path:"/main/public",component:c0e},{name:"friends",path:"/main/friends",component:m0e,beforeEnter:t},{name:"tag-timeline",path:"/tag/:tag",component:b0e},{name:"bookmarks",path:"/bookmarks",component:yC},{name:"conversation",path:"/notice/:id",component:k0e,meta:{dontScroll:!0}},{name:"quotes",path:"/notice/:id/quotes",component:C$e},{name:"remote-user-profile-acct",path:"/remote-users/:_(@)?:username([^/@]+)@:hostname([^/@]+)",component:qC,beforeEnter:t},{name:"remote-user-profile",path:"/remote-users/:hostname/:username",component:qC,beforeEnter:t},{name:"external-user-profile",path:"/users/$:id",component:Hv},{name:"interactions",path:"/users/:username/interactions",component:F0e,beforeEnter:t},{name:"dms",path:"/users/:username/dms",component:j0e,beforeEnter:t},{name:"registration",path:"/registration",component:NC},{name:"password-reset",path:"/password-reset",component:mSe,props:!0},{name:"registration-token",path:"/registration/:token",component:NC},{name:"friend-requests",path:"/friend-requests",component:TSe,beforeEnter:t},{name:"notifications",path:"/:username/notifications",component:pp,props:()=>({disableTeleport:!0}),beforeEnter:t},{name:"login",path:"/login",component:t5},{name:"shout-panel",path:"/shout-panel",component:T5,props:()=>({floating:!1})},{name:"oauth-callback",path:"/oauth-callback",component:ISe,props:s=>({code:s.query.code})},{name:"search",path:"/search",component:f2e,props:s=>({query:s.query.query})},{name:"who-to-follow",path:"/who-to-follow",component:FSe,beforeEnter:t},{name:"about",path:"/about",component:Dke},{name:"announcements",path:"/announcements",component:S$e},{name:"drafts",path:"/drafts",component:Y$e},{name:"user-profile",path:"/users/:name",component:Hv},{name:"legacy-user-profile",path:"/:name",component:Hv},{name:"lists",path:"/lists",component:n3e},{name:"lists-timeline",path:"/lists/:id",component:r3e},{name:"lists-edit",path:"/lists/:id/edit",component:HC},{name:"lists-new",path:"/lists/new",component:HC},{name:"edit-navigation",path:"/nav-edit",component:k5,props:()=>({forceExpand:!0,forceEditMode:!0}),beforeEnter:t},{name:"bookmark-folders",path:"/bookmark_folders",component:d4e},{name:"bookmark-folder-new",path:"/bookmarks/new-folder",component:VC},{name:"bookmark-folder",path:"/bookmarks/:id",component:yC},{name:"bookmark-folder-edit",path:"/bookmarks/:id/edit",component:VC}];return e.state.instance.pleromaChatMessagesAvailable&&(n=n.concat([{name:"chat",path:"/users/:username/chats/:recipient_id",component:Q_e,meta:{dontScroll:!1},beforeEnter:t},{name:"chats",path:"/users/:username/chats",component:k_e,meta:{dontScroll:!1},beforeEnter:t}])),n};function E4e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}else return Array.from(e)}var Sy=!1;if(typeof window<"u"){var WC={get passive(){Sy=!0}};window.addEventListener("testPassive",null,WC),window.removeEventListener("testPassive",null,WC)}var V5=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),mi=[],uh=!1,W5=-1,du=void 0,fu=void 0,G5=function(t){return mi.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(t))})},dh=function(t){var n=t||window.event;return G5(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},I4e=function(t){if(fu===void 0){var n=!!t&&t.reserveScrollBarGap===!0,s=window.innerWidth-document.documentElement.clientWidth;n&&s>0&&(fu=document.body.style.paddingRight,document.body.style.paddingRight=s+"px")}du===void 0&&(du=document.body.style.overflow,document.body.style.overflow="hidden")},P4e=function(){fu!==void 0&&(document.body.style.paddingRight=fu,fu=void 0),du!==void 0&&(document.body.style.overflow=du,du=void 0)},L4e=function(t){return t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1},O4e=function(t,n){var s=t.targetTouches[0].clientY-W5;return G5(t.target)?!1:n&&n.scrollTop===0&&s>0||L4e(n)&&s<0?dh(t):(t.stopPropagation(),!0)},R4e=function(t,n){if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!mi.some(function(o){return o.targetElement===t})){var s={targetElement:t,options:n||{}};mi=[].concat(E4e(mi),[s]),V5?(t.ontouchstart=function(o){o.targetTouches.length===1&&(W5=o.targetTouches[0].clientY)},t.ontouchmove=function(o){o.targetTouches.length===1&&O4e(o,t)},uh||(document.addEventListener("touchmove",dh,Sy?{passive:!1}:void 0),uh=!0)):I4e(n)}},M4e=function(t){if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}mi=mi.filter(function(n){return n.targetElement!==t}),V5?(t.ontouchstart=null,t.ontouchmove=null,uh&&mi.length===0&&(document.removeEventListener("touchmove",dh,Sy?{passive:!1}:void 0),uh=!1)):mi.length||P4e()};let ca,ua;const fh=new Set([]),GC=e=>{const t=window.innerWidth-document.documentElement.clientWidth;R4e(e,{reserveScrollBarGap:!0}),fh.add(e),setTimeout(()=>{if(fh.size<=1){if(ca===void 0){const n=document.getElementById("nav");ca=window.getComputedStyle(n).getPropertyValue("padding-right"),n.style.paddingRight=ca?`calc(${ca} + ${t}px)`:`${t}px`}if(ua===void 0){const n=document.getElementById("app_bg_wrapper");ua=window.getComputedStyle(n).getPropertyValue("right"),n.style.right=ua?`calc(${ua} + ${t}px)`:`${t}px`}document.body.classList.add("scroll-locked")}})},KC=e=>{fh.delete(e),setTimeout(()=>{fh.size===0&&(ca!==void 0&&(document.getElementById("nav").style.paddingRight=ca,ca=void 0),ua!==void 0&&(document.getElementById("app_bg_wrapper").style.right=ua,ua=void 0),document.body.classList.remove("scroll-locked"))}),M4e(e)},N4e={mounted:(e,t)=>{t.value&&GC(e)},updated:(e,t)=>{t.oldValue!==t.value&&(t.value?GC(e):KC(e))},unmounted:e=>{KC(e)}},F4e=e=>{e.directive("body-scroll-lock",N4e)};let eb=null;const D4e=()=>document.getElementById("initial-results")?(eb||(eb=JSON.parse(document.getElementById("initial-results").textContent)),eb):null,U4e=e=>{const t=atob(e),n=Uint8Array.from([...t].map(o=>o.charCodeAt(0)));return new TextDecoder().decode(n)},ky=async e=>{const t=D4e();if(!t||!t[e])return window.fetch(e);const n=U4e(t[e]),s=JSON.parse(n);return{ok:!0,json:()=>s,text:()=>s}},j4e=async({store:e})=>{try{const t=await ky("/api/v1/instance");if(t.ok){const n=await t.json(),s=n.max_toot_chars,o=n.pleroma.vapid_public_key;e.dispatch("setInstanceOption",{name:"textlimit",value:s}),e.dispatch("setInstanceOption",{name:"accountApprovalRequired",value:n.approval_required}),e.dispatch("setInstanceOption",{name:"birthdayRequired",value:!!n.pleroma.metadata.birthday_required}),e.dispatch("setInstanceOption",{name:"birthdayMinAge",value:n.pleroma.metadata.birthday_min_age||0}),o&&e.dispatch("setInstanceOption",{name:"vapidPublicKey",value:o})}else throw t}catch(t){console.error("Could not load instance config, potentially fatal"),console.error(t)}},B4e=async()=>{try{const e=await window.fetch("/api/pleroma/frontend_configurations");if(e.ok)return(await e.json()).pleroma_fe;throw e}catch(e){console.error("Could not load backend-provided frontend config, potentially fatal"),console.error(e)}},z4e=async()=>{try{const e=await window.fetch("/static/config.json");if(e.ok)return e.json();throw e}catch(e){return console.warn("Failed to load static/config.json, continuing without it."),console.warn(e),{}}},q4e=async({apiConfig:e,staticConfig:t,store:n})=>{const s=window.___pleromafe_dev_overrides||{},o=window.___pleromafe_mode.NODE_ENV;let r={};s.staticConfigPreference&&o==="development"?(console.warn("OVERRIDING API CONFIG WITH STATIC CONFIG"),r=Object.assign({},e,t)):r=Object.assign({},t,e);const i=a=>{n.dispatch("setInstanceOption",{name:a,value:r[a]})};i("theme"),i("style"),i("palette"),i("embeddedToS"),i("nsfwCensorImage"),i("background"),i("hidePostStats"),i("hideBotIndication"),i("hideUserStats"),i("hideFilteredStatuses"),i("logo"),n.dispatch("setInstanceOption",{name:"logoMask",value:typeof r.logoMask>"u"?!0:r.logoMask}),n.dispatch("setInstanceOption",{name:"logoMargin",value:typeof r.logoMargin>"u"?0:r.logoMargin}),i("logoLeft"),n.commit("authFlow/setInitialStrategy",r.loginMethod),i("redirectRootNoLogin"),i("redirectRootLogin"),i("showInstanceSpecificPanel"),i("minimalScopesMode"),i("hideMutedPosts"),i("collapseMessageWithSubject"),i("scopeCopy"),i("subjectLineBehavior"),i("postContentType"),i("alwaysShowSubjectInput"),i("showFeaturesPanel"),i("hideSitename"),i("sidebarRight")},H4e=async({store:e})=>{try{const t=await window.fetch("/static/terms-of-service.html");if(t.ok){const n=await t.text();e.dispatch("setInstanceOption",{name:"tos",value:n})}else throw t}catch(t){console.warn(`Can't load TOS
`,t)}},V4e=async({store:e})=>{try{const t=await ky("/instance/panel.html");if(t.ok){const n=await t.text();e.dispatch("setInstanceOption",{name:"instanceSpecificPanelContent",value:n})}else throw t}catch(t){console.warn(`Can't load instance panel
`,t)}},W4e=async({store:e})=>{try{const t=await window.fetch("/static/stickers.json");if(t.ok){const n=await t.json(),s=(await Promise.all(Object.entries(n).map(async([o,r])=>{const i=await window.fetch(r+"pack.json");let a={};return i.ok&&(a=await i.json()),{pack:o,path:r,meta:a}}))).sort((o,r)=>o.meta.title.localeCompare(r.meta.title));e.dispatch("setInstanceOption",{name:"stickers",value:s})}else throw t}catch(t){console.warn(`Can't load stickers
`,t)}},G4e=async({store:e})=>{const t=$o();t.userToken&&e.commit("setBackendInteractor",xf(t.getToken))},K4e=({store:e,accounts:t})=>{const n=t.map(s=>s.split("/").pop());e.dispatch("setInstanceOption",{name:"staffAccounts",value:n})},x4e=async({store:e})=>{try{const t=await ky("/nodeinfo/2.1.json");if(t.ok){const n=await t.json(),s=n.metadata,o=s.features;e.dispatch("setInstanceOption",{name:"name",value:s.nodeName}),e.dispatch("setInstanceOption",{name:"registrationOpen",value:n.openRegistrations}),e.dispatch("setInstanceOption",{name:"mediaProxyAvailable",value:o.includes("media_proxy")}),e.dispatch("setInstanceOption",{name:"safeDM",value:o.includes("safe_dm_mentions")}),e.dispatch("setInstanceOption",{name:"shoutAvailable",value:o.includes("chat")}),e.dispatch("setInstanceOption",{name:"pleromaChatMessagesAvailable",value:o.includes("pleroma_chat_messages")}),e.dispatch("setInstanceOption",{name:"pleromaCustomEmojiReactionsAvailable",value:o.includes("pleroma_custom_emoji_reactions")}),e.dispatch("setInstanceOption",{name:"pleromaBookmarkFoldersAvailable",value:o.includes("pleroma:bookmark_folders")}),e.dispatch("setInstanceOption",{name:"gopherAvailable",value:o.includes("gopher")}),e.dispatch("setInstanceOption",{name:"pollsAvailable",value:o.includes("polls")}),e.dispatch("setInstanceOption",{name:"editingAvailable",value:o.includes("editing")}),e.dispatch("setInstanceOption",{name:"pollLimits",value:s.pollLimits}),e.dispatch("setInstanceOption",{name:"mailerEnabled",value:s.mailerEnabled}),e.dispatch("setInstanceOption",{name:"quotingAvailable",value:o.includes("quote_posting")}),e.dispatch("setInstanceOption",{name:"groupActorAvailable",value:o.includes("pleroma:group_actors")});const r=s.uploadLimits;e.dispatch("setInstanceOption",{name:"uploadlimit",value:parseInt(r.general)}),e.dispatch("setInstanceOption",{name:"avatarlimit",value:parseInt(r.avatar)}),e.dispatch("setInstanceOption",{name:"backgroundlimit",value:parseInt(r.background)}),e.dispatch("setInstanceOption",{name:"bannerlimit",value:parseInt(r.banner)}),e.dispatch("setInstanceOption",{name:"fieldsLimits",value:s.fieldsLimits}),e.dispatch("setInstanceOption",{name:"restrictedNicknames",value:s.restrictedNicknames}),e.dispatch("setInstanceOption",{name:"postFormats",value:s.postFormats});const i=s.suggestions;e.dispatch("setInstanceOption",{name:"suggestionsEnabled",value:i.enabled}),e.dispatch("setInstanceOption",{name:"suggestionsWeb",value:i.web});const a=n.software;e.dispatch("setInstanceOption",{name:"backendVersion",value:a.version}),e.dispatch("setInstanceOption",{name:"backendRepository",value:a.repository}),e.dispatch("setInstanceOption",{name:"pleromaBackend",value:a.name==="pleroma"});const c=s.private;e.dispatch("setInstanceOption",{name:"private",value:c});const d=window.___pleromafe_commit_hash;e.dispatch("setInstanceOption",{name:"frontendVersion",value:d});const f=s.federation;e.dispatch("setInstanceOption",{name:"tagPolicyAvailable",value:typeof f.mrf_policies>"u"?!1:s.federation.mrf_policies.includes("TagPolicy")}),e.dispatch("setInstanceOption",{name:"federationPolicy",value:f}),e.dispatch("setInstanceOption",{name:"federating",value:typeof f.enabled>"u"?!0:f.enabled});const h=s.accountActivationRequired;e.dispatch("setInstanceOption",{name:"accountActivationRequired",value:h});const v=s.staffAccounts;K4e({store:e,accounts:v})}else throw t}catch(t){console.warn("Could not load nodeinfo"),console.warn(t)}},Y4e=async({store:e})=>{const t=await Promise.all([B4e(),z4e()]),n=t[0],s=t[1];G4e({store:e}),await q4e({store:e,apiConfig:n,staticConfig:s})},X4e=async({store:e})=>{const t=$o();return t.getUserToken?e.dispatch("loginUser",t.getUserToken):Promise.resolve()},J4e=async({pinia:e,store:t,storageError:n,i18n:s})=>{const o=eU(Mve);o.use(e);const r=async()=>{const d=Object.assign({"../stores/announcements.js":f9,"../stores/bookmark_folders.js":yJ,"../stores/editStatus.js":Gee,"../stores/i18n.js":u9,"../stores/interface.js":HW,"../stores/lists.js":gJ,"../stores/media_viewer.js":Xee,"../stores/oauth.js":NJ,"../stores/oauth_tokens.js":Zee,"../stores/polls.js":Qee,"../stores/post_status.js":ete,"../stores/reports.js":rJ,"../stores/serverSideStorage.js":LY,"../stores/shout.js":aZ,"../stores/statusHistory.js":tte});await Promise.all(Object.entries(d).map(async([f,h])=>{const v=S=>S.startsWith("use"),_=Object.keys(h).find(v);if(_&&typeof h[_]=="function"){const S=h[_]().$persistLoaded;if(!(S instanceof Promise))throw new Error(`${f} store's $persistLoaded is not a Promise. The persist plugin is not applied.`);await S}else throw new Error(`Store module ${f} does not export a 'use...' function`)}))};try{await r()}catch(d){console.error("Cannot load stores:",d),n=d}n&&Qe().pushGlobalNotice({messageKey:"errors.storage_unavailable",level:"error"}),Qe().setLayoutWidth(Yf()),Qe().setLayoutHeight(Xf()),jf.initFaviconService(),s9(t),window.addEventListener("focus",()=>r9());const i=window.___pleromafe_dev_overrides||{},a=typeof i.target<"u"?i.target:window.location.origin;t.dispatch("setInstanceOption",{name:"server",value:a}),await Y4e({store:t});try{await Qe().applyTheme().catch(d=>{console.error("Error setting theme",d)})}catch(d){return window.splashError(d),Promise.reject(d)}Ab(t.state.config,s.global),await Promise.all([X4e({store:t}),V4e({store:t}),x4e({store:t}),j4e({store:t})]).catch(d=>Promise.reject(d)),t.dispatch("fetchMutes"),t.dispatch("loadDrafts"),us().startFetchingAnnouncements(),H4e({store:t}),W4e({store:t});const c=sne({history:Ote(),routes:A4e(t),scrollBehavior:(d,f,h)=>d.matched.some(v=>v.meta.dontScroll)?!1:h||{left:0,top:0}});return Rh().setI18n(s),o.use(c),o.use(t),o.use(s),window.resetThemes=()=>{Qe().resetThemeV3(),Qe().resetThemeV3Palette(),Qe().resetThemeV2()},o.use(lne),o.use(F4e),o.use(Fne),o.component("FAIcon",fy),o.component("FALayers",Qne),o.config.unwrapInjectedRef=!0,o.mount("#app"),o};var Z4e={NODE_ENV:"production",HAS_MODULE_SERVICE_WORKER:!1};Array.prototype.toSorted||(Array.prototype.toSorted=function(e){return[...this].sort(e)});const Q4e=(window.navigator.language||"en").split("-")[0],ra=Eee({locale:"en",fallbackLocale:"en",messages:Nh.default});Nh.setLanguage(ra.global,Q4e);const eCe={paths:["serverSideStorage.cache","config","users.lastLoginName","oauth"]};(async()=>{const e=Math.floor(Math.random()*2)>0?"_fox":"",t=(n,s)=>{const o=document.querySelector("#throbber");o.addEventListener("animationend",()=>{document.querySelector("#mascot").src=`/static/pleromatan_orz${e}.png`}),o.classList.add("dead"),document.querySelector("#status").textContent=n.global.t("splash.error"),console.error("PleromaFE failed to initialize: ",s),document.querySelector("#statusError").textContent=s,document.querySelector("#statusStack").textContent=s.stack,document.querySelector("#statusError").style="display: block",document.querySelector("#statusStack").style="display: block"};window.splashError=n=>t(ra,n),window.splashUpdate=n=>{document.querySelector("#status")&&(document.querySelector("#status").textContent=ra.global.t(n))};try{let n;const s=[Wee],o=IU();o.use(Vee());try{const i=await Hee(eCe);s.push(i)}catch(i){console.error("Storage error",i),n=i}document.querySelector("#mascot").src=`/static/pleromatan_apology${e}_small.webp`,document.querySelector("#status").removeAttribute("class"),document.querySelector("#status").textContent=ra.global.t("splash.loading"),document.querySelector("#splash-credit").textContent=ra.global.t("update.art_by",{linkToArtist:"pipivovott"});const r=AU({modules:jZ,plugins:s,options:{devtools:!1},strict:!1});return window.vuex=r,await J4e({pinia:o,store:r,storageError:n,i18n:ra})}catch(n){t(ra,n)}})();window.___pleromafe_mode=Z4e;window.___pleromafe_commit_hash="60e5c3b0";window.___pleromafe_dev_overrides=void 0;export{f5 as $,he as A,O as B,Zo as C,fe as D,es as E,bn as F,gn as G,gp as H,uu as I,Te as J,Ke as K,mo as L,Fu as M,hn as N,Jee as O,fs as P,PE as Q,KY as R,Y_ as S,i6 as T,go as U,Dl as V,ot as W,Mt as X,Ft as Y,Ju as Z,be as _,g as a,xV as a$,Xu as a0,gye as a1,fy as a2,fye as a3,_i as a4,F5 as a5,D5 as a6,Ii as a7,zl as a8,vCe as a9,gre as aA,hoe as aB,ele as aC,m0 as aD,oC as aE,O_ as aF,xn as aG,hS as aH,Wn as aI,tb as aJ,B0 as aK,zu as aL,r_ as aM,wCe as aN,pCe as aO,$Ce as aP,T_ as aQ,R_ as aR,eE as aS,$Y as aT,_Ce as aU,lY as aV,gA as aW,qW as aX,XV as aY,rCe as aZ,DS as a_,BJ as aa,Ri as ab,ko as ac,KX as ad,USe as ae,NE as af,jr as ag,CX as ah,z_ as ai,HY as aj,RE as ak,Yh as al,Gu as am,Wu as an,qY as ao,D_ as ap,U_ as aq,q_ as ar,B_ as as,DE as at,RY as au,DSe as av,ZX as aw,OE as ax,sCe as ay,U2e as az,FU as b,uH as b$,va as b0,vt as b1,bi as b2,u8 as b3,qf as b4,Cb as b5,zf as b6,FS as b7,JV as b8,pa as b9,uV as bA,lV as bB,iV as bC,oV as bD,nV as bE,eV as bF,ZH as bG,XH as bH,xH as bI,GH as bJ,VH as bK,qH as bL,BH as bM,UH as bN,FH as bO,MH as bP,OH as bQ,PH as bR,EH as bS,TH as bT,$H as bU,SH as bV,yH as bW,bH as bX,gH as bY,pH as bZ,fH as b_,k_ as ba,kCe as bb,CCe as bc,EW as bd,AW as be,_W as bf,OW as bg,$i as bh,LW as bi,PW as bj,ba as bk,TW as bl,IW as bm,tu as bn,qS as bo,oCe as bp,SW as bq,tCe as br,Vs as bs,Gn as bt,Qn as bu,yi as bv,To as bw,gl as bx,nCe as by,fV as bz,b as c,lH as c0,iH as c1,oH as c2,Uc as c3,P_ as c4,bCe as c5,dCe as c6,gCe as c7,Kh as c8,E_ as c9,C_ as ca,iE as cb,lCe as cc,mCe as cd,Bl as ce,yCe as cf,S_ as cg,iCe as ch,hCe as ci,uCe as cj,cp as ck,roe as cl,Kee as cm,Mr as cn,cCe as co,aCe as cp,fo as d,Ia as e,et as f,Gs as g,Dr as h,Yn as i,TCe as j,fCe as k,Z as l,_n as m,SCe as n,m as o,Ca as p,b3e as q,He as r,I0 as s,w as t,Qe as u,K as v,X as w,A as x,E as y,Se as z};
//# sourceMappingURL=main.D8z3v97Z.js.map
