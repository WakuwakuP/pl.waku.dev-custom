{"version":3,"file":"settings_modal_user_content.CgvkLAsV.js","sources":["../../../src/components/importer/importer.js?vue&type=script&src=true&lang.js","../../../src/components/importer/importer.vue","../../../src/components/exporter/exporter.js?vue&type=script&src=true&lang.js","../../../src/components/exporter/exporter.vue","../../../src/components/settings_modal/tabs/data_import_export_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/data_import_export_tab.vue","../../../node_modules/lodash/negate.js","../../../node_modules/lodash/reject.js","../../../src/components/autosuggest/autosuggest.js?vue&type=script&src=true&lang.js","../../../src/components/autosuggest/autosuggest.vue","../../../src/components/block_card/block_card.js?vue&type=script&src=true&lang.js","../../../src/components/block_card/block_card.vue","../../../src/components/mute_card/mute_card.js?vue&type=script&src=true&lang.js","../../../src/components/mute_card/mute_card.vue","../../../src/components/domain_mute_card/domain_mute_card.js?vue&type=script&src=true&lang.js","../../../src/components/domain_mute_card/domain_mute_card.vue","../../../src/components/selectable_list/selectable_list.js?vue&type=script&src=true&lang.js","../../../src/components/selectable_list/selectable_list.vue","../../../src/hocs/with_subscription/with_subscription.jsx","../../../src/components/settings_modal/tabs/mutes_and_blocks_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/mutes_and_blocks_tab.vue","../../../src/components/settings_modal/tabs/notifications_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/notifications_tab.vue","../../../src/components/settings_modal/helpers/unit_setting.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/helpers/unit_setting.vue","../../../src/components/settings_modal/tabs/filtering_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/filtering_tab.vue","../../../src/components/settings_modal/tabs/security_tab/mfa_backup_codes.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/security_tab/mfa_backup_codes.vue","../../../src/components/settings_modal/tabs/security_tab/confirm.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/security_tab/confirm.vue","../../../src/components/settings_modal/tabs/security_tab/mfa_totp.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/security_tab/mfa_totp.vue","../../../node_modules/qrcode/lib/can-promise.js","../../../node_modules/qrcode/lib/core/utils.js","../../../node_modules/qrcode/lib/core/error-correction-level.js","../../../node_modules/qrcode/lib/core/bit-buffer.js","../../../node_modules/qrcode/lib/core/bit-matrix.js","../../../node_modules/qrcode/lib/core/alignment-pattern.js","../../../node_modules/qrcode/lib/core/finder-pattern.js","../../../node_modules/qrcode/lib/core/mask-pattern.js","../../../node_modules/qrcode/lib/core/error-correction-code.js","../../../node_modules/qrcode/lib/core/galois-field.js","../../../node_modules/qrcode/lib/core/polynomial.js","../../../node_modules/qrcode/lib/core/reed-solomon-encoder.js","../../../node_modules/qrcode/lib/core/version-check.js","../../../node_modules/qrcode/lib/core/regex.js","../../../node_modules/qrcode/lib/core/mode.js","../../../node_modules/qrcode/lib/core/version.js","../../../node_modules/qrcode/lib/core/format-info.js","../../../node_modules/qrcode/lib/core/numeric-data.js","../../../node_modules/qrcode/lib/core/alphanumeric-data.js","../../../node_modules/qrcode/lib/core/byte-data.js","../../../node_modules/qrcode/lib/core/kanji-data.js","../../../node_modules/dijkstrajs/dijkstra.js","../../../node_modules/qrcode/lib/core/segments.js","../../../node_modules/qrcode/lib/core/qrcode.js","../../../node_modules/qrcode/lib/renderer/utils.js","../../../node_modules/qrcode/lib/renderer/canvas.js","../../../node_modules/qrcode/lib/renderer/svg-tag.js","../../../node_modules/qrcode/lib/browser.js","../../../node_modules/@chenfengyuan/vue-qrcode/dist/vue-qrcode.esm.js","../../../src/components/settings_modal/tabs/security_tab/mfa.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/security_tab/mfa.vue","../../../src/components/settings_modal/tabs/security_tab/security_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/security_tab/security_tab.vue","../../../node_modules/lodash/_basePropertyOf.js","../../../node_modules/lodash/_unescapeHtmlChar.js","../../../node_modules/lodash/unescape.js","../../../node_modules/lodash/_assignMergeValue.js","../../../node_modules/lodash/_cloneBuffer.js","../../../node_modules/lodash/_cloneArrayBuffer.js","../../../node_modules/lodash/_cloneTypedArray.js","../../../node_modules/lodash/_copyArray.js","../../../node_modules/lodash/_baseCreate.js","../../../node_modules/lodash/_getPrototype.js","../../../node_modules/lodash/_initCloneObject.js","../../../node_modules/lodash/isArrayLikeObject.js","../../../node_modules/lodash/isPlainObject.js","../../../node_modules/lodash/_safeGet.js","../../../node_modules/lodash/_assignValue.js","../../../node_modules/lodash/_copyObject.js","../../../node_modules/lodash/_nativeKeysIn.js","../../../node_modules/lodash/_baseKeysIn.js","../../../node_modules/lodash/keysIn.js","../../../node_modules/lodash/toPlainObject.js","../../../node_modules/lodash/_baseMergeDeep.js","../../../node_modules/lodash/_baseMerge.js","../../../node_modules/lodash/_apply.js","../../../node_modules/lodash/_overRest.js","../../../node_modules/lodash/constant.js","../../../node_modules/lodash/_baseSetToString.js","../../../node_modules/lodash/_shortOut.js","../../../node_modules/lodash/_setToString.js","../../../node_modules/lodash/_baseRest.js","../../../node_modules/lodash/_isIterateeCall.js","../../../node_modules/lodash/_createAssigner.js","../../../node_modules/lodash/merge.js","../../../node_modules/cropperjs/dist/cropper.esm.js","../../../src/components/image_cropper/image_cropper.js?vue&type=script&src=true&lang.js","../../../src/components/image_cropper/image_cropper.vue","../../../src/components/settings_modal/tabs/profile_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/profile_tab.vue","../../../src/components/settings_modal/helpers/float_setting.vue","../../../src/components/settings_modal/tabs/general_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/general_tab.vue","../../../src/components/settings_modal/helpers/unit_setting.js","../../../src/components/color_input/color_input.vue","../../../src/components/palette_editor/palette_editor.vue","../../../src/components/settings_modal/tabs/theme_tab/theme_preview.vue","../../../src/components/font_control/font_control.js?vue&type=script&src=true&lang.js","../../../src/components/font_control/font_control.vue","../../../src/components/settings_modal/tabs/appearance_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/appearance_tab.vue","../../../src/components/settings_modal/tabs/version_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/version_tab.vue","../../../src/components/range_input/range_input.vue","../../../src/components/opacity_input/opacity_input.vue","../../../src/components/select/select_motion.vue","../../../src/components/component_preview/component_preview.vue","../../../src/services/theme_data/iss_serializer.js","../../../src/components/shadow_control/shadow_control.js?vue&type=script&src=true&lang.js","../../../src/components/shadow_control/shadow_control.vue","../../../src/components/tooltip/tooltip.vue","../../../src/components/contrast_ratio/contrast_ratio.vue","../../../src/components/settings_modal/tabs/theme_tab/theme_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/theme_tab/theme_tab.vue","../../../src/components/roundness_input/roundness_input.vue","../../../src/components/settings_modal/tabs/style_tab/virtual_directives_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/style_tab/virtual_directives_tab.vue","../../../src/components/settings_modal/tabs/style_tab/style_tab.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/tabs/style_tab/style_tab.vue","../../../src/components/settings_modal/settings_modal_user_content.js?vue&type=script&src=true&lang.js","../../../src/components/settings_modal/settings_modal_user_content.vue"],"sourcesContent":["import { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faCircleNotch,\n  faTimes\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faCircleNotch,\n  faTimes\n)\n\nconst Importer = {\n  props: {\n    submitHandler: {\n      type: Function,\n      required: true\n    },\n    submitButtonLabel: { type: String },\n    successMessage: { type: String },\n    errorMessage: { type: String }\n  },\n  data () {\n    return {\n      file: null,\n      error: false,\n      success: false,\n      submitting: false\n    }\n  },\n  methods: {\n    change () {\n      this.file = this.$refs.input.files[0]\n    },\n    submit () {\n      this.dismiss()\n      this.submitting = true\n      this.submitHandler(this.file)\n        .then(() => { this.success = true })\n        .catch(() => { this.error = true })\n        .finally(() => { this.submitting = false })\n    },\n    dismiss () {\n      this.success = false\n      this.error = false\n    }\n  }\n}\n\nexport default Importer\n","<template>\n  <div class=\"importer\">\n    <form>\n      <input\n        ref=\"input\"\n        class=\"input\"\n        type=\"file\"\n        @change=\"change\"\n      >\n    </form>\n    <FAIcon\n      v-if=\"submitting\"\n      class=\"importer-uploading\"\n      spin\n      icon=\"circle-notch\"\n    />\n    <button\n      v-else\n      class=\"btn button-default\"\n      @click=\"submit\"\n    >\n      {{ submitButtonLabel || $t('importer.submit') }}\n    </button>\n    <div v-if=\"success\">\n      <button\n        class=\"button-unstyled\"\n        @click=\"dismiss\"\n      >\n        <FAIcon\n          icon=\"times\"\n        />\n      </button>\n      {{ ' ' }}\n      <span>{{ successMessage || $t('importer.success') }}</span>\n    </div>\n    <div v-else-if=\"error\">\n      <button\n        class=\"button-unstyled\"\n        @click=\"dismiss\"\n      >\n        <FAIcon\n          icon=\"times\"\n        />\n      </button>\n      {{ ' ' }}\n      <span>{{ errorMessage || $t('importer.error') }}</span>\n    </div>\n  </div>\n</template>\n\n<script src=\"./importer.js\"></script>\n\n<style lang=\"scss\">\n.importer {\n  &-uploading {\n    font-size: 1.5em;\n    margin: 0.25em;\n  }\n}\n</style>\n","import { library } from '@fortawesome/fontawesome-svg-core'\nimport { faCircleNotch } from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faCircleNotch\n)\n\nconst Exporter = {\n  props: {\n    getContent: {\n      type: Function,\n      required: true\n    },\n    filename: {\n      type: String,\n      default: 'export.csv'\n    },\n    exportButtonLabel: { type: String },\n    processingMessage: { type: String }\n  },\n  data () {\n    return {\n      processing: false\n    }\n  },\n  methods: {\n    process () {\n      this.processing = true\n      this.getContent()\n        .then((content) => {\n          const fileToDownload = document.createElement('a')\n          fileToDownload.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(content))\n          fileToDownload.setAttribute('download', this.filename)\n          fileToDownload.style.display = 'none'\n          document.body.appendChild(fileToDownload)\n          fileToDownload.click()\n          document.body.removeChild(fileToDownload)\n          // Add delay before hiding processing state since browser takes some time to handle file download\n          setTimeout(() => { this.processing = false }, 2000)\n        })\n    }\n  }\n}\n\nexport default Exporter\n","<template>\n  <div class=\"exporter\">\n    <div v-if=\"processing\">\n      <FAIcon\n        icon=\"circle-notch\"\n        size=\"lg\"\n        spin\n      />\n\n      <span>{{ processingMessage || $t('exporter.processing') }}</span>\n    </div>\n    <button\n      v-else\n      class=\"btn button-default\"\n      @click=\"process\"\n    >\n      {{ exportButtonLabel || $t('exporter.export') }}\n    </button>\n  </div>\n</template>\n\n<script src=\"./exporter.js\"></script>\n\n<style lang=\"scss\">\n.exporter {\n  &-processing {\n    margin: 0.25em;\n  }\n}\n</style>\n","import Importer from 'src/components/importer/importer.vue'\nimport Exporter from 'src/components/exporter/exporter.vue'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport { mapState } from 'vuex'\n\nconst DataImportExportTab = {\n  data () {\n    return {\n      activeTab: 'profile',\n      newDomainToMute: '',\n      listBackupsError: false,\n      addBackupError: false,\n      addedBackup: false,\n      backups: []\n    }\n  },\n  created () {\n    this.$store.dispatch('fetchTokens')\n    this.fetchBackups()\n  },\n  components: {\n    Importer,\n    Exporter,\n    Checkbox\n  },\n  computed: {\n    ...mapState({\n      backendInteractor: (state) => state.api.backendInteractor,\n      user: (state) => state.users.currentUser\n    })\n  },\n  methods: {\n    getFollowsContent () {\n      return this.backendInteractor.exportFriends({ id: this.user.id })\n        .then(this.generateExportableUsersContent)\n    },\n    getBlocksContent () {\n      return this.backendInteractor.fetchBlocks()\n        .then(this.generateExportableUsersContent)\n    },\n    getMutesContent () {\n      return this.backendInteractor.fetchMutes()\n        .then(this.generateExportableUsersContent)\n    },\n    importFollows (file) {\n      return this.backendInteractor.importFollows({ file })\n        .then((status) => {\n          if (!status) {\n            throw new Error('failed')\n          }\n        })\n    },\n    importBlocks (file) {\n      return this.backendInteractor.importBlocks({ file })\n        .then((status) => {\n          if (!status) {\n            throw new Error('failed')\n          }\n        })\n    },\n    importMutes (file) {\n      return this.backendInteractor.importMutes({ file })\n        .then((status) => {\n          if (!status) {\n            throw new Error('failed')\n          }\n        })\n    },\n    generateExportableUsersContent (users) {\n      // Get addresses\n      return users.map((user) => {\n        // check is it's a local user\n        if (user && user.is_local) {\n          // append the instance address\n          return user.screen_name + '@' + location.hostname\n        }\n        return user.screen_name\n      }).join('\\n')\n    },\n    addBackup () {\n      this.$store.state.api.backendInteractor.addBackup()\n        .then(() => {\n          this.addedBackup = true\n          this.addBackupError = false\n        })\n        .catch((error) => {\n          this.addedBackup = false\n          this.addBackupError = error\n        })\n        .then(() => this.fetchBackups())\n    },\n    fetchBackups () {\n      this.$store.state.api.backendInteractor.listBackups()\n        .then((res) => {\n          this.backups = res\n          this.listBackupsError = false\n        })\n        .catch((error) => {\n          this.listBackupsError = error.error\n        })\n    }\n  }\n}\n\nexport default DataImportExportTab\n","<template>\n  <div\n    :label=\"$t('settings.data_import_export_tab')\"\n  >\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.follow_import') }}</h2>\n      <p>{{ $t('settings.import_followers_from_a_csv_file') }}</p>\n      <Importer\n        :submit-handler=\"importFollows\"\n        :success-message=\"$t('settings.follows_imported')\"\n        :error-message=\"$t('settings.follow_import_error')\"\n      />\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.follow_export') }}</h2>\n      <Exporter\n        :get-content=\"getFollowsContent\"\n        filename=\"friends.csv\"\n        :export-button-label=\"$t('settings.follow_export_button')\"\n      />\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.block_import') }}</h2>\n      <p>{{ $t('settings.import_blocks_from_a_csv_file') }}</p>\n      <Importer\n        :submit-handler=\"importBlocks\"\n        :success-message=\"$t('settings.blocks_imported')\"\n        :error-message=\"$t('settings.block_import_error')\"\n      />\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.block_export') }}</h2>\n      <Exporter\n        :get-content=\"getBlocksContent\"\n        filename=\"blocks.csv\"\n        :export-button-label=\"$t('settings.block_export_button')\"\n      />\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.mute_import') }}</h2>\n      <p>{{ $t('settings.import_mutes_from_a_csv_file') }}</p>\n      <Importer\n        :submit-handler=\"importMutes\"\n        :success-message=\"$t('settings.mutes_imported')\"\n        :error-message=\"$t('settings.mute_import_error')\"\n      />\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.mute_export') }}</h2>\n      <Exporter\n        :get-content=\"getMutesContent\"\n        filename=\"mutes.csv\"\n        :export-button-label=\"$t('settings.mute_export_button')\"\n      />\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.account_backup') }}</h2>\n      <p>{{ $t('settings.account_backup_description') }}</p>\n      <table>\n        <thead>\n          <tr>\n            <th>{{ $t('settings.account_backup_table_head') }}</th>\n            <th />\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"backup in backups\"\n            :key=\"backup.id\"\n          >\n            <td>{{ backup.inserted_at }}</td>\n            <td class=\"actions\">\n              <a\n                v-if=\"backup.processed\"\n                target=\"_blank\"\n                :href=\"backup.url\"\n              >\n                {{ $t('settings.download_backup') }}\n              </a>\n              <span\n                v-else-if=\"backup.state === 'running'\"\n              >\n                {{ $t('settings.backup_running', { number: backup.processed_number }, backup.processed_number) }}\n              </span>\n              <span\n                v-else-if=\"backup.state === 'failed'\"\n              >\n                {{ $t('settings.backup_failed') }}\n              </span>\n              <span\n                v-else\n              >\n                {{ $t('settings.backup_not_ready') }}\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div\n        v-if=\"listBackupsError\"\n        class=\"alert error\"\n      >\n        {{ $t('settings.list_backups_error', { error }) }}\n        <button\n          :title=\"$t('settings.hide_list_backups_error_action')\"\n          @click=\"listBackupsError = false\"\n        >\n          <FAIcon\n            class=\"fa-scale-110 fa-old-padding\"\n            icon=\"times\"\n          />\n        </button>\n      </div>\n      <button\n        class=\"btn button-default\"\n        @click=\"addBackup\"\n      >\n        {{ $t('settings.add_backup') }}\n      </button>\n      <p v-if=\"addedBackup\">\n        {{ $t('settings.added_backup') }}\n      </p>\n      <template v-if=\"addBackupError !== false\">\n        <p>{{ $t('settings.add_backup_error', { error: addBackupError }) }}</p>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script src=\"./data_import_export_tab.js\"></script>\n<!-- <style lang=\"scss\" src=\"./profile.scss\"></style> -->\n","/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that negates the result of the predicate `func`. The\n * `func` predicate is invoked with the `this` binding and arguments of the\n * created function.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} predicate The predicate to negate.\n * @returns {Function} Returns the new negated function.\n * @example\n *\n * function isEven(n) {\n *   return n % 2 == 0;\n * }\n *\n * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n * // => [1, 3, 5]\n */\nfunction negate(predicate) {\n  if (typeof predicate != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  return function() {\n    var args = arguments;\n    switch (args.length) {\n      case 0: return !predicate.call(this);\n      case 1: return !predicate.call(this, args[0]);\n      case 2: return !predicate.call(this, args[0], args[1]);\n      case 3: return !predicate.call(this, args[0], args[1], args[2]);\n    }\n    return !predicate.apply(this, args);\n  };\n}\n\nmodule.exports = negate;\n","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray'),\n    negate = require('./negate');\n\n/**\n * The opposite of `_.filter`; this method returns the elements of `collection`\n * that `predicate` does **not** return truthy for.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.filter\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': false },\n *   { 'user': 'fred',   'age': 40, 'active': true }\n * ];\n *\n * _.reject(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.reject(users, { 'age': 40, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.reject(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.reject(users, 'active');\n * // => objects for ['barney']\n */\nfunction reject(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, negate(baseIteratee(predicate, 3)));\n}\n\nmodule.exports = reject;\n","const debounceMilliseconds = 500\n\nexport default {\n  props: {\n    query: { // function to query results and return a promise\n      type: Function,\n      required: true\n    },\n    filter: { // function to filter results in real time\n      type: Function\n    },\n    placeholder: {\n      type: String,\n      default: 'Search...'\n    }\n  },\n  data () {\n    return {\n      term: '',\n      timeout: null,\n      results: [],\n      resultsVisible: false\n    }\n  },\n  computed: {\n    filtered () {\n      return this.filter ? this.filter(this.results) : this.results\n    }\n  },\n  watch: {\n    term (val) {\n      this.fetchResults(val)\n    }\n  },\n  methods: {\n    fetchResults (term) {\n      clearTimeout(this.timeout)\n      this.timeout = setTimeout(() => {\n        this.results = []\n        if (term) {\n          this.query(term).then((results) => { this.results = results })\n        }\n      }, debounceMilliseconds)\n    },\n    onInputClick () {\n      this.resultsVisible = true\n    },\n    onClickOutside () {\n      this.resultsVisible = false\n    }\n  }\n}\n","<!-- FIXME THIS NEEDS TO BE REFACTORED TO USE POPOVER -->\n<template>\n  <div\n    v-click-outside=\"onClickOutside\"\n    class=\"autosuggest\"\n  >\n    <input\n      v-model=\"term\"\n      :placeholder=\"placeholder\"\n      class=\"input autosuggest-input\"\n      @click=\"onInputClick\"\n    >\n    <div\n      v-if=\"resultsVisible && filtered.length > 0\"\n      class=\"panel autosuggest-results\"\n    >\n      <slot\n        v-for=\"item in filtered\"\n        :item=\"item\"\n      />\n    </div>\n  </div>\n</template>\n\n<script src=\"./autosuggest.js\"></script>\n\n<style lang=\"scss\">\n.autosuggest {\n  position: relative;\n\n  &-input {\n    display: block;\n    width: 100%;\n  }\n\n  &-results {\n    position: absolute;\n    left: 0;\n    top: 100%;\n    right: 0;\n    max-height: 400px;\n    background-color: var(--bg);\n    border-style: solid;\n    border-width: 1px;\n    border-color: var(--border);\n    border-radius: var(--roundness);\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n    box-shadow: 1px 1px 4px rgb(0 0 0 / 60%);\n    box-shadow: var(--shadow);\n    overflow-y: auto;\n    z-index: 1;\n  }\n}\n</style>\n","import BasicUserCard from '../basic_user_card/basic_user_card.vue'\n\nconst BlockCard = {\n  props: ['userId'],\n  data () {\n    return {\n      progress: false\n    }\n  },\n  computed: {\n    user () {\n      return this.$store.getters.findUser(this.userId)\n    },\n    relationship () {\n      return this.$store.getters.relationship(this.userId)\n    },\n    blocked () {\n      return this.relationship.blocking\n    }\n  },\n  components: {\n    BasicUserCard\n  },\n  methods: {\n    unblockUser () {\n      this.progress = true\n      this.$store.dispatch('unblockUser', this.user.id).then(() => {\n        this.progress = false\n      })\n    },\n    blockUser () {\n      this.progress = true\n      this.$store.dispatch('blockUser', this.user.id).then(() => {\n        this.progress = false\n      })\n    }\n  }\n}\n\nexport default BlockCard\n","<template>\n  <basic-user-card :user=\"user\">\n    <div class=\"block-card-content-container\">\n      <button\n        v-if=\"blocked\"\n        class=\"btn button-default\"\n        :disabled=\"progress\"\n        @click=\"unblockUser\"\n      >\n        <template v-if=\"progress\">\n          {{ $t('user_card.unblock_progress') }}\n        </template>\n        <template v-else>\n          {{ $t('user_card.unblock') }}\n        </template>\n      </button>\n      <button\n        v-else\n        class=\"btn button-default\"\n        :disabled=\"progress\"\n        @click=\"blockUser\"\n      >\n        <template v-if=\"progress\">\n          {{ $t('user_card.block_progress') }}\n        </template>\n        <template v-else>\n          {{ $t('user_card.block') }}\n        </template>\n      </button>\n    </div>\n  </basic-user-card>\n</template>\n\n<script src=\"./block_card.js\"></script>\n\n<style lang=\"scss\">\n.block-card-content-container {\n  margin-top: 0.5em;\n  text-align: right;\n\n  button {\n    width: 10em;\n  }\n}\n</style>\n","import BasicUserCard from '../basic_user_card/basic_user_card.vue'\n\nconst MuteCard = {\n  props: ['userId'],\n  data () {\n    return {\n      progress: false\n    }\n  },\n  computed: {\n    user () {\n      return this.$store.getters.findUser(this.userId)\n    },\n    relationship () {\n      return this.$store.getters.relationship(this.userId)\n    },\n    muted () {\n      return this.relationship.muting\n    }\n  },\n  components: {\n    BasicUserCard\n  },\n  methods: {\n    unmuteUser () {\n      this.progress = true\n      this.$store.dispatch('unmuteUser', this.userId).then(() => {\n        this.progress = false\n      })\n    },\n    muteUser () {\n      this.progress = true\n      this.$store.dispatch('muteUser', this.userId).then(() => {\n        this.progress = false\n      })\n    }\n  }\n}\n\nexport default MuteCard\n","<template>\n  <basic-user-card :user=\"user\">\n    <div class=\"mute-card-content-container\">\n      <button\n        v-if=\"muted\"\n        class=\"btn button-default\"\n        :disabled=\"progress\"\n        @click=\"unmuteUser\"\n      >\n        <template v-if=\"progress\">\n          {{ $t('user_card.unmute_progress') }}\n        </template>\n        <template v-else>\n          {{ $t('user_card.unmute') }}\n        </template>\n      </button>\n      <button\n        v-else\n        class=\"btn button-default\"\n        :disabled=\"progress\"\n        @click=\"muteUser\"\n      >\n        <template v-if=\"progress\">\n          {{ $t('user_card.mute_progress') }}\n        </template>\n        <template v-else>\n          {{ $t('user_card.mute') }}\n        </template>\n      </button>\n    </div>\n  </basic-user-card>\n</template>\n\n<script src=\"./mute_card.js\"></script>\n\n<style lang=\"scss\">\n.mute-card-content-container {\n  margin-top: 0.5em;\n  text-align: right;\n\n  button {\n    width: 10em;\n  }\n}\n</style>\n","import ProgressButton from '../progress_button/progress_button.vue'\n\nconst DomainMuteCard = {\n  props: ['domain'],\n  components: {\n    ProgressButton\n  },\n  computed: {\n    user () {\n      return this.$store.state.users.currentUser\n    },\n    muted () {\n      return this.user.domainMutes.includes(this.domain)\n    }\n  },\n  methods: {\n    unmuteDomain () {\n      return this.$store.dispatch('unmuteDomain', this.domain)\n    },\n    muteDomain () {\n      return this.$store.dispatch('muteDomain', this.domain)\n    }\n  }\n}\n\nexport default DomainMuteCard\n","<template>\n  <div class=\"domain-mute-card\">\n    <div class=\"domain-mute-card-domain\">\n      {{ domain }}\n    </div>\n    <ProgressButton\n      v-if=\"muted\"\n      :click=\"unmuteDomain\"\n      class=\"btn button-default\"\n    >\n      {{ $t('domain_mute_card.unmute') }}\n      <template #progress>\n        {{ $t('domain_mute_card.unmute_progress') }}\n      </template>\n    </ProgressButton>\n    <ProgressButton\n      v-else\n      :click=\"muteDomain\"\n      class=\"btn button-default\"\n    >\n      {{ $t('domain_mute_card.mute') }}\n      <template #progress>\n        {{ $t('domain_mute_card.mute_progress') }}\n      </template>\n    </ProgressButton>\n  </div>\n</template>\n\n<script src=\"./domain_mute_card.js\"></script>\n\n<style lang=\"scss\">\n.domain-mute-card {\n  flex: 1 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.6em 1em 0.6em 0;\n\n  &-domain {\n    margin-right: 1em;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  button {\n    width: 10em;\n  }\n\n  .autosuggest-results & {\n    padding-left: 1em;\n  }\n}\n</style>\n","import List from '../list/list.vue'\nimport Checkbox from '../checkbox/checkbox.vue'\n\nconst SelectableList = {\n  components: {\n    List,\n    Checkbox\n  },\n  props: {\n    items: {\n      type: Array,\n      default: () => []\n    },\n    getKey: {\n      type: Function,\n      default: item => item.id\n    }\n  },\n  data () {\n    return {\n      selected: []\n    }\n  },\n  computed: {\n    allKeys () {\n      return this.items.map(this.getKey)\n    },\n    filteredSelected () {\n      return this.allKeys.filter(key => this.selected.indexOf(key) !== -1)\n    },\n    allSelected () {\n      return this.filteredSelected.length === this.items.length\n    },\n    noneSelected () {\n      return this.filteredSelected.length === 0\n    },\n    someSelected () {\n      return !this.allSelected && !this.noneSelected\n    }\n  },\n  methods: {\n    isSelected (item) {\n      return this.filteredSelected.indexOf(this.getKey(item)) !== -1\n    },\n    toggle (checked, item) {\n      const key = this.getKey(item)\n      const oldChecked = this.isSelected(key)\n      if (checked !== oldChecked) {\n        if (checked) {\n          this.selected.push(key)\n        } else {\n          this.selected.splice(this.selected.indexOf(key), 1)\n        }\n      }\n    },\n    toggleAll (value) {\n      if (value) {\n        this.selected = this.allKeys.slice(0)\n      } else {\n        this.selected = []\n      }\n    }\n  }\n}\n\nexport default SelectableList\n","<template>\n  <div class=\"selectable-list\">\n    <div\n      v-if=\"items.length > 0\"\n      class=\"selectable-list-header\"\n    >\n      <div class=\"selectable-list-checkbox-wrapper\">\n        <Checkbox\n          :model-value=\"allSelected\"\n          :indeterminate=\"someSelected\"\n          @update:model-value=\"toggleAll\"\n        >\n          {{ $t('selectable_list.select_all') }}\n        </Checkbox>\n      </div>\n      <div class=\"selectable-list-header-actions\">\n        <slot\n          name=\"header\"\n          :selected=\"filteredSelected\"\n        />\n      </div>\n    </div>\n    <List\n      :items=\"items\"\n      :get-key=\"getKey\"\n      :get-class=\"item => isSelected(item) ? '-active' : ''\"\n    >\n      <template #item=\"{item}\">\n        <div\n          class=\"selectable-list-item-inner\"\n          :class=\"{ 'selectable-list-item-selected-inner': isSelected(item) }\"\n          @click.stop=\"toggle(!isSelected(item), item)\"\n        >\n          <div class=\"selectable-list-checkbox-wrapper\">\n            <Checkbox\n              :model-value=\"isSelected(item)\"\n              @update:model-value=\"checked => toggle(checked, item)\"\n              @click.stop\n            />\n          </div>\n          <slot\n            name=\"item\"\n            :item=\"item\"\n          />\n        </div>\n      </template>\n      <template #empty>\n        <slot name=\"empty\" />\n      </template>\n    </List>\n  </div>\n</template>\n\n<script src=\"./selectable_list.js\"></script>\n\n<style lang=\"scss\">\n.selectable-list {\n  --__line-height: 1.5em;\n  --__horizontal-gap: 0.75em;\n  --__vertical-gap: 0.5em;\n\n  &-item-inner {\n    display: flex;\n    align-items: center;\n\n    > * {\n      min-width: 0;\n    }\n  }\n\n  &-header {\n    display: flex;\n    align-items: center;\n    padding: var(--__vertical-gap) var(--__horizontal-gap);\n    border-bottom: 1px solid;\n    border-bottom-color: var(--border);\n\n    &-actions {\n      flex: 1;\n    }\n  }\n\n  &-checkbox-wrapper {\n    padding-right: var(--__horizontal-gap);\n    flex: none;\n  }\n}\n</style>\n","// eslint-disable-next-line no-unused\nimport { h } from 'vue'\nimport isEmpty from 'lodash/isEmpty'\nimport { getComponentProps } from '../../services/component_utils/component_utils'\nimport './with_subscription.scss'\n\nimport { FontAwesomeIcon as FAIcon } from '@fortawesome/vue-fontawesome'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faCircleNotch\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faCircleNotch\n)\n\nconst withSubscription = ({\n  fetch, // function to fetch entries and return a promise\n  select, // function to select data from store\n  childPropName = 'content', // name of the prop to be passed into the wrapped component\n  additionalPropNames = [] // additional prop name list of the wrapper component\n}) => (WrappedComponent) => {\n  const originalProps = Object.keys(getComponentProps(WrappedComponent))\n  const props = originalProps.filter(v => v !== childPropName).concat(additionalPropNames)\n\n  return {\n    props: [\n      ...props,\n      'refresh' // boolean saying to force-fetch data whenever created\n    ],\n    data () {\n      return {\n        loading: false,\n        error: false\n      }\n    },\n    computed: {\n      fetchedData () {\n        return select(this.$props, this.$store)\n      }\n    },\n    created () {\n      if (this.refresh || isEmpty(this.fetchedData)) {\n        this.fetchData()\n      }\n    },\n    methods: {\n      fetchData () {\n        if (!this.loading) {\n          this.loading = true\n          this.error = false\n          fetch(this.$props, this.$store)\n            .then(() => {\n              this.loading = false\n            })\n            .catch(() => {\n              this.error = true\n              this.loading = false\n            })\n        }\n      }\n    },\n    render () {\n      if (!this.error && !this.loading) {\n        const props = {\n          ...this.$props,\n          [childPropName]: this.fetchedData\n        }\n        const children = this.$slots\n        return (\n          <div class=\"with-subscription\">\n            <WrappedComponent {...props}>\n              {children}\n            </WrappedComponent>\n          </div>\n        )\n      } else {\n        return (\n          <div class=\"with-subscription-loading\">\n            {this.error\n              ? <a onClick={this.fetchData} class=\"alert error\">{this.$t('general.generic_error')}</a>\n              : <FAIcon spin icon=\"circle-notch\"/>\n            }\n          </div>\n        )\n      }\n    }\n  }\n}\n\nexport default withSubscription\n","import get from 'lodash/get'\nimport map from 'lodash/map'\nimport reject from 'lodash/reject'\nimport Autosuggest from 'src/components/autosuggest/autosuggest.vue'\nimport TabSwitcher from 'src/components/tab_switcher/tab_switcher.jsx'\nimport BlockCard from 'src/components/block_card/block_card.vue'\nimport MuteCard from 'src/components/mute_card/mute_card.vue'\nimport DomainMuteCard from 'src/components/domain_mute_card/domain_mute_card.vue'\nimport SelectableList from 'src/components/selectable_list/selectable_list.vue'\nimport ProgressButton from 'src/components/progress_button/progress_button.vue'\nimport withSubscription from 'src/components/../hocs/with_subscription/with_subscription'\nimport withLoadMore from 'src/components/../hocs/with_load_more/with_load_more'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\n\nconst BlockList = withLoadMore({\n  fetch: (props, $store) => $store.dispatch('fetchBlocks'),\n  select: (props, $store) => get($store.state.users.currentUser, 'blockIds', []),\n  destroy: () => {},\n  childPropName: 'items'\n})(SelectableList)\n\nconst MuteList = withLoadMore({\n  fetch: (props, $store) => $store.dispatch('fetchMutes'),\n  select: (props, $store) => get($store.state.users.currentUser, 'muteIds', []),\n  destroy: () => {},\n  childPropName: 'items'\n})(SelectableList)\n\nconst DomainMuteList = withSubscription({\n  fetch: (props, $store) => $store.dispatch('fetchDomainMutes'),\n  select: (props, $store) => get($store.state.users.currentUser, 'domainMutes', []),\n  childPropName: 'items'\n})(SelectableList)\n\nconst MutesAndBlocks = {\n  data () {\n    return {\n      activeTab: 'profile'\n    }\n  },\n  created () {\n    this.$store.dispatch('fetchTokens')\n    this.$store.dispatch('getKnownDomains')\n  },\n  components: {\n    TabSwitcher,\n    BlockList,\n    MuteList,\n    DomainMuteList,\n    BlockCard,\n    MuteCard,\n    DomainMuteCard,\n    ProgressButton,\n    Autosuggest,\n    Checkbox\n  },\n  computed: {\n    knownDomains () {\n      return this.$store.state.instance.knownDomains\n    },\n    user () {\n      return this.$store.state.users.currentUser\n    }\n  },\n  methods: {\n    importFollows (file) {\n      return this.$store.state.api.backendInteractor.importFollows({ file })\n        .then((status) => {\n          if (!status) {\n            throw new Error('failed')\n          }\n        })\n    },\n    importBlocks (file) {\n      return this.$store.state.api.backendInteractor.importBlocks({ file })\n        .then((status) => {\n          if (!status) {\n            throw new Error('failed')\n          }\n        })\n    },\n    generateExportableUsersContent (users) {\n      // Get addresses\n      return users.map((user) => {\n        // check is it's a local user\n        if (user && user.is_local) {\n          // append the instance address\n          return user.screen_name + '@' + location.hostname\n        }\n        return user.screen_name\n      }).join('\\n')\n    },\n    activateTab (tabName) {\n      this.activeTab = tabName\n    },\n    filterUnblockedUsers (userIds) {\n      return reject(userIds, (userId) => {\n        const relationship = this.$store.getters.relationship(this.userId)\n        return relationship.blocking || userId === this.user.id\n      })\n    },\n    filterUnMutedUsers (userIds) {\n      return reject(userIds, (userId) => {\n        const relationship = this.$store.getters.relationship(this.userId)\n        return relationship.muting || userId === this.user.id\n      })\n    },\n    queryUserIds (query) {\n      return this.$store.dispatch('searchUsers', { query })\n        .then((users) => map(users, 'id'))\n    },\n    blockUsers (ids) {\n      return this.$store.dispatch('blockUsers', ids)\n    },\n    unblockUsers (ids) {\n      return this.$store.dispatch('unblockUsers', ids)\n    },\n    muteUsers (ids) {\n      return this.$store.dispatch('muteUsers', ids)\n    },\n    unmuteUsers (ids) {\n      return this.$store.dispatch('unmuteUsers', ids)\n    },\n    filterUnMutedDomains (urls) {\n      return urls.filter(url => !this.user.domainMutes.includes(url))\n    },\n    queryKnownDomains (query) {\n      return new Promise((resolve) => {\n        resolve(this.knownDomains.filter(url => url.toLowerCase().includes(query)))\n      })\n    },\n    unmuteDomains (domains) {\n      return this.$store.dispatch('unmuteDomains', domains)\n    }\n  }\n}\n\nexport default MutesAndBlocks\n","<template>\n  <tab-switcher\n    :scrollable-tabs=\"true\"\n    class=\"mutes-and-blocks-tab\"\n  >\n    <div :label=\"$t('settings.blocks_tab')\">\n      <div class=\"usersearch-wrapper\">\n        <Autosuggest\n          :filter=\"filterUnblockedUsers\"\n          :query=\"queryUserIds\"\n          :placeholder=\"$t('settings.search_user_to_block')\"\n        >\n          <template #default=\"row\">\n            <BlockCard\n              :user-id=\"row.item\"\n            />\n          </template>\n        </Autosuggest>\n      </div>\n      <BlockList\n        :refresh=\"true\"\n        :get-key=\"i => i\"\n      >\n        <template #header=\"{selected}\">\n          <div class=\"bulk-actions\">\n            <ProgressButton\n              v-if=\"selected.length > 0\"\n              class=\"btn button-default bulk-action-button\"\n              :click=\"() => blockUsers(selected)\"\n            >\n              {{ $t('user_card.block') }}\n              <template #progress>\n                {{ $t('user_card.block_progress') }}\n              </template>\n            </ProgressButton>\n            <ProgressButton\n              v-if=\"selected.length > 0\"\n              class=\"btn button-default\"\n              :click=\"() => unblockUsers(selected)\"\n            >\n              {{ $t('user_card.unblock') }}\n              <template #progress>\n                {{ $t('user_card.unblock_progress') }}\n              </template>\n            </ProgressButton>\n          </div>\n        </template>\n        <template #item=\"{item}\">\n          <BlockCard :user-id=\"item\" />\n        </template>\n        <template #empty>\n          {{ $t('settings.no_blocks') }}\n        </template>\n      </BlockList>\n    </div>\n\n    <div :label=\"$t('settings.mutes_tab')\">\n      <tab-switcher>\n        <div :label=\"$t('settings.user_mutes')\">\n          <div class=\"usersearch-wrapper\">\n            <Autosuggest\n              :filter=\"filterUnMutedUsers\"\n              :query=\"queryUserIds\"\n              :placeholder=\"$t('settings.search_user_to_mute')\"\n            >\n              <template #default=\"row\">\n                <MuteCard\n                  :user-id=\"row.item\"\n                />\n              </template>\n            </Autosuggest>\n          </div>\n          <MuteList\n            :refresh=\"true\"\n            :get-key=\"i => i\"\n          >\n            <template #header=\"{selected}\">\n              <div class=\"bulk-actions\">\n                <ProgressButton\n                  v-if=\"selected.length > 0\"\n                  class=\"btn button-default\"\n                  :click=\"() => muteUsers(selected)\"\n                >\n                  {{ $t('user_card.mute') }}\n                  <template #progress>\n                    {{ $t('user_card.mute_progress') }}\n                  </template>\n                </ProgressButton>\n                <ProgressButton\n                  v-if=\"selected.length > 0\"\n                  class=\"btn button-default\"\n                  :click=\"() => unmuteUsers(selected)\"\n                >\n                  {{ $t('user_card.unmute') }}\n                  <template #progress>\n                    {{ $t('user_card.unmute_progress') }}\n                  </template>\n                </ProgressButton>\n              </div>\n            </template>\n            <template #item=\"{item}\">\n              <MuteCard :user-id=\"item\" />\n            </template>\n            <template #empty>\n              {{ $t('settings.no_mutes') }}\n            </template>\n          </MuteList>\n        </div>\n\n        <div :label=\"$t('settings.domain_mutes')\">\n          <div class=\"domain-mute-form\">\n            <Autosuggest\n              :filter=\"filterUnMutedDomains\"\n              :query=\"queryKnownDomains\"\n              :placeholder=\"$t('settings.type_domains_to_mute')\"\n            >\n              <template #default=\"row\">\n                <DomainMuteCard\n                  :domain=\"row.item\"\n                />\n              </template>\n            </Autosuggest>\n          </div>\n          <DomainMuteList\n            :refresh=\"true\"\n            :get-key=\"i => i\"\n          >\n            <template #header=\"{selected}\">\n              <div class=\"bulk-actions\">\n                <ProgressButton\n                  v-if=\"selected.length > 0\"\n                  class=\"btn button-default\"\n                  :click=\"() => unmuteDomains(selected)\"\n                >\n                  {{ $t('domain_mute_card.unmute') }}\n                  <template #progress>\n                    {{ $t('domain_mute_card.unmute_progress') }}\n                  </template>\n                </ProgressButton>\n              </div>\n            </template>\n            <template #item=\"{item}\">\n              <DomainMuteCard :domain=\"item\" />\n            </template>\n            <template #empty>\n              {{ $t('settings.no_mutes') }}\n            </template>\n          </DomainMuteList>\n        </div>\n      </tab-switcher>\n    </div>\n  </tab-switcher>\n</template>\n\n<script src=\"./mutes_and_blocks_tab.js\"></script>\n<style lang=\"scss\" src=\"./mutes_and_blocks_tab.scss\"></style>\n","import BooleanSetting from '../helpers/boolean_setting.vue'\nimport SharedComputedObject from '../helpers/shared_computed_object.js'\n\nconst NotificationsTab = {\n  data () {\n    return {\n      activeTab: 'profile',\n      notificationSettings: this.$store.state.users.currentUser.notification_settings,\n      newDomainToMute: ''\n    }\n  },\n  components: {\n    BooleanSetting\n  },\n  computed: {\n    user () {\n      return this.$store.state.users.currentUser\n    },\n    canReceiveReports () {\n      if (!this.user) { return false }\n      return this.user.privileges.includes('reports_manage_reports')\n    },\n    ...SharedComputedObject()\n  },\n  methods: {\n    updateNotificationSettings () {\n      this.$store.state.api.backendInteractor\n        .updateNotificationSettings({ settings: this.notificationSettings })\n    }\n  }\n}\n\nexport default NotificationsTab\n","<template>\n  <div :label=\"$t('settings.notifications')\">\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.notification_setting_annoyance') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <BooleanSetting path=\"closingDrawerMarksAsSeen\">\n            {{ $t('settings.notification_setting_drawer_marks_as_seen') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"ignoreInactionableSeen\">\n            {{ $t('settings.notification_setting_ignore_inactionable_seen') }}\n          </BooleanSetting>\n          <div>\n            <small>\n              {{ $t('settings.notification_setting_ignore_inactionable_seen_tip') }}\n            </small>\n          </div>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"unseenAtTop\"\n            expert=\"1\"\n          >\n            {{ $t('settings.notification_setting_unseen_at_top') }}\n          </BooleanSetting>\n        </li>\n      </ul>\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.notification_setting_filters') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <BooleanSetting\n            source=\"profile\"\n            path=\"blockNotificationsFromStrangers\"\n          >\n            {{ $t('settings.notification_setting_block_from_strangers') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <h3> {{ $t('settings.notification_visibility') }}</h3>\n          <p v-if=\"expertLevel > 0\">\n            {{ $t('settings.notification_setting_filters_chrome_push') }}\n          </p>\n          <ul class=\"setting-list two-column\">\n            <li>\n              <h4> {{ $t('settings.notification_visibility_mentions') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.mentions\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.mentions\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <h4> {{ $t('settings.notification_visibility_statuses') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.statuses\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.statuses\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <h4> {{ $t('settings.notification_visibility_likes') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.likes\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.likes\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <h4> {{ $t('settings.notification_visibility_repeats') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.repeats\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.repeats\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <h4> {{ $t('settings.notification_visibility_emoji_reactions') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.emojiReactions\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.emojiReactions\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <h4> {{ $t('settings.notification_visibility_follows') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.follows\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.follows\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <h4> {{ $t('settings.notification_visibility_follow_requests') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.followRequest\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.followRequest\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <h4> {{ $t('settings.notification_visibility_moves') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.moves\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.moves\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <h4> {{ $t('settings.notification_visibility_polls') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.polls\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.polls\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n            <li v-if=\"canReceiveReports\">\n              <h4> {{ $t('settings.notification_visibility_reports') }}</h4>\n              <ul class=\"setting-list\">\n                <li>\n                  <BooleanSetting path=\"notificationVisibility.reports\">\n                    {{ $t('settings.notification_visibility_in_column') }}\n                  </BooleanSetting>\n                </li>\n                <li>\n                  <BooleanSetting path=\"notificationNative.reports\">\n                    {{ $t('settings.notification_visibility_native_notifications') }}\n                  </BooleanSetting>\n                </li>\n              </ul>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <BooleanSetting path=\"showExtraNotifications\">\n            {{ $t('settings.notification_show_extra') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <ul class=\"setting-list suboptions\">\n            <li>\n              <BooleanSetting\n                path=\"showChatsInExtraNotifications\"\n                :disabled=\"!mergedConfig.showExtraNotifications\"\n              >\n                {{ $t('settings.notification_extra_chats') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting\n                path=\"showAnnouncementsInExtraNotifications\"\n                :disabled=\"!mergedConfig.showExtraNotifications\"\n              >\n                {{ $t('settings.notification_extra_announcements') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting\n                path=\"showFollowRequestsInExtraNotifications\"\n                :disabled=\"!mergedConfig.showExtraNotifications\"\n              >\n                {{ $t('settings.notification_extra_follow_requests') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting\n                path=\"showExtraNotificationsTip\"\n                :disabled=\"!mergedConfig.showExtraNotifications\"\n              >\n                {{ $t('settings.notification_extra_tip') }}\n              </BooleanSetting>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n\n    <div\n      v-if=\"expertLevel > 0\"\n      class=\"setting-item\"\n    >\n      <h2>{{ $t('settings.notification_setting_privacy') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <BooleanSetting\n            path=\"webPushNotifications\"\n            expert=\"1\"\n          >\n            {{ $t('settings.enable_web_push_notifications') }}\n          </BooleanSetting>\n          <ul class=\"setting-list suboptions\">\n            <li>\n              <BooleanSetting\n                path=\"webPushAlwaysShowNotifications\"\n                :disabled=\"!mergedConfig.webPushNotifications\"\n              >\n                {{ $t('settings.enable_web_push_always_show') }}\n              </BooleanSetting>\n              <div :class=\"{ faint: !mergedConfig.webPushNotifications }\">\n                <small>\n                  {{ $t('settings.enable_web_push_always_show_tip') }}\n                </small>\n              </div>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <BooleanSetting\n            source=\"profile\"\n            path=\"webPushHideContents\"\n            expert=\"1\"\n          >\n            {{ $t('settings.notification_setting_hide_notification_contents') }}\n          </BooleanSetting>\n        </li>\n      </ul>\n    </div>\n    <div class=\"setting-item\">\n      <p>{{ $t('settings.notification_mutes') }}</p>\n      <p>{{ $t('settings.notification_blocks') }}</p>\n    </div>\n  </div>\n</template>\n\n<script src=\"./notifications_tab.js\"></script>\n<!-- <style lang=\"scss\" src=\"./profile.scss\"></style> -->\n","import Select from 'src/components/select/select.vue'\nimport Setting from './setting.js'\n\nexport const allCssUnits = ['cm', 'mm', 'in', 'px', 'pt', 'pc', 'em', 'ex', 'ch', 'rem', 'vw', 'vh', 'vmin', 'vmax', '%']\nexport const defaultHorizontalUnits = ['px', 'rem', 'vw']\nexport const defaultVerticalUnits = ['px', 'rem', 'vh']\n\nexport default {\n  ...Setting,\n  components: {\n    ...Setting.components,\n    Select\n  },\n  props: {\n    ...Setting.props,\n    min: Number,\n    units: {\n      type: Array,\n      default: () => allCssUnits\n    },\n    unitSet: {\n      type: String,\n      default: 'none'\n    },\n    step: {\n      type: Number,\n      default: 1\n    },\n    resetDefault: {\n      type: Object,\n      default: null\n    }\n  },\n  computed: {\n    ...Setting.computed,\n    stateUnit () {\n      return typeof this.state === 'string' ? this.state.replace(/[0-9,.]+/, '') : ''\n    },\n    stateValue () {\n      return typeof this.state === 'string' ? this.state.replace(/[^0-9,.]+/, '') : ''\n    }\n  },\n  methods: {\n    ...Setting.methods,\n    getUnitString (value) {\n      if (this.unitSet === 'none') return value\n      return this.$t(['settings', 'units', this.unitSet, value].join('.'))\n    },\n    updateValue (e) {\n      this.configSink(this.path, parseFloat(e.target.value) + this.stateUnit)\n    },\n    updateUnit (e) {\n      let value = this.stateValue\n      const newUnit = e.target.value\n      if (this.resetDefault) {\n        const replaceValue = this.resetDefault[newUnit]\n        if (replaceValue != null) {\n          value = replaceValue\n        }\n      }\n      this.configSink(this.path, value + newUnit)\n    }\n  }\n}\n","<template>\n  <span\n    v-if=\"matchesExpertLevel\"\n    class=\"UnitSetting\"\n  >\n    <label\n      :for=\"path\"\n      class=\"size-label\"\n    >\n      <slot />\n    </label>\n    {{ ' ' }}\n    <span class=\"no-break\">\n      <input\n        :id=\"path\"\n        class=\"input number-input\"\n        type=\"number\"\n        :step=\"step\"\n        :disabled=\"disabled\"\n        :min=\"min || 0\"\n        :value=\"stateValue\"\n        @change=\"updateValue\"\n      >\n      <Select\n        :id=\"path\"\n        :model-value=\"stateUnit\"\n        :disabled=\"disabled\"\n        class=\"unit-input unstyled\"\n        @change=\"updateUnit\"\n      >\n        <option\n          v-for=\"option in units\"\n          :key=\"option\"\n          :value=\"option\"\n        >\n          {{ getUnitString(option) }}\n        </option>\n      </Select>\n    </span>\n    {{ ' ' }}\n    <ModifiedIndicator\n      :changed=\"isChanged\"\n      :onclick=\"reset\"\n    />\n  </span>\n</template>\n\n<script src=\"./unit_setting.js\"></script>\n\n<style lang=\"scss\">\n.UnitSetting {\n  .no-break {\n    display: inline-block;\n  }\n\n  .number-input {\n    max-width: 6.5em;\n    text-align: right;\n  }\n\n  .unit-input,\n  .unit-input select {\n    min-width: 4em;\n    width: auto;\n  }\n}\n\n</style>\n","import { filter, trim, debounce } from 'lodash'\nimport BooleanSetting from '../helpers/boolean_setting.vue'\nimport ChoiceSetting from '../helpers/choice_setting.vue'\nimport UnitSetting from '../helpers/unit_setting.vue'\nimport IntegerSetting from '../helpers/integer_setting.vue'\n\nimport SharedComputedObject from '../helpers/shared_computed_object.js'\n\nconst FilteringTab = {\n  data () {\n    return {\n      muteWordsStringLocal: this.$store.getters.mergedConfig.muteWords.join('\\n'),\n      replyVisibilityOptions: ['all', 'following', 'self'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.reply_visibility_${mode}`)\n      }))\n    }\n  },\n  components: {\n    BooleanSetting,\n    ChoiceSetting,\n    UnitSetting,\n    IntegerSetting\n  },\n  computed: {\n    ...SharedComputedObject(),\n    muteWordsString: {\n      get () {\n        return this.muteWordsStringLocal\n      },\n      set (value) {\n        this.muteWordsStringLocal = value\n        this.debouncedSetMuteWords(value)\n      }\n    },\n    debouncedSetMuteWords () {\n      return debounce((value) => {\n        this.$store.dispatch('setOption', {\n          name: 'muteWords',\n          value: filter(value.split('\\n'), (word) => trim(word).length > 0)\n        })\n      }, 1000)\n    }\n  },\n  // Updating nested properties\n  watch: {\n    replyVisibility () {\n      this.$store.dispatch('queueFlushAll')\n    }\n  }\n}\n\nexport default FilteringTab\n","<template>\n  <div :label=\"$t('settings.filtering')\">\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.posts') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <BooleanSetting path=\"hideFilteredStatuses\">\n            {{ $t('settings.hide_filtered_statuses') }}\n          </BooleanSetting>\n          <ul class=\"setting-list suboptions\">\n            <li>\n              <BooleanSetting\n                parent-path=\"hideFilteredStatuses\"\n                :parent-invert=\"true\"\n                path=\"hideWordFilteredPosts\"\n              >\n                {{ $t('settings.hide_wordfiltered_statuses') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting\n                v-if=\"user\"\n                parent-path=\"hideFilteredStatuses\"\n                :parent-invert=\"true\"\n                path=\"hideMutedThreads\"\n              >\n                {{ $t('settings.hide_muted_threads') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting\n                v-if=\"user\"\n                parent-path=\"hideFilteredStatuses\"\n                :parent-invert=\"true\"\n                path=\"hideMutedPosts\"\n              >\n                {{ $t('settings.hide_muted_posts') }}\n              </BooleanSetting>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <BooleanSetting path=\"muteBotStatuses\">\n            {{ $t('settings.mute_bot_posts') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"muteSensitiveStatuses\">\n            {{ $t('settings.mute_sensitive_posts') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"hidePostStats\">\n            {{ $t('settings.hide_post_stats') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"hideBotIndication\">\n            {{ $t('settings.hide_actor_type_indication') }}\n          </BooleanSetting>\n        </li>\n        <ChoiceSetting\n          v-if=\"user\"\n          id=\"replyVisibility\"\n          path=\"replyVisibility\"\n          :options=\"replyVisibilityOptions\"\n        >\n          {{ $t('settings.replies_in_timeline') }}\n        </ChoiceSetting>\n        <li>\n          <h3>{{ $t('settings.wordfilter') }}</h3>\n          <textarea\n            id=\"muteWords\"\n            v-model=\"muteWordsString\"\n            class=\"input resize-height\"\n          />\n          <div>{{ $t('settings.filtering_explanation') }}</div>\n        </li>\n        <h3>{{ $t('settings.attachments') }}</h3>\n        <li>\n          <IntegerSetting\n            path=\"maxThumbnails\"\n            expert=\"1\"\n            :min=\"0\"\n          >\n            {{ $t('settings.max_thumbnails') }}\n          </IntegerSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"hideAttachments\">\n            {{ $t('settings.hide_attachments_in_tl') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"hideAttachmentsInConv\">\n            {{ $t('settings.hide_attachments_in_convo') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"hideScrobbles\">\n            {{ $t('settings.hide_scrobbles') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <UnitSetting\n            key=\"hideScrobblesAfter\"\n            path=\"hideScrobblesAfter\"\n            :units=\"['m', 'h', 'd']\"\n            unit-set=\"time\"\n            expert=\"1\"\n          >\n            {{ $t('settings.hide_scrobbles_after') }}\n          </UnitSetting>\n        </li>\n      </ul>\n    </div>\n    <div\n      v-if=\"expertLevel > 0\"\n      class=\"setting-item\"\n    >\n      <h2>{{ $t('settings.user_profiles') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <BooleanSetting path=\"hideUserStats\">\n            {{ $t('settings.hide_user_stats') }}\n          </BooleanSetting>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n<script src=\"./filtering_tab.js\"></script>\n","export default {\n  props: {\n    backupCodes: {\n      type: Object,\n      default: () => ({\n        inProgress: false,\n        codes: []\n      })\n    }\n  },\n  data: () => ({}),\n  computed: {\n    inProgress () { return this.backupCodes.inProgress },\n    ready () { return this.backupCodes.codes.length > 0 },\n    displayTitle () { return this.inProgress || this.ready }\n  }\n}\n","<template>\n  <div class=\"mfa-backup-codes\">\n    <h4 v-if=\"displayTitle\">\n      {{ $t('settings.mfa.recovery_codes') }}\n    </h4>\n    <i v-if=\"inProgress\">{{ $t('settings.mfa.waiting_a_recovery_codes') }}</i>\n    <template v-if=\"ready\">\n      <p class=\"alert warning\">\n        {{ $t('settings.mfa.recovery_codes_warning') }}\n      </p>\n      <ul class=\"backup-codes\">\n        <li\n          v-for=\"code in backupCodes.codes\"\n          :key=\"code\"\n        >\n          {{ code }}\n        </li>\n      </ul>\n    </template>\n  </div>\n</template>\n<script src=\"./mfa_backup_codes.js\"></script>\n<style lang=\"scss\">\n.mfa-backup-codes {\n  .warning {\n    color: var(--cOrange);\n  }\n\n  .backup-codes {\n    font-family: var(--monoFont);\n  }\n}\n</style>\n","const Confirm = {\n  props: ['disabled'],\n  data: () => ({}),\n  methods: {\n    confirm () { this.$emit('confirm') },\n    cancel () { this.$emit('cancel') }\n  }\n}\nexport default Confirm\n","<template>\n  <div>\n    <slot />\n    <button\n      class=\"btn button-default\"\n      :disabled=\"disabled\"\n      @click=\"confirm\"\n    >\n      {{ $t('general.confirm') }}\n    </button>\n    <button\n      class=\"btn button-default\"\n      :disabled=\"disabled\"\n      @click=\"cancel\"\n    >\n      {{ $t('general.cancel') }}\n    </button>\n  </div>\n</template>\n\n<script src=\"./confirm.js\">\n</script>\n","import Confirm from './confirm.vue'\nimport { mapState } from 'vuex'\n\nexport default {\n  props: ['settings'],\n  data: () => ({\n    error: false,\n    currentPassword: '',\n    deactivate: false,\n    inProgress: false // progress peform request to disable otp method\n  }),\n  components: {\n    confirm: Confirm\n  },\n  computed: {\n    isActivated () {\n      return this.settings.totp\n    },\n    ...mapState({\n      backendInteractor: (state) => state.api.backendInteractor\n    })\n  },\n  methods: {\n    doActivate () {\n      this.$emit('activate')\n    },\n    cancelDeactivate () { this.deactivate = false },\n    doDeactivate () {\n      this.error = null\n      this.deactivate = true\n    },\n    confirmDeactivate () { // confirm deactivate TOTP method\n      this.error = null\n      this.inProgress = true\n      this.backendInteractor.mfaDisableOTP({\n        password: this.currentPassword\n      })\n        .then((res) => {\n          this.inProgress = false\n          if (res.error) {\n            this.error = res.error\n            return\n          }\n          this.deactivate = false\n          this.$emit('deactivate')\n        })\n    }\n  }\n}\n","<template>\n  <div>\n    <div class=\"method-item\">\n      <strong>{{ $t('settings.mfa.otp') }}</strong>\n      <button\n        v-if=\"!isActivated\"\n        class=\"btn button-default\"\n        @click=\"doActivate\"\n      >\n        {{ $t('general.enable') }}\n      </button>\n\n      <button\n        v-if=\"isActivated\"\n        class=\"btn button-default\"\n        :disabled=\"deactivate\"\n        @click=\"doDeactivate\"\n      >\n        {{ $t('general.disable') }}\n      </button>\n    </div>\n\n    <confirm\n      v-if=\"deactivate\"\n      :disabled=\"inProgress\"\n      @confirm=\"confirmDeactivate\"\n      @cancel=\"cancelDeactivate\"\n    >\n      {{ $t('settings.enter_current_password_to_confirm') }}:\n      <input\n        v-model=\"currentPassword\"\n        type=\"password\"\n        class=\"input\"\n      >\n    </confirm>\n    <div\n      v-if=\"error\"\n      class=\"alert error\"\n    >\n      {{ error }}\n    </div>\n  </div>\n</template>\n<script src=\"./mfa_totp.js\"></script>\n","// can-promise has a crash in some versions of react native that dont have\n// standard global objects\n// https://github.com/soldair/node-qrcode/issues/157\n\nmodule.exports = function () {\n  return typeof Promise === 'function' && Promise.prototype && Promise.prototype.then\n}\n","let toSJISFunction\nconst CODEWORDS_COUNT = [\n  0, // Not used\n  26, 44, 70, 100, 134, 172, 196, 242, 292, 346,\n  404, 466, 532, 581, 655, 733, 815, 901, 991, 1085,\n  1156, 1258, 1364, 1474, 1588, 1706, 1828, 1921, 2051, 2185,\n  2323, 2465, 2611, 2761, 2876, 3034, 3196, 3362, 3532, 3706\n]\n\n/**\n * Returns the QR Code size for the specified version\n *\n * @param  {Number} version QR Code version\n * @return {Number}         size of QR code\n */\nexports.getSymbolSize = function getSymbolSize (version) {\n  if (!version) throw new Error('\"version\" cannot be null or undefined')\n  if (version < 1 || version > 40) throw new Error('\"version\" should be in range from 1 to 40')\n  return version * 4 + 17\n}\n\n/**\n * Returns the total number of codewords used to store data and EC information.\n *\n * @param  {Number} version QR Code version\n * @return {Number}         Data length in bits\n */\nexports.getSymbolTotalCodewords = function getSymbolTotalCodewords (version) {\n  return CODEWORDS_COUNT[version]\n}\n\n/**\n * Encode data with Bose-Chaudhuri-Hocquenghem\n *\n * @param  {Number} data Value to encode\n * @return {Number}      Encoded value\n */\nexports.getBCHDigit = function (data) {\n  let digit = 0\n\n  while (data !== 0) {\n    digit++\n    data >>>= 1\n  }\n\n  return digit\n}\n\nexports.setToSJISFunction = function setToSJISFunction (f) {\n  if (typeof f !== 'function') {\n    throw new Error('\"toSJISFunc\" is not a valid function.')\n  }\n\n  toSJISFunction = f\n}\n\nexports.isKanjiModeEnabled = function () {\n  return typeof toSJISFunction !== 'undefined'\n}\n\nexports.toSJIS = function toSJIS (kanji) {\n  return toSJISFunction(kanji)\n}\n","exports.L = { bit: 1 }\nexports.M = { bit: 0 }\nexports.Q = { bit: 3 }\nexports.H = { bit: 2 }\n\nfunction fromString (string) {\n  if (typeof string !== 'string') {\n    throw new Error('Param is not a string')\n  }\n\n  const lcStr = string.toLowerCase()\n\n  switch (lcStr) {\n    case 'l':\n    case 'low':\n      return exports.L\n\n    case 'm':\n    case 'medium':\n      return exports.M\n\n    case 'q':\n    case 'quartile':\n      return exports.Q\n\n    case 'h':\n    case 'high':\n      return exports.H\n\n    default:\n      throw new Error('Unknown EC Level: ' + string)\n  }\n}\n\nexports.isValid = function isValid (level) {\n  return level && typeof level.bit !== 'undefined' &&\n    level.bit >= 0 && level.bit < 4\n}\n\nexports.from = function from (value, defaultValue) {\n  if (exports.isValid(value)) {\n    return value\n  }\n\n  try {\n    return fromString(value)\n  } catch (e) {\n    return defaultValue\n  }\n}\n","function BitBuffer () {\n  this.buffer = []\n  this.length = 0\n}\n\nBitBuffer.prototype = {\n\n  get: function (index) {\n    const bufIndex = Math.floor(index / 8)\n    return ((this.buffer[bufIndex] >>> (7 - index % 8)) & 1) === 1\n  },\n\n  put: function (num, length) {\n    for (let i = 0; i < length; i++) {\n      this.putBit(((num >>> (length - i - 1)) & 1) === 1)\n    }\n  },\n\n  getLengthInBits: function () {\n    return this.length\n  },\n\n  putBit: function (bit) {\n    const bufIndex = Math.floor(this.length / 8)\n    if (this.buffer.length <= bufIndex) {\n      this.buffer.push(0)\n    }\n\n    if (bit) {\n      this.buffer[bufIndex] |= (0x80 >>> (this.length % 8))\n    }\n\n    this.length++\n  }\n}\n\nmodule.exports = BitBuffer\n","/**\n * Helper class to handle QR Code symbol modules\n *\n * @param {Number} size Symbol size\n */\nfunction BitMatrix (size) {\n  if (!size || size < 1) {\n    throw new Error('BitMatrix size must be defined and greater than 0')\n  }\n\n  this.size = size\n  this.data = new Uint8Array(size * size)\n  this.reservedBit = new Uint8Array(size * size)\n}\n\n/**\n * Set bit value at specified location\n * If reserved flag is set, this bit will be ignored during masking process\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n * @param {Boolean} reserved\n */\nBitMatrix.prototype.set = function (row, col, value, reserved) {\n  const index = row * this.size + col\n  this.data[index] = value\n  if (reserved) this.reservedBit[index] = true\n}\n\n/**\n * Returns bit value at specified location\n *\n * @param  {Number}  row\n * @param  {Number}  col\n * @return {Boolean}\n */\nBitMatrix.prototype.get = function (row, col) {\n  return this.data[row * this.size + col]\n}\n\n/**\n * Applies xor operator at specified location\n * (used during masking process)\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n */\nBitMatrix.prototype.xor = function (row, col, value) {\n  this.data[row * this.size + col] ^= value\n}\n\n/**\n * Check if bit at specified location is reserved\n *\n * @param {Number}   row\n * @param {Number}   col\n * @return {Boolean}\n */\nBitMatrix.prototype.isReserved = function (row, col) {\n  return this.reservedBit[row * this.size + col]\n}\n\nmodule.exports = BitMatrix\n","/**\n * Alignment pattern are fixed reference pattern in defined positions\n * in a matrix symbology, which enables the decode software to re-synchronise\n * the coordinate mapping of the image modules in the event of moderate amounts\n * of distortion of the image.\n *\n * Alignment patterns are present only in QR Code symbols of version 2 or larger\n * and their number depends on the symbol version.\n */\n\nconst getSymbolSize = require('./utils').getSymbolSize\n\n/**\n * Calculate the row/column coordinates of the center module of each alignment pattern\n * for the specified QR Code version.\n *\n * The alignment patterns are positioned symmetrically on either side of the diagonal\n * running from the top left corner of the symbol to the bottom right corner.\n *\n * Since positions are simmetrical only half of the coordinates are returned.\n * Each item of the array will represent in turn the x and y coordinate.\n * @see {@link getPositions}\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinate\n */\nexports.getRowColCoords = function getRowColCoords (version) {\n  if (version === 1) return []\n\n  const posCount = Math.floor(version / 7) + 2\n  const size = getSymbolSize(version)\n  const intervals = size === 145 ? 26 : Math.ceil((size - 13) / (2 * posCount - 2)) * 2\n  const positions = [size - 7] // Last coord is always (size - 7)\n\n  for (let i = 1; i < posCount - 1; i++) {\n    positions[i] = positions[i - 1] - intervals\n  }\n\n  positions.push(6) // First coord is always 6\n\n  return positions.reverse()\n}\n\n/**\n * Returns an array containing the positions of each alignment pattern.\n * Each array's element represent the center point of the pattern as (x, y) coordinates\n *\n * Coordinates are calculated expanding the row/column coordinates returned by {@link getRowColCoords}\n * and filtering out the items that overlaps with finder pattern\n *\n * @example\n * For a Version 7 symbol {@link getRowColCoords} returns values 6, 22 and 38.\n * The alignment patterns, therefore, are to be centered on (row, column)\n * positions (6,22), (22,6), (22,22), (22,38), (38,22), (38,38).\n * Note that the coordinates (6,6), (6,38), (38,6) are occupied by finder patterns\n * and are not therefore used for alignment patterns.\n *\n * let pos = getPositions(7)\n * // [[6,22], [22,6], [22,22], [22,38], [38,22], [38,38]]\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinates\n */\nexports.getPositions = function getPositions (version) {\n  const coords = []\n  const pos = exports.getRowColCoords(version)\n  const posLength = pos.length\n\n  for (let i = 0; i < posLength; i++) {\n    for (let j = 0; j < posLength; j++) {\n      // Skip if position is occupied by finder patterns\n      if ((i === 0 && j === 0) || // top-left\n          (i === 0 && j === posLength - 1) || // bottom-left\n          (i === posLength - 1 && j === 0)) { // top-right\n        continue\n      }\n\n      coords.push([pos[i], pos[j]])\n    }\n  }\n\n  return coords\n}\n","const getSymbolSize = require('./utils').getSymbolSize\nconst FINDER_PATTERN_SIZE = 7\n\n/**\n * Returns an array containing the positions of each finder pattern.\n * Each array's element represent the top-left point of the pattern as (x, y) coordinates\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinates\n */\nexports.getPositions = function getPositions (version) {\n  const size = getSymbolSize(version)\n\n  return [\n    // top-left\n    [0, 0],\n    // top-right\n    [size - FINDER_PATTERN_SIZE, 0],\n    // bottom-left\n    [0, size - FINDER_PATTERN_SIZE]\n  ]\n}\n","/**\n * Data mask pattern reference\n * @type {Object}\n */\nexports.Patterns = {\n  PATTERN000: 0,\n  PATTERN001: 1,\n  PATTERN010: 2,\n  PATTERN011: 3,\n  PATTERN100: 4,\n  PATTERN101: 5,\n  PATTERN110: 6,\n  PATTERN111: 7\n}\n\n/**\n * Weighted penalty scores for the undesirable features\n * @type {Object}\n */\nconst PenaltyScores = {\n  N1: 3,\n  N2: 3,\n  N3: 40,\n  N4: 10\n}\n\n/**\n * Check if mask pattern value is valid\n *\n * @param  {Number}  mask    Mask pattern\n * @return {Boolean}         true if valid, false otherwise\n */\nexports.isValid = function isValid (mask) {\n  return mask != null && mask !== '' && !isNaN(mask) && mask >= 0 && mask <= 7\n}\n\n/**\n * Returns mask pattern from a value.\n * If value is not valid, returns undefined\n *\n * @param  {Number|String} value        Mask pattern value\n * @return {Number}                     Valid mask pattern or undefined\n */\nexports.from = function from (value) {\n  return exports.isValid(value) ? parseInt(value, 10) : undefined\n}\n\n/**\n* Find adjacent modules in row/column with the same color\n* and assign a penalty value.\n*\n* Points: N1 + i\n* i is the amount by which the number of adjacent modules of the same color exceeds 5\n*/\nexports.getPenaltyN1 = function getPenaltyN1 (data) {\n  const size = data.size\n  let points = 0\n  let sameCountCol = 0\n  let sameCountRow = 0\n  let lastCol = null\n  let lastRow = null\n\n  for (let row = 0; row < size; row++) {\n    sameCountCol = sameCountRow = 0\n    lastCol = lastRow = null\n\n    for (let col = 0; col < size; col++) {\n      let module = data.get(row, col)\n      if (module === lastCol) {\n        sameCountCol++\n      } else {\n        if (sameCountCol >= 5) points += PenaltyScores.N1 + (sameCountCol - 5)\n        lastCol = module\n        sameCountCol = 1\n      }\n\n      module = data.get(col, row)\n      if (module === lastRow) {\n        sameCountRow++\n      } else {\n        if (sameCountRow >= 5) points += PenaltyScores.N1 + (sameCountRow - 5)\n        lastRow = module\n        sameCountRow = 1\n      }\n    }\n\n    if (sameCountCol >= 5) points += PenaltyScores.N1 + (sameCountCol - 5)\n    if (sameCountRow >= 5) points += PenaltyScores.N1 + (sameCountRow - 5)\n  }\n\n  return points\n}\n\n/**\n * Find 2x2 blocks with the same color and assign a penalty value\n *\n * Points: N2 * (m - 1) * (n - 1)\n */\nexports.getPenaltyN2 = function getPenaltyN2 (data) {\n  const size = data.size\n  let points = 0\n\n  for (let row = 0; row < size - 1; row++) {\n    for (let col = 0; col < size - 1; col++) {\n      const last = data.get(row, col) +\n        data.get(row, col + 1) +\n        data.get(row + 1, col) +\n        data.get(row + 1, col + 1)\n\n      if (last === 4 || last === 0) points++\n    }\n  }\n\n  return points * PenaltyScores.N2\n}\n\n/**\n * Find 1:1:3:1:1 ratio (dark:light:dark:light:dark) pattern in row/column,\n * preceded or followed by light area 4 modules wide\n *\n * Points: N3 * number of pattern found\n */\nexports.getPenaltyN3 = function getPenaltyN3 (data) {\n  const size = data.size\n  let points = 0\n  let bitsCol = 0\n  let bitsRow = 0\n\n  for (let row = 0; row < size; row++) {\n    bitsCol = bitsRow = 0\n    for (let col = 0; col < size; col++) {\n      bitsCol = ((bitsCol << 1) & 0x7FF) | data.get(row, col)\n      if (col >= 10 && (bitsCol === 0x5D0 || bitsCol === 0x05D)) points++\n\n      bitsRow = ((bitsRow << 1) & 0x7FF) | data.get(col, row)\n      if (col >= 10 && (bitsRow === 0x5D0 || bitsRow === 0x05D)) points++\n    }\n  }\n\n  return points * PenaltyScores.N3\n}\n\n/**\n * Calculate proportion of dark modules in entire symbol\n *\n * Points: N4 * k\n *\n * k is the rating of the deviation of the proportion of dark modules\n * in the symbol from 50% in steps of 5%\n */\nexports.getPenaltyN4 = function getPenaltyN4 (data) {\n  let darkCount = 0\n  const modulesCount = data.data.length\n\n  for (let i = 0; i < modulesCount; i++) darkCount += data.data[i]\n\n  const k = Math.abs(Math.ceil((darkCount * 100 / modulesCount) / 5) - 10)\n\n  return k * PenaltyScores.N4\n}\n\n/**\n * Return mask value at given position\n *\n * @param  {Number} maskPattern Pattern reference value\n * @param  {Number} i           Row\n * @param  {Number} j           Column\n * @return {Boolean}            Mask value\n */\nfunction getMaskAt (maskPattern, i, j) {\n  switch (maskPattern) {\n    case exports.Patterns.PATTERN000: return (i + j) % 2 === 0\n    case exports.Patterns.PATTERN001: return i % 2 === 0\n    case exports.Patterns.PATTERN010: return j % 3 === 0\n    case exports.Patterns.PATTERN011: return (i + j) % 3 === 0\n    case exports.Patterns.PATTERN100: return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 === 0\n    case exports.Patterns.PATTERN101: return (i * j) % 2 + (i * j) % 3 === 0\n    case exports.Patterns.PATTERN110: return ((i * j) % 2 + (i * j) % 3) % 2 === 0\n    case exports.Patterns.PATTERN111: return ((i * j) % 3 + (i + j) % 2) % 2 === 0\n\n    default: throw new Error('bad maskPattern:' + maskPattern)\n  }\n}\n\n/**\n * Apply a mask pattern to a BitMatrix\n *\n * @param  {Number}    pattern Pattern reference number\n * @param  {BitMatrix} data    BitMatrix data\n */\nexports.applyMask = function applyMask (pattern, data) {\n  const size = data.size\n\n  for (let col = 0; col < size; col++) {\n    for (let row = 0; row < size; row++) {\n      if (data.isReserved(row, col)) continue\n      data.xor(row, col, getMaskAt(pattern, row, col))\n    }\n  }\n}\n\n/**\n * Returns the best mask pattern for data\n *\n * @param  {BitMatrix} data\n * @return {Number} Mask pattern reference number\n */\nexports.getBestMask = function getBestMask (data, setupFormatFunc) {\n  const numPatterns = Object.keys(exports.Patterns).length\n  let bestPattern = 0\n  let lowerPenalty = Infinity\n\n  for (let p = 0; p < numPatterns; p++) {\n    setupFormatFunc(p)\n    exports.applyMask(p, data)\n\n    // Calculate penalty\n    const penalty =\n      exports.getPenaltyN1(data) +\n      exports.getPenaltyN2(data) +\n      exports.getPenaltyN3(data) +\n      exports.getPenaltyN4(data)\n\n    // Undo previously applied mask\n    exports.applyMask(p, data)\n\n    if (penalty < lowerPenalty) {\n      lowerPenalty = penalty\n      bestPattern = p\n    }\n  }\n\n  return bestPattern\n}\n","const ECLevel = require('./error-correction-level')\r\n\r\nconst EC_BLOCKS_TABLE = [\r\n// L  M  Q  H\r\n  1, 1, 1, 1,\r\n  1, 1, 1, 1,\r\n  1, 1, 2, 2,\r\n  1, 2, 2, 4,\r\n  1, 2, 4, 4,\r\n  2, 4, 4, 4,\r\n  2, 4, 6, 5,\r\n  2, 4, 6, 6,\r\n  2, 5, 8, 8,\r\n  4, 5, 8, 8,\r\n  4, 5, 8, 11,\r\n  4, 8, 10, 11,\r\n  4, 9, 12, 16,\r\n  4, 9, 16, 16,\r\n  6, 10, 12, 18,\r\n  6, 10, 17, 16,\r\n  6, 11, 16, 19,\r\n  6, 13, 18, 21,\r\n  7, 14, 21, 25,\r\n  8, 16, 20, 25,\r\n  8, 17, 23, 25,\r\n  9, 17, 23, 34,\r\n  9, 18, 25, 30,\r\n  10, 20, 27, 32,\r\n  12, 21, 29, 35,\r\n  12, 23, 34, 37,\r\n  12, 25, 34, 40,\r\n  13, 26, 35, 42,\r\n  14, 28, 38, 45,\r\n  15, 29, 40, 48,\r\n  16, 31, 43, 51,\r\n  17, 33, 45, 54,\r\n  18, 35, 48, 57,\r\n  19, 37, 51, 60,\r\n  19, 38, 53, 63,\r\n  20, 40, 56, 66,\r\n  21, 43, 59, 70,\r\n  22, 45, 62, 74,\r\n  24, 47, 65, 77,\r\n  25, 49, 68, 81\r\n]\r\n\r\nconst EC_CODEWORDS_TABLE = [\r\n// L  M  Q  H\r\n  7, 10, 13, 17,\r\n  10, 16, 22, 28,\r\n  15, 26, 36, 44,\r\n  20, 36, 52, 64,\r\n  26, 48, 72, 88,\r\n  36, 64, 96, 112,\r\n  40, 72, 108, 130,\r\n  48, 88, 132, 156,\r\n  60, 110, 160, 192,\r\n  72, 130, 192, 224,\r\n  80, 150, 224, 264,\r\n  96, 176, 260, 308,\r\n  104, 198, 288, 352,\r\n  120, 216, 320, 384,\r\n  132, 240, 360, 432,\r\n  144, 280, 408, 480,\r\n  168, 308, 448, 532,\r\n  180, 338, 504, 588,\r\n  196, 364, 546, 650,\r\n  224, 416, 600, 700,\r\n  224, 442, 644, 750,\r\n  252, 476, 690, 816,\r\n  270, 504, 750, 900,\r\n  300, 560, 810, 960,\r\n  312, 588, 870, 1050,\r\n  336, 644, 952, 1110,\r\n  360, 700, 1020, 1200,\r\n  390, 728, 1050, 1260,\r\n  420, 784, 1140, 1350,\r\n  450, 812, 1200, 1440,\r\n  480, 868, 1290, 1530,\r\n  510, 924, 1350, 1620,\r\n  540, 980, 1440, 1710,\r\n  570, 1036, 1530, 1800,\r\n  570, 1064, 1590, 1890,\r\n  600, 1120, 1680, 1980,\r\n  630, 1204, 1770, 2100,\r\n  660, 1260, 1860, 2220,\r\n  720, 1316, 1950, 2310,\r\n  750, 1372, 2040, 2430\r\n]\r\n\r\n/**\r\n * Returns the number of error correction block that the QR Code should contain\r\n * for the specified version and error correction level.\r\n *\r\n * @param  {Number} version              QR Code version\r\n * @param  {Number} errorCorrectionLevel Error correction level\r\n * @return {Number}                      Number of error correction blocks\r\n */\r\nexports.getBlocksCount = function getBlocksCount (version, errorCorrectionLevel) {\r\n  switch (errorCorrectionLevel) {\r\n    case ECLevel.L:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 0]\r\n    case ECLevel.M:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 1]\r\n    case ECLevel.Q:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 2]\r\n    case ECLevel.H:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 3]\r\n    default:\r\n      return undefined\r\n  }\r\n}\r\n\r\n/**\r\n * Returns the number of error correction codewords to use for the specified\r\n * version and error correction level.\r\n *\r\n * @param  {Number} version              QR Code version\r\n * @param  {Number} errorCorrectionLevel Error correction level\r\n * @return {Number}                      Number of error correction codewords\r\n */\r\nexports.getTotalCodewordsCount = function getTotalCodewordsCount (version, errorCorrectionLevel) {\r\n  switch (errorCorrectionLevel) {\r\n    case ECLevel.L:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 0]\r\n    case ECLevel.M:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 1]\r\n    case ECLevel.Q:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 2]\r\n    case ECLevel.H:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 3]\r\n    default:\r\n      return undefined\r\n  }\r\n}\r\n","const EXP_TABLE = new Uint8Array(512)\nconst LOG_TABLE = new Uint8Array(256)\n/**\n * Precompute the log and anti-log tables for faster computation later\n *\n * For each possible value in the galois field 2^8, we will pre-compute\n * the logarithm and anti-logarithm (exponential) of this value\n *\n * ref {@link https://en.wikiversity.org/wiki/Reed%E2%80%93Solomon_codes_for_coders#Introduction_to_mathematical_fields}\n */\n;(function initTables () {\n  let x = 1\n  for (let i = 0; i < 255; i++) {\n    EXP_TABLE[i] = x\n    LOG_TABLE[x] = i\n\n    x <<= 1 // multiply by 2\n\n    // The QR code specification says to use byte-wise modulo 100011101 arithmetic.\n    // This means that when a number is 256 or larger, it should be XORed with 0x11D.\n    if (x & 0x100) { // similar to x >= 256, but a lot faster (because 0x100 == 256)\n      x ^= 0x11D\n    }\n  }\n\n  // Optimization: double the size of the anti-log table so that we don't need to mod 255 to\n  // stay inside the bounds (because we will mainly use this table for the multiplication of\n  // two GF numbers, no more).\n  // @see {@link mul}\n  for (let i = 255; i < 512; i++) {\n    EXP_TABLE[i] = EXP_TABLE[i - 255]\n  }\n}())\n\n/**\n * Returns log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\nexports.log = function log (n) {\n  if (n < 1) throw new Error('log(' + n + ')')\n  return LOG_TABLE[n]\n}\n\n/**\n * Returns anti-log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\nexports.exp = function exp (n) {\n  return EXP_TABLE[n]\n}\n\n/**\n * Multiplies two number inside Galois Field\n *\n * @param  {Number} x\n * @param  {Number} y\n * @return {Number}\n */\nexports.mul = function mul (x, y) {\n  if (x === 0 || y === 0) return 0\n\n  // should be EXP_TABLE[(LOG_TABLE[x] + LOG_TABLE[y]) % 255] if EXP_TABLE wasn't oversized\n  // @see {@link initTables}\n  return EXP_TABLE[LOG_TABLE[x] + LOG_TABLE[y]]\n}\n","const GF = require('./galois-field')\n\n/**\n * Multiplies two polynomials inside Galois Field\n *\n * @param  {Uint8Array} p1 Polynomial\n * @param  {Uint8Array} p2 Polynomial\n * @return {Uint8Array}    Product of p1 and p2\n */\nexports.mul = function mul (p1, p2) {\n  const coeff = new Uint8Array(p1.length + p2.length - 1)\n\n  for (let i = 0; i < p1.length; i++) {\n    for (let j = 0; j < p2.length; j++) {\n      coeff[i + j] ^= GF.mul(p1[i], p2[j])\n    }\n  }\n\n  return coeff\n}\n\n/**\n * Calculate the remainder of polynomials division\n *\n * @param  {Uint8Array} divident Polynomial\n * @param  {Uint8Array} divisor  Polynomial\n * @return {Uint8Array}          Remainder\n */\nexports.mod = function mod (divident, divisor) {\n  let result = new Uint8Array(divident)\n\n  while ((result.length - divisor.length) >= 0) {\n    const coeff = result[0]\n\n    for (let i = 0; i < divisor.length; i++) {\n      result[i] ^= GF.mul(divisor[i], coeff)\n    }\n\n    // remove all zeros from buffer head\n    let offset = 0\n    while (offset < result.length && result[offset] === 0) offset++\n    result = result.slice(offset)\n  }\n\n  return result\n}\n\n/**\n * Generate an irreducible generator polynomial of specified degree\n * (used by Reed-Solomon encoder)\n *\n * @param  {Number} degree Degree of the generator polynomial\n * @return {Uint8Array}    Buffer containing polynomial coefficients\n */\nexports.generateECPolynomial = function generateECPolynomial (degree) {\n  let poly = new Uint8Array([1])\n  for (let i = 0; i < degree; i++) {\n    poly = exports.mul(poly, new Uint8Array([1, GF.exp(i)]))\n  }\n\n  return poly\n}\n","const Polynomial = require('./polynomial')\n\nfunction ReedSolomonEncoder (degree) {\n  this.genPoly = undefined\n  this.degree = degree\n\n  if (this.degree) this.initialize(this.degree)\n}\n\n/**\n * Initialize the encoder.\n * The input param should correspond to the number of error correction codewords.\n *\n * @param  {Number} degree\n */\nReedSolomonEncoder.prototype.initialize = function initialize (degree) {\n  // create an irreducible generator polynomial\n  this.degree = degree\n  this.genPoly = Polynomial.generateECPolynomial(this.degree)\n}\n\n/**\n * Encodes a chunk of data\n *\n * @param  {Uint8Array} data Buffer containing input data\n * @return {Uint8Array}      Buffer containing encoded data\n */\nReedSolomonEncoder.prototype.encode = function encode (data) {\n  if (!this.genPoly) {\n    throw new Error('Encoder not initialized')\n  }\n\n  // Calculate EC for this data block\n  // extends data size to data+genPoly size\n  const paddedData = new Uint8Array(data.length + this.degree)\n  paddedData.set(data)\n\n  // The error correction codewords are the remainder after dividing the data codewords\n  // by a generator polynomial\n  const remainder = Polynomial.mod(paddedData, this.genPoly)\n\n  // return EC data blocks (last n byte, where n is the degree of genPoly)\n  // If coefficients number in remainder are less than genPoly degree,\n  // pad with 0s to the left to reach the needed number of coefficients\n  const start = this.degree - remainder.length\n  if (start > 0) {\n    const buff = new Uint8Array(this.degree)\n    buff.set(remainder, start)\n\n    return buff\n  }\n\n  return remainder\n}\n\nmodule.exports = ReedSolomonEncoder\n","/**\n * Check if QR Code version is valid\n *\n * @param  {Number}  version QR Code version\n * @return {Boolean}         true if valid version, false otherwise\n */\nexports.isValid = function isValid (version) {\n  return !isNaN(version) && version >= 1 && version <= 40\n}\n","const numeric = '[0-9]+'\nconst alphanumeric = '[A-Z $%*+\\\\-./:]+'\nlet kanji = '(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|' +\n  '[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|' +\n  '[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|' +\n  '[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+'\nkanji = kanji.replace(/u/g, '\\\\u')\n\nconst byte = '(?:(?![A-Z0-9 $%*+\\\\-./:]|' + kanji + ')(?:.|[\\r\\n]))+'\n\nexports.KANJI = new RegExp(kanji, 'g')\nexports.BYTE_KANJI = new RegExp('[^A-Z0-9 $%*+\\\\-./:]+', 'g')\nexports.BYTE = new RegExp(byte, 'g')\nexports.NUMERIC = new RegExp(numeric, 'g')\nexports.ALPHANUMERIC = new RegExp(alphanumeric, 'g')\n\nconst TEST_KANJI = new RegExp('^' + kanji + '$')\nconst TEST_NUMERIC = new RegExp('^' + numeric + '$')\nconst TEST_ALPHANUMERIC = new RegExp('^[A-Z0-9 $%*+\\\\-./:]+$')\n\nexports.testKanji = function testKanji (str) {\n  return TEST_KANJI.test(str)\n}\n\nexports.testNumeric = function testNumeric (str) {\n  return TEST_NUMERIC.test(str)\n}\n\nexports.testAlphanumeric = function testAlphanumeric (str) {\n  return TEST_ALPHANUMERIC.test(str)\n}\n","const VersionCheck = require('./version-check')\nconst Regex = require('./regex')\n\n/**\n * Numeric mode encodes data from the decimal digit set (0 - 9)\n * (byte values 30HEX to 39HEX).\n * Normally, 3 data characters are represented by 10 bits.\n *\n * @type {Object}\n */\nexports.NUMERIC = {\n  id: 'Numeric',\n  bit: 1 << 0,\n  ccBits: [10, 12, 14]\n}\n\n/**\n * Alphanumeric mode encodes data from a set of 45 characters,\n * i.e. 10 numeric digits (0 - 9),\n *      26 alphabetic characters (A - Z),\n *   and 9 symbols (SP, $, %, *, +, -, ., /, :).\n * Normally, two input characters are represented by 11 bits.\n *\n * @type {Object}\n */\nexports.ALPHANUMERIC = {\n  id: 'Alphanumeric',\n  bit: 1 << 1,\n  ccBits: [9, 11, 13]\n}\n\n/**\n * In byte mode, data is encoded at 8 bits per character.\n *\n * @type {Object}\n */\nexports.BYTE = {\n  id: 'Byte',\n  bit: 1 << 2,\n  ccBits: [8, 16, 16]\n}\n\n/**\n * The Kanji mode efficiently encodes Kanji characters in accordance with\n * the Shift JIS system based on JIS X 0208.\n * The Shift JIS values are shifted from the JIS X 0208 values.\n * JIS X 0208 gives details of the shift coded representation.\n * Each two-byte character value is compacted to a 13-bit binary codeword.\n *\n * @type {Object}\n */\nexports.KANJI = {\n  id: 'Kanji',\n  bit: 1 << 3,\n  ccBits: [8, 10, 12]\n}\n\n/**\n * Mixed mode will contain a sequences of data in a combination of any of\n * the modes described above\n *\n * @type {Object}\n */\nexports.MIXED = {\n  bit: -1\n}\n\n/**\n * Returns the number of bits needed to store the data length\n * according to QR Code specifications.\n *\n * @param  {Mode}   mode    Data mode\n * @param  {Number} version QR Code version\n * @return {Number}         Number of bits\n */\nexports.getCharCountIndicator = function getCharCountIndicator (mode, version) {\n  if (!mode.ccBits) throw new Error('Invalid mode: ' + mode)\n\n  if (!VersionCheck.isValid(version)) {\n    throw new Error('Invalid version: ' + version)\n  }\n\n  if (version >= 1 && version < 10) return mode.ccBits[0]\n  else if (version < 27) return mode.ccBits[1]\n  return mode.ccBits[2]\n}\n\n/**\n * Returns the most efficient mode to store the specified data\n *\n * @param  {String} dataStr Input data string\n * @return {Mode}           Best mode\n */\nexports.getBestModeForData = function getBestModeForData (dataStr) {\n  if (Regex.testNumeric(dataStr)) return exports.NUMERIC\n  else if (Regex.testAlphanumeric(dataStr)) return exports.ALPHANUMERIC\n  else if (Regex.testKanji(dataStr)) return exports.KANJI\n  else return exports.BYTE\n}\n\n/**\n * Return mode name as string\n *\n * @param {Mode} mode Mode object\n * @returns {String}  Mode name\n */\nexports.toString = function toString (mode) {\n  if (mode && mode.id) return mode.id\n  throw new Error('Invalid mode')\n}\n\n/**\n * Check if input param is a valid mode object\n *\n * @param   {Mode}    mode Mode object\n * @returns {Boolean} True if valid mode, false otherwise\n */\nexports.isValid = function isValid (mode) {\n  return mode && mode.bit && mode.ccBits\n}\n\n/**\n * Get mode object from its name\n *\n * @param   {String} string Mode name\n * @returns {Mode}          Mode object\n */\nfunction fromString (string) {\n  if (typeof string !== 'string') {\n    throw new Error('Param is not a string')\n  }\n\n  const lcStr = string.toLowerCase()\n\n  switch (lcStr) {\n    case 'numeric':\n      return exports.NUMERIC\n    case 'alphanumeric':\n      return exports.ALPHANUMERIC\n    case 'kanji':\n      return exports.KANJI\n    case 'byte':\n      return exports.BYTE\n    default:\n      throw new Error('Unknown mode: ' + string)\n  }\n}\n\n/**\n * Returns mode from a value.\n * If value is not a valid mode, returns defaultValue\n *\n * @param  {Mode|String} value        Encoding mode\n * @param  {Mode}        defaultValue Fallback value\n * @return {Mode}                     Encoding mode\n */\nexports.from = function from (value, defaultValue) {\n  if (exports.isValid(value)) {\n    return value\n  }\n\n  try {\n    return fromString(value)\n  } catch (e) {\n    return defaultValue\n  }\n}\n","const Utils = require('./utils')\nconst ECCode = require('./error-correction-code')\nconst ECLevel = require('./error-correction-level')\nconst Mode = require('./mode')\nconst VersionCheck = require('./version-check')\n\n// Generator polynomial used to encode version information\nconst G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0)\nconst G18_BCH = Utils.getBCHDigit(G18)\n\nfunction getBestVersionForDataLength (mode, length, errorCorrectionLevel) {\n  for (let currentVersion = 1; currentVersion <= 40; currentVersion++) {\n    if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, mode)) {\n      return currentVersion\n    }\n  }\n\n  return undefined\n}\n\nfunction getReservedBitsCount (mode, version) {\n  // Character count indicator + mode indicator bits\n  return Mode.getCharCountIndicator(mode, version) + 4\n}\n\nfunction getTotalBitsFromDataArray (segments, version) {\n  let totalBits = 0\n\n  segments.forEach(function (data) {\n    const reservedBits = getReservedBitsCount(data.mode, version)\n    totalBits += reservedBits + data.getBitsLength()\n  })\n\n  return totalBits\n}\n\nfunction getBestVersionForMixedData (segments, errorCorrectionLevel) {\n  for (let currentVersion = 1; currentVersion <= 40; currentVersion++) {\n    const length = getTotalBitsFromDataArray(segments, currentVersion)\n    if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, Mode.MIXED)) {\n      return currentVersion\n    }\n  }\n\n  return undefined\n}\n\n/**\n * Returns version number from a value.\n * If value is not a valid version, returns defaultValue\n *\n * @param  {Number|String} value        QR Code version\n * @param  {Number}        defaultValue Fallback value\n * @return {Number}                     QR Code version number\n */\nexports.from = function from (value, defaultValue) {\n  if (VersionCheck.isValid(value)) {\n    return parseInt(value, 10)\n  }\n\n  return defaultValue\n}\n\n/**\n * Returns how much data can be stored with the specified QR code version\n * and error correction level\n *\n * @param  {Number} version              QR Code version (1-40)\n * @param  {Number} errorCorrectionLevel Error correction level\n * @param  {Mode}   mode                 Data mode\n * @return {Number}                      Quantity of storable data\n */\nexports.getCapacity = function getCapacity (version, errorCorrectionLevel, mode) {\n  if (!VersionCheck.isValid(version)) {\n    throw new Error('Invalid QR Code version')\n  }\n\n  // Use Byte mode as default\n  if (typeof mode === 'undefined') mode = Mode.BYTE\n\n  // Total codewords for this QR code version (Data + Error correction)\n  const totalCodewords = Utils.getSymbolTotalCodewords(version)\n\n  // Total number of error correction codewords\n  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel)\n\n  // Total number of data codewords\n  const dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8\n\n  if (mode === Mode.MIXED) return dataTotalCodewordsBits\n\n  const usableBits = dataTotalCodewordsBits - getReservedBitsCount(mode, version)\n\n  // Return max number of storable codewords\n  switch (mode) {\n    case Mode.NUMERIC:\n      return Math.floor((usableBits / 10) * 3)\n\n    case Mode.ALPHANUMERIC:\n      return Math.floor((usableBits / 11) * 2)\n\n    case Mode.KANJI:\n      return Math.floor(usableBits / 13)\n\n    case Mode.BYTE:\n    default:\n      return Math.floor(usableBits / 8)\n  }\n}\n\n/**\n * Returns the minimum version needed to contain the amount of data\n *\n * @param  {Segment} data                    Segment of data\n * @param  {Number} [errorCorrectionLevel=H] Error correction level\n * @param  {Mode} mode                       Data mode\n * @return {Number}                          QR Code version\n */\nexports.getBestVersionForData = function getBestVersionForData (data, errorCorrectionLevel) {\n  let seg\n\n  const ecl = ECLevel.from(errorCorrectionLevel, ECLevel.M)\n\n  if (Array.isArray(data)) {\n    if (data.length > 1) {\n      return getBestVersionForMixedData(data, ecl)\n    }\n\n    if (data.length === 0) {\n      return 1\n    }\n\n    seg = data[0]\n  } else {\n    seg = data\n  }\n\n  return getBestVersionForDataLength(seg.mode, seg.getLength(), ecl)\n}\n\n/**\n * Returns version information with relative error correction bits\n *\n * The version information is included in QR Code symbols of version 7 or larger.\n * It consists of an 18-bit sequence containing 6 data bits,\n * with 12 error correction bits calculated using the (18, 6) Golay code.\n *\n * @param  {Number} version QR Code version\n * @return {Number}         Encoded version info bits\n */\nexports.getEncodedBits = function getEncodedBits (version) {\n  if (!VersionCheck.isValid(version) || version < 7) {\n    throw new Error('Invalid QR Code version')\n  }\n\n  let d = version << 12\n\n  while (Utils.getBCHDigit(d) - G18_BCH >= 0) {\n    d ^= (G18 << (Utils.getBCHDigit(d) - G18_BCH))\n  }\n\n  return (version << 12) | d\n}\n","const Utils = require('./utils')\n\nconst G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0)\nconst G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1)\nconst G15_BCH = Utils.getBCHDigit(G15)\n\n/**\n * Returns format information with relative error correction bits\n *\n * The format information is a 15-bit sequence containing 5 data bits,\n * with 10 error correction bits calculated using the (15, 5) BCH code.\n *\n * @param  {Number} errorCorrectionLevel Error correction level\n * @param  {Number} mask                 Mask pattern\n * @return {Number}                      Encoded format information bits\n */\nexports.getEncodedBits = function getEncodedBits (errorCorrectionLevel, mask) {\n  const data = ((errorCorrectionLevel.bit << 3) | mask)\n  let d = data << 10\n\n  while (Utils.getBCHDigit(d) - G15_BCH >= 0) {\n    d ^= (G15 << (Utils.getBCHDigit(d) - G15_BCH))\n  }\n\n  // xor final data with mask pattern in order to ensure that\n  // no combination of Error Correction Level and data mask pattern\n  // will result in an all-zero data string\n  return ((data << 10) | d) ^ G15_MASK\n}\n","const Mode = require('./mode')\n\nfunction NumericData (data) {\n  this.mode = Mode.NUMERIC\n  this.data = data.toString()\n}\n\nNumericData.getBitsLength = function getBitsLength (length) {\n  return 10 * Math.floor(length / 3) + ((length % 3) ? ((length % 3) * 3 + 1) : 0)\n}\n\nNumericData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nNumericData.prototype.getBitsLength = function getBitsLength () {\n  return NumericData.getBitsLength(this.data.length)\n}\n\nNumericData.prototype.write = function write (bitBuffer) {\n  let i, group, value\n\n  // The input data string is divided into groups of three digits,\n  // and each group is converted to its 10-bit binary equivalent.\n  for (i = 0; i + 3 <= this.data.length; i += 3) {\n    group = this.data.substr(i, 3)\n    value = parseInt(group, 10)\n\n    bitBuffer.put(value, 10)\n  }\n\n  // If the number of input digits is not an exact multiple of three,\n  // the final one or two digits are converted to 4 or 7 bits respectively.\n  const remainingNum = this.data.length - i\n  if (remainingNum > 0) {\n    group = this.data.substr(i)\n    value = parseInt(group, 10)\n\n    bitBuffer.put(value, remainingNum * 3 + 1)\n  }\n}\n\nmodule.exports = NumericData\n","const Mode = require('./mode')\n\n/**\n * Array of characters available in alphanumeric mode\n *\n * As per QR Code specification, to each character\n * is assigned a value from 0 to 44 which in this case coincides\n * with the array index\n *\n * @type {Array}\n */\nconst ALPHA_NUM_CHARS = [\n  '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',\n  'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M',\n  'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z',\n  ' ', '$', '%', '*', '+', '-', '.', '/', ':'\n]\n\nfunction AlphanumericData (data) {\n  this.mode = Mode.ALPHANUMERIC\n  this.data = data\n}\n\nAlphanumericData.getBitsLength = function getBitsLength (length) {\n  return 11 * Math.floor(length / 2) + 6 * (length % 2)\n}\n\nAlphanumericData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nAlphanumericData.prototype.getBitsLength = function getBitsLength () {\n  return AlphanumericData.getBitsLength(this.data.length)\n}\n\nAlphanumericData.prototype.write = function write (bitBuffer) {\n  let i\n\n  // Input data characters are divided into groups of two characters\n  // and encoded as 11-bit binary codes.\n  for (i = 0; i + 2 <= this.data.length; i += 2) {\n    // The character value of the first character is multiplied by 45\n    let value = ALPHA_NUM_CHARS.indexOf(this.data[i]) * 45\n\n    // The character value of the second digit is added to the product\n    value += ALPHA_NUM_CHARS.indexOf(this.data[i + 1])\n\n    // The sum is then stored as 11-bit binary number\n    bitBuffer.put(value, 11)\n  }\n\n  // If the number of input data characters is not a multiple of two,\n  // the character value of the final character is encoded as a 6-bit binary number.\n  if (this.data.length % 2) {\n    bitBuffer.put(ALPHA_NUM_CHARS.indexOf(this.data[i]), 6)\n  }\n}\n\nmodule.exports = AlphanumericData\n","const Mode = require('./mode')\n\nfunction ByteData (data) {\n  this.mode = Mode.BYTE\n  if (typeof (data) === 'string') {\n    this.data = new TextEncoder().encode(data)\n  } else {\n    this.data = new Uint8Array(data)\n  }\n}\n\nByteData.getBitsLength = function getBitsLength (length) {\n  return length * 8\n}\n\nByteData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nByteData.prototype.getBitsLength = function getBitsLength () {\n  return ByteData.getBitsLength(this.data.length)\n}\n\nByteData.prototype.write = function (bitBuffer) {\n  for (let i = 0, l = this.data.length; i < l; i++) {\n    bitBuffer.put(this.data[i], 8)\n  }\n}\n\nmodule.exports = ByteData\n","const Mode = require('./mode')\nconst Utils = require('./utils')\n\nfunction KanjiData (data) {\n  this.mode = Mode.KANJI\n  this.data = data\n}\n\nKanjiData.getBitsLength = function getBitsLength (length) {\n  return length * 13\n}\n\nKanjiData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nKanjiData.prototype.getBitsLength = function getBitsLength () {\n  return KanjiData.getBitsLength(this.data.length)\n}\n\nKanjiData.prototype.write = function (bitBuffer) {\n  let i\n\n  // In the Shift JIS system, Kanji characters are represented by a two byte combination.\n  // These byte values are shifted from the JIS X 0208 values.\n  // JIS X 0208 gives details of the shift coded representation.\n  for (i = 0; i < this.data.length; i++) {\n    let value = Utils.toSJIS(this.data[i])\n\n    // For characters with Shift JIS values from 0x8140 to 0x9FFC:\n    if (value >= 0x8140 && value <= 0x9FFC) {\n      // Subtract 0x8140 from Shift JIS value\n      value -= 0x8140\n\n    // For characters with Shift JIS values from 0xE040 to 0xEBBF\n    } else if (value >= 0xE040 && value <= 0xEBBF) {\n      // Subtract 0xC140 from Shift JIS value\n      value -= 0xC140\n    } else {\n      throw new Error(\n        'Invalid SJIS character: ' + this.data[i] + '\\n' +\n        'Make sure your charset is UTF-8')\n    }\n\n    // Multiply most significant byte of result by 0xC0\n    // and add least significant byte to product\n    value = (((value >>> 8) & 0xff) * 0xC0) + (value & 0xff)\n\n    // Convert result to a 13-bit binary string\n    bitBuffer.put(value, 13)\n  }\n}\n\nmodule.exports = KanjiData\n","'use strict';\n\n/******************************************************************************\n * Created 2008-08-19.\n *\n * Dijkstra path-finding functions. Adapted from the Dijkstar Python project.\n *\n * Copyright (C) 2008\n *   Wyatt Baldwin <self@wyattbaldwin.com>\n *   All rights reserved\n *\n * Licensed under the MIT license.\n *\n *   http://www.opensource.org/licenses/mit-license.php\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *****************************************************************************/\nvar dijkstra = {\n  single_source_shortest_paths: function(graph, s, d) {\n    // Predecessor map for each node that has been encountered.\n    // node ID => predecessor node ID\n    var predecessors = {};\n\n    // Costs of shortest paths from s to all nodes encountered.\n    // node ID => cost\n    var costs = {};\n    costs[s] = 0;\n\n    // Costs of shortest paths from s to all nodes encountered; differs from\n    // `costs` in that it provides easy access to the node that currently has\n    // the known shortest path from s.\n    // XXX: Do we actually need both `costs` and `open`?\n    var open = dijkstra.PriorityQueue.make();\n    open.push(s, 0);\n\n    var closest,\n        u, v,\n        cost_of_s_to_u,\n        adjacent_nodes,\n        cost_of_e,\n        cost_of_s_to_u_plus_cost_of_e,\n        cost_of_s_to_v,\n        first_visit;\n    while (!open.empty()) {\n      // In the nodes remaining in graph that have a known cost from s,\n      // find the node, u, that currently has the shortest path from s.\n      closest = open.pop();\n      u = closest.value;\n      cost_of_s_to_u = closest.cost;\n\n      // Get nodes adjacent to u...\n      adjacent_nodes = graph[u] || {};\n\n      // ...and explore the edges that connect u to those nodes, updating\n      // the cost of the shortest paths to any or all of those nodes as\n      // necessary. v is the node across the current edge from u.\n      for (v in adjacent_nodes) {\n        if (adjacent_nodes.hasOwnProperty(v)) {\n          // Get the cost of the edge running from u to v.\n          cost_of_e = adjacent_nodes[v];\n\n          // Cost of s to u plus the cost of u to v across e--this is *a*\n          // cost from s to v that may or may not be less than the current\n          // known cost to v.\n          cost_of_s_to_u_plus_cost_of_e = cost_of_s_to_u + cost_of_e;\n\n          // If we haven't visited v yet OR if the current known cost from s to\n          // v is greater than the new cost we just found (cost of s to u plus\n          // cost of u to v across e), update v's cost in the cost list and\n          // update v's predecessor in the predecessor list (it's now u).\n          cost_of_s_to_v = costs[v];\n          first_visit = (typeof costs[v] === 'undefined');\n          if (first_visit || cost_of_s_to_v > cost_of_s_to_u_plus_cost_of_e) {\n            costs[v] = cost_of_s_to_u_plus_cost_of_e;\n            open.push(v, cost_of_s_to_u_plus_cost_of_e);\n            predecessors[v] = u;\n          }\n        }\n      }\n    }\n\n    if (typeof d !== 'undefined' && typeof costs[d] === 'undefined') {\n      var msg = ['Could not find a path from ', s, ' to ', d, '.'].join('');\n      throw new Error(msg);\n    }\n\n    return predecessors;\n  },\n\n  extract_shortest_path_from_predecessor_list: function(predecessors, d) {\n    var nodes = [];\n    var u = d;\n    var predecessor;\n    while (u) {\n      nodes.push(u);\n      predecessor = predecessors[u];\n      u = predecessors[u];\n    }\n    nodes.reverse();\n    return nodes;\n  },\n\n  find_path: function(graph, s, d) {\n    var predecessors = dijkstra.single_source_shortest_paths(graph, s, d);\n    return dijkstra.extract_shortest_path_from_predecessor_list(\n      predecessors, d);\n  },\n\n  /**\n   * A very naive priority queue implementation.\n   */\n  PriorityQueue: {\n    make: function (opts) {\n      var T = dijkstra.PriorityQueue,\n          t = {},\n          key;\n      opts = opts || {};\n      for (key in T) {\n        if (T.hasOwnProperty(key)) {\n          t[key] = T[key];\n        }\n      }\n      t.queue = [];\n      t.sorter = opts.sorter || T.default_sorter;\n      return t;\n    },\n\n    default_sorter: function (a, b) {\n      return a.cost - b.cost;\n    },\n\n    /**\n     * Add a new item to the queue and ensure the highest priority element\n     * is at the front of the queue.\n     */\n    push: function (value, cost) {\n      var item = {value: value, cost: cost};\n      this.queue.push(item);\n      this.queue.sort(this.sorter);\n    },\n\n    /**\n     * Return the highest priority element in the queue.\n     */\n    pop: function () {\n      return this.queue.shift();\n    },\n\n    empty: function () {\n      return this.queue.length === 0;\n    }\n  }\n};\n\n\n// node.js module exports\nif (typeof module !== 'undefined') {\n  module.exports = dijkstra;\n}\n","const Mode = require('./mode')\nconst NumericData = require('./numeric-data')\nconst AlphanumericData = require('./alphanumeric-data')\nconst ByteData = require('./byte-data')\nconst KanjiData = require('./kanji-data')\nconst Regex = require('./regex')\nconst Utils = require('./utils')\nconst dijkstra = require('dijkstrajs')\n\n/**\n * Returns UTF8 byte length\n *\n * @param  {String} str Input string\n * @return {Number}     Number of byte\n */\nfunction getStringByteLength (str) {\n  return unescape(encodeURIComponent(str)).length\n}\n\n/**\n * Get a list of segments of the specified mode\n * from a string\n *\n * @param  {Mode}   mode Segment mode\n * @param  {String} str  String to process\n * @return {Array}       Array of object with segments data\n */\nfunction getSegments (regex, mode, str) {\n  const segments = []\n  let result\n\n  while ((result = regex.exec(str)) !== null) {\n    segments.push({\n      data: result[0],\n      index: result.index,\n      mode: mode,\n      length: result[0].length\n    })\n  }\n\n  return segments\n}\n\n/**\n * Extracts a series of segments with the appropriate\n * modes from a string\n *\n * @param  {String} dataStr Input string\n * @return {Array}          Array of object with segments data\n */\nfunction getSegmentsFromString (dataStr) {\n  const numSegs = getSegments(Regex.NUMERIC, Mode.NUMERIC, dataStr)\n  const alphaNumSegs = getSegments(Regex.ALPHANUMERIC, Mode.ALPHANUMERIC, dataStr)\n  let byteSegs\n  let kanjiSegs\n\n  if (Utils.isKanjiModeEnabled()) {\n    byteSegs = getSegments(Regex.BYTE, Mode.BYTE, dataStr)\n    kanjiSegs = getSegments(Regex.KANJI, Mode.KANJI, dataStr)\n  } else {\n    byteSegs = getSegments(Regex.BYTE_KANJI, Mode.BYTE, dataStr)\n    kanjiSegs = []\n  }\n\n  const segs = numSegs.concat(alphaNumSegs, byteSegs, kanjiSegs)\n\n  return segs\n    .sort(function (s1, s2) {\n      return s1.index - s2.index\n    })\n    .map(function (obj) {\n      return {\n        data: obj.data,\n        mode: obj.mode,\n        length: obj.length\n      }\n    })\n}\n\n/**\n * Returns how many bits are needed to encode a string of\n * specified length with the specified mode\n *\n * @param  {Number} length String length\n * @param  {Mode} mode     Segment mode\n * @return {Number}        Bit length\n */\nfunction getSegmentBitsLength (length, mode) {\n  switch (mode) {\n    case Mode.NUMERIC:\n      return NumericData.getBitsLength(length)\n    case Mode.ALPHANUMERIC:\n      return AlphanumericData.getBitsLength(length)\n    case Mode.KANJI:\n      return KanjiData.getBitsLength(length)\n    case Mode.BYTE:\n      return ByteData.getBitsLength(length)\n  }\n}\n\n/**\n * Merges adjacent segments which have the same mode\n *\n * @param  {Array} segs Array of object with segments data\n * @return {Array}      Array of object with segments data\n */\nfunction mergeSegments (segs) {\n  return segs.reduce(function (acc, curr) {\n    const prevSeg = acc.length - 1 >= 0 ? acc[acc.length - 1] : null\n    if (prevSeg && prevSeg.mode === curr.mode) {\n      acc[acc.length - 1].data += curr.data\n      return acc\n    }\n\n    acc.push(curr)\n    return acc\n  }, [])\n}\n\n/**\n * Generates a list of all possible nodes combination which\n * will be used to build a segments graph.\n *\n * Nodes are divided by groups. Each group will contain a list of all the modes\n * in which is possible to encode the given text.\n *\n * For example the text '12345' can be encoded as Numeric, Alphanumeric or Byte.\n * The group for '12345' will contain then 3 objects, one for each\n * possible encoding mode.\n *\n * Each node represents a possible segment.\n *\n * @param  {Array} segs Array of object with segments data\n * @return {Array}      Array of object with segments data\n */\nfunction buildNodes (segs) {\n  const nodes = []\n  for (let i = 0; i < segs.length; i++) {\n    const seg = segs[i]\n\n    switch (seg.mode) {\n      case Mode.NUMERIC:\n        nodes.push([seg,\n          { data: seg.data, mode: Mode.ALPHANUMERIC, length: seg.length },\n          { data: seg.data, mode: Mode.BYTE, length: seg.length }\n        ])\n        break\n      case Mode.ALPHANUMERIC:\n        nodes.push([seg,\n          { data: seg.data, mode: Mode.BYTE, length: seg.length }\n        ])\n        break\n      case Mode.KANJI:\n        nodes.push([seg,\n          { data: seg.data, mode: Mode.BYTE, length: getStringByteLength(seg.data) }\n        ])\n        break\n      case Mode.BYTE:\n        nodes.push([\n          { data: seg.data, mode: Mode.BYTE, length: getStringByteLength(seg.data) }\n        ])\n    }\n  }\n\n  return nodes\n}\n\n/**\n * Builds a graph from a list of nodes.\n * All segments in each node group will be connected with all the segments of\n * the next group and so on.\n *\n * At each connection will be assigned a weight depending on the\n * segment's byte length.\n *\n * @param  {Array} nodes    Array of object with segments data\n * @param  {Number} version QR Code version\n * @return {Object}         Graph of all possible segments\n */\nfunction buildGraph (nodes, version) {\n  const table = {}\n  const graph = { start: {} }\n  let prevNodeIds = ['start']\n\n  for (let i = 0; i < nodes.length; i++) {\n    const nodeGroup = nodes[i]\n    const currentNodeIds = []\n\n    for (let j = 0; j < nodeGroup.length; j++) {\n      const node = nodeGroup[j]\n      const key = '' + i + j\n\n      currentNodeIds.push(key)\n      table[key] = { node: node, lastCount: 0 }\n      graph[key] = {}\n\n      for (let n = 0; n < prevNodeIds.length; n++) {\n        const prevNodeId = prevNodeIds[n]\n\n        if (table[prevNodeId] && table[prevNodeId].node.mode === node.mode) {\n          graph[prevNodeId][key] =\n            getSegmentBitsLength(table[prevNodeId].lastCount + node.length, node.mode) -\n            getSegmentBitsLength(table[prevNodeId].lastCount, node.mode)\n\n          table[prevNodeId].lastCount += node.length\n        } else {\n          if (table[prevNodeId]) table[prevNodeId].lastCount = node.length\n\n          graph[prevNodeId][key] = getSegmentBitsLength(node.length, node.mode) +\n            4 + Mode.getCharCountIndicator(node.mode, version) // switch cost\n        }\n      }\n    }\n\n    prevNodeIds = currentNodeIds\n  }\n\n  for (let n = 0; n < prevNodeIds.length; n++) {\n    graph[prevNodeIds[n]].end = 0\n  }\n\n  return { map: graph, table: table }\n}\n\n/**\n * Builds a segment from a specified data and mode.\n * If a mode is not specified, the more suitable will be used.\n *\n * @param  {String} data             Input data\n * @param  {Mode | String} modesHint Data mode\n * @return {Segment}                 Segment\n */\nfunction buildSingleSegment (data, modesHint) {\n  let mode\n  const bestMode = Mode.getBestModeForData(data)\n\n  mode = Mode.from(modesHint, bestMode)\n\n  // Make sure data can be encoded\n  if (mode !== Mode.BYTE && mode.bit < bestMode.bit) {\n    throw new Error('\"' + data + '\"' +\n      ' cannot be encoded with mode ' + Mode.toString(mode) +\n      '.\\n Suggested mode is: ' + Mode.toString(bestMode))\n  }\n\n  // Use Mode.BYTE if Kanji support is disabled\n  if (mode === Mode.KANJI && !Utils.isKanjiModeEnabled()) {\n    mode = Mode.BYTE\n  }\n\n  switch (mode) {\n    case Mode.NUMERIC:\n      return new NumericData(data)\n\n    case Mode.ALPHANUMERIC:\n      return new AlphanumericData(data)\n\n    case Mode.KANJI:\n      return new KanjiData(data)\n\n    case Mode.BYTE:\n      return new ByteData(data)\n  }\n}\n\n/**\n * Builds a list of segments from an array.\n * Array can contain Strings or Objects with segment's info.\n *\n * For each item which is a string, will be generated a segment with the given\n * string and the more appropriate encoding mode.\n *\n * For each item which is an object, will be generated a segment with the given\n * data and mode.\n * Objects must contain at least the property \"data\".\n * If property \"mode\" is not present, the more suitable mode will be used.\n *\n * @param  {Array} array Array of objects with segments data\n * @return {Array}       Array of Segments\n */\nexports.fromArray = function fromArray (array) {\n  return array.reduce(function (acc, seg) {\n    if (typeof seg === 'string') {\n      acc.push(buildSingleSegment(seg, null))\n    } else if (seg.data) {\n      acc.push(buildSingleSegment(seg.data, seg.mode))\n    }\n\n    return acc\n  }, [])\n}\n\n/**\n * Builds an optimized sequence of segments from a string,\n * which will produce the shortest possible bitstream.\n *\n * @param  {String} data    Input string\n * @param  {Number} version QR Code version\n * @return {Array}          Array of segments\n */\nexports.fromString = function fromString (data, version) {\n  const segs = getSegmentsFromString(data, Utils.isKanjiModeEnabled())\n\n  const nodes = buildNodes(segs)\n  const graph = buildGraph(nodes, version)\n  const path = dijkstra.find_path(graph.map, 'start', 'end')\n\n  const optimizedSegs = []\n  for (let i = 1; i < path.length - 1; i++) {\n    optimizedSegs.push(graph.table[path[i]].node)\n  }\n\n  return exports.fromArray(mergeSegments(optimizedSegs))\n}\n\n/**\n * Splits a string in various segments with the modes which\n * best represent their content.\n * The produced segments are far from being optimized.\n * The output of this function is only used to estimate a QR Code version\n * which may contain the data.\n *\n * @param  {string} data Input string\n * @return {Array}       Array of segments\n */\nexports.rawSplit = function rawSplit (data) {\n  return exports.fromArray(\n    getSegmentsFromString(data, Utils.isKanjiModeEnabled())\n  )\n}\n","const Utils = require('./utils')\nconst ECLevel = require('./error-correction-level')\nconst BitBuffer = require('./bit-buffer')\nconst BitMatrix = require('./bit-matrix')\nconst AlignmentPattern = require('./alignment-pattern')\nconst FinderPattern = require('./finder-pattern')\nconst MaskPattern = require('./mask-pattern')\nconst ECCode = require('./error-correction-code')\nconst ReedSolomonEncoder = require('./reed-solomon-encoder')\nconst Version = require('./version')\nconst FormatInfo = require('./format-info')\nconst Mode = require('./mode')\nconst Segments = require('./segments')\n\n/**\n * QRCode for JavaScript\n *\n * modified by Ryan Day for nodejs support\n * Copyright (c) 2011 Ryan Day\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n*/\n\n/**\n * Add finder patterns bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupFinderPattern (matrix, version) {\n  const size = matrix.size\n  const pos = FinderPattern.getPositions(version)\n\n  for (let i = 0; i < pos.length; i++) {\n    const row = pos[i][0]\n    const col = pos[i][1]\n\n    for (let r = -1; r <= 7; r++) {\n      if (row + r <= -1 || size <= row + r) continue\n\n      for (let c = -1; c <= 7; c++) {\n        if (col + c <= -1 || size <= col + c) continue\n\n        if ((r >= 0 && r <= 6 && (c === 0 || c === 6)) ||\n          (c >= 0 && c <= 6 && (r === 0 || r === 6)) ||\n          (r >= 2 && r <= 4 && c >= 2 && c <= 4)) {\n          matrix.set(row + r, col + c, true, true)\n        } else {\n          matrix.set(row + r, col + c, false, true)\n        }\n      }\n    }\n  }\n}\n\n/**\n * Add timing pattern bits to matrix\n *\n * Note: this function must be called before {@link setupAlignmentPattern}\n *\n * @param  {BitMatrix} matrix Modules matrix\n */\nfunction setupTimingPattern (matrix) {\n  const size = matrix.size\n\n  for (let r = 8; r < size - 8; r++) {\n    const value = r % 2 === 0\n    matrix.set(r, 6, value, true)\n    matrix.set(6, r, value, true)\n  }\n}\n\n/**\n * Add alignment patterns bits to matrix\n *\n * Note: this function must be called after {@link setupTimingPattern}\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupAlignmentPattern (matrix, version) {\n  const pos = AlignmentPattern.getPositions(version)\n\n  for (let i = 0; i < pos.length; i++) {\n    const row = pos[i][0]\n    const col = pos[i][1]\n\n    for (let r = -2; r <= 2; r++) {\n      for (let c = -2; c <= 2; c++) {\n        if (r === -2 || r === 2 || c === -2 || c === 2 ||\n          (r === 0 && c === 0)) {\n          matrix.set(row + r, col + c, true, true)\n        } else {\n          matrix.set(row + r, col + c, false, true)\n        }\n      }\n    }\n  }\n}\n\n/**\n * Add version info bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupVersionInfo (matrix, version) {\n  const size = matrix.size\n  const bits = Version.getEncodedBits(version)\n  let row, col, mod\n\n  for (let i = 0; i < 18; i++) {\n    row = Math.floor(i / 3)\n    col = i % 3 + size - 8 - 3\n    mod = ((bits >> i) & 1) === 1\n\n    matrix.set(row, col, mod, true)\n    matrix.set(col, row, mod, true)\n  }\n}\n\n/**\n * Add format info bits to matrix\n *\n * @param  {BitMatrix} matrix               Modules matrix\n * @param  {ErrorCorrectionLevel}    errorCorrectionLevel Error correction level\n * @param  {Number}    maskPattern          Mask pattern reference value\n */\nfunction setupFormatInfo (matrix, errorCorrectionLevel, maskPattern) {\n  const size = matrix.size\n  const bits = FormatInfo.getEncodedBits(errorCorrectionLevel, maskPattern)\n  let i, mod\n\n  for (i = 0; i < 15; i++) {\n    mod = ((bits >> i) & 1) === 1\n\n    // vertical\n    if (i < 6) {\n      matrix.set(i, 8, mod, true)\n    } else if (i < 8) {\n      matrix.set(i + 1, 8, mod, true)\n    } else {\n      matrix.set(size - 15 + i, 8, mod, true)\n    }\n\n    // horizontal\n    if (i < 8) {\n      matrix.set(8, size - i - 1, mod, true)\n    } else if (i < 9) {\n      matrix.set(8, 15 - i - 1 + 1, mod, true)\n    } else {\n      matrix.set(8, 15 - i - 1, mod, true)\n    }\n  }\n\n  // fixed module\n  matrix.set(size - 8, 8, 1, true)\n}\n\n/**\n * Add encoded data bits to matrix\n *\n * @param  {BitMatrix}  matrix Modules matrix\n * @param  {Uint8Array} data   Data codewords\n */\nfunction setupData (matrix, data) {\n  const size = matrix.size\n  let inc = -1\n  let row = size - 1\n  let bitIndex = 7\n  let byteIndex = 0\n\n  for (let col = size - 1; col > 0; col -= 2) {\n    if (col === 6) col--\n\n    while (true) {\n      for (let c = 0; c < 2; c++) {\n        if (!matrix.isReserved(row, col - c)) {\n          let dark = false\n\n          if (byteIndex < data.length) {\n            dark = (((data[byteIndex] >>> bitIndex) & 1) === 1)\n          }\n\n          matrix.set(row, col - c, dark)\n          bitIndex--\n\n          if (bitIndex === -1) {\n            byteIndex++\n            bitIndex = 7\n          }\n        }\n      }\n\n      row += inc\n\n      if (row < 0 || size <= row) {\n        row -= inc\n        inc = -inc\n        break\n      }\n    }\n  }\n}\n\n/**\n * Create encoded codewords from data input\n *\n * @param  {Number}   version              QR Code version\n * @param  {ErrorCorrectionLevel}   errorCorrectionLevel Error correction level\n * @param  {ByteData} data                 Data input\n * @return {Uint8Array}                    Buffer containing encoded codewords\n */\nfunction createData (version, errorCorrectionLevel, segments) {\n  // Prepare data buffer\n  const buffer = new BitBuffer()\n\n  segments.forEach(function (data) {\n    // prefix data with mode indicator (4 bits)\n    buffer.put(data.mode.bit, 4)\n\n    // Prefix data with character count indicator.\n    // The character count indicator is a string of bits that represents the\n    // number of characters that are being encoded.\n    // The character count indicator must be placed after the mode indicator\n    // and must be a certain number of bits long, depending on the QR version\n    // and data mode\n    // @see {@link Mode.getCharCountIndicator}.\n    buffer.put(data.getLength(), Mode.getCharCountIndicator(data.mode, version))\n\n    // add binary data sequence to buffer\n    data.write(buffer)\n  })\n\n  // Calculate required number of bits\n  const totalCodewords = Utils.getSymbolTotalCodewords(version)\n  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel)\n  const dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8\n\n  // Add a terminator.\n  // If the bit string is shorter than the total number of required bits,\n  // a terminator of up to four 0s must be added to the right side of the string.\n  // If the bit string is more than four bits shorter than the required number of bits,\n  // add four 0s to the end.\n  if (buffer.getLengthInBits() + 4 <= dataTotalCodewordsBits) {\n    buffer.put(0, 4)\n  }\n\n  // If the bit string is fewer than four bits shorter, add only the number of 0s that\n  // are needed to reach the required number of bits.\n\n  // After adding the terminator, if the number of bits in the string is not a multiple of 8,\n  // pad the string on the right with 0s to make the string's length a multiple of 8.\n  while (buffer.getLengthInBits() % 8 !== 0) {\n    buffer.putBit(0)\n  }\n\n  // Add pad bytes if the string is still shorter than the total number of required bits.\n  // Extend the buffer to fill the data capacity of the symbol corresponding to\n  // the Version and Error Correction Level by adding the Pad Codewords 11101100 (0xEC)\n  // and 00010001 (0x11) alternately.\n  const remainingByte = (dataTotalCodewordsBits - buffer.getLengthInBits()) / 8\n  for (let i = 0; i < remainingByte; i++) {\n    buffer.put(i % 2 ? 0x11 : 0xEC, 8)\n  }\n\n  return createCodewords(buffer, version, errorCorrectionLevel)\n}\n\n/**\n * Encode input data with Reed-Solomon and return codewords with\n * relative error correction bits\n *\n * @param  {BitBuffer} bitBuffer            Data to encode\n * @param  {Number}    version              QR Code version\n * @param  {ErrorCorrectionLevel} errorCorrectionLevel Error correction level\n * @return {Uint8Array}                     Buffer containing encoded codewords\n */\nfunction createCodewords (bitBuffer, version, errorCorrectionLevel) {\n  // Total codewords for this QR code version (Data + Error correction)\n  const totalCodewords = Utils.getSymbolTotalCodewords(version)\n\n  // Total number of error correction codewords\n  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel)\n\n  // Total number of data codewords\n  const dataTotalCodewords = totalCodewords - ecTotalCodewords\n\n  // Total number of blocks\n  const ecTotalBlocks = ECCode.getBlocksCount(version, errorCorrectionLevel)\n\n  // Calculate how many blocks each group should contain\n  const blocksInGroup2 = totalCodewords % ecTotalBlocks\n  const blocksInGroup1 = ecTotalBlocks - blocksInGroup2\n\n  const totalCodewordsInGroup1 = Math.floor(totalCodewords / ecTotalBlocks)\n\n  const dataCodewordsInGroup1 = Math.floor(dataTotalCodewords / ecTotalBlocks)\n  const dataCodewordsInGroup2 = dataCodewordsInGroup1 + 1\n\n  // Number of EC codewords is the same for both groups\n  const ecCount = totalCodewordsInGroup1 - dataCodewordsInGroup1\n\n  // Initialize a Reed-Solomon encoder with a generator polynomial of degree ecCount\n  const rs = new ReedSolomonEncoder(ecCount)\n\n  let offset = 0\n  const dcData = new Array(ecTotalBlocks)\n  const ecData = new Array(ecTotalBlocks)\n  let maxDataSize = 0\n  const buffer = new Uint8Array(bitBuffer.buffer)\n\n  // Divide the buffer into the required number of blocks\n  for (let b = 0; b < ecTotalBlocks; b++) {\n    const dataSize = b < blocksInGroup1 ? dataCodewordsInGroup1 : dataCodewordsInGroup2\n\n    // extract a block of data from buffer\n    dcData[b] = buffer.slice(offset, offset + dataSize)\n\n    // Calculate EC codewords for this data block\n    ecData[b] = rs.encode(dcData[b])\n\n    offset += dataSize\n    maxDataSize = Math.max(maxDataSize, dataSize)\n  }\n\n  // Create final data\n  // Interleave the data and error correction codewords from each block\n  const data = new Uint8Array(totalCodewords)\n  let index = 0\n  let i, r\n\n  // Add data codewords\n  for (i = 0; i < maxDataSize; i++) {\n    for (r = 0; r < ecTotalBlocks; r++) {\n      if (i < dcData[r].length) {\n        data[index++] = dcData[r][i]\n      }\n    }\n  }\n\n  // Apped EC codewords\n  for (i = 0; i < ecCount; i++) {\n    for (r = 0; r < ecTotalBlocks; r++) {\n      data[index++] = ecData[r][i]\n    }\n  }\n\n  return data\n}\n\n/**\n * Build QR Code symbol\n *\n * @param  {String} data                 Input string\n * @param  {Number} version              QR Code version\n * @param  {ErrorCorretionLevel} errorCorrectionLevel Error level\n * @param  {MaskPattern} maskPattern     Mask pattern\n * @return {Object}                      Object containing symbol data\n */\nfunction createSymbol (data, version, errorCorrectionLevel, maskPattern) {\n  let segments\n\n  if (Array.isArray(data)) {\n    segments = Segments.fromArray(data)\n  } else if (typeof data === 'string') {\n    let estimatedVersion = version\n\n    if (!estimatedVersion) {\n      const rawSegments = Segments.rawSplit(data)\n\n      // Estimate best version that can contain raw splitted segments\n      estimatedVersion = Version.getBestVersionForData(rawSegments, errorCorrectionLevel)\n    }\n\n    // Build optimized segments\n    // If estimated version is undefined, try with the highest version\n    segments = Segments.fromString(data, estimatedVersion || 40)\n  } else {\n    throw new Error('Invalid data')\n  }\n\n  // Get the min version that can contain data\n  const bestVersion = Version.getBestVersionForData(segments, errorCorrectionLevel)\n\n  // If no version is found, data cannot be stored\n  if (!bestVersion) {\n    throw new Error('The amount of data is too big to be stored in a QR Code')\n  }\n\n  // If not specified, use min version as default\n  if (!version) {\n    version = bestVersion\n\n  // Check if the specified version can contain the data\n  } else if (version < bestVersion) {\n    throw new Error('\\n' +\n      'The chosen QR Code version cannot contain this amount of data.\\n' +\n      'Minimum version required to store current data is: ' + bestVersion + '.\\n'\n    )\n  }\n\n  const dataBits = createData(version, errorCorrectionLevel, segments)\n\n  // Allocate matrix buffer\n  const moduleCount = Utils.getSymbolSize(version)\n  const modules = new BitMatrix(moduleCount)\n\n  // Add function modules\n  setupFinderPattern(modules, version)\n  setupTimingPattern(modules)\n  setupAlignmentPattern(modules, version)\n\n  // Add temporary dummy bits for format info just to set them as reserved.\n  // This is needed to prevent these bits from being masked by {@link MaskPattern.applyMask}\n  // since the masking operation must be performed only on the encoding region.\n  // These blocks will be replaced with correct values later in code.\n  setupFormatInfo(modules, errorCorrectionLevel, 0)\n\n  if (version >= 7) {\n    setupVersionInfo(modules, version)\n  }\n\n  // Add data codewords\n  setupData(modules, dataBits)\n\n  if (isNaN(maskPattern)) {\n    // Find best mask pattern\n    maskPattern = MaskPattern.getBestMask(modules,\n      setupFormatInfo.bind(null, modules, errorCorrectionLevel))\n  }\n\n  // Apply mask pattern\n  MaskPattern.applyMask(maskPattern, modules)\n\n  // Replace format info bits with correct values\n  setupFormatInfo(modules, errorCorrectionLevel, maskPattern)\n\n  return {\n    modules: modules,\n    version: version,\n    errorCorrectionLevel: errorCorrectionLevel,\n    maskPattern: maskPattern,\n    segments: segments\n  }\n}\n\n/**\n * QR Code\n *\n * @param {String | Array} data                 Input data\n * @param {Object} options                      Optional configurations\n * @param {Number} options.version              QR Code version\n * @param {String} options.errorCorrectionLevel Error correction level\n * @param {Function} options.toSJISFunc         Helper func to convert utf8 to sjis\n */\nexports.create = function create (data, options) {\n  if (typeof data === 'undefined' || data === '') {\n    throw new Error('No input text')\n  }\n\n  let errorCorrectionLevel = ECLevel.M\n  let version\n  let mask\n\n  if (typeof options !== 'undefined') {\n    // Use higher error correction level as default\n    errorCorrectionLevel = ECLevel.from(options.errorCorrectionLevel, ECLevel.M)\n    version = Version.from(options.version)\n    mask = MaskPattern.from(options.maskPattern)\n\n    if (options.toSJISFunc) {\n      Utils.setToSJISFunction(options.toSJISFunc)\n    }\n  }\n\n  return createSymbol(data, version, errorCorrectionLevel, mask)\n}\n","function hex2rgba (hex) {\n  if (typeof hex === 'number') {\n    hex = hex.toString()\n  }\n\n  if (typeof hex !== 'string') {\n    throw new Error('Color should be defined as hex string')\n  }\n\n  let hexCode = hex.slice().replace('#', '').split('')\n  if (hexCode.length < 3 || hexCode.length === 5 || hexCode.length > 8) {\n    throw new Error('Invalid hex color: ' + hex)\n  }\n\n  // Convert from short to long form (fff -> ffffff)\n  if (hexCode.length === 3 || hexCode.length === 4) {\n    hexCode = Array.prototype.concat.apply([], hexCode.map(function (c) {\n      return [c, c]\n    }))\n  }\n\n  // Add default alpha value\n  if (hexCode.length === 6) hexCode.push('F', 'F')\n\n  const hexValue = parseInt(hexCode.join(''), 16)\n\n  return {\n    r: (hexValue >> 24) & 255,\n    g: (hexValue >> 16) & 255,\n    b: (hexValue >> 8) & 255,\n    a: hexValue & 255,\n    hex: '#' + hexCode.slice(0, 6).join('')\n  }\n}\n\nexports.getOptions = function getOptions (options) {\n  if (!options) options = {}\n  if (!options.color) options.color = {}\n\n  const margin = typeof options.margin === 'undefined' ||\n    options.margin === null ||\n    options.margin < 0\n    ? 4\n    : options.margin\n\n  const width = options.width && options.width >= 21 ? options.width : undefined\n  const scale = options.scale || 4\n\n  return {\n    width: width,\n    scale: width ? 4 : scale,\n    margin: margin,\n    color: {\n      dark: hex2rgba(options.color.dark || '#000000ff'),\n      light: hex2rgba(options.color.light || '#ffffffff')\n    },\n    type: options.type,\n    rendererOpts: options.rendererOpts || {}\n  }\n}\n\nexports.getScale = function getScale (qrSize, opts) {\n  return opts.width && opts.width >= qrSize + opts.margin * 2\n    ? opts.width / (qrSize + opts.margin * 2)\n    : opts.scale\n}\n\nexports.getImageWidth = function getImageWidth (qrSize, opts) {\n  const scale = exports.getScale(qrSize, opts)\n  return Math.floor((qrSize + opts.margin * 2) * scale)\n}\n\nexports.qrToImageData = function qrToImageData (imgData, qr, opts) {\n  const size = qr.modules.size\n  const data = qr.modules.data\n  const scale = exports.getScale(size, opts)\n  const symbolSize = Math.floor((size + opts.margin * 2) * scale)\n  const scaledMargin = opts.margin * scale\n  const palette = [opts.color.light, opts.color.dark]\n\n  for (let i = 0; i < symbolSize; i++) {\n    for (let j = 0; j < symbolSize; j++) {\n      let posDst = (i * symbolSize + j) * 4\n      let pxColor = opts.color.light\n\n      if (i >= scaledMargin && j >= scaledMargin &&\n        i < symbolSize - scaledMargin && j < symbolSize - scaledMargin) {\n        const iSrc = Math.floor((i - scaledMargin) / scale)\n        const jSrc = Math.floor((j - scaledMargin) / scale)\n        pxColor = palette[data[iSrc * size + jSrc] ? 1 : 0]\n      }\n\n      imgData[posDst++] = pxColor.r\n      imgData[posDst++] = pxColor.g\n      imgData[posDst++] = pxColor.b\n      imgData[posDst] = pxColor.a\n    }\n  }\n}\n","const Utils = require('./utils')\n\nfunction clearCanvas (ctx, canvas, size) {\n  ctx.clearRect(0, 0, canvas.width, canvas.height)\n\n  if (!canvas.style) canvas.style = {}\n  canvas.height = size\n  canvas.width = size\n  canvas.style.height = size + 'px'\n  canvas.style.width = size + 'px'\n}\n\nfunction getCanvasElement () {\n  try {\n    return document.createElement('canvas')\n  } catch (e) {\n    throw new Error('You need to specify a canvas element')\n  }\n}\n\nexports.render = function render (qrData, canvas, options) {\n  let opts = options\n  let canvasEl = canvas\n\n  if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {\n    opts = canvas\n    canvas = undefined\n  }\n\n  if (!canvas) {\n    canvasEl = getCanvasElement()\n  }\n\n  opts = Utils.getOptions(opts)\n  const size = Utils.getImageWidth(qrData.modules.size, opts)\n\n  const ctx = canvasEl.getContext('2d')\n  const image = ctx.createImageData(size, size)\n  Utils.qrToImageData(image.data, qrData, opts)\n\n  clearCanvas(ctx, canvasEl, size)\n  ctx.putImageData(image, 0, 0)\n\n  return canvasEl\n}\n\nexports.renderToDataURL = function renderToDataURL (qrData, canvas, options) {\n  let opts = options\n\n  if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {\n    opts = canvas\n    canvas = undefined\n  }\n\n  if (!opts) opts = {}\n\n  const canvasEl = exports.render(qrData, canvas, opts)\n\n  const type = opts.type || 'image/png'\n  const rendererOpts = opts.rendererOpts || {}\n\n  return canvasEl.toDataURL(type, rendererOpts.quality)\n}\n","const Utils = require('./utils')\n\nfunction getColorAttrib (color, attrib) {\n  const alpha = color.a / 255\n  const str = attrib + '=\"' + color.hex + '\"'\n\n  return alpha < 1\n    ? str + ' ' + attrib + '-opacity=\"' + alpha.toFixed(2).slice(1) + '\"'\n    : str\n}\n\nfunction svgCmd (cmd, x, y) {\n  let str = cmd + x\n  if (typeof y !== 'undefined') str += ' ' + y\n\n  return str\n}\n\nfunction qrToPath (data, size, margin) {\n  let path = ''\n  let moveBy = 0\n  let newRow = false\n  let lineLength = 0\n\n  for (let i = 0; i < data.length; i++) {\n    const col = Math.floor(i % size)\n    const row = Math.floor(i / size)\n\n    if (!col && !newRow) newRow = true\n\n    if (data[i]) {\n      lineLength++\n\n      if (!(i > 0 && col > 0 && data[i - 1])) {\n        path += newRow\n          ? svgCmd('M', col + margin, 0.5 + row + margin)\n          : svgCmd('m', moveBy, 0)\n\n        moveBy = 0\n        newRow = false\n      }\n\n      if (!(col + 1 < size && data[i + 1])) {\n        path += svgCmd('h', lineLength)\n        lineLength = 0\n      }\n    } else {\n      moveBy++\n    }\n  }\n\n  return path\n}\n\nexports.render = function render (qrData, options, cb) {\n  const opts = Utils.getOptions(options)\n  const size = qrData.modules.size\n  const data = qrData.modules.data\n  const qrcodesize = size + opts.margin * 2\n\n  const bg = !opts.color.light.a\n    ? ''\n    : '<path ' + getColorAttrib(opts.color.light, 'fill') +\n      ' d=\"M0 0h' + qrcodesize + 'v' + qrcodesize + 'H0z\"/>'\n\n  const path =\n    '<path ' + getColorAttrib(opts.color.dark, 'stroke') +\n    ' d=\"' + qrToPath(data, size, opts.margin) + '\"/>'\n\n  const viewBox = 'viewBox=\"' + '0 0 ' + qrcodesize + ' ' + qrcodesize + '\"'\n\n  const width = !opts.width ? '' : 'width=\"' + opts.width + '\" height=\"' + opts.width + '\" '\n\n  const svgTag = '<svg xmlns=\"http://www.w3.org/2000/svg\" ' + width + viewBox + ' shape-rendering=\"crispEdges\">' + bg + path + '</svg>\\n'\n\n  if (typeof cb === 'function') {\n    cb(null, svgTag)\n  }\n\n  return svgTag\n}\n","\nconst canPromise = require('./can-promise')\n\nconst QRCode = require('./core/qrcode')\nconst CanvasRenderer = require('./renderer/canvas')\nconst SvgRenderer = require('./renderer/svg-tag.js')\n\nfunction renderCanvas (renderFunc, canvas, text, opts, cb) {\n  const args = [].slice.call(arguments, 1)\n  const argsNum = args.length\n  const isLastArgCb = typeof args[argsNum - 1] === 'function'\n\n  if (!isLastArgCb && !canPromise()) {\n    throw new Error('Callback required as last argument')\n  }\n\n  if (isLastArgCb) {\n    if (argsNum < 2) {\n      throw new Error('Too few arguments provided')\n    }\n\n    if (argsNum === 2) {\n      cb = text\n      text = canvas\n      canvas = opts = undefined\n    } else if (argsNum === 3) {\n      if (canvas.getContext && typeof cb === 'undefined') {\n        cb = opts\n        opts = undefined\n      } else {\n        cb = opts\n        opts = text\n        text = canvas\n        canvas = undefined\n      }\n    }\n  } else {\n    if (argsNum < 1) {\n      throw new Error('Too few arguments provided')\n    }\n\n    if (argsNum === 1) {\n      text = canvas\n      canvas = opts = undefined\n    } else if (argsNum === 2 && !canvas.getContext) {\n      opts = text\n      text = canvas\n      canvas = undefined\n    }\n\n    return new Promise(function (resolve, reject) {\n      try {\n        const data = QRCode.create(text, opts)\n        resolve(renderFunc(data, canvas, opts))\n      } catch (e) {\n        reject(e)\n      }\n    })\n  }\n\n  try {\n    const data = QRCode.create(text, opts)\n    cb(null, renderFunc(data, canvas, opts))\n  } catch (e) {\n    cb(e)\n  }\n}\n\nexports.create = QRCode.create\nexports.toCanvas = renderCanvas.bind(null, CanvasRenderer.render)\nexports.toDataURL = renderCanvas.bind(null, CanvasRenderer.renderToDataURL)\n\n// only svg for now.\nexports.toString = renderCanvas.bind(null, function (data, _, opts) {\n  return SvgRenderer.render(data, opts)\n})\n","/*! vue-qrcode v2.0.0 | (c) 2018-present Chen Fengyuan | MIT */\nimport { defineComponent, h } from 'vue';\nimport { toString, toDataURL, toCanvas } from 'qrcode';\n\nconst EVENT_READY = 'ready';\r\nvar index = defineComponent({\r\n    name: 'VueQrcode',\r\n    props: {\r\n        /**\r\n         * The value of the QR code.\r\n         */\r\n        value: {\r\n            type: String,\r\n            default: undefined,\r\n        },\r\n        /**\r\n         * The options for the QR code generator.\r\n         * {@link https://github.com/soldair/node-qrcode#qr-code-options}\r\n         */\r\n        options: {\r\n            type: Object,\r\n            default: undefined,\r\n        },\r\n        /**\r\n         * The tag name of the component's root element.\r\n         */\r\n        tag: {\r\n            type: String,\r\n            default: 'canvas',\r\n        },\r\n    },\r\n    emits: [EVENT_READY],\r\n    watch: {\r\n        $props: {\r\n            deep: true,\r\n            immediate: true,\r\n            /**\r\n             * Update the QR code when props changed.\r\n             */\r\n            handler() {\r\n                if (this.$el) {\r\n                    this.generate();\r\n                }\r\n            },\r\n        },\r\n    },\r\n    mounted() {\r\n        this.generate();\r\n    },\r\n    methods: {\r\n        /**\r\n         * Generate QR code.\r\n         */\r\n        generate() {\r\n            const options = this.options || {};\r\n            const value = String(this.value);\r\n            const done = () => {\r\n                this.$emit(EVENT_READY, this.$el);\r\n            };\r\n            switch (this.tag) {\r\n                case 'canvas':\r\n                    toCanvas(this.$el, value, options, (error) => {\r\n                        if (error) {\r\n                            throw error;\r\n                        }\r\n                        done();\r\n                    });\r\n                    break;\r\n                case 'img':\r\n                    toDataURL(value, options, (error, url) => {\r\n                        if (error) {\r\n                            throw error;\r\n                        }\r\n                        this.$el.src = url;\r\n                        this.$el.onload = done;\r\n                    });\r\n                    break;\r\n                case 'svg':\r\n                    toString(value, options, (error, string) => {\r\n                        if (error) {\r\n                            throw error;\r\n                        }\r\n                        const div = document.createElement('div');\r\n                        div.innerHTML = string;\r\n                        const svg = div.querySelector('svg');\r\n                        if (svg) {\r\n                            const { attributes, childNodes } = svg;\r\n                            Object.keys(attributes).forEach((key) => {\r\n                                const attribute = attributes[Number(key)];\r\n                                this.$el.setAttribute(attribute.name, attribute.value);\r\n                            });\r\n                            Object.keys(childNodes).forEach((key) => {\r\n                                const childNode = childNodes[Number(key)];\r\n                                this.$el.appendChild(childNode.cloneNode(true));\r\n                            });\r\n                            done();\r\n                        }\r\n                    });\r\n                    break;\r\n            }\r\n        },\r\n    },\r\n    render() {\r\n        return h(this.tag, this.$slots.default);\r\n    },\r\n});\n\nexport { index as default };\n","import RecoveryCodes from './mfa_backup_codes.vue'\nimport TOTP from './mfa_totp.vue'\nimport Confirm from './confirm.vue'\nimport VueQrcode from '@chenfengyuan/vue-qrcode'\nimport { mapState } from 'vuex'\n\nconst Mfa = {\n  data: () => ({\n    settings: { // current settings of MFA\n      available: false,\n      enabled: false,\n      totp: false\n    },\n    setupState: { // setup mfa\n      state: '', // state of setup. '' -> 'getBackupCodes' -> 'setupOTP' -> 'complete'\n      setupOTPState: '' // state of setup otp. '' -> 'prepare' -> 'confirm' -> 'complete'\n    },\n    backupCodes: {\n      getNewCodes: false,\n      inProgress: false, //  progress of fetch codes\n      codes: []\n    },\n    otpSettings: { // pre-setup setting of OTP. secret key, qrcode url.\n      provisioning_uri: '',\n      key: ''\n    },\n    currentPassword: null,\n    otpConfirmToken: null,\n    error: null,\n    readyInit: false\n  }),\n  components: {\n    'recovery-codes': RecoveryCodes,\n    'totp-item': TOTP,\n    qrcode: VueQrcode,\n    confirm: Confirm\n  },\n  computed: {\n    canSetupOTP () {\n      return (\n        (this.setupInProgress && this.backupCodesPrepared) ||\n          this.settings.enabled\n      ) && !this.settings.totp && !this.setupOTPInProgress\n    },\n    setupInProgress () {\n      return this.setupState.state !== '' && this.setupState.state !== 'complete'\n    },\n    setupOTPInProgress () {\n      return this.setupState.state === 'setupOTP' && !this.completedOTP\n    },\n    prepareOTP () {\n      return this.setupState.setupOTPState === 'prepare'\n    },\n    confirmOTP () {\n      return this.setupState.setupOTPState === 'confirm'\n    },\n    completedOTP () {\n      return this.setupState.setupOTPState === 'completed'\n    },\n    backupCodesPrepared () {\n      return !this.backupCodes.inProgress && this.backupCodes.codes.length > 0\n    },\n    confirmNewBackupCodes () {\n      return this.backupCodes.getNewCodes\n    },\n    ...mapState({\n      backendInteractor: (state) => state.api.backendInteractor\n    })\n  },\n\n  methods: {\n    activateOTP () {\n      if (!this.settings.enabled) {\n        this.setupState.state = 'getBackupcodes'\n        this.fetchBackupCodes()\n      }\n    },\n    fetchBackupCodes () {\n      this.backupCodes.inProgress = true\n      this.backupCodes.codes = []\n\n      return this.backendInteractor.generateMfaBackupCodes()\n        .then((res) => {\n          this.backupCodes.codes = res.codes\n          this.backupCodes.inProgress = false\n        })\n    },\n    getBackupCodes () { // get a new backup codes\n      this.backupCodes.getNewCodes = true\n    },\n    confirmBackupCodes () { // confirm getting new backup codes\n      this.fetchBackupCodes().then(() => {\n        this.backupCodes.getNewCodes = false\n      })\n    },\n    cancelBackupCodes () { // cancel confirm form of new backup codes\n      this.backupCodes.getNewCodes = false\n    },\n\n    // Setup OTP\n    setupOTP () { // prepare setup OTP\n      this.setupState.state = 'setupOTP'\n      this.setupState.setupOTPState = 'prepare'\n      this.backendInteractor.mfaSetupOTP()\n        .then((res) => {\n          this.otpSettings = res\n          this.setupState.setupOTPState = 'confirm'\n        })\n    },\n    doConfirmOTP () { // handler confirm enable OTP\n      this.error = null\n      this.backendInteractor.mfaConfirmOTP({\n        token: this.otpConfirmToken,\n        password: this.currentPassword\n      })\n        .then((res) => {\n          if (res.error) {\n            this.error = res.error\n            return\n          }\n          this.completeSetup()\n        })\n    },\n\n    completeSetup () {\n      this.setupState.setupOTPState = 'complete'\n      this.setupState.state = 'complete'\n      this.currentPassword = null\n      this.error = null\n      this.fetchSettings()\n    },\n    cancelSetup () { // cancel setup\n      this.setupState.setupOTPState = ''\n      this.setupState.state = ''\n      this.currentPassword = null\n      this.error = null\n    },\n    // end Setup OTP\n\n    // fetch settings from server\n    async fetchSettings () {\n      const result = await this.backendInteractor.settingsMFA()\n      if (result.error) return\n      this.settings = result.settings\n      this.settings.available = true\n      return result\n    }\n  },\n  mounted () {\n    this.fetchSettings().then(() => {\n      this.readyInit = true\n    })\n  }\n}\nexport default Mfa\n","<template>\n  <div\n    v-if=\"readyInit && settings.available\"\n    class=\"setting-item mfa-settings\"\n  >\n    <div class=\"mfa-heading\">\n      <h2>{{ $t('settings.mfa.title') }}</h2>\n    </div>\n\n    <div>\n      <div\n        v-if=\"!setupInProgress\"\n        class=\"setting-item\"\n      >\n        <!-- Enabled methods -->\n        <h3>{{ $t('settings.mfa.authentication_methods') }}</h3>\n        <totp-item\n          :settings=\"settings\"\n          @deactivate=\"fetchSettings\"\n          @activate=\"activateOTP\"\n        />\n        <br>\n\n        <div v-if=\"settings.enabled\">\n          <!-- backup codes block-->\n          <recovery-codes\n            v-if=\"!confirmNewBackupCodes\"\n            :backup-codes=\"backupCodes\"\n          />\n          <button\n            v-if=\"!confirmNewBackupCodes\"\n            class=\"btn button-default\"\n            @click=\"getBackupCodes\"\n          >\n            {{ $t('settings.mfa.generate_new_recovery_codes') }}\n          </button>\n\n          <div v-if=\"confirmNewBackupCodes\">\n            <confirm\n              :disabled=\"backupCodes.inProgress\"\n              @confirm=\"confirmBackupCodes\"\n              @cancel=\"cancelBackupCodes\"\n            >\n              <p class=\"warning\">\n                {{ $t('settings.mfa.warning_of_generate_new_codes') }}\n              </p>\n            </confirm>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"setupInProgress\">\n        <!-- setup block-->\n\n        <h3>{{ $t('settings.mfa.setup_otp') }}</h3>\n\n        <recovery-codes\n          v-if=\"!setupOTPInProgress\"\n          :backup-codes=\"backupCodes\"\n        />\n\n        <button\n          v-if=\"canSetupOTP\"\n          class=\"btn button-default\"\n          @click=\"cancelSetup\"\n        >\n          {{ $t('general.cancel') }}\n        </button>\n\n        <button\n          v-if=\"canSetupOTP\"\n          class=\"btn button-default\"\n          @click=\"setupOTP\"\n        >\n          {{ $t('settings.mfa.setup_otp') }}\n        </button>\n\n        <template v-if=\"setupOTPInProgress\">\n          <i v-if=\"prepareOTP\">{{ $t('settings.mfa.wait_pre_setup_otp') }}</i>\n\n          <div v-if=\"confirmOTP\">\n            <div class=\"setup-otp\">\n              <div class=\"qr-code\">\n                <h4>{{ $t('settings.mfa.scan.title') }}</h4>\n                <p>{{ $t('settings.mfa.scan.desc') }}</p>\n                <qrcode\n                  :value=\"otpSettings.provisioning_uri\"\n                  :options=\"{ width: 200 }\"\n                />\n                <p>\n                  {{ $t('settings.mfa.scan.secret_code') }}:\n                  {{ otpSettings.key }}\n                </p>\n              </div>\n\n              <div class=\"verify\">\n                <h4>{{ $t('general.verify') }}</h4>\n                <p>{{ $t('settings.mfa.verify.desc') }}</p>\n                <input\n                  v-model=\"otpConfirmToken\"\n                  type=\"text\"\n                  class=\"input\"\n                >\n\n                <p>{{ $t('settings.enter_current_password_to_confirm') }}:</p>\n                <input\n                  v-model=\"currentPassword\"\n                  type=\"password\"\n                  class=\"input\"\n                >\n                <div class=\"confirm-otp-actions\">\n                  <button\n                    class=\"btn button-default\"\n                    @click=\"doConfirmOTP\"\n                  >\n                    {{ $t('settings.mfa.confirm_and_enable') }}\n                  </button>\n                  <button\n                    class=\"btn button-default\"\n                    @click=\"cancelSetup\"\n                  >\n                    {{ $t('general.cancel') }}\n                  </button>\n                </div>\n                <div\n                  v-if=\"error\"\n                  class=\"alert error\"\n                >\n                  {{ error }}\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script src=\"./mfa.js\"></script>\n<style lang=\"scss\">\n.mfa-settings {\n  .mfa-heading,\n  .method-item {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    align-items: baseline;\n  }\n\n  .warning {\n    color: var(--cOrange);\n  }\n\n  .setup-otp {\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n\n    .qr-code {\n      flex: 1;\n      padding-right: 10px;\n    }\n    .verify { flex: 1; }\n    .error { margin: 4px 0 0; }\n\n    .confirm-otp-actions {\n      button {\n        width: 15em;\n        margin-top: 5px;\n      }\n    }\n  }\n}\n</style>\n","import ProgressButton from 'src/components/progress_button/progress_button.vue'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport Mfa from './mfa.vue'\nimport localeService from 'src/services/locale/locale.service.js'\n\nconst SecurityTab = {\n  data () {\n    return {\n      newEmail: '',\n      changeEmailError: false,\n      changeEmailPassword: '',\n      changedEmail: false,\n      deletingAccount: false,\n      deleteAccountConfirmPasswordInput: '',\n      deleteAccountError: false,\n      changePasswordInputs: ['', '', ''],\n      changedPassword: false,\n      changePasswordError: false,\n      moveAccountTarget: '',\n      moveAccountPassword: '',\n      movedAccount: false,\n      moveAccountError: false,\n      aliases: [],\n      listAliasesError: false,\n      addAliasTarget: '',\n      addedAlias: false,\n      addAliasError: false\n    }\n  },\n  created () {\n    this.$store.dispatch('fetchTokens')\n    this.fetchAliases()\n  },\n  components: {\n    ProgressButton,\n    Mfa,\n    Checkbox\n  },\n  computed: {\n    user () {\n      return this.$store.state.users.currentUser\n    },\n    pleromaBackend () {\n      return this.$store.state.instance.pleromaBackend\n    },\n    oauthTokens () {\n      return this.$store.state.oauthTokens.tokens.map(oauthToken => {\n        return {\n          id: oauthToken.id,\n          appName: oauthToken.app_name,\n          validUntil: new Date(oauthToken.valid_until).toLocaleDateString(localeService.internalToBrowserLocale(this.$i18n.locale))\n        }\n      })\n    }\n  },\n  methods: {\n    confirmDelete () {\n      this.deletingAccount = true\n    },\n    deleteAccount () {\n      this.$store.state.api.backendInteractor.deleteAccount({ password: this.deleteAccountConfirmPasswordInput })\n        .then((res) => {\n          if (res.status === 'success') {\n            this.$store.dispatch('logout')\n            this.$router.push({ name: 'root' })\n          } else {\n            this.deleteAccountError = res.error\n          }\n        })\n    },\n    changePassword () {\n      const params = {\n        password: this.changePasswordInputs[0],\n        newPassword: this.changePasswordInputs[1],\n        newPasswordConfirmation: this.changePasswordInputs[2]\n      }\n      this.$store.state.api.backendInteractor.changePassword(params)\n        .then((res) => {\n          if (res.status === 'success') {\n            this.changedPassword = true\n            this.changePasswordError = false\n            this.logout()\n          } else {\n            this.changedPassword = false\n            this.changePasswordError = res.error\n          }\n        })\n    },\n    changeEmail () {\n      const params = {\n        email: this.newEmail,\n        password: this.changeEmailPassword\n      }\n      this.$store.state.api.backendInteractor.changeEmail(params)\n        .then((res) => {\n          if (res.status === 'success') {\n            this.changedEmail = true\n            this.changeEmailError = false\n          } else {\n            this.changedEmail = false\n            this.changeEmailError = res.error\n          }\n        })\n    },\n    moveAccount () {\n      const params = {\n        targetAccount: this.moveAccountTarget,\n        password: this.moveAccountPassword\n      }\n      this.$store.state.api.backendInteractor.moveAccount(params)\n        .then((res) => {\n          if (res.status === 'success') {\n            this.movedAccount = true\n            this.moveAccountError = false\n          } else {\n            this.movedAccount = false\n            this.moveAccountError = res.error\n          }\n        })\n    },\n    removeAlias (alias) {\n      this.$store.state.api.backendInteractor.deleteAlias({ alias })\n        .then(() => this.fetchAliases())\n    },\n    addAlias () {\n      this.$store.state.api.backendInteractor.addAlias({ alias: this.addAliasTarget })\n        .then(() => {\n          this.addedAlias = true\n          this.addAliasError = false\n          this.addAliasTarget = ''\n        })\n        .catch((error) => {\n          this.addedAlias = false\n          this.addAliasError = error\n        })\n        .then(() => this.fetchAliases())\n    },\n    fetchAliases () {\n      this.$store.state.api.backendInteractor.listAliases()\n        .then((res) => {\n          this.aliases = res.aliases\n          this.listAliasesError = false\n        })\n        .catch((error) => {\n          this.listAliasesError = error.error\n        })\n    },\n    logout () {\n      this.$store.dispatch('logout')\n      this.$router.replace('/')\n    },\n    revokeToken (id) {\n      if (window.confirm(`${this.$i18n.t('settings.revoke_token')}?`)) {\n        this.$store.dispatch('revokeToken', id)\n      }\n    }\n  }\n}\n\nexport default SecurityTab\n","<template>\n  <div :label=\"$t('settings.security_tab')\">\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.change_email') }}</h2>\n      <div>\n        <p>{{ $t('settings.new_email') }}</p>\n        <input\n          v-model=\"newEmail\"\n          type=\"email\"\n          autocomplete=\"email\"\n          class=\"input\"\n        >\n      </div>\n      <div>\n        <p>{{ $t('settings.current_password') }}</p>\n        <input\n          v-model=\"changeEmailPassword\"\n          type=\"password\"\n          autocomplete=\"current-password\"\n          class=\"input\"\n        >\n      </div>\n      <button\n        class=\"btn button-default\"\n        @click=\"changeEmail\"\n      >\n        {{ $t('settings.save') }}\n      </button>\n      <p v-if=\"changedEmail\">\n        {{ $t('settings.changed_email') }}\n      </p>\n      <template v-if=\"changeEmailError !== false\">\n        <p>{{ $t('settings.change_email_error') }}</p>\n        <p>{{ changeEmailError }}</p>\n      </template>\n    </div>\n\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.change_password') }}</h2>\n      <div>\n        <p>{{ $t('settings.current_password') }}</p>\n        <input\n          v-model=\"changePasswordInputs[0]\"\n          type=\"password\"\n          class=\"input\"\n        >\n      </div>\n      <div>\n        <p>{{ $t('settings.new_password') }}</p>\n        <input\n          v-model=\"changePasswordInputs[1]\"\n          type=\"password\"\n          class=\"input\"\n        >\n      </div>\n      <div>\n        <p>{{ $t('settings.confirm_new_password') }}</p>\n        <input\n          v-model=\"changePasswordInputs[2]\"\n          type=\"password\"\n          class=\"input\"\n        >\n      </div>\n      <button\n        class=\"btn button-default\"\n        @click=\"changePassword\"\n      >\n        {{ $t('settings.save') }}\n      </button>\n      <p v-if=\"changedPassword\">\n        {{ $t('settings.changed_password') }}\n      </p>\n      <p v-else-if=\"changePasswordError !== false\">\n        {{ $t('settings.change_password_error') }}\n      </p>\n      <p v-if=\"changePasswordError\">\n        {{ changePasswordError }}\n      </p>\n    </div>\n\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.oauth_tokens') }}</h2>\n      <table class=\"oauth-tokens\">\n        <thead>\n          <tr>\n            <th>{{ $t('settings.app_name') }}</th>\n            <th>{{ $t('settings.valid_until') }}</th>\n            <th />\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"oauthToken in oauthTokens\"\n            :key=\"oauthToken.id\"\n          >\n            <td>{{ oauthToken.appName }}</td>\n            <td>{{ oauthToken.validUntil }}</td>\n            <td class=\"actions\">\n              <button\n                class=\"btn button-default\"\n                @click=\"revokeToken(oauthToken.id)\"\n              >\n                {{ $t('settings.revoke_token') }}\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <mfa />\n\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.account_alias') }}</h2>\n      <table>\n        <thead>\n          <tr>\n            <th>{{ $t('settings.account_alias_table_head') }}</th>\n            <th />\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"alias in aliases\"\n            :key=\"alias\"\n          >\n            <td>{{ alias }}</td>\n            <td class=\"actions\">\n              <button\n                class=\"btn button-default\"\n                @click=\"removeAlias(alias)\"\n              >\n                {{ $t('settings.remove_alias') }}\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div\n        v-if=\"listAliasesError\"\n        class=\"alert error\"\n      >\n        {{ $t('settings.list_aliases_error', { error }) }}\n        <FAIcon\n          class=\"fa-scale-110 fa-old-padding\"\n          icon=\"times\"\n          :title=\"$t('settings.hide_list_aliases_error_action')\"\n          @click=\"listAliasesError = false\"\n        />\n      </div>\n      <div>\n        <i18n-t\n          scope=\"global\"\n          keypath=\"settings.new_alias_target\"\n          tag=\"p\"\n        >\n          <code\n            place=\"example\"\n          >\n            foo@example.org\n          </code>\n        </i18n-t>\n        <input\n          v-model=\"addAliasTarget\"\n          class=\"input\"\n        >\n      </div>\n      <button\n        class=\"btn button-default\"\n        @click=\"addAlias\"\n      >\n        {{ $t('settings.save') }}\n      </button>\n      <p v-if=\"addedAlias\">\n        {{ $t('settings.added_alias') }}\n      </p>\n      <template v-if=\"addAliasError !== false\">\n        <p>{{ $t('settings.add_alias_error', { error: addAliasError }) }}</p>\n      </template>\n    </div>\n\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.move_account') }}</h2>\n      <p>{{ $t('settings.move_account_notes') }}</p>\n      <div>\n        <i18n-t\n          keypath=\"settings.move_account_target\"\n          tag=\"p\"\n          scope=\"global\"\n        >\n          <template #example>\n            <code>\n              foo@example.org\n            </code>\n          </template>\n        </i18n-t>\n        <input\n          v-model=\"moveAccountTarget\"\n          class=\"input\"\n        >\n      </div>\n      <div>\n        <p>{{ $t('settings.current_password') }}</p>\n        <input\n          v-model=\"moveAccountPassword\"\n          type=\"password\"\n          autocomplete=\"current-password\"\n          class=\"input\"\n        >\n      </div>\n      <button\n        class=\"btn button-default\"\n        @click=\"moveAccount\"\n      >\n        {{ $t('settings.save') }}\n      </button>\n      <p v-if=\"movedAccount\">\n        {{ $t('settings.moved_account') }}\n      </p>\n      <template v-if=\"moveAccountError !== false\">\n        <p>{{ $t('settings.move_account_error', { error: moveAccountError }) }}</p>\n      </template>\n    </div>\n\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.delete_account') }}</h2>\n      <p v-if=\"!deletingAccount\">\n        {{ $t('settings.delete_account_description') }}\n      </p>\n      <div v-if=\"deletingAccount\">\n        <p>{{ $t('settings.delete_account_instructions') }}</p>\n        <p>{{ $t('login.password') }}</p>\n        <input\n          v-model=\"deleteAccountConfirmPasswordInput\"\n          type=\"password\"\n          class=\"input\"\n        >\n        <button\n          class=\"btn button-default\"\n          @click=\"deleteAccount\"\n        >\n          {{ $t('settings.delete_account') }}\n        </button>\n      </div>\n      <p v-if=\"deleteAccountError !== false\">\n        {{ $t('settings.delete_account_error') }}\n      </p>\n      <p v-if=\"deleteAccountError\">\n        {{ deleteAccountError }}\n      </p>\n      <button\n        v-if=\"!deletingAccount\"\n        class=\"btn button-default\"\n        @click=\"confirmDelete\"\n      >\n        {{ $t('settings.delete_account') }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<script src=\"./security_tab.js\"></script>\n<!-- <style lang=\"scss\" src=\"./profile.scss\"></style> -->\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = basePropertyOf;\n","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map HTML entities to characters. */\nvar htmlUnescapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\"\n};\n\n/**\n * Used by `_.unescape` to convert HTML entities to characters.\n *\n * @private\n * @param {string} chr The matched character to unescape.\n * @returns {string} Returns the unescaped character.\n */\nvar unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\nmodule.exports = unescapeHtmlChar;\n","var toString = require('./toString'),\n    unescapeHtmlChar = require('./_unescapeHtmlChar');\n\n/** Used to match HTML entities and HTML characters. */\nvar reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n    reHasEscapedHtml = RegExp(reEscapedHtml.source);\n\n/**\n * The inverse of `_.escape`; this method converts the HTML entities\n * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n * their corresponding characters.\n *\n * **Note:** No other HTML entities are unescaped. To unescape additional\n * HTML entities use a third-party library like [_he_](https://mths.be/he).\n *\n * @static\n * @memberOf _\n * @since 0.6.0\n * @category String\n * @param {string} [string=''] The string to unescape.\n * @returns {string} Returns the unescaped string.\n * @example\n *\n * _.unescape('fred, barney, &amp; pebbles');\n * // => 'fred, barney, & pebbles'\n */\nfunction unescape(string) {\n  string = toString(string);\n  return (string && reHasEscapedHtml.test(string))\n    ? string.replace(reEscapedHtml, unescapeHtmlChar)\n    : string;\n}\n\nmodule.exports = unescape;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignMergeValue;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nmodule.exports = safeGet;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","var assignMergeValue = require('./_assignMergeValue'),\n    cloneBuffer = require('./_cloneBuffer'),\n    cloneTypedArray = require('./_cloneTypedArray'),\n    copyArray = require('./_copyArray'),\n    initCloneObject = require('./_initCloneObject'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    safeGet = require('./_safeGet'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n","var Stack = require('./_Stack'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseFor = require('./_baseFor'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isObject = require('./isObject'),\n    keysIn = require('./keysIn'),\n    safeGet = require('./_safeGet');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nmodule.exports = baseMerge;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nmodule.exports = merge;\n","/*!\n * Cropper.js v1.6.2\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2024-04-21T07:43:05.335Z\n */\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nvar WINDOW = IS_BROWSER ? window : {};\nvar IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\nvar HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\nvar NAMESPACE = 'cropper';\n\n// Actions\nvar ACTION_ALL = 'all';\nvar ACTION_CROP = 'crop';\nvar ACTION_MOVE = 'move';\nvar ACTION_ZOOM = 'zoom';\nvar ACTION_EAST = 'e';\nvar ACTION_WEST = 'w';\nvar ACTION_SOUTH = 's';\nvar ACTION_NORTH = 'n';\nvar ACTION_NORTH_EAST = 'ne';\nvar ACTION_NORTH_WEST = 'nw';\nvar ACTION_SOUTH_EAST = 'se';\nvar ACTION_SOUTH_WEST = 'sw';\n\n// Classes\nvar CLASS_CROP = \"\".concat(NAMESPACE, \"-crop\");\nvar CLASS_DISABLED = \"\".concat(NAMESPACE, \"-disabled\");\nvar CLASS_HIDDEN = \"\".concat(NAMESPACE, \"-hidden\");\nvar CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\nvar CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\nvar CLASS_MODAL = \"\".concat(NAMESPACE, \"-modal\");\nvar CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\");\n\n// Data keys\nvar DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\nvar DATA_PREVIEW = \"\".concat(NAMESPACE, \"Preview\");\n\n// Drag modes\nvar DRAG_MODE_CROP = 'crop';\nvar DRAG_MODE_MOVE = 'move';\nvar DRAG_MODE_NONE = 'none';\n\n// Events\nvar EVENT_CROP = 'crop';\nvar EVENT_CROP_END = 'cropend';\nvar EVENT_CROP_MOVE = 'cropmove';\nvar EVENT_CROP_START = 'cropstart';\nvar EVENT_DBLCLICK = 'dblclick';\nvar EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\nvar EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\nvar EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\nvar EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\nvar EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\nvar EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\nvar EVENT_READY = 'ready';\nvar EVENT_RESIZE = 'resize';\nvar EVENT_WHEEL = 'wheel';\nvar EVENT_ZOOM = 'zoom';\n\n// Mime types\nvar MIME_TYPE_JPEG = 'image/jpeg';\n\n// RegExps\nvar REGEXP_ACTIONS = /^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/;\nvar REGEXP_DATA_URL = /^data:/;\nvar REGEXP_DATA_URL_JPEG = /^data:image\\/jpeg;base64,/;\nvar REGEXP_TAG_NAME = /^img|canvas$/i;\n\n// Misc\n// Inspired by the default width and height of a canvas element.\nvar MIN_CONTAINER_WIDTH = 200;\nvar MIN_CONTAINER_HEIGHT = 100;\n\nvar DEFAULTS = {\n  // Define the view mode of the cropper\n  viewMode: 0,\n  // 0, 1, 2, 3\n\n  // Define the dragging mode of the cropper\n  dragMode: DRAG_MODE_CROP,\n  // 'crop', 'move' or 'none'\n\n  // Define the initial aspect ratio of the crop box\n  initialAspectRatio: NaN,\n  // Define the aspect ratio of the crop box\n  aspectRatio: NaN,\n  // An object with the previous cropping result data\n  data: null,\n  // A selector for adding extra containers to preview\n  preview: '',\n  // Re-render the cropper when resize the window\n  responsive: true,\n  // Restore the cropped area after resize the window\n  restore: true,\n  // Check if the current image is a cross-origin image\n  checkCrossOrigin: true,\n  // Check the current image's Exif Orientation information\n  checkOrientation: true,\n  // Show the black modal\n  modal: true,\n  // Show the dashed lines for guiding\n  guides: true,\n  // Show the center indicator for guiding\n  center: true,\n  // Show the white modal to highlight the crop box\n  highlight: true,\n  // Show the grid background\n  background: true,\n  // Enable to crop the image automatically when initialize\n  autoCrop: true,\n  // Define the percentage of automatic cropping area when initializes\n  autoCropArea: 0.8,\n  // Enable to move the image\n  movable: true,\n  // Enable to rotate the image\n  rotatable: true,\n  // Enable to scale the image\n  scalable: true,\n  // Enable to zoom the image\n  zoomable: true,\n  // Enable to zoom the image by dragging touch\n  zoomOnTouch: true,\n  // Enable to zoom the image by wheeling mouse\n  zoomOnWheel: true,\n  // Define zoom ratio when zoom the image by wheeling mouse\n  wheelZoomRatio: 0.1,\n  // Enable to move the crop box\n  cropBoxMovable: true,\n  // Enable to resize the crop box\n  cropBoxResizable: true,\n  // Toggle drag mode between \"crop\" and \"move\" when click twice on the cropper\n  toggleDragModeOnDblclick: true,\n  // Size limitation\n  minCanvasWidth: 0,\n  minCanvasHeight: 0,\n  minCropBoxWidth: 0,\n  minCropBoxHeight: 0,\n  minContainerWidth: MIN_CONTAINER_WIDTH,\n  minContainerHeight: MIN_CONTAINER_HEIGHT,\n  // Shortcuts of events\n  ready: null,\n  cropstart: null,\n  cropmove: null,\n  cropend: null,\n  crop: null,\n  zoom: null\n};\n\nvar TEMPLATE = '<div class=\"cropper-container\" touch-action=\"none\">' + '<div class=\"cropper-wrap-box\">' + '<div class=\"cropper-canvas\"></div>' + '</div>' + '<div class=\"cropper-drag-box\"></div>' + '<div class=\"cropper-crop-box\">' + '<span class=\"cropper-view-box\"></span>' + '<span class=\"cropper-dashed dashed-h\"></span>' + '<span class=\"cropper-dashed dashed-v\"></span>' + '<span class=\"cropper-center\"></span>' + '<span class=\"cropper-face\"></span>' + '<span class=\"cropper-line line-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-line line-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-line line-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-line line-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-point point-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-point point-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-point point-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-ne\" data-cropper-action=\"ne\"></span>' + '<span class=\"cropper-point point-nw\" data-cropper-action=\"nw\"></span>' + '<span class=\"cropper-point point-sw\" data-cropper-action=\"sw\"></span>' + '<span class=\"cropper-point point-se\" data-cropper-action=\"se\"></span>' + '</div>' + '</div>';\n\n/**\n * Check if the given value is not a number.\n */\nvar isNaN = Number.isNaN || WINDOW.isNaN;\n\n/**\n * Check if the given value is a number.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n */\nfunction isNumber(value) {\n  return typeof value === 'number' && !isNaN(value);\n}\n\n/**\n * Check if the given value is a positive number.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n */\nvar isPositiveNumber = function isPositiveNumber(value) {\n  return value > 0 && value < Infinity;\n};\n\n/**\n * Check if the given value is undefined.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n */\nfunction isUndefined(value) {\n  return typeof value === 'undefined';\n}\n\n/**\n * Check if the given value is an object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n */\nfunction isObject(value) {\n  return _typeof(value) === 'object' && value !== null;\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Check if the given value is a plain object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n */\nfunction isPlainObject(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  try {\n    var _constructor = value.constructor;\n    var prototype = _constructor.prototype;\n    return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n  } catch (error) {\n    return false;\n  }\n}\n\n/**\n * Check if the given value is a function.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n */\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\nvar slice = Array.prototype.slice;\n\n/**\n * Convert array-like or iterable object to an array.\n * @param {*} value - The value to convert.\n * @returns {Array} Returns a new array.\n */\nfunction toArray(value) {\n  return Array.from ? Array.from(value) : slice.call(value);\n}\n\n/**\n * Iterate the given data.\n * @param {*} data - The data to iterate.\n * @param {Function} callback - The process function for each element.\n * @returns {*} The original data.\n */\nfunction forEach(data, callback) {\n  if (data && isFunction(callback)) {\n    if (Array.isArray(data) || isNumber(data.length) /* array-like */) {\n      toArray(data).forEach(function (value, key) {\n        callback.call(data, value, key, data);\n      });\n    } else if (isObject(data)) {\n      Object.keys(data).forEach(function (key) {\n        callback.call(data, data[key], key, data);\n      });\n    }\n  }\n  return data;\n}\n\n/**\n * Extend the given object.\n * @param {*} target - The target object to extend.\n * @param {*} args - The rest objects for merging to the target object.\n * @returns {Object} The extended object.\n */\nvar assign = Object.assign || function assign(target) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n  if (isObject(target) && args.length > 0) {\n    args.forEach(function (arg) {\n      if (isObject(arg)) {\n        Object.keys(arg).forEach(function (key) {\n          target[key] = arg[key];\n        });\n      }\n    });\n  }\n  return target;\n};\nvar REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n\n/**\n * Normalize decimal number.\n * Check out {@link https://0.30000000000000004.com/}\n * @param {number} value - The value to normalize.\n * @param {number} [times=100000000000] - The times for normalizing.\n * @returns {number} Returns the normalized number.\n */\nfunction normalizeDecimalNumber(value) {\n  var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n  return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n}\nvar REGEXP_SUFFIX = /^width|height|left|top|marginLeft|marginTop$/;\n\n/**\n * Apply styles to the given element.\n * @param {Element} element - The target element.\n * @param {Object} styles - The styles for applying.\n */\nfunction setStyle(element, styles) {\n  var style = element.style;\n  forEach(styles, function (value, property) {\n    if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n      value = \"\".concat(value, \"px\");\n    }\n    style[property] = value;\n  });\n}\n\n/**\n * Check if the given element has a special class.\n * @param {Element} element - The element to check.\n * @param {string} value - The class to search.\n * @returns {boolean} Returns `true` if the special class was found.\n */\nfunction hasClass(element, value) {\n  return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n}\n\n/**\n * Add classes to the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be added.\n */\nfunction addClass(element, value) {\n  if (!value) {\n    return;\n  }\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      addClass(elem, value);\n    });\n    return;\n  }\n  if (element.classList) {\n    element.classList.add(value);\n    return;\n  }\n  var className = element.className.trim();\n  if (!className) {\n    element.className = value;\n  } else if (className.indexOf(value) < 0) {\n    element.className = \"\".concat(className, \" \").concat(value);\n  }\n}\n\n/**\n * Remove classes from the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be removed.\n */\nfunction removeClass(element, value) {\n  if (!value) {\n    return;\n  }\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      removeClass(elem, value);\n    });\n    return;\n  }\n  if (element.classList) {\n    element.classList.remove(value);\n    return;\n  }\n  if (element.className.indexOf(value) >= 0) {\n    element.className = element.className.replace(value, '');\n  }\n}\n\n/**\n * Add or remove classes from the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be toggled.\n * @param {boolean} added - Add only.\n */\nfunction toggleClass(element, value, added) {\n  if (!value) {\n    return;\n  }\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      toggleClass(elem, value, added);\n    });\n    return;\n  }\n\n  // IE10-11 doesn't support the second parameter of `classList.toggle`\n  if (added) {\n    addClass(element, value);\n  } else {\n    removeClass(element, value);\n  }\n}\nvar REGEXP_CAMEL_CASE = /([a-z\\d])([A-Z])/g;\n\n/**\n * Transform the given string from camelCase to kebab-case\n * @param {string} value - The value to transform.\n * @returns {string} The transformed value.\n */\nfunction toParamCase(value) {\n  return value.replace(REGEXP_CAMEL_CASE, '$1-$2').toLowerCase();\n}\n\n/**\n * Get data from the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to get.\n * @returns {string} The data value.\n */\nfunction getData(element, name) {\n  if (isObject(element[name])) {\n    return element[name];\n  }\n  if (element.dataset) {\n    return element.dataset[name];\n  }\n  return element.getAttribute(\"data-\".concat(toParamCase(name)));\n}\n\n/**\n * Set data to the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to set.\n * @param {string} data - The data value.\n */\nfunction setData(element, name, data) {\n  if (isObject(data)) {\n    element[name] = data;\n  } else if (element.dataset) {\n    element.dataset[name] = data;\n  } else {\n    element.setAttribute(\"data-\".concat(toParamCase(name)), data);\n  }\n}\n\n/**\n * Remove data from the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to remove.\n */\nfunction removeData(element, name) {\n  if (isObject(element[name])) {\n    try {\n      delete element[name];\n    } catch (error) {\n      element[name] = undefined;\n    }\n  } else if (element.dataset) {\n    // #128 Safari not allows to delete dataset property\n    try {\n      delete element.dataset[name];\n    } catch (error) {\n      element.dataset[name] = undefined;\n    }\n  } else {\n    element.removeAttribute(\"data-\".concat(toParamCase(name)));\n  }\n}\nvar REGEXP_SPACES = /\\s\\s*/;\nvar onceSupported = function () {\n  var supported = false;\n  if (IS_BROWSER) {\n    var once = false;\n    var listener = function listener() {};\n    var options = Object.defineProperty({}, 'once', {\n      get: function get() {\n        supported = true;\n        return once;\n      },\n      /**\n       * This setter can fix a `TypeError` in strict mode\n       * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n       * @param {boolean} value - The value to set\n       */\n      set: function set(value) {\n        once = value;\n      }\n    });\n    WINDOW.addEventListener('test', listener, options);\n    WINDOW.removeEventListener('test', listener, options);\n  }\n  return supported;\n}();\n\n/**\n * Remove event listener from the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Function} listener - The event listener.\n * @param {Object} options - The event options.\n */\nfunction removeListener(element, type, listener) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var handler = listener;\n  type.trim().split(REGEXP_SPACES).forEach(function (event) {\n    if (!onceSupported) {\n      var listeners = element.listeners;\n      if (listeners && listeners[event] && listeners[event][listener]) {\n        handler = listeners[event][listener];\n        delete listeners[event][listener];\n        if (Object.keys(listeners[event]).length === 0) {\n          delete listeners[event];\n        }\n        if (Object.keys(listeners).length === 0) {\n          delete element.listeners;\n        }\n      }\n    }\n    element.removeEventListener(event, handler, options);\n  });\n}\n\n/**\n * Add event listener to the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Function} listener - The event listener.\n * @param {Object} options - The event options.\n */\nfunction addListener(element, type, listener) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var _handler = listener;\n  type.trim().split(REGEXP_SPACES).forEach(function (event) {\n    if (options.once && !onceSupported) {\n      var _element$listeners = element.listeners,\n        listeners = _element$listeners === void 0 ? {} : _element$listeners;\n      _handler = function handler() {\n        delete listeners[event][listener];\n        element.removeEventListener(event, _handler, options);\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        listener.apply(element, args);\n      };\n      if (!listeners[event]) {\n        listeners[event] = {};\n      }\n      if (listeners[event][listener]) {\n        element.removeEventListener(event, listeners[event][listener], options);\n      }\n      listeners[event][listener] = _handler;\n      element.listeners = listeners;\n    }\n    element.addEventListener(event, _handler, options);\n  });\n}\n\n/**\n * Dispatch event on the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Object} data - The additional event data.\n * @returns {boolean} Indicate if the event is default prevented or not.\n */\nfunction dispatchEvent(element, type, data) {\n  var event;\n\n  // Event and CustomEvent on IE9-11 are global objects, not constructors\n  if (isFunction(Event) && isFunction(CustomEvent)) {\n    event = new CustomEvent(type, {\n      detail: data,\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    event = document.createEvent('CustomEvent');\n    event.initCustomEvent(type, true, true, data);\n  }\n  return element.dispatchEvent(event);\n}\n\n/**\n * Get the offset base on the document.\n * @param {Element} element - The target element.\n * @returns {Object} The offset data.\n */\nfunction getOffset(element) {\n  var box = element.getBoundingClientRect();\n  return {\n    left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n    top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n  };\n}\nvar location = WINDOW.location;\nvar REGEXP_ORIGINS = /^(\\w+:)\\/\\/([^:/?#]*):?(\\d*)/i;\n\n/**\n * Check if the given URL is a cross origin URL.\n * @param {string} url - The target URL.\n * @returns {boolean} Returns `true` if the given URL is a cross origin URL, else `false`.\n */\nfunction isCrossOriginURL(url) {\n  var parts = url.match(REGEXP_ORIGINS);\n  return parts !== null && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);\n}\n\n/**\n * Add timestamp to the given URL.\n * @param {string} url - The target URL.\n * @returns {string} The result URL.\n */\nfunction addTimestamp(url) {\n  var timestamp = \"timestamp=\".concat(new Date().getTime());\n  return url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp;\n}\n\n/**\n * Get transforms base on the given object.\n * @param {Object} obj - The target object.\n * @returns {string} A string contains transform values.\n */\nfunction getTransforms(_ref) {\n  var rotate = _ref.rotate,\n    scaleX = _ref.scaleX,\n    scaleY = _ref.scaleY,\n    translateX = _ref.translateX,\n    translateY = _ref.translateY;\n  var values = [];\n  if (isNumber(translateX) && translateX !== 0) {\n    values.push(\"translateX(\".concat(translateX, \"px)\"));\n  }\n  if (isNumber(translateY) && translateY !== 0) {\n    values.push(\"translateY(\".concat(translateY, \"px)\"));\n  }\n\n  // Rotate should come first before scale to match orientation transform\n  if (isNumber(rotate) && rotate !== 0) {\n    values.push(\"rotate(\".concat(rotate, \"deg)\"));\n  }\n  if (isNumber(scaleX) && scaleX !== 1) {\n    values.push(\"scaleX(\".concat(scaleX, \")\"));\n  }\n  if (isNumber(scaleY) && scaleY !== 1) {\n    values.push(\"scaleY(\".concat(scaleY, \")\"));\n  }\n  var transform = values.length ? values.join(' ') : 'none';\n  return {\n    WebkitTransform: transform,\n    msTransform: transform,\n    transform: transform\n  };\n}\n\n/**\n * Get the max ratio of a group of pointers.\n * @param {string} pointers - The target pointers.\n * @returns {number} The result ratio.\n */\nfunction getMaxZoomRatio(pointers) {\n  var pointers2 = _objectSpread2({}, pointers);\n  var maxRatio = 0;\n  forEach(pointers, function (pointer, pointerId) {\n    delete pointers2[pointerId];\n    forEach(pointers2, function (pointer2) {\n      var x1 = Math.abs(pointer.startX - pointer2.startX);\n      var y1 = Math.abs(pointer.startY - pointer2.startY);\n      var x2 = Math.abs(pointer.endX - pointer2.endX);\n      var y2 = Math.abs(pointer.endY - pointer2.endY);\n      var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n      var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n      var ratio = (z2 - z1) / z1;\n      if (Math.abs(ratio) > Math.abs(maxRatio)) {\n        maxRatio = ratio;\n      }\n    });\n  });\n  return maxRatio;\n}\n\n/**\n * Get a pointer from an event object.\n * @param {Object} event - The target event object.\n * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n * @returns {Object} The result pointer contains start and/or end point coordinates.\n */\nfunction getPointer(_ref2, endOnly) {\n  var pageX = _ref2.pageX,\n    pageY = _ref2.pageY;\n  var end = {\n    endX: pageX,\n    endY: pageY\n  };\n  return endOnly ? end : _objectSpread2({\n    startX: pageX,\n    startY: pageY\n  }, end);\n}\n\n/**\n * Get the center point coordinate of a group of pointers.\n * @param {Object} pointers - The target pointers.\n * @returns {Object} The center point coordinate.\n */\nfunction getPointersCenter(pointers) {\n  var pageX = 0;\n  var pageY = 0;\n  var count = 0;\n  forEach(pointers, function (_ref3) {\n    var startX = _ref3.startX,\n      startY = _ref3.startY;\n    pageX += startX;\n    pageY += startY;\n    count += 1;\n  });\n  pageX /= count;\n  pageY /= count;\n  return {\n    pageX: pageX,\n    pageY: pageY\n  };\n}\n\n/**\n * Get the max sizes in a rectangle under the given aspect ratio.\n * @param {Object} data - The original sizes.\n * @param {string} [type='contain'] - The adjust type.\n * @returns {Object} The result sizes.\n */\nfunction getAdjustedSizes(_ref4) {\n  var aspectRatio = _ref4.aspectRatio,\n    height = _ref4.height,\n    width = _ref4.width;\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'contain';\n  var isValidWidth = isPositiveNumber(width);\n  var isValidHeight = isPositiveNumber(height);\n  if (isValidWidth && isValidHeight) {\n    var adjustedWidth = height * aspectRatio;\n    if (type === 'contain' && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n      height = width / aspectRatio;\n    } else {\n      width = height * aspectRatio;\n    }\n  } else if (isValidWidth) {\n    height = width / aspectRatio;\n  } else if (isValidHeight) {\n    width = height * aspectRatio;\n  }\n  return {\n    width: width,\n    height: height\n  };\n}\n\n/**\n * Get the new sizes of a rectangle after rotated.\n * @param {Object} data - The original sizes.\n * @returns {Object} The result sizes.\n */\nfunction getRotatedSizes(_ref5) {\n  var width = _ref5.width,\n    height = _ref5.height,\n    degree = _ref5.degree;\n  degree = Math.abs(degree) % 180;\n  if (degree === 90) {\n    return {\n      width: height,\n      height: width\n    };\n  }\n  var arc = degree % 90 * Math.PI / 180;\n  var sinArc = Math.sin(arc);\n  var cosArc = Math.cos(arc);\n  var newWidth = width * cosArc + height * sinArc;\n  var newHeight = width * sinArc + height * cosArc;\n  return degree > 90 ? {\n    width: newHeight,\n    height: newWidth\n  } : {\n    width: newWidth,\n    height: newHeight\n  };\n}\n\n/**\n * Get a canvas which drew the given image.\n * @param {HTMLImageElement} image - The image for drawing.\n * @param {Object} imageData - The image data.\n * @param {Object} canvasData - The canvas data.\n * @param {Object} options - The options.\n * @returns {HTMLCanvasElement} The result canvas.\n */\nfunction getSourceCanvas(image, _ref6, _ref7, _ref8) {\n  var imageAspectRatio = _ref6.aspectRatio,\n    imageNaturalWidth = _ref6.naturalWidth,\n    imageNaturalHeight = _ref6.naturalHeight,\n    _ref6$rotate = _ref6.rotate,\n    rotate = _ref6$rotate === void 0 ? 0 : _ref6$rotate,\n    _ref6$scaleX = _ref6.scaleX,\n    scaleX = _ref6$scaleX === void 0 ? 1 : _ref6$scaleX,\n    _ref6$scaleY = _ref6.scaleY,\n    scaleY = _ref6$scaleY === void 0 ? 1 : _ref6$scaleY;\n  var aspectRatio = _ref7.aspectRatio,\n    naturalWidth = _ref7.naturalWidth,\n    naturalHeight = _ref7.naturalHeight;\n  var _ref8$fillColor = _ref8.fillColor,\n    fillColor = _ref8$fillColor === void 0 ? 'transparent' : _ref8$fillColor,\n    _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled,\n    imageSmoothingEnabled = _ref8$imageSmoothingE === void 0 ? true : _ref8$imageSmoothingE,\n    _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality,\n    imageSmoothingQuality = _ref8$imageSmoothingQ === void 0 ? 'low' : _ref8$imageSmoothingQ,\n    _ref8$maxWidth = _ref8.maxWidth,\n    maxWidth = _ref8$maxWidth === void 0 ? Infinity : _ref8$maxWidth,\n    _ref8$maxHeight = _ref8.maxHeight,\n    maxHeight = _ref8$maxHeight === void 0 ? Infinity : _ref8$maxHeight,\n    _ref8$minWidth = _ref8.minWidth,\n    minWidth = _ref8$minWidth === void 0 ? 0 : _ref8$minWidth,\n    _ref8$minHeight = _ref8.minHeight,\n    minHeight = _ref8$minHeight === void 0 ? 0 : _ref8$minHeight;\n  var canvas = document.createElement('canvas');\n  var context = canvas.getContext('2d');\n  var maxSizes = getAdjustedSizes({\n    aspectRatio: aspectRatio,\n    width: maxWidth,\n    height: maxHeight\n  });\n  var minSizes = getAdjustedSizes({\n    aspectRatio: aspectRatio,\n    width: minWidth,\n    height: minHeight\n  }, 'cover');\n  var width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth));\n  var height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight));\n\n  // Note: should always use image's natural sizes for drawing as\n  // imageData.naturalWidth === canvasData.naturalHeight when rotate % 180 === 90\n  var destMaxSizes = getAdjustedSizes({\n    aspectRatio: imageAspectRatio,\n    width: maxWidth,\n    height: maxHeight\n  });\n  var destMinSizes = getAdjustedSizes({\n    aspectRatio: imageAspectRatio,\n    width: minWidth,\n    height: minHeight\n  }, 'cover');\n  var destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth));\n  var destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight));\n  var params = [-destWidth / 2, -destHeight / 2, destWidth, destHeight];\n  canvas.width = normalizeDecimalNumber(width);\n  canvas.height = normalizeDecimalNumber(height);\n  context.fillStyle = fillColor;\n  context.fillRect(0, 0, width, height);\n  context.save();\n  context.translate(width / 2, height / 2);\n  context.rotate(rotate * Math.PI / 180);\n  context.scale(scaleX, scaleY);\n  context.imageSmoothingEnabled = imageSmoothingEnabled;\n  context.imageSmoothingQuality = imageSmoothingQuality;\n  context.drawImage.apply(context, [image].concat(_toConsumableArray(params.map(function (param) {\n    return Math.floor(normalizeDecimalNumber(param));\n  }))));\n  context.restore();\n  return canvas;\n}\nvar fromCharCode = String.fromCharCode;\n\n/**\n * Get string from char code in data view.\n * @param {DataView} dataView - The data view for read.\n * @param {number} start - The start index.\n * @param {number} length - The read length.\n * @returns {string} The read result.\n */\nfunction getStringFromCharCode(dataView, start, length) {\n  var str = '';\n  length += start;\n  for (var i = start; i < length; i += 1) {\n    str += fromCharCode(dataView.getUint8(i));\n  }\n  return str;\n}\nvar REGEXP_DATA_URL_HEAD = /^data:.*,/;\n\n/**\n * Transform Data URL to array buffer.\n * @param {string} dataURL - The Data URL to transform.\n * @returns {ArrayBuffer} The result array buffer.\n */\nfunction dataURLToArrayBuffer(dataURL) {\n  var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, '');\n  var binary = atob(base64);\n  var arrayBuffer = new ArrayBuffer(binary.length);\n  var uint8 = new Uint8Array(arrayBuffer);\n  forEach(uint8, function (value, i) {\n    uint8[i] = binary.charCodeAt(i);\n  });\n  return arrayBuffer;\n}\n\n/**\n * Transform array buffer to Data URL.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n * @param {string} mimeType - The mime type of the Data URL.\n * @returns {string} The result Data URL.\n */\nfunction arrayBufferToDataURL(arrayBuffer, mimeType) {\n  var chunks = [];\n\n  // Chunk Typed Array for better performance (#435)\n  var chunkSize = 8192;\n  var uint8 = new Uint8Array(arrayBuffer);\n  while (uint8.length > 0) {\n    // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n    // eslint-disable-next-line prefer-spread\n    chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n    uint8 = uint8.subarray(chunkSize);\n  }\n  return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n}\n\n/**\n * Get orientation value from given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n * @returns {number} The read orientation value.\n */\nfunction resetAndGetOrientation(arrayBuffer) {\n  var dataView = new DataView(arrayBuffer);\n  var orientation;\n\n  // Ignores range error when the image does not have correct Exif information\n  try {\n    var littleEndian;\n    var app1Start;\n    var ifdStart;\n\n    // Only handle JPEG image (start by 0xFFD8)\n    if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n      var length = dataView.byteLength;\n      var offset = 2;\n      while (offset + 1 < length) {\n        if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n          app1Start = offset;\n          break;\n        }\n        offset += 1;\n      }\n    }\n    if (app1Start) {\n      var exifIDCode = app1Start + 4;\n      var tiffOffset = app1Start + 10;\n      if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n        var endianness = dataView.getUint16(tiffOffset);\n        littleEndian = endianness === 0x4949;\n        if (littleEndian || endianness === 0x4D4D /* bigEndian */) {\n          if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n            var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n            if (firstIFDOffset >= 0x00000008) {\n              ifdStart = tiffOffset + firstIFDOffset;\n            }\n          }\n        }\n      }\n    }\n    if (ifdStart) {\n      var _length = dataView.getUint16(ifdStart, littleEndian);\n      var _offset;\n      var i;\n      for (i = 0; i < _length; i += 1) {\n        _offset = ifdStart + i * 12 + 2;\n        if (dataView.getUint16(_offset, littleEndian) === 0x0112 /* Orientation */) {\n          // 8 is the offset of the current tag's value\n          _offset += 8;\n\n          // Get the original orientation value\n          orientation = dataView.getUint16(_offset, littleEndian);\n\n          // Override the orientation with its default value\n          dataView.setUint16(_offset, 1, littleEndian);\n          break;\n        }\n      }\n    }\n  } catch (error) {\n    orientation = 1;\n  }\n  return orientation;\n}\n\n/**\n * Parse Exif Orientation value.\n * @param {number} orientation - The orientation to parse.\n * @returns {Object} The parsed result.\n */\nfunction parseOrientation(orientation) {\n  var rotate = 0;\n  var scaleX = 1;\n  var scaleY = 1;\n  switch (orientation) {\n    // Flip horizontal\n    case 2:\n      scaleX = -1;\n      break;\n\n    // Rotate left 180°\n    case 3:\n      rotate = -180;\n      break;\n\n    // Flip vertical\n    case 4:\n      scaleY = -1;\n      break;\n\n    // Flip vertical and rotate right 90°\n    case 5:\n      rotate = 90;\n      scaleY = -1;\n      break;\n\n    // Rotate right 90°\n    case 6:\n      rotate = 90;\n      break;\n\n    // Flip horizontal and rotate right 90°\n    case 7:\n      rotate = 90;\n      scaleX = -1;\n      break;\n\n    // Rotate left 90°\n    case 8:\n      rotate = -90;\n      break;\n  }\n  return {\n    rotate: rotate,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n\nvar render = {\n  render: function render() {\n    this.initContainer();\n    this.initCanvas();\n    this.initCropBox();\n    this.renderCanvas();\n    if (this.cropped) {\n      this.renderCropBox();\n    }\n  },\n  initContainer: function initContainer() {\n    var element = this.element,\n      options = this.options,\n      container = this.container,\n      cropper = this.cropper;\n    var minWidth = Number(options.minContainerWidth);\n    var minHeight = Number(options.minContainerHeight);\n    addClass(cropper, CLASS_HIDDEN);\n    removeClass(element, CLASS_HIDDEN);\n    var containerData = {\n      width: Math.max(container.offsetWidth, minWidth >= 0 ? minWidth : MIN_CONTAINER_WIDTH),\n      height: Math.max(container.offsetHeight, minHeight >= 0 ? minHeight : MIN_CONTAINER_HEIGHT)\n    };\n    this.containerData = containerData;\n    setStyle(cropper, {\n      width: containerData.width,\n      height: containerData.height\n    });\n    addClass(element, CLASS_HIDDEN);\n    removeClass(cropper, CLASS_HIDDEN);\n  },\n  // Canvas (image wrapper)\n  initCanvas: function initCanvas() {\n    var containerData = this.containerData,\n      imageData = this.imageData;\n    var viewMode = this.options.viewMode;\n    var rotated = Math.abs(imageData.rotate) % 180 === 90;\n    var naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth;\n    var naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight;\n    var aspectRatio = naturalWidth / naturalHeight;\n    var canvasWidth = containerData.width;\n    var canvasHeight = containerData.height;\n    if (containerData.height * aspectRatio > containerData.width) {\n      if (viewMode === 3) {\n        canvasWidth = containerData.height * aspectRatio;\n      } else {\n        canvasHeight = containerData.width / aspectRatio;\n      }\n    } else if (viewMode === 3) {\n      canvasHeight = containerData.width / aspectRatio;\n    } else {\n      canvasWidth = containerData.height * aspectRatio;\n    }\n    var canvasData = {\n      aspectRatio: aspectRatio,\n      naturalWidth: naturalWidth,\n      naturalHeight: naturalHeight,\n      width: canvasWidth,\n      height: canvasHeight\n    };\n    this.canvasData = canvasData;\n    this.limited = viewMode === 1 || viewMode === 2;\n    this.limitCanvas(true, true);\n    canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n    canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n    canvasData.left = (containerData.width - canvasData.width) / 2;\n    canvasData.top = (containerData.height - canvasData.height) / 2;\n    canvasData.oldLeft = canvasData.left;\n    canvasData.oldTop = canvasData.top;\n    this.initialCanvasData = assign({}, canvasData);\n  },\n  limitCanvas: function limitCanvas(sizeLimited, positionLimited) {\n    var options = this.options,\n      containerData = this.containerData,\n      canvasData = this.canvasData,\n      cropBoxData = this.cropBoxData;\n    var viewMode = options.viewMode;\n    var aspectRatio = canvasData.aspectRatio;\n    var cropped = this.cropped && cropBoxData;\n    if (sizeLimited) {\n      var minCanvasWidth = Number(options.minCanvasWidth) || 0;\n      var minCanvasHeight = Number(options.minCanvasHeight) || 0;\n      if (viewMode > 1) {\n        minCanvasWidth = Math.max(minCanvasWidth, containerData.width);\n        minCanvasHeight = Math.max(minCanvasHeight, containerData.height);\n        if (viewMode === 3) {\n          if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n            minCanvasWidth = minCanvasHeight * aspectRatio;\n          } else {\n            minCanvasHeight = minCanvasWidth / aspectRatio;\n          }\n        }\n      } else if (viewMode > 0) {\n        if (minCanvasWidth) {\n          minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : 0);\n        } else if (minCanvasHeight) {\n          minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : 0);\n        } else if (cropped) {\n          minCanvasWidth = cropBoxData.width;\n          minCanvasHeight = cropBoxData.height;\n          if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n            minCanvasWidth = minCanvasHeight * aspectRatio;\n          } else {\n            minCanvasHeight = minCanvasWidth / aspectRatio;\n          }\n        }\n      }\n      var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: minCanvasWidth,\n        height: minCanvasHeight\n      });\n      minCanvasWidth = _getAdjustedSizes.width;\n      minCanvasHeight = _getAdjustedSizes.height;\n      canvasData.minWidth = minCanvasWidth;\n      canvasData.minHeight = minCanvasHeight;\n      canvasData.maxWidth = Infinity;\n      canvasData.maxHeight = Infinity;\n    }\n    if (positionLimited) {\n      if (viewMode > (cropped ? 0 : 1)) {\n        var newCanvasLeft = containerData.width - canvasData.width;\n        var newCanvasTop = containerData.height - canvasData.height;\n        canvasData.minLeft = Math.min(0, newCanvasLeft);\n        canvasData.minTop = Math.min(0, newCanvasTop);\n        canvasData.maxLeft = Math.max(0, newCanvasLeft);\n        canvasData.maxTop = Math.max(0, newCanvasTop);\n        if (cropped && this.limited) {\n          canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width));\n          canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height));\n          canvasData.maxLeft = cropBoxData.left;\n          canvasData.maxTop = cropBoxData.top;\n          if (viewMode === 2) {\n            if (canvasData.width >= containerData.width) {\n              canvasData.minLeft = Math.min(0, newCanvasLeft);\n              canvasData.maxLeft = Math.max(0, newCanvasLeft);\n            }\n            if (canvasData.height >= containerData.height) {\n              canvasData.minTop = Math.min(0, newCanvasTop);\n              canvasData.maxTop = Math.max(0, newCanvasTop);\n            }\n          }\n        }\n      } else {\n        canvasData.minLeft = -canvasData.width;\n        canvasData.minTop = -canvasData.height;\n        canvasData.maxLeft = containerData.width;\n        canvasData.maxTop = containerData.height;\n      }\n    }\n  },\n  renderCanvas: function renderCanvas(changed, transformed) {\n    var canvasData = this.canvasData,\n      imageData = this.imageData;\n    if (transformed) {\n      var _getRotatedSizes = getRotatedSizes({\n          width: imageData.naturalWidth * Math.abs(imageData.scaleX || 1),\n          height: imageData.naturalHeight * Math.abs(imageData.scaleY || 1),\n          degree: imageData.rotate || 0\n        }),\n        naturalWidth = _getRotatedSizes.width,\n        naturalHeight = _getRotatedSizes.height;\n      var width = canvasData.width * (naturalWidth / canvasData.naturalWidth);\n      var height = canvasData.height * (naturalHeight / canvasData.naturalHeight);\n      canvasData.left -= (width - canvasData.width) / 2;\n      canvasData.top -= (height - canvasData.height) / 2;\n      canvasData.width = width;\n      canvasData.height = height;\n      canvasData.aspectRatio = naturalWidth / naturalHeight;\n      canvasData.naturalWidth = naturalWidth;\n      canvasData.naturalHeight = naturalHeight;\n      this.limitCanvas(true, false);\n    }\n    if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) {\n      canvasData.left = canvasData.oldLeft;\n    }\n    if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) {\n      canvasData.top = canvasData.oldTop;\n    }\n    canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n    canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n    this.limitCanvas(false, true);\n    canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft);\n    canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop);\n    canvasData.oldLeft = canvasData.left;\n    canvasData.oldTop = canvasData.top;\n    setStyle(this.canvas, assign({\n      width: canvasData.width,\n      height: canvasData.height\n    }, getTransforms({\n      translateX: canvasData.left,\n      translateY: canvasData.top\n    })));\n    this.renderImage(changed);\n    if (this.cropped && this.limited) {\n      this.limitCropBox(true, true);\n    }\n  },\n  renderImage: function renderImage(changed) {\n    var canvasData = this.canvasData,\n      imageData = this.imageData;\n    var width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth);\n    var height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight);\n    assign(imageData, {\n      width: width,\n      height: height,\n      left: (canvasData.width - width) / 2,\n      top: (canvasData.height - height) / 2\n    });\n    setStyle(this.image, assign({\n      width: imageData.width,\n      height: imageData.height\n    }, getTransforms(assign({\n      translateX: imageData.left,\n      translateY: imageData.top\n    }, imageData))));\n    if (changed) {\n      this.output();\n    }\n  },\n  initCropBox: function initCropBox() {\n    var options = this.options,\n      canvasData = this.canvasData;\n    var aspectRatio = options.aspectRatio || options.initialAspectRatio;\n    var autoCropArea = Number(options.autoCropArea) || 0.8;\n    var cropBoxData = {\n      width: canvasData.width,\n      height: canvasData.height\n    };\n    if (aspectRatio) {\n      if (canvasData.height * aspectRatio > canvasData.width) {\n        cropBoxData.height = cropBoxData.width / aspectRatio;\n      } else {\n        cropBoxData.width = cropBoxData.height * aspectRatio;\n      }\n    }\n    this.cropBoxData = cropBoxData;\n    this.limitCropBox(true, true);\n\n    // Initialize auto crop area\n    cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n    cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n\n    // The width/height of auto crop area must large than \"minWidth/Height\"\n    cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea);\n    cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea);\n    cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / 2;\n    cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / 2;\n    cropBoxData.oldLeft = cropBoxData.left;\n    cropBoxData.oldTop = cropBoxData.top;\n    this.initialCropBoxData = assign({}, cropBoxData);\n  },\n  limitCropBox: function limitCropBox(sizeLimited, positionLimited) {\n    var options = this.options,\n      containerData = this.containerData,\n      canvasData = this.canvasData,\n      cropBoxData = this.cropBoxData,\n      limited = this.limited;\n    var aspectRatio = options.aspectRatio;\n    if (sizeLimited) {\n      var minCropBoxWidth = Number(options.minCropBoxWidth) || 0;\n      var minCropBoxHeight = Number(options.minCropBoxHeight) || 0;\n      var maxCropBoxWidth = limited ? Math.min(containerData.width, canvasData.width, canvasData.width + canvasData.left, containerData.width - canvasData.left) : containerData.width;\n      var maxCropBoxHeight = limited ? Math.min(containerData.height, canvasData.height, canvasData.height + canvasData.top, containerData.height - canvasData.top) : containerData.height;\n\n      // The min/maxCropBoxWidth/Height must be less than container's width/height\n      minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width);\n      minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height);\n      if (aspectRatio) {\n        if (minCropBoxWidth && minCropBoxHeight) {\n          if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {\n            minCropBoxHeight = minCropBoxWidth / aspectRatio;\n          } else {\n            minCropBoxWidth = minCropBoxHeight * aspectRatio;\n          }\n        } else if (minCropBoxWidth) {\n          minCropBoxHeight = minCropBoxWidth / aspectRatio;\n        } else if (minCropBoxHeight) {\n          minCropBoxWidth = minCropBoxHeight * aspectRatio;\n        }\n        if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {\n          maxCropBoxHeight = maxCropBoxWidth / aspectRatio;\n        } else {\n          maxCropBoxWidth = maxCropBoxHeight * aspectRatio;\n        }\n      }\n\n      // The minWidth/Height must be less than maxWidth/Height\n      cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth);\n      cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight);\n      cropBoxData.maxWidth = maxCropBoxWidth;\n      cropBoxData.maxHeight = maxCropBoxHeight;\n    }\n    if (positionLimited) {\n      if (limited) {\n        cropBoxData.minLeft = Math.max(0, canvasData.left);\n        cropBoxData.minTop = Math.max(0, canvasData.top);\n        cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width;\n        cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height;\n      } else {\n        cropBoxData.minLeft = 0;\n        cropBoxData.minTop = 0;\n        cropBoxData.maxLeft = containerData.width - cropBoxData.width;\n        cropBoxData.maxTop = containerData.height - cropBoxData.height;\n      }\n    }\n  },\n  renderCropBox: function renderCropBox() {\n    var options = this.options,\n      containerData = this.containerData,\n      cropBoxData = this.cropBoxData;\n    if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) {\n      cropBoxData.left = cropBoxData.oldLeft;\n    }\n    if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) {\n      cropBoxData.top = cropBoxData.oldTop;\n    }\n    cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n    cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n    this.limitCropBox(false, true);\n    cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft);\n    cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop);\n    cropBoxData.oldLeft = cropBoxData.left;\n    cropBoxData.oldTop = cropBoxData.top;\n    if (options.movable && options.cropBoxMovable) {\n      // Turn to move the canvas when the crop box is equal to the container\n      setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL);\n    }\n    setStyle(this.cropBox, assign({\n      width: cropBoxData.width,\n      height: cropBoxData.height\n    }, getTransforms({\n      translateX: cropBoxData.left,\n      translateY: cropBoxData.top\n    })));\n    if (this.cropped && this.limited) {\n      this.limitCanvas(true, true);\n    }\n    if (!this.disabled) {\n      this.output();\n    }\n  },\n  output: function output() {\n    this.preview();\n    dispatchEvent(this.element, EVENT_CROP, this.getData());\n  }\n};\n\nvar preview = {\n  initPreview: function initPreview() {\n    var element = this.element,\n      crossOrigin = this.crossOrigin;\n    var preview = this.options.preview;\n    var url = crossOrigin ? this.crossOriginUrl : this.url;\n    var alt = element.alt || 'The image to preview';\n    var image = document.createElement('img');\n    if (crossOrigin) {\n      image.crossOrigin = crossOrigin;\n    }\n    image.src = url;\n    image.alt = alt;\n    this.viewBox.appendChild(image);\n    this.viewBoxImage = image;\n    if (!preview) {\n      return;\n    }\n    var previews = preview;\n    if (typeof preview === 'string') {\n      previews = element.ownerDocument.querySelectorAll(preview);\n    } else if (preview.querySelector) {\n      previews = [preview];\n    }\n    this.previews = previews;\n    forEach(previews, function (el) {\n      var img = document.createElement('img');\n\n      // Save the original size for recover\n      setData(el, DATA_PREVIEW, {\n        width: el.offsetWidth,\n        height: el.offsetHeight,\n        html: el.innerHTML\n      });\n      if (crossOrigin) {\n        img.crossOrigin = crossOrigin;\n      }\n      img.src = url;\n      img.alt = alt;\n\n      /**\n       * Override img element styles\n       * Add `display:block` to avoid margin top issue\n       * Add `height:auto` to override `height` attribute on IE8\n       * (Occur only when margin-top <= -height)\n       */\n      img.style.cssText = 'display:block;' + 'width:100%;' + 'height:auto;' + 'min-width:0!important;' + 'min-height:0!important;' + 'max-width:none!important;' + 'max-height:none!important;' + 'image-orientation:0deg!important;\"';\n      el.innerHTML = '';\n      el.appendChild(img);\n    });\n  },\n  resetPreview: function resetPreview() {\n    forEach(this.previews, function (element) {\n      var data = getData(element, DATA_PREVIEW);\n      setStyle(element, {\n        width: data.width,\n        height: data.height\n      });\n      element.innerHTML = data.html;\n      removeData(element, DATA_PREVIEW);\n    });\n  },\n  preview: function preview() {\n    var imageData = this.imageData,\n      canvasData = this.canvasData,\n      cropBoxData = this.cropBoxData;\n    var cropBoxWidth = cropBoxData.width,\n      cropBoxHeight = cropBoxData.height;\n    var width = imageData.width,\n      height = imageData.height;\n    var left = cropBoxData.left - canvasData.left - imageData.left;\n    var top = cropBoxData.top - canvasData.top - imageData.top;\n    if (!this.cropped || this.disabled) {\n      return;\n    }\n    setStyle(this.viewBoxImage, assign({\n      width: width,\n      height: height\n    }, getTransforms(assign({\n      translateX: -left,\n      translateY: -top\n    }, imageData))));\n    forEach(this.previews, function (element) {\n      var data = getData(element, DATA_PREVIEW);\n      var originalWidth = data.width;\n      var originalHeight = data.height;\n      var newWidth = originalWidth;\n      var newHeight = originalHeight;\n      var ratio = 1;\n      if (cropBoxWidth) {\n        ratio = originalWidth / cropBoxWidth;\n        newHeight = cropBoxHeight * ratio;\n      }\n      if (cropBoxHeight && newHeight > originalHeight) {\n        ratio = originalHeight / cropBoxHeight;\n        newWidth = cropBoxWidth * ratio;\n        newHeight = originalHeight;\n      }\n      setStyle(element, {\n        width: newWidth,\n        height: newHeight\n      });\n      setStyle(element.getElementsByTagName('img')[0], assign({\n        width: width * ratio,\n        height: height * ratio\n      }, getTransforms(assign({\n        translateX: -left * ratio,\n        translateY: -top * ratio\n      }, imageData))));\n    });\n  }\n};\n\nvar events = {\n  bind: function bind() {\n    var element = this.element,\n      options = this.options,\n      cropper = this.cropper;\n    if (isFunction(options.cropstart)) {\n      addListener(element, EVENT_CROP_START, options.cropstart);\n    }\n    if (isFunction(options.cropmove)) {\n      addListener(element, EVENT_CROP_MOVE, options.cropmove);\n    }\n    if (isFunction(options.cropend)) {\n      addListener(element, EVENT_CROP_END, options.cropend);\n    }\n    if (isFunction(options.crop)) {\n      addListener(element, EVENT_CROP, options.crop);\n    }\n    if (isFunction(options.zoom)) {\n      addListener(element, EVENT_ZOOM, options.zoom);\n    }\n    addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this));\n    if (options.zoomable && options.zoomOnWheel) {\n      addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n        passive: false,\n        capture: true\n      });\n    }\n    if (options.toggleDragModeOnDblclick) {\n      addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n    }\n    addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this));\n    addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this));\n    if (options.responsive) {\n      addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n    }\n  },\n  unbind: function unbind() {\n    var element = this.element,\n      options = this.options,\n      cropper = this.cropper;\n    if (isFunction(options.cropstart)) {\n      removeListener(element, EVENT_CROP_START, options.cropstart);\n    }\n    if (isFunction(options.cropmove)) {\n      removeListener(element, EVENT_CROP_MOVE, options.cropmove);\n    }\n    if (isFunction(options.cropend)) {\n      removeListener(element, EVENT_CROP_END, options.cropend);\n    }\n    if (isFunction(options.crop)) {\n      removeListener(element, EVENT_CROP, options.crop);\n    }\n    if (isFunction(options.zoom)) {\n      removeListener(element, EVENT_ZOOM, options.zoom);\n    }\n    removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart);\n    if (options.zoomable && options.zoomOnWheel) {\n      removeListener(cropper, EVENT_WHEEL, this.onWheel, {\n        passive: false,\n        capture: true\n      });\n    }\n    if (options.toggleDragModeOnDblclick) {\n      removeListener(cropper, EVENT_DBLCLICK, this.onDblclick);\n    }\n    removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove);\n    removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd);\n    if (options.responsive) {\n      removeListener(window, EVENT_RESIZE, this.onResize);\n    }\n  }\n};\n\nvar handlers = {\n  resize: function resize() {\n    if (this.disabled) {\n      return;\n    }\n    var options = this.options,\n      container = this.container,\n      containerData = this.containerData;\n    var ratioX = container.offsetWidth / containerData.width;\n    var ratioY = container.offsetHeight / containerData.height;\n    var ratio = Math.abs(ratioX - 1) > Math.abs(ratioY - 1) ? ratioX : ratioY;\n\n    // Resize when width changed or height changed\n    if (ratio !== 1) {\n      var canvasData;\n      var cropBoxData;\n      if (options.restore) {\n        canvasData = this.getCanvasData();\n        cropBoxData = this.getCropBoxData();\n      }\n      this.render();\n      if (options.restore) {\n        this.setCanvasData(forEach(canvasData, function (n, i) {\n          canvasData[i] = n * ratio;\n        }));\n        this.setCropBoxData(forEach(cropBoxData, function (n, i) {\n          cropBoxData[i] = n * ratio;\n        }));\n      }\n    }\n  },\n  dblclick: function dblclick() {\n    if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) {\n      return;\n    }\n    this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP);\n  },\n  wheel: function wheel(event) {\n    var _this = this;\n    var ratio = Number(this.options.wheelZoomRatio) || 0.1;\n    var delta = 1;\n    if (this.disabled) {\n      return;\n    }\n    event.preventDefault();\n\n    // Limit wheel speed to prevent zoom too fast (#21)\n    if (this.wheeling) {\n      return;\n    }\n    this.wheeling = true;\n    setTimeout(function () {\n      _this.wheeling = false;\n    }, 50);\n    if (event.deltaY) {\n      delta = event.deltaY > 0 ? 1 : -1;\n    } else if (event.wheelDelta) {\n      delta = -event.wheelDelta / 120;\n    } else if (event.detail) {\n      delta = event.detail > 0 ? 1 : -1;\n    }\n    this.zoom(-delta * ratio, event);\n  },\n  cropStart: function cropStart(event) {\n    var buttons = event.buttons,\n      button = event.button;\n    if (this.disabled\n\n    // Handle mouse event and pointer event and ignore touch event\n    || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && (\n    // No primary button (Usually the left button)\n    isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0\n\n    // Open context menu\n    || event.ctrlKey)) {\n      return;\n    }\n    var options = this.options,\n      pointers = this.pointers;\n    var action;\n    if (event.changedTouches) {\n      // Handle touch event\n      forEach(event.changedTouches, function (touch) {\n        pointers[touch.identifier] = getPointer(touch);\n      });\n    } else {\n      // Handle mouse event and pointer event\n      pointers[event.pointerId || 0] = getPointer(event);\n    }\n    if (Object.keys(pointers).length > 1 && options.zoomable && options.zoomOnTouch) {\n      action = ACTION_ZOOM;\n    } else {\n      action = getData(event.target, DATA_ACTION);\n    }\n    if (!REGEXP_ACTIONS.test(action)) {\n      return;\n    }\n    if (dispatchEvent(this.element, EVENT_CROP_START, {\n      originalEvent: event,\n      action: action\n    }) === false) {\n      return;\n    }\n\n    // This line is required for preventing page zooming in iOS browsers\n    event.preventDefault();\n    this.action = action;\n    this.cropping = false;\n    if (action === ACTION_CROP) {\n      this.cropping = true;\n      addClass(this.dragBox, CLASS_MODAL);\n    }\n  },\n  cropMove: function cropMove(event) {\n    var action = this.action;\n    if (this.disabled || !action) {\n      return;\n    }\n    var pointers = this.pointers;\n    event.preventDefault();\n    if (dispatchEvent(this.element, EVENT_CROP_MOVE, {\n      originalEvent: event,\n      action: action\n    }) === false) {\n      return;\n    }\n    if (event.changedTouches) {\n      forEach(event.changedTouches, function (touch) {\n        // The first parameter should not be undefined (#432)\n        assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n      });\n    } else {\n      assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n    }\n    this.change(event);\n  },\n  cropEnd: function cropEnd(event) {\n    if (this.disabled) {\n      return;\n    }\n    var action = this.action,\n      pointers = this.pointers;\n    if (event.changedTouches) {\n      forEach(event.changedTouches, function (touch) {\n        delete pointers[touch.identifier];\n      });\n    } else {\n      delete pointers[event.pointerId || 0];\n    }\n    if (!action) {\n      return;\n    }\n    event.preventDefault();\n    if (!Object.keys(pointers).length) {\n      this.action = '';\n    }\n    if (this.cropping) {\n      this.cropping = false;\n      toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal);\n    }\n    dispatchEvent(this.element, EVENT_CROP_END, {\n      originalEvent: event,\n      action: action\n    });\n  }\n};\n\nvar change = {\n  change: function change(event) {\n    var options = this.options,\n      canvasData = this.canvasData,\n      containerData = this.containerData,\n      cropBoxData = this.cropBoxData,\n      pointers = this.pointers;\n    var action = this.action;\n    var aspectRatio = options.aspectRatio;\n    var left = cropBoxData.left,\n      top = cropBoxData.top,\n      width = cropBoxData.width,\n      height = cropBoxData.height;\n    var right = left + width;\n    var bottom = top + height;\n    var minLeft = 0;\n    var minTop = 0;\n    var maxWidth = containerData.width;\n    var maxHeight = containerData.height;\n    var renderable = true;\n    var offset;\n\n    // Locking aspect ratio in \"free mode\" by holding shift key\n    if (!aspectRatio && event.shiftKey) {\n      aspectRatio = width && height ? width / height : 1;\n    }\n    if (this.limited) {\n      minLeft = cropBoxData.minLeft;\n      minTop = cropBoxData.minTop;\n      maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width);\n      maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height);\n    }\n    var pointer = pointers[Object.keys(pointers)[0]];\n    var range = {\n      x: pointer.endX - pointer.startX,\n      y: pointer.endY - pointer.startY\n    };\n    var check = function check(side) {\n      switch (side) {\n        case ACTION_EAST:\n          if (right + range.x > maxWidth) {\n            range.x = maxWidth - right;\n          }\n          break;\n        case ACTION_WEST:\n          if (left + range.x < minLeft) {\n            range.x = minLeft - left;\n          }\n          break;\n        case ACTION_NORTH:\n          if (top + range.y < minTop) {\n            range.y = minTop - top;\n          }\n          break;\n        case ACTION_SOUTH:\n          if (bottom + range.y > maxHeight) {\n            range.y = maxHeight - bottom;\n          }\n          break;\n      }\n    };\n    switch (action) {\n      // Move crop box\n      case ACTION_ALL:\n        left += range.x;\n        top += range.y;\n        break;\n\n      // Resize crop box\n      case ACTION_EAST:\n        if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n          renderable = false;\n          break;\n        }\n        check(ACTION_EAST);\n        width += range.x;\n        if (width < 0) {\n          action = ACTION_WEST;\n          width = -width;\n          left -= width;\n        }\n        if (aspectRatio) {\n          height = width / aspectRatio;\n          top += (cropBoxData.height - height) / 2;\n        }\n        break;\n      case ACTION_NORTH:\n        if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n          renderable = false;\n          break;\n        }\n        check(ACTION_NORTH);\n        height -= range.y;\n        top += range.y;\n        if (height < 0) {\n          action = ACTION_SOUTH;\n          height = -height;\n          top -= height;\n        }\n        if (aspectRatio) {\n          width = height * aspectRatio;\n          left += (cropBoxData.width - width) / 2;\n        }\n        break;\n      case ACTION_WEST:\n        if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n          renderable = false;\n          break;\n        }\n        check(ACTION_WEST);\n        width -= range.x;\n        left += range.x;\n        if (width < 0) {\n          action = ACTION_EAST;\n          width = -width;\n          left -= width;\n        }\n        if (aspectRatio) {\n          height = width / aspectRatio;\n          top += (cropBoxData.height - height) / 2;\n        }\n        break;\n      case ACTION_SOUTH:\n        if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n          renderable = false;\n          break;\n        }\n        check(ACTION_SOUTH);\n        height += range.y;\n        if (height < 0) {\n          action = ACTION_NORTH;\n          height = -height;\n          top -= height;\n        }\n        if (aspectRatio) {\n          width = height * aspectRatio;\n          left += (cropBoxData.width - width) / 2;\n        }\n        break;\n      case ACTION_NORTH_EAST:\n        if (aspectRatio) {\n          if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {\n            renderable = false;\n            break;\n          }\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n          width = height * aspectRatio;\n        } else {\n          check(ACTION_NORTH);\n          check(ACTION_EAST);\n          if (range.x >= 0) {\n            if (right < maxWidth) {\n              width += range.x;\n            } else if (range.y <= 0 && top <= minTop) {\n              renderable = false;\n            }\n          } else {\n            width += range.x;\n          }\n          if (range.y <= 0) {\n            if (top > minTop) {\n              height -= range.y;\n              top += range.y;\n            }\n          } else {\n            height -= range.y;\n            top += range.y;\n          }\n        }\n        if (width < 0 && height < 0) {\n          action = ACTION_SOUTH_WEST;\n          height = -height;\n          width = -width;\n          top -= height;\n          left -= width;\n        } else if (width < 0) {\n          action = ACTION_NORTH_WEST;\n          width = -width;\n          left -= width;\n        } else if (height < 0) {\n          action = ACTION_SOUTH_EAST;\n          height = -height;\n          top -= height;\n        }\n        break;\n      case ACTION_NORTH_WEST:\n        if (aspectRatio) {\n          if (range.y <= 0 && (top <= minTop || left <= minLeft)) {\n            renderable = false;\n            break;\n          }\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n          width = height * aspectRatio;\n          left += cropBoxData.width - width;\n        } else {\n          check(ACTION_NORTH);\n          check(ACTION_WEST);\n          if (range.x <= 0) {\n            if (left > minLeft) {\n              width -= range.x;\n              left += range.x;\n            } else if (range.y <= 0 && top <= minTop) {\n              renderable = false;\n            }\n          } else {\n            width -= range.x;\n            left += range.x;\n          }\n          if (range.y <= 0) {\n            if (top > minTop) {\n              height -= range.y;\n              top += range.y;\n            }\n          } else {\n            height -= range.y;\n            top += range.y;\n          }\n        }\n        if (width < 0 && height < 0) {\n          action = ACTION_SOUTH_EAST;\n          height = -height;\n          width = -width;\n          top -= height;\n          left -= width;\n        } else if (width < 0) {\n          action = ACTION_NORTH_EAST;\n          width = -width;\n          left -= width;\n        } else if (height < 0) {\n          action = ACTION_SOUTH_WEST;\n          height = -height;\n          top -= height;\n        }\n        break;\n      case ACTION_SOUTH_WEST:\n        if (aspectRatio) {\n          if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {\n            renderable = false;\n            break;\n          }\n          check(ACTION_WEST);\n          width -= range.x;\n          left += range.x;\n          height = width / aspectRatio;\n        } else {\n          check(ACTION_SOUTH);\n          check(ACTION_WEST);\n          if (range.x <= 0) {\n            if (left > minLeft) {\n              width -= range.x;\n              left += range.x;\n            } else if (range.y >= 0 && bottom >= maxHeight) {\n              renderable = false;\n            }\n          } else {\n            width -= range.x;\n            left += range.x;\n          }\n          if (range.y >= 0) {\n            if (bottom < maxHeight) {\n              height += range.y;\n            }\n          } else {\n            height += range.y;\n          }\n        }\n        if (width < 0 && height < 0) {\n          action = ACTION_NORTH_EAST;\n          height = -height;\n          width = -width;\n          top -= height;\n          left -= width;\n        } else if (width < 0) {\n          action = ACTION_SOUTH_EAST;\n          width = -width;\n          left -= width;\n        } else if (height < 0) {\n          action = ACTION_NORTH_WEST;\n          height = -height;\n          top -= height;\n        }\n        break;\n      case ACTION_SOUTH_EAST:\n        if (aspectRatio) {\n          if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {\n            renderable = false;\n            break;\n          }\n          check(ACTION_EAST);\n          width += range.x;\n          height = width / aspectRatio;\n        } else {\n          check(ACTION_SOUTH);\n          check(ACTION_EAST);\n          if (range.x >= 0) {\n            if (right < maxWidth) {\n              width += range.x;\n            } else if (range.y >= 0 && bottom >= maxHeight) {\n              renderable = false;\n            }\n          } else {\n            width += range.x;\n          }\n          if (range.y >= 0) {\n            if (bottom < maxHeight) {\n              height += range.y;\n            }\n          } else {\n            height += range.y;\n          }\n        }\n        if (width < 0 && height < 0) {\n          action = ACTION_NORTH_WEST;\n          height = -height;\n          width = -width;\n          top -= height;\n          left -= width;\n        } else if (width < 0) {\n          action = ACTION_SOUTH_WEST;\n          width = -width;\n          left -= width;\n        } else if (height < 0) {\n          action = ACTION_NORTH_EAST;\n          height = -height;\n          top -= height;\n        }\n        break;\n\n      // Move canvas\n      case ACTION_MOVE:\n        this.move(range.x, range.y);\n        renderable = false;\n        break;\n\n      // Zoom canvas\n      case ACTION_ZOOM:\n        this.zoom(getMaxZoomRatio(pointers), event);\n        renderable = false;\n        break;\n\n      // Create crop box\n      case ACTION_CROP:\n        if (!range.x || !range.y) {\n          renderable = false;\n          break;\n        }\n        offset = getOffset(this.cropper);\n        left = pointer.startX - offset.left;\n        top = pointer.startY - offset.top;\n        width = cropBoxData.minWidth;\n        height = cropBoxData.minHeight;\n        if (range.x > 0) {\n          action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;\n        } else if (range.x < 0) {\n          left -= width;\n          action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;\n        }\n        if (range.y < 0) {\n          top -= height;\n        }\n\n        // Show the crop box if is hidden\n        if (!this.cropped) {\n          removeClass(this.cropBox, CLASS_HIDDEN);\n          this.cropped = true;\n          if (this.limited) {\n            this.limitCropBox(true, true);\n          }\n        }\n        break;\n    }\n    if (renderable) {\n      cropBoxData.width = width;\n      cropBoxData.height = height;\n      cropBoxData.left = left;\n      cropBoxData.top = top;\n      this.action = action;\n      this.renderCropBox();\n    }\n\n    // Override\n    forEach(pointers, function (p) {\n      p.startX = p.endX;\n      p.startY = p.endY;\n    });\n  }\n};\n\nvar methods = {\n  // Show the crop box manually\n  crop: function crop() {\n    if (this.ready && !this.cropped && !this.disabled) {\n      this.cropped = true;\n      this.limitCropBox(true, true);\n      if (this.options.modal) {\n        addClass(this.dragBox, CLASS_MODAL);\n      }\n      removeClass(this.cropBox, CLASS_HIDDEN);\n      this.setCropBoxData(this.initialCropBoxData);\n    }\n    return this;\n  },\n  // Reset the image and crop box to their initial states\n  reset: function reset() {\n    if (this.ready && !this.disabled) {\n      this.imageData = assign({}, this.initialImageData);\n      this.canvasData = assign({}, this.initialCanvasData);\n      this.cropBoxData = assign({}, this.initialCropBoxData);\n      this.renderCanvas();\n      if (this.cropped) {\n        this.renderCropBox();\n      }\n    }\n    return this;\n  },\n  // Clear the crop box\n  clear: function clear() {\n    if (this.cropped && !this.disabled) {\n      assign(this.cropBoxData, {\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0\n      });\n      this.cropped = false;\n      this.renderCropBox();\n      this.limitCanvas(true, true);\n\n      // Render canvas after crop box rendered\n      this.renderCanvas();\n      removeClass(this.dragBox, CLASS_MODAL);\n      addClass(this.cropBox, CLASS_HIDDEN);\n    }\n    return this;\n  },\n  /**\n   * Replace the image's src and rebuild the cropper\n   * @param {string} url - The new URL.\n   * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.\n   * @returns {Cropper} this\n   */\n  replace: function replace(url) {\n    var hasSameSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (!this.disabled && url) {\n      if (this.isImg) {\n        this.element.src = url;\n      }\n      if (hasSameSize) {\n        this.url = url;\n        this.image.src = url;\n        if (this.ready) {\n          this.viewBoxImage.src = url;\n          forEach(this.previews, function (element) {\n            element.getElementsByTagName('img')[0].src = url;\n          });\n        }\n      } else {\n        if (this.isImg) {\n          this.replaced = true;\n        }\n        this.options.data = null;\n        this.uncreate();\n        this.load(url);\n      }\n    }\n    return this;\n  },\n  // Enable (unfreeze) the cropper\n  enable: function enable() {\n    if (this.ready && this.disabled) {\n      this.disabled = false;\n      removeClass(this.cropper, CLASS_DISABLED);\n    }\n    return this;\n  },\n  // Disable (freeze) the cropper\n  disable: function disable() {\n    if (this.ready && !this.disabled) {\n      this.disabled = true;\n      addClass(this.cropper, CLASS_DISABLED);\n    }\n    return this;\n  },\n  /**\n   * Destroy the cropper and remove the instance from the image\n   * @returns {Cropper} this\n   */\n  destroy: function destroy() {\n    var element = this.element;\n    if (!element[NAMESPACE]) {\n      return this;\n    }\n    element[NAMESPACE] = undefined;\n    if (this.isImg && this.replaced) {\n      element.src = this.originalUrl;\n    }\n    this.uncreate();\n    return this;\n  },\n  /**\n   * Move the canvas with relative offsets\n   * @param {number} offsetX - The relative offset distance on the x-axis.\n   * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.\n   * @returns {Cropper} this\n   */\n  move: function move(offsetX) {\n    var offsetY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : offsetX;\n    var _this$canvasData = this.canvasData,\n      left = _this$canvasData.left,\n      top = _this$canvasData.top;\n    return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY));\n  },\n  /**\n   * Move the canvas to an absolute point\n   * @param {number} x - The x-axis coordinate.\n   * @param {number} [y=x] - The y-axis coordinate.\n   * @returns {Cropper} this\n   */\n  moveTo: function moveTo(x) {\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n    var canvasData = this.canvasData;\n    var changed = false;\n    x = Number(x);\n    y = Number(y);\n    if (this.ready && !this.disabled && this.options.movable) {\n      if (isNumber(x)) {\n        canvasData.left = x;\n        changed = true;\n      }\n      if (isNumber(y)) {\n        canvasData.top = y;\n        changed = true;\n      }\n      if (changed) {\n        this.renderCanvas(true);\n      }\n    }\n    return this;\n  },\n  /**\n   * Zoom the canvas with a relative ratio\n   * @param {number} ratio - The target ratio.\n   * @param {Event} _originalEvent - The original event if any.\n   * @returns {Cropper} this\n   */\n  zoom: function zoom(ratio, _originalEvent) {\n    var canvasData = this.canvasData;\n    ratio = Number(ratio);\n    if (ratio < 0) {\n      ratio = 1 / (1 - ratio);\n    } else {\n      ratio = 1 + ratio;\n    }\n    return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, null, _originalEvent);\n  },\n  /**\n   * Zoom the canvas to an absolute ratio\n   * @param {number} ratio - The target ratio.\n   * @param {Object} pivot - The zoom pivot point coordinate.\n   * @param {Event} _originalEvent - The original event if any.\n   * @returns {Cropper} this\n   */\n  zoomTo: function zoomTo(ratio, pivot, _originalEvent) {\n    var options = this.options,\n      canvasData = this.canvasData;\n    var width = canvasData.width,\n      height = canvasData.height,\n      naturalWidth = canvasData.naturalWidth,\n      naturalHeight = canvasData.naturalHeight;\n    ratio = Number(ratio);\n    if (ratio >= 0 && this.ready && !this.disabled && options.zoomable) {\n      var newWidth = naturalWidth * ratio;\n      var newHeight = naturalHeight * ratio;\n      if (dispatchEvent(this.element, EVENT_ZOOM, {\n        ratio: ratio,\n        oldRatio: width / naturalWidth,\n        originalEvent: _originalEvent\n      }) === false) {\n        return this;\n      }\n      if (_originalEvent) {\n        var pointers = this.pointers;\n        var offset = getOffset(this.cropper);\n        var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {\n          pageX: _originalEvent.pageX,\n          pageY: _originalEvent.pageY\n        };\n\n        // Zoom from the triggering point of the event\n        canvasData.left -= (newWidth - width) * ((center.pageX - offset.left - canvasData.left) / width);\n        canvasData.top -= (newHeight - height) * ((center.pageY - offset.top - canvasData.top) / height);\n      } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n        canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width);\n        canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height);\n      } else {\n        // Zoom from the center of the canvas\n        canvasData.left -= (newWidth - width) / 2;\n        canvasData.top -= (newHeight - height) / 2;\n      }\n      canvasData.width = newWidth;\n      canvasData.height = newHeight;\n      this.renderCanvas(true);\n    }\n    return this;\n  },\n  /**\n   * Rotate the canvas with a relative degree\n   * @param {number} degree - The rotate degree.\n   * @returns {Cropper} this\n   */\n  rotate: function rotate(degree) {\n    return this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n  },\n  /**\n   * Rotate the canvas to an absolute degree\n   * @param {number} degree - The rotate degree.\n   * @returns {Cropper} this\n   */\n  rotateTo: function rotateTo(degree) {\n    degree = Number(degree);\n    if (isNumber(degree) && this.ready && !this.disabled && this.options.rotatable) {\n      this.imageData.rotate = degree % 360;\n      this.renderCanvas(true, true);\n    }\n    return this;\n  },\n  /**\n   * Scale the image on the x-axis.\n   * @param {number} scaleX - The scale ratio on the x-axis.\n   * @returns {Cropper} this\n   */\n  scaleX: function scaleX(_scaleX) {\n    var scaleY = this.imageData.scaleY;\n    return this.scale(_scaleX, isNumber(scaleY) ? scaleY : 1);\n  },\n  /**\n   * Scale the image on the y-axis.\n   * @param {number} scaleY - The scale ratio on the y-axis.\n   * @returns {Cropper} this\n   */\n  scaleY: function scaleY(_scaleY) {\n    var scaleX = this.imageData.scaleX;\n    return this.scale(isNumber(scaleX) ? scaleX : 1, _scaleY);\n  },\n  /**\n   * Scale the image\n   * @param {number} scaleX - The scale ratio on the x-axis.\n   * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n   * @returns {Cropper} this\n   */\n  scale: function scale(scaleX) {\n    var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n    var imageData = this.imageData;\n    var transformed = false;\n    scaleX = Number(scaleX);\n    scaleY = Number(scaleY);\n    if (this.ready && !this.disabled && this.options.scalable) {\n      if (isNumber(scaleX)) {\n        imageData.scaleX = scaleX;\n        transformed = true;\n      }\n      if (isNumber(scaleY)) {\n        imageData.scaleY = scaleY;\n        transformed = true;\n      }\n      if (transformed) {\n        this.renderCanvas(true, true);\n      }\n    }\n    return this;\n  },\n  /**\n   * Get the cropped area position and size data (base on the original image)\n   * @param {boolean} [rounded=false] - Indicate if round the data values or not.\n   * @returns {Object} The result cropped data.\n   */\n  getData: function getData() {\n    var rounded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var options = this.options,\n      imageData = this.imageData,\n      canvasData = this.canvasData,\n      cropBoxData = this.cropBoxData;\n    var data;\n    if (this.ready && this.cropped) {\n      data = {\n        x: cropBoxData.left - canvasData.left,\n        y: cropBoxData.top - canvasData.top,\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      };\n      var ratio = imageData.width / imageData.naturalWidth;\n      forEach(data, function (n, i) {\n        data[i] = n / ratio;\n      });\n      if (rounded) {\n        // In case rounding off leads to extra 1px in right or bottom border\n        // we should round the top-left corner and the dimension (#343).\n        var bottom = Math.round(data.y + data.height);\n        var right = Math.round(data.x + data.width);\n        data.x = Math.round(data.x);\n        data.y = Math.round(data.y);\n        data.width = right - data.x;\n        data.height = bottom - data.y;\n      }\n    } else {\n      data = {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      };\n    }\n    if (options.rotatable) {\n      data.rotate = imageData.rotate || 0;\n    }\n    if (options.scalable) {\n      data.scaleX = imageData.scaleX || 1;\n      data.scaleY = imageData.scaleY || 1;\n    }\n    return data;\n  },\n  /**\n   * Set the cropped area position and size with new data\n   * @param {Object} data - The new data.\n   * @returns {Cropper} this\n   */\n  setData: function setData(data) {\n    var options = this.options,\n      imageData = this.imageData,\n      canvasData = this.canvasData;\n    var cropBoxData = {};\n    if (this.ready && !this.disabled && isPlainObject(data)) {\n      var transformed = false;\n      if (options.rotatable) {\n        if (isNumber(data.rotate) && data.rotate !== imageData.rotate) {\n          imageData.rotate = data.rotate;\n          transformed = true;\n        }\n      }\n      if (options.scalable) {\n        if (isNumber(data.scaleX) && data.scaleX !== imageData.scaleX) {\n          imageData.scaleX = data.scaleX;\n          transformed = true;\n        }\n        if (isNumber(data.scaleY) && data.scaleY !== imageData.scaleY) {\n          imageData.scaleY = data.scaleY;\n          transformed = true;\n        }\n      }\n      if (transformed) {\n        this.renderCanvas(true, true);\n      }\n      var ratio = imageData.width / imageData.naturalWidth;\n      if (isNumber(data.x)) {\n        cropBoxData.left = data.x * ratio + canvasData.left;\n      }\n      if (isNumber(data.y)) {\n        cropBoxData.top = data.y * ratio + canvasData.top;\n      }\n      if (isNumber(data.width)) {\n        cropBoxData.width = data.width * ratio;\n      }\n      if (isNumber(data.height)) {\n        cropBoxData.height = data.height * ratio;\n      }\n      this.setCropBoxData(cropBoxData);\n    }\n    return this;\n  },\n  /**\n   * Get the container size data.\n   * @returns {Object} The result container data.\n   */\n  getContainerData: function getContainerData() {\n    return this.ready ? assign({}, this.containerData) : {};\n  },\n  /**\n   * Get the image position and size data.\n   * @returns {Object} The result image data.\n   */\n  getImageData: function getImageData() {\n    return this.sized ? assign({}, this.imageData) : {};\n  },\n  /**\n   * Get the canvas position and size data.\n   * @returns {Object} The result canvas data.\n   */\n  getCanvasData: function getCanvasData() {\n    var canvasData = this.canvasData;\n    var data = {};\n    if (this.ready) {\n      forEach(['left', 'top', 'width', 'height', 'naturalWidth', 'naturalHeight'], function (n) {\n        data[n] = canvasData[n];\n      });\n    }\n    return data;\n  },\n  /**\n   * Set the canvas position and size with new data.\n   * @param {Object} data - The new canvas data.\n   * @returns {Cropper} this\n   */\n  setCanvasData: function setCanvasData(data) {\n    var canvasData = this.canvasData;\n    var aspectRatio = canvasData.aspectRatio;\n    if (this.ready && !this.disabled && isPlainObject(data)) {\n      if (isNumber(data.left)) {\n        canvasData.left = data.left;\n      }\n      if (isNumber(data.top)) {\n        canvasData.top = data.top;\n      }\n      if (isNumber(data.width)) {\n        canvasData.width = data.width;\n        canvasData.height = data.width / aspectRatio;\n      } else if (isNumber(data.height)) {\n        canvasData.height = data.height;\n        canvasData.width = data.height * aspectRatio;\n      }\n      this.renderCanvas(true);\n    }\n    return this;\n  },\n  /**\n   * Get the crop box position and size data.\n   * @returns {Object} The result crop box data.\n   */\n  getCropBoxData: function getCropBoxData() {\n    var cropBoxData = this.cropBoxData;\n    var data;\n    if (this.ready && this.cropped) {\n      data = {\n        left: cropBoxData.left,\n        top: cropBoxData.top,\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      };\n    }\n    return data || {};\n  },\n  /**\n   * Set the crop box position and size with new data.\n   * @param {Object} data - The new crop box data.\n   * @returns {Cropper} this\n   */\n  setCropBoxData: function setCropBoxData(data) {\n    var cropBoxData = this.cropBoxData;\n    var aspectRatio = this.options.aspectRatio;\n    var widthChanged;\n    var heightChanged;\n    if (this.ready && this.cropped && !this.disabled && isPlainObject(data)) {\n      if (isNumber(data.left)) {\n        cropBoxData.left = data.left;\n      }\n      if (isNumber(data.top)) {\n        cropBoxData.top = data.top;\n      }\n      if (isNumber(data.width) && data.width !== cropBoxData.width) {\n        widthChanged = true;\n        cropBoxData.width = data.width;\n      }\n      if (isNumber(data.height) && data.height !== cropBoxData.height) {\n        heightChanged = true;\n        cropBoxData.height = data.height;\n      }\n      if (aspectRatio) {\n        if (widthChanged) {\n          cropBoxData.height = cropBoxData.width / aspectRatio;\n        } else if (heightChanged) {\n          cropBoxData.width = cropBoxData.height * aspectRatio;\n        }\n      }\n      this.renderCropBox();\n    }\n    return this;\n  },\n  /**\n   * Get a canvas drawn the cropped image.\n   * @param {Object} [options={}] - The config options.\n   * @returns {HTMLCanvasElement} - The result canvas.\n   */\n  getCroppedCanvas: function getCroppedCanvas() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!this.ready || !window.HTMLCanvasElement) {\n      return null;\n    }\n    var canvasData = this.canvasData;\n    var source = getSourceCanvas(this.image, this.imageData, canvasData, options);\n\n    // Returns the source canvas if it is not cropped.\n    if (!this.cropped) {\n      return source;\n    }\n    var _this$getData = this.getData(options.rounded),\n      initialX = _this$getData.x,\n      initialY = _this$getData.y,\n      initialWidth = _this$getData.width,\n      initialHeight = _this$getData.height;\n    var ratio = source.width / Math.floor(canvasData.naturalWidth);\n    if (ratio !== 1) {\n      initialX *= ratio;\n      initialY *= ratio;\n      initialWidth *= ratio;\n      initialHeight *= ratio;\n    }\n    var aspectRatio = initialWidth / initialHeight;\n    var maxSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: options.maxWidth || Infinity,\n      height: options.maxHeight || Infinity\n    });\n    var minSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: options.minWidth || 0,\n      height: options.minHeight || 0\n    }, 'cover');\n    var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.width || (ratio !== 1 ? source.width : initialWidth),\n        height: options.height || (ratio !== 1 ? source.height : initialHeight)\n      }),\n      width = _getAdjustedSizes.width,\n      height = _getAdjustedSizes.height;\n    width = Math.min(maxSizes.width, Math.max(minSizes.width, width));\n    height = Math.min(maxSizes.height, Math.max(minSizes.height, height));\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n    canvas.width = normalizeDecimalNumber(width);\n    canvas.height = normalizeDecimalNumber(height);\n    context.fillStyle = options.fillColor || 'transparent';\n    context.fillRect(0, 0, width, height);\n    var _options$imageSmoothi = options.imageSmoothingEnabled,\n      imageSmoothingEnabled = _options$imageSmoothi === void 0 ? true : _options$imageSmoothi,\n      imageSmoothingQuality = options.imageSmoothingQuality;\n    context.imageSmoothingEnabled = imageSmoothingEnabled;\n    if (imageSmoothingQuality) {\n      context.imageSmoothingQuality = imageSmoothingQuality;\n    }\n\n    // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage\n    var sourceWidth = source.width;\n    var sourceHeight = source.height;\n\n    // Source canvas parameters\n    var srcX = initialX;\n    var srcY = initialY;\n    var srcWidth;\n    var srcHeight;\n\n    // Destination canvas parameters\n    var dstX;\n    var dstY;\n    var dstWidth;\n    var dstHeight;\n    if (srcX <= -initialWidth || srcX > sourceWidth) {\n      srcX = 0;\n      srcWidth = 0;\n      dstX = 0;\n      dstWidth = 0;\n    } else if (srcX <= 0) {\n      dstX = -srcX;\n      srcX = 0;\n      srcWidth = Math.min(sourceWidth, initialWidth + srcX);\n      dstWidth = srcWidth;\n    } else if (srcX <= sourceWidth) {\n      dstX = 0;\n      srcWidth = Math.min(initialWidth, sourceWidth - srcX);\n      dstWidth = srcWidth;\n    }\n    if (srcWidth <= 0 || srcY <= -initialHeight || srcY > sourceHeight) {\n      srcY = 0;\n      srcHeight = 0;\n      dstY = 0;\n      dstHeight = 0;\n    } else if (srcY <= 0) {\n      dstY = -srcY;\n      srcY = 0;\n      srcHeight = Math.min(sourceHeight, initialHeight + srcY);\n      dstHeight = srcHeight;\n    } else if (srcY <= sourceHeight) {\n      dstY = 0;\n      srcHeight = Math.min(initialHeight, sourceHeight - srcY);\n      dstHeight = srcHeight;\n    }\n    var params = [srcX, srcY, srcWidth, srcHeight];\n\n    // Avoid \"IndexSizeError\"\n    if (dstWidth > 0 && dstHeight > 0) {\n      var scale = width / initialWidth;\n      params.push(dstX * scale, dstY * scale, dstWidth * scale, dstHeight * scale);\n    }\n\n    // All the numerical parameters should be integer for `drawImage`\n    // https://github.com/fengyuanchen/cropper/issues/476\n    context.drawImage.apply(context, [source].concat(_toConsumableArray(params.map(function (param) {\n      return Math.floor(normalizeDecimalNumber(param));\n    }))));\n    return canvas;\n  },\n  /**\n   * Change the aspect ratio of the crop box.\n   * @param {number} aspectRatio - The new aspect ratio.\n   * @returns {Cropper} this\n   */\n  setAspectRatio: function setAspectRatio(aspectRatio) {\n    var options = this.options;\n    if (!this.disabled && !isUndefined(aspectRatio)) {\n      // 0 -> NaN\n      options.aspectRatio = Math.max(0, aspectRatio) || NaN;\n      if (this.ready) {\n        this.initCropBox();\n        if (this.cropped) {\n          this.renderCropBox();\n        }\n      }\n    }\n    return this;\n  },\n  /**\n   * Change the drag mode.\n   * @param {string} mode - The new drag mode.\n   * @returns {Cropper} this\n   */\n  setDragMode: function setDragMode(mode) {\n    var options = this.options,\n      dragBox = this.dragBox,\n      face = this.face;\n    if (this.ready && !this.disabled) {\n      var croppable = mode === DRAG_MODE_CROP;\n      var movable = options.movable && mode === DRAG_MODE_MOVE;\n      mode = croppable || movable ? mode : DRAG_MODE_NONE;\n      options.dragMode = mode;\n      setData(dragBox, DATA_ACTION, mode);\n      toggleClass(dragBox, CLASS_CROP, croppable);\n      toggleClass(dragBox, CLASS_MOVE, movable);\n      if (!options.cropBoxMovable) {\n        // Sync drag mode to crop box when it is not movable\n        setData(face, DATA_ACTION, mode);\n        toggleClass(face, CLASS_CROP, croppable);\n        toggleClass(face, CLASS_MOVE, movable);\n      }\n    }\n    return this;\n  }\n};\n\nvar AnotherCropper = WINDOW.Cropper;\nvar Cropper = /*#__PURE__*/function () {\n  /**\n   * Create a new Cropper.\n   * @param {Element} element - The target element for cropping.\n   * @param {Object} [options={}] - The configuration options.\n   */\n  function Cropper(element) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, Cropper);\n    if (!element || !REGEXP_TAG_NAME.test(element.tagName)) {\n      throw new Error('The first argument is required and must be an <img> or <canvas> element.');\n    }\n    this.element = element;\n    this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n    this.cropped = false;\n    this.disabled = false;\n    this.pointers = {};\n    this.ready = false;\n    this.reloading = false;\n    this.replaced = false;\n    this.sized = false;\n    this.sizing = false;\n    this.init();\n  }\n  return _createClass(Cropper, [{\n    key: \"init\",\n    value: function init() {\n      var element = this.element;\n      var tagName = element.tagName.toLowerCase();\n      var url;\n      if (element[NAMESPACE]) {\n        return;\n      }\n      element[NAMESPACE] = this;\n      if (tagName === 'img') {\n        this.isImg = true;\n\n        // e.g.: \"img/picture.jpg\"\n        url = element.getAttribute('src') || '';\n        this.originalUrl = url;\n\n        // Stop when it's a blank image\n        if (!url) {\n          return;\n        }\n\n        // e.g.: \"https://example.com/img/picture.jpg\"\n        url = element.src;\n      } else if (tagName === 'canvas' && window.HTMLCanvasElement) {\n        url = element.toDataURL();\n      }\n      this.load(url);\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      var _this = this;\n      if (!url) {\n        return;\n      }\n      this.url = url;\n      this.imageData = {};\n      var element = this.element,\n        options = this.options;\n      if (!options.rotatable && !options.scalable) {\n        options.checkOrientation = false;\n      }\n\n      // Only IE10+ supports Typed Arrays\n      if (!options.checkOrientation || !window.ArrayBuffer) {\n        this.clone();\n        return;\n      }\n\n      // Detect the mime type of the image directly if it is a Data URL\n      if (REGEXP_DATA_URL.test(url)) {\n        // Read ArrayBuffer from Data URL of JPEG images directly for better performance\n        if (REGEXP_DATA_URL_JPEG.test(url)) {\n          this.read(dataURLToArrayBuffer(url));\n        } else {\n          // Only a JPEG image may contains Exif Orientation information,\n          // the rest types of Data URLs are not necessary to check orientation at all.\n          this.clone();\n        }\n        return;\n      }\n\n      // 1. Detect the mime type of the image by a XMLHttpRequest.\n      // 2. Load the image as ArrayBuffer for reading orientation if its a JPEG image.\n      var xhr = new XMLHttpRequest();\n      var clone = this.clone.bind(this);\n      this.reloading = true;\n      this.xhr = xhr;\n\n      // 1. Cross origin requests are only supported for protocol schemes:\n      // http, https, data, chrome, chrome-extension.\n      // 2. Access to XMLHttpRequest from a Data URL will be blocked by CORS policy\n      // in some browsers as IE11 and Safari.\n      xhr.onabort = clone;\n      xhr.onerror = clone;\n      xhr.ontimeout = clone;\n      xhr.onprogress = function () {\n        // Abort the request directly if it not a JPEG image for better performance\n        if (xhr.getResponseHeader('content-type') !== MIME_TYPE_JPEG) {\n          xhr.abort();\n        }\n      };\n      xhr.onload = function () {\n        _this.read(xhr.response);\n      };\n      xhr.onloadend = function () {\n        _this.reloading = false;\n        _this.xhr = null;\n      };\n\n      // Bust cache when there is a \"crossOrigin\" property to avoid browser cache error\n      if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) {\n        url = addTimestamp(url);\n      }\n\n      // The third parameter is required for avoiding side-effect (#682)\n      xhr.open('GET', url, true);\n      xhr.responseType = 'arraybuffer';\n      xhr.withCredentials = element.crossOrigin === 'use-credentials';\n      xhr.send();\n    }\n  }, {\n    key: \"read\",\n    value: function read(arrayBuffer) {\n      var options = this.options,\n        imageData = this.imageData;\n\n      // Reset the orientation value to its default value 1\n      // as some iOS browsers will render image with its orientation\n      var orientation = resetAndGetOrientation(arrayBuffer);\n      var rotate = 0;\n      var scaleX = 1;\n      var scaleY = 1;\n      if (orientation > 1) {\n        // Generate a new URL which has the default orientation value\n        this.url = arrayBufferToDataURL(arrayBuffer, MIME_TYPE_JPEG);\n        var _parseOrientation = parseOrientation(orientation);\n        rotate = _parseOrientation.rotate;\n        scaleX = _parseOrientation.scaleX;\n        scaleY = _parseOrientation.scaleY;\n      }\n      if (options.rotatable) {\n        imageData.rotate = rotate;\n      }\n      if (options.scalable) {\n        imageData.scaleX = scaleX;\n        imageData.scaleY = scaleY;\n      }\n      this.clone();\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      var element = this.element,\n        url = this.url;\n      var crossOrigin = element.crossOrigin;\n      var crossOriginUrl = url;\n      if (this.options.checkCrossOrigin && isCrossOriginURL(url)) {\n        if (!crossOrigin) {\n          crossOrigin = 'anonymous';\n        }\n\n        // Bust cache when there is not a \"crossOrigin\" property (#519)\n        crossOriginUrl = addTimestamp(url);\n      }\n      this.crossOrigin = crossOrigin;\n      this.crossOriginUrl = crossOriginUrl;\n      var image = document.createElement('img');\n      if (crossOrigin) {\n        image.crossOrigin = crossOrigin;\n      }\n      image.src = crossOriginUrl || url;\n      image.alt = element.alt || 'The image to crop';\n      this.image = image;\n      image.onload = this.start.bind(this);\n      image.onerror = this.stop.bind(this);\n      addClass(image, CLASS_HIDE);\n      element.parentNode.insertBefore(image, element.nextSibling);\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this2 = this;\n      var image = this.image;\n      image.onload = null;\n      image.onerror = null;\n      this.sizing = true;\n\n      // Match all browsers that use WebKit as the layout engine in iOS devices,\n      // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n      var isIOSWebKit = WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent);\n      var done = function done(naturalWidth, naturalHeight) {\n        assign(_this2.imageData, {\n          naturalWidth: naturalWidth,\n          naturalHeight: naturalHeight,\n          aspectRatio: naturalWidth / naturalHeight\n        });\n        _this2.initialImageData = assign({}, _this2.imageData);\n        _this2.sizing = false;\n        _this2.sized = true;\n        _this2.build();\n      };\n\n      // Most modern browsers (excepts iOS WebKit)\n      if (image.naturalWidth && !isIOSWebKit) {\n        done(image.naturalWidth, image.naturalHeight);\n        return;\n      }\n      var sizingImage = document.createElement('img');\n      var body = document.body || document.documentElement;\n      this.sizingImage = sizingImage;\n      sizingImage.onload = function () {\n        done(sizingImage.width, sizingImage.height);\n        if (!isIOSWebKit) {\n          body.removeChild(sizingImage);\n        }\n      };\n      sizingImage.src = image.src;\n\n      // iOS WebKit will convert the image automatically\n      // with its orientation once append it into DOM (#279)\n      if (!isIOSWebKit) {\n        sizingImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n        body.appendChild(sizingImage);\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      var image = this.image;\n      image.onload = null;\n      image.onerror = null;\n      image.parentNode.removeChild(image);\n      this.image = null;\n    }\n  }, {\n    key: \"build\",\n    value: function build() {\n      if (!this.sized || this.ready) {\n        return;\n      }\n      var element = this.element,\n        options = this.options,\n        image = this.image;\n\n      // Create cropper elements\n      var container = element.parentNode;\n      var template = document.createElement('div');\n      template.innerHTML = TEMPLATE;\n      var cropper = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n      var canvas = cropper.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n      var dragBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-drag-box\"));\n      var cropBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-crop-box\"));\n      var face = cropBox.querySelector(\".\".concat(NAMESPACE, \"-face\"));\n      this.container = container;\n      this.cropper = cropper;\n      this.canvas = canvas;\n      this.dragBox = dragBox;\n      this.cropBox = cropBox;\n      this.viewBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-view-box\"));\n      this.face = face;\n      canvas.appendChild(image);\n\n      // Hide the original image\n      addClass(element, CLASS_HIDDEN);\n\n      // Inserts the cropper after to the current image\n      container.insertBefore(cropper, element.nextSibling);\n\n      // Show the hidden image\n      removeClass(image, CLASS_HIDE);\n      this.initPreview();\n      this.bind();\n      options.initialAspectRatio = Math.max(0, options.initialAspectRatio) || NaN;\n      options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;\n      options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;\n      addClass(cropBox, CLASS_HIDDEN);\n      if (!options.guides) {\n        addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-dashed\")), CLASS_HIDDEN);\n      }\n      if (!options.center) {\n        addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-center\")), CLASS_HIDDEN);\n      }\n      if (options.background) {\n        addClass(cropper, \"\".concat(NAMESPACE, \"-bg\"));\n      }\n      if (!options.highlight) {\n        addClass(face, CLASS_INVISIBLE);\n      }\n      if (options.cropBoxMovable) {\n        addClass(face, CLASS_MOVE);\n        setData(face, DATA_ACTION, ACTION_ALL);\n      }\n      if (!options.cropBoxResizable) {\n        addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-line\")), CLASS_HIDDEN);\n        addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-point\")), CLASS_HIDDEN);\n      }\n      this.render();\n      this.ready = true;\n      this.setDragMode(options.dragMode);\n      if (options.autoCrop) {\n        this.crop();\n      }\n      this.setData(options.data);\n      if (isFunction(options.ready)) {\n        addListener(element, EVENT_READY, options.ready, {\n          once: true\n        });\n      }\n      dispatchEvent(element, EVENT_READY);\n    }\n  }, {\n    key: \"unbuild\",\n    value: function unbuild() {\n      if (!this.ready) {\n        return;\n      }\n      this.ready = false;\n      this.unbind();\n      this.resetPreview();\n      var parentNode = this.cropper.parentNode;\n      if (parentNode) {\n        parentNode.removeChild(this.cropper);\n      }\n      removeClass(this.element, CLASS_HIDDEN);\n    }\n  }, {\n    key: \"uncreate\",\n    value: function uncreate() {\n      if (this.ready) {\n        this.unbuild();\n        this.ready = false;\n        this.cropped = false;\n      } else if (this.sizing) {\n        this.sizingImage.onload = null;\n        this.sizing = false;\n        this.sized = false;\n      } else if (this.reloading) {\n        this.xhr.onabort = null;\n        this.xhr.abort();\n      } else if (this.image) {\n        this.stop();\n      }\n    }\n\n    /**\n     * Get the no conflict cropper class.\n     * @returns {Cropper} The cropper class.\n     */\n  }], [{\n    key: \"noConflict\",\n    value: function noConflict() {\n      window.Cropper = AnotherCropper;\n      return Cropper;\n    }\n\n    /**\n     * Change the default options.\n     * @param {Object} options - The new default options.\n     */\n  }, {\n    key: \"setDefaults\",\n    value: function setDefaults(options) {\n      assign(DEFAULTS, isPlainObject(options) && options);\n    }\n  }]);\n}();\nassign(Cropper.prototype, render, preview, events, handlers, change, methods);\n\nexport { Cropper as default };\n","import Cropper from 'cropperjs'\nimport 'cropperjs/dist/cropper.css'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faCircleNotch\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faCircleNotch\n)\n\nconst ImageCropper = {\n  props: {\n    trigger: {\n      type: [String, window.Element],\n      required: true\n    },\n    submitHandler: {\n      type: Function,\n      required: true\n    },\n    cropperOptions: {\n      type: Object,\n      default () {\n        return {\n          aspectRatio: 1,\n          autoCropArea: 1,\n          viewMode: 1,\n          movable: false,\n          zoomable: false,\n          guides: false\n        }\n      }\n    },\n    mimes: {\n      type: String,\n      default: 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon'\n    },\n    saveButtonLabel: {\n      type: String\n    },\n    saveWithoutCroppingButtonlabel: {\n      type: String\n    },\n    cancelButtonLabel: {\n      type: String\n    }\n  },\n  data () {\n    return {\n      cropper: undefined,\n      dataUrl: undefined,\n      filename: undefined,\n      submitting: false\n    }\n  },\n  computed: {\n    saveText () {\n      return this.saveButtonLabel || this.$t('image_cropper.save')\n    },\n    saveWithoutCroppingText () {\n      return this.saveWithoutCroppingButtonlabel || this.$t('image_cropper.save_without_cropping')\n    },\n    cancelText () {\n      return this.cancelButtonLabel || this.$t('image_cropper.cancel')\n    }\n  },\n  methods: {\n    destroy () {\n      if (this.cropper) {\n        this.cropper.destroy()\n      }\n      this.$refs.input.value = ''\n      this.dataUrl = undefined\n      this.$emit('close')\n    },\n    submit (cropping = true) {\n      this.submitting = true\n      this.submitHandler(cropping && this.cropper, this.file)\n        .then(() => this.destroy())\n        .finally(() => {\n          this.submitting = false\n        })\n    },\n    pickImage () {\n      this.$refs.input.click()\n    },\n    createCropper () {\n      this.cropper = new Cropper(this.$refs.img, this.cropperOptions)\n    },\n    getTriggerDOM () {\n      return typeof this.trigger === 'object' ? this.trigger : document.querySelector(this.trigger)\n    },\n    readFile () {\n      const fileInput = this.$refs.input\n      if (fileInput.files != null && fileInput.files[0] != null) {\n        this.file = fileInput.files[0]\n        const reader = new window.FileReader()\n        reader.onload = (e) => {\n          this.dataUrl = e.target.result\n          this.$emit('open')\n        }\n        reader.readAsDataURL(this.file)\n        this.$emit('changed', this.file, reader)\n      }\n    }\n  },\n  mounted () {\n    // listen for click event on trigger\n    const trigger = this.getTriggerDOM()\n    if (!trigger) {\n      this.$emit('error', 'No image make trigger found.', 'user')\n    } else {\n      trigger.addEventListener('click', this.pickImage)\n    }\n    // listen for input file changes\n    const fileInput = this.$refs.input\n    fileInput.addEventListener('change', this.readFile)\n  },\n  beforeUnmount: function () {\n    // remove the event listeners\n    const trigger = this.getTriggerDOM()\n    if (trigger) {\n      trigger.removeEventListener('click', this.pickImage)\n    }\n    const fileInput = this.$refs.input\n    fileInput.removeEventListener('change', this.readFile)\n  }\n}\n\nexport default ImageCropper\n","<template>\n  <div class=\"image-cropper\">\n    <div v-if=\"dataUrl\">\n      <div class=\"image-cropper-image-container\">\n        <img\n          ref=\"img\"\n          :src=\"dataUrl\"\n          alt=\"\"\n          @load.stop=\"createCropper\"\n        >\n      </div>\n      <div class=\"image-cropper-buttons-wrapper\">\n        <button\n          class=\"button-default btn\"\n          type=\"button\"\n          :disabled=\"submitting\"\n          @click=\"submit()\"\n          v-text=\"saveText\"\n        />\n        <button\n          class=\"button-default btn\"\n          type=\"button\"\n          :disabled=\"submitting\"\n          @click=\"destroy\"\n          v-text=\"cancelText\"\n        />\n        <button\n          class=\"button-default btn\"\n          type=\"button\"\n          :disabled=\"submitting\"\n          @click=\"submit(false)\"\n          v-text=\"saveWithoutCroppingText\"\n        />\n        <FAIcon\n          v-if=\"submitting\"\n          spin\n          icon=\"circle-notch\"\n        />\n      </div>\n    </div>\n    <input\n      ref=\"input\"\n      type=\"file\"\n      class=\"input image-cropper-img-input\"\n      :accept=\"mimes\"\n    >\n  </div>\n</template>\n\n<script src=\"./image_cropper.js\"></script>\n\n<style lang=\"scss\">\n.image-cropper {\n  &-img-input {\n    display: none;\n  }\n\n  &-image-container {\n    position: relative;\n\n    img {\n      display: block;\n      max-width: 100%;\n    }\n  }\n\n  &-buttons-wrapper {\n    margin-top: 10px;\n\n    button {\n      margin-top: 5px;\n    }\n  }\n}\n</style>\n","import unescape from 'lodash/unescape'\nimport merge from 'lodash/merge'\nimport ImageCropper from 'src/components/image_cropper/image_cropper.vue'\nimport ScopeSelector from 'src/components/scope_selector/scope_selector.vue'\nimport fileSizeFormatService from 'src/components/../services/file_size_format/file_size_format.js'\nimport ProgressButton from 'src/components/progress_button/progress_button.vue'\nimport EmojiInput from 'src/components/emoji_input/emoji_input.vue'\nimport suggestor from 'src/components/emoji_input/suggestor.js'\nimport Autosuggest from 'src/components/autosuggest/autosuggest.vue'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport InterfaceLanguageSwitcher from 'src/components/interface_language_switcher/interface_language_switcher.vue'\nimport Select from 'src/components/select/select.vue'\nimport BooleanSetting from '../helpers/boolean_setting.vue'\nimport SharedComputedObject from '../helpers/shared_computed_object.js'\nimport localeService from 'src/services/locale/locale.service.js'\nimport { propsToNative } from 'src/services/attributes_helper/attributes_helper.service.js'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faTimes,\n  faPlus,\n  faCircleNotch\n} from '@fortawesome/free-solid-svg-icons'\nimport { useInterfaceStore } from 'src/stores/interface'\n\nlibrary.add(\n  faTimes,\n  faPlus,\n  faCircleNotch\n)\n\nconst ProfileTab = {\n  data () {\n    return {\n      newName: this.$store.state.users.currentUser.name_unescaped,\n      newBio: unescape(this.$store.state.users.currentUser.description),\n      newLocked: this.$store.state.users.currentUser.locked,\n      newBirthday: this.$store.state.users.currentUser.birthday,\n      showBirthday: this.$store.state.users.currentUser.show_birthday,\n      newFields: this.$store.state.users.currentUser.fields.map(field => ({ name: field.name, value: field.value })),\n      showRole: this.$store.state.users.currentUser.show_role,\n      role: this.$store.state.users.currentUser.role,\n      bot: this.$store.state.users.currentUser.bot,\n      actorType: this.$store.state.users.currentUser.actor_type,\n      pickAvatarBtnVisible: true,\n      bannerUploading: false,\n      backgroundUploading: false,\n      banner: null,\n      bannerPreview: null,\n      background: null,\n      backgroundPreview: null,\n      emailLanguage: this.$store.state.users.currentUser.language || ['']\n    }\n  },\n  components: {\n    ScopeSelector,\n    ImageCropper,\n    EmojiInput,\n    Autosuggest,\n    ProgressButton,\n    Checkbox,\n    BooleanSetting,\n    InterfaceLanguageSwitcher,\n    Select\n  },\n  computed: {\n    user () {\n      return this.$store.state.users.currentUser\n    },\n    ...SharedComputedObject(),\n    emojiUserSuggestor () {\n      return suggestor({\n        emoji: [\n          ...this.$store.getters.standardEmojiList,\n          ...this.$store.state.instance.customEmoji\n        ],\n        store: this.$store\n      })\n    },\n    emojiSuggestor () {\n      return suggestor({\n        emoji: [\n          ...this.$store.getters.standardEmojiList,\n          ...this.$store.state.instance.customEmoji\n        ]\n      })\n    },\n    userSuggestor () {\n      return suggestor({ store: this.$store })\n    },\n    fieldsLimits () {\n      return this.$store.state.instance.fieldsLimits\n    },\n    maxFields () {\n      return this.fieldsLimits ? this.fieldsLimits.maxFields : 0\n    },\n    defaultAvatar () {\n      return this.$store.state.instance.server + this.$store.state.instance.defaultAvatar\n    },\n    defaultBanner () {\n      return this.$store.state.instance.server + this.$store.state.instance.defaultBanner\n    },\n    isDefaultAvatar () {\n      const baseAvatar = this.$store.state.instance.defaultAvatar\n      return !(this.$store.state.users.currentUser.profile_image_url) ||\n      this.$store.state.users.currentUser.profile_image_url.includes(baseAvatar)\n    },\n    isDefaultBanner () {\n      const baseBanner = this.$store.state.instance.defaultBanner\n      return !(this.$store.state.users.currentUser.cover_photo) ||\n      this.$store.state.users.currentUser.cover_photo.includes(baseBanner)\n    },\n    isDefaultBackground () {\n      return !(this.$store.state.users.currentUser.background_image)\n    },\n    avatarImgSrc () {\n      const src = this.$store.state.users.currentUser.profile_image_url_original\n      return (!src) ? this.defaultAvatar : src\n    },\n    bannerImgSrc () {\n      const src = this.$store.state.users.currentUser.cover_photo\n      return (!src) ? this.defaultBanner : src\n    },\n    groupActorAvailable () {\n      return this.$store.state.instance.groupActorAvailable\n    },\n    availableActorTypes () {\n      return this.groupActorAvailable ? ['Person', 'Service', 'Group'] : ['Person', 'Service']\n    }\n  },\n  methods: {\n    updateProfile () {\n      const params = {\n        note: this.newBio,\n        locked: this.newLocked,\n\n        // Backend notation.\n        display_name: this.newName,\n        fields_attributes: this.newFields.filter(el => el != null),\n        actor_type: this.actorType,\n        show_role: this.showRole,\n        birthday: this.newBirthday || '',\n        show_birthday: this.showBirthday\n      }\n\n      if (this.emailLanguage) {\n        params.language = localeService.internalToBackendLocaleMulti(this.emailLanguage)\n      }\n\n      this.$store.state.api.backendInteractor\n        .updateProfile({ params })\n        .then((user) => {\n          this.newFields.splice(user.fields.length)\n          merge(this.newFields, user.fields)\n          this.$store.commit('addNewUsers', [user])\n          this.$store.commit('setCurrentUser', user)\n        })\n    },\n    changeVis (visibility) {\n      this.newDefaultScope = visibility\n    },\n    addField () {\n      if (this.newFields.length < this.maxFields) {\n        this.newFields.push({ name: '', value: '' })\n        return true\n      }\n      return false\n    },\n    deleteField (index) {\n      this.newFields.splice(index, 1)\n    },\n    uploadFile (slot, e) {\n      const file = e.target.files[0]\n      if (!file) { return }\n      if (file.size > this.$store.state.instance[slot + 'limit']) {\n        const filesize = fileSizeFormatService.fileSizeFormat(file.size)\n        const allowedsize = fileSizeFormatService.fileSizeFormat(this.$store.state.instance[slot + 'limit'])\n        useInterfaceStore().pushGlobalNotice({\n          messageKey: 'upload.error.message',\n          messageArgs: [\n            this.$t('upload.error.file_too_big', {\n              filesize: filesize.num,\n              filesizeunit: filesize.unit,\n              allowedsize: allowedsize.num,\n              allowedsizeunit: allowedsize.unit\n            })\n          ],\n          level: 'error'\n        })\n        return\n      }\n\n      const reader = new FileReader()\n      reader.onload = ({ target }) => {\n        const img = target.result\n        this[slot + 'Preview'] = img\n        this[slot] = file\n      }\n      reader.readAsDataURL(file)\n    },\n    resetAvatar () {\n      const confirmed = window.confirm(this.$t('settings.reset_avatar_confirm'))\n      if (confirmed) {\n        this.submitAvatar(undefined, '')\n      }\n    },\n    resetBanner () {\n      const confirmed = window.confirm(this.$t('settings.reset_banner_confirm'))\n      if (confirmed) {\n        this.submitBanner('')\n      }\n    },\n    resetBackground () {\n      const confirmed = window.confirm(this.$t('settings.reset_background_confirm'))\n      if (confirmed) {\n        this.submitBackground('')\n      }\n    },\n    submitAvatar (cropper, file) {\n      const that = this\n      return new Promise((resolve, reject) => {\n        function updateAvatar (avatar, avatarName) {\n          that.$store.state.api.backendInteractor.updateProfileImages({ avatar, avatarName })\n            .then((user) => {\n              that.$store.commit('addNewUsers', [user])\n              that.$store.commit('setCurrentUser', user)\n              resolve()\n            })\n            .catch((error) => {\n              that.displayUploadError(error)\n              reject(error)\n            })\n        }\n\n        if (cropper) {\n          cropper.getCroppedCanvas().toBlob((data) => updateAvatar(data, file.name), file.type)\n        } else {\n          updateAvatar(file, file.name)\n        }\n      })\n    },\n    submitBanner (banner) {\n      if (!this.bannerPreview && banner !== '') { return }\n\n      this.bannerUploading = true\n      this.$store.state.api.backendInteractor.updateProfileImages({ banner })\n        .then((user) => {\n          this.$store.commit('addNewUsers', [user])\n          this.$store.commit('setCurrentUser', user)\n          this.bannerPreview = null\n        })\n        .catch(this.displayUploadError)\n        .finally(() => { this.bannerUploading = false })\n    },\n    submitBackground (background) {\n      if (!this.backgroundPreview && background !== '') { return }\n\n      this.backgroundUploading = true\n      this.$store.state.api.backendInteractor.updateProfileImages({ background })\n        .then((data) => {\n          this.$store.commit('addNewUsers', [data])\n          this.$store.commit('setCurrentUser', data)\n          this.backgroundPreview = null\n        })\n        .catch(this.displayUploadError)\n        .finally(() => { this.backgroundUploading = false })\n    },\n    displayUploadError (error) {\n      useInterfaceStore().pushGlobalNotice({\n        messageKey: 'upload.error.message',\n        messageArgs: [error.message],\n        level: 'error'\n      })\n    },\n    propsToNative (props) {\n      return propsToNative(props)\n    }\n  }\n}\n\nexport default ProfileTab\n","<template>\n  <div class=\"profile-tab\">\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.name_bio') }}</h2>\n      <p>{{ $t('settings.name') }}</p>\n      <EmojiInput\n        v-model=\"newName\"\n        enable-emoji-picker\n        :suggest=\"emojiSuggestor\"\n      >\n        <template #default=\"inputProps\">\n          <input\n            id=\"username\"\n            v-model=\"newName\"\n            class=\"input name-changer\"\n            v-bind=\"propsToNative(inputProps)\"\n          >\n        </template>\n      </EmojiInput>\n      <p>{{ $t('settings.bio') }}</p>\n      <EmojiInput\n        v-model=\"newBio\"\n        enable-emoji-picker\n        :suggest=\"emojiUserSuggestor\"\n      >\n        <template #default=\"inputProps\">\n          <textarea\n            v-model=\"newBio\"\n            class=\"input bio resize-height\"\n            v-bind=\"propsToNative(inputProps)\"\n          />\n        </template>\n      </EmojiInput>\n      <p v-if=\"role === 'admin' || role === 'moderator'\">\n        <Checkbox v-model=\"showRole\">\n          <template v-if=\"role === 'admin'\">\n            {{ $t('settings.show_admin_badge') }}\n          </template>\n          <template v-if=\"role === 'moderator'\">\n            {{ $t('settings.show_moderator_badge') }}\n          </template>\n        </Checkbox>\n      </p>\n      <div>\n        <p>{{ $t('settings.birthday.label') }}</p>\n        <input\n          id=\"birthday\"\n          v-model=\"newBirthday\"\n          type=\"date\"\n          class=\"input birthday-input\"\n        >\n        <Checkbox v-model=\"showBirthday\">\n          {{ $t('settings.birthday.show_birthday') }}\n        </Checkbox>\n      </div>\n      <div v-if=\"maxFields > 0\">\n        <p>{{ $t('settings.profile_fields.label') }}</p>\n        <div\n          v-for=\"(_, i) in newFields\"\n          :key=\"i\"\n          class=\"profile-fields\"\n        >\n          <EmojiInput\n            v-model=\"newFields[i].name\"\n            enable-emoji-picker\n            hide-emoji-button\n            :suggest=\"userSuggestor\"\n          >\n            <template #default=\"inputProps\">\n              <input\n                v-model=\"newFields[i].name\"\n                :placeholder=\"$t('settings.profile_fields.name')\"\n                v-bind=\"propsToNative(inputProps)\"\n                class=\"input\"\n              >\n            </template>\n          </EmojiInput>\n          <EmojiInput\n            v-model=\"newFields[i].value\"\n            enable-emoji-picker\n            hide-emoji-button\n            :suggest=\"userSuggestor\"\n          >\n            <template #default=\"inputProps\">\n              <input\n                v-model=\"newFields[i].value\"\n                :placeholder=\"$t('settings.profile_fields.value')\"\n                v-bind=\"propsToNative(inputProps)\"\n                class=\"input\"\n              >\n            </template>\n          </EmojiInput>\n          <button\n            class=\"delete-field button-unstyled -hover-highlight\"\n            @click=\"deleteField(i)\"\n          >\n            <!-- TODO something is wrong with v-show here -->\n            <FAIcon\n              v-if=\"newFields.length > 1\"\n              icon=\"times\"\n            />\n          </button>\n        </div>\n        <button\n          v-if=\"newFields.length < maxFields\"\n          class=\"add-field faint button-unstyled -hover-highlight\"\n          @click=\"addField\"\n        >\n          <FAIcon icon=\"plus\" />\n          {{ $t(\"settings.profile_fields.add_field\") }}\n        </button>\n      </div>\n      <p>\n        <label>\n          {{ $t('settings.actor_type') }}\n          <Select v-model=\"actorType\">\n            <option\n              v-for=\"option in availableActorTypes\"\n              :key=\"option\"\n              :value=\"option\"\n            >\n              {{ $t('settings.actor_type_' + option) }}\n            </option>\n          </Select>\n        </label>\n      </p>\n      <div v-if=\"groupActorAvailable\">\n        <small>\n          {{ $t('settings.actor_type_description') }}\n        </small>\n      </div>\n      <p>\n        <interface-language-switcher\n          :prompt-text=\"$t('settings.email_language')\"\n          :language=\"emailLanguage\"\n          :set-language=\"val => emailLanguage = val\"\n        />\n      </p>\n      <button\n        :disabled=\"newName && newName.length === 0\"\n        class=\"btn button-default\"\n        @click=\"updateProfile\"\n      >\n        {{ $t('settings.save') }}\n      </button>\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.avatar') }}</h2>\n      <p class=\"visibility-notice\">\n        {{ $t('settings.avatar_size_instruction') }}\n      </p>\n      <div class=\"current-avatar-container\">\n        <img\n          :src=\"user.profile_image_url_original\"\n          class=\"current-avatar\"\n        >\n        <button\n          v-if=\"!isDefaultAvatar && pickAvatarBtnVisible\"\n          :title=\"$t('settings.reset_avatar')\"\n          class=\"button-unstyled reset-button\"\n          @click=\"resetAvatar\"\n        >\n          <FAIcon\n            icon=\"times\"\n            type=\"button\"\n          />\n        </button>\n      </div>\n      <p>{{ $t('settings.set_new_avatar') }}</p>\n      <button\n        v-show=\"pickAvatarBtnVisible\"\n        id=\"pick-avatar\"\n        class=\"button-default btn\"\n        type=\"button\"\n      >\n        {{ $t('settings.upload_a_photo') }}\n      </button>\n      <image-cropper\n        trigger=\"#pick-avatar\"\n        :submit-handler=\"submitAvatar\"\n        @open=\"pickAvatarBtnVisible=false\"\n        @close=\"pickAvatarBtnVisible=true\"\n      />\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.profile_banner') }}</h2>\n      <div class=\"banner-background-preview\">\n        <img :src=\"user.cover_photo\">\n        <button\n          v-if=\"!isDefaultBanner\"\n          class=\"button-unstyled reset-button\"\n          :title=\"$t('settings.reset_profile_banner')\"\n          @click=\"resetBanner\"\n        >\n          <FAIcon\n            icon=\"times\"\n            type=\"button\"\n          />\n        </button>\n      </div>\n      <p>{{ $t('settings.set_new_profile_banner') }}</p>\n      <img\n        v-if=\"bannerPreview\"\n        class=\"banner-background-preview\"\n        :src=\"bannerPreview\"\n      >\n      <div>\n        <input\n          type=\"file\"\n          class=\"input\"\n          @change=\"uploadFile('banner', $event)\"\n        >\n      </div>\n      <FAIcon\n        v-if=\"bannerUploading\"\n        class=\"uploading\"\n        spin\n        icon=\"circle-notch\"\n      />\n      <button\n        v-else-if=\"bannerPreview\"\n        class=\"btn button-default\"\n        @click=\"submitBanner(banner)\"\n      >\n        {{ $t('settings.save') }}\n      </button>\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.profile_background') }}</h2>\n      <div class=\"banner-background-preview\">\n        <img :src=\"user.background_image\">\n        <button\n          v-if=\"!isDefaultBackground\"\n          class=\"button-unstyled reset-button\"\n          :title=\"$t('settings.reset_profile_background')\"\n          @click=\"resetBackground\"\n        >\n          <FAIcon\n            icon=\"times\"\n            type=\"button\"\n          />\n        </button>\n      </div>\n      <p>{{ $t('settings.set_new_profile_background') }}</p>\n      <img\n        v-if=\"backgroundPreview\"\n        class=\"banner-background-preview\"\n        :src=\"backgroundPreview\"\n      >\n      <div>\n        <input\n          type=\"file\"\n          class=\"input\"\n          @change=\"uploadFile('background', $event)\"\n        >\n      </div>\n      <FAIcon\n        v-if=\"backgroundUploading\"\n        class=\"uploading\"\n        spin\n        icon=\"circle-notch\"\n      />\n      <button\n        v-else-if=\"backgroundPreview\"\n        class=\"btn button-default\"\n        @click=\"submitBackground(background)\"\n      >\n        {{ $t('settings.save') }}\n      </button>\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.account_privacy') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <BooleanSetting\n            source=\"profile\"\n            path=\"locked\"\n          >\n            {{ $t('settings.lock_account_description') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            source=\"profile\"\n            path=\"discoverable\"\n          >\n            {{ $t('settings.discoverable') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            source=\"profile\"\n            path=\"allowFollowingMove\"\n          >\n            {{ $t('settings.allow_following_move') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            source=\"profile\"\n            path=\"hideFavorites\"\n          >\n            {{ $t('settings.hide_favorites_description') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            source=\"profile\"\n            path=\"hideFollowers\"\n          >\n            {{ $t('settings.hide_followers_description') }}\n          </BooleanSetting>\n          <ul class=\"setting-list suboptions\">\n            <li>\n              <BooleanSetting\n                source=\"profile\"\n                path=\"hideFollowersCount\"\n                parent-path=\"hideFollowers\"\n              >\n                {{ $t('settings.hide_followers_count_description') }}\n              </BooleanSetting>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <BooleanSetting\n            source=\"profile\"\n            path=\"hideFollows\"\n          >\n            {{ $t('settings.hide_follows_description') }}\n          </BooleanSetting>\n          <ul class=\"setting-list suboptions\">\n            <li>\n              <BooleanSetting\n                source=\"profile\"\n                path=\"hideFollowsCount\"\n                parent-path=\"hideFollows\"\n              >\n                {{ $t('settings.hide_follows_count_description') }}\n              </BooleanSetting>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script src=\"./profile_tab.js\"></script>\n<style lang=\"scss\" src=\"./profile_tab.scss\"></style>\n","<template>\n  <NumberSetting\n    v-bind=\"$attrs\"\n  >\n    <slot />\n  </NumberSetting>\n</template>\n\n<script>\nimport NumberSetting from './number_setting.vue'\nexport default {\n  components: {\n    NumberSetting\n  }\n}\n</script>\n","import BooleanSetting from '../helpers/boolean_setting.vue'\nimport ChoiceSetting from '../helpers/choice_setting.vue'\nimport ScopeSelector from 'src/components/scope_selector/scope_selector.vue'\nimport IntegerSetting from '../helpers/integer_setting.vue'\nimport FloatSetting from '../helpers/float_setting.vue'\nimport UnitSetting from '../helpers/unit_setting.vue'\nimport InterfaceLanguageSwitcher from 'src/components/interface_language_switcher/interface_language_switcher.vue'\n\nimport SharedComputedObject from '../helpers/shared_computed_object.js'\nimport ProfileSettingIndicator from '../helpers/profile_setting_indicator.vue'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faGlobe\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faGlobe\n)\n\nconst GeneralTab = {\n  data () {\n    return {\n      subjectLineOptions: ['email', 'noop', 'masto'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.subject_line_${mode === 'masto' ? 'mastodon' : mode}`)\n      })),\n      conversationDisplayOptions: ['tree', 'linear'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.conversation_display_${mode}`)\n      })),\n      absoluteTime12hOptions: ['24h', '12h'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.absolute_time_format_12h_${mode}`)\n      })),\n      conversationOtherRepliesButtonOptions: ['below', 'inside'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.conversation_other_replies_button_${mode}`)\n      })),\n      mentionLinkDisplayOptions: ['short', 'full_for_remote', 'full'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.mention_link_display_${mode}`)\n      })),\n      userPopoverAvatarActionOptions: ['close', 'zoom', 'open'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.user_popover_avatar_action_${mode}`)\n      })),\n      unsavedPostActionOptions: ['save', 'discard', 'confirm'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.unsaved_post_action_${mode}`)\n      })),\n      loopSilentAvailable:\n      // Firefox\n      Object.getOwnPropertyDescriptor(HTMLVideoElement.prototype, 'mozHasAudio') ||\n      // Chrome-likes\n      Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype, 'webkitAudioDecodedByteCount') ||\n      // Future spec, still not supported in Nightly 63 as of 08/2018\n      Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype, 'audioTracks')\n    }\n  },\n  components: {\n    BooleanSetting,\n    ChoiceSetting,\n    IntegerSetting,\n    FloatSetting,\n    UnitSetting,\n    InterfaceLanguageSwitcher,\n    ScopeSelector,\n    ProfileSettingIndicator\n  },\n  computed: {\n    postFormats () {\n      return this.$store.state.instance.postFormats || []\n    },\n    postContentOptions () {\n      return this.postFormats.map(format => ({\n        key: format,\n        value: format,\n        label: this.$t(`post_status.content_type[\"${format}\"]`)\n      }))\n    },\n    language: {\n      get: function () { return this.$store.getters.mergedConfig.interfaceLanguage },\n      set: function (val) {\n        this.$store.dispatch('setOption', { name: 'interfaceLanguage', value: val })\n      }\n    },\n    instanceShoutboxPresent () { return this.$store.state.instance.shoutAvailable },\n    instanceSpecificPanelPresent () { return this.$store.state.instance.showInstanceSpecificPanel },\n    ...SharedComputedObject()\n  },\n  methods: {\n    changeDefaultScope (value) {\n      this.$store.dispatch('setProfileOption', { name: 'defaultScope', value })\n    }\n  }\n}\n\nexport default GeneralTab\n","<template>\n  <div :label=\"$t('settings.general')\">\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.interface') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <interface-language-switcher\n            :prompt-text=\"$t('settings.interfaceLanguage')\"\n            :language=\"language\"\n            :set-language=\"val => language = val\"\n          />\n        </li>\n        <li v-if=\"instanceSpecificPanelPresent\">\n          <BooleanSetting path=\"hideISP\">\n            {{ $t('settings.hide_isp') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"stopGifs\">\n            {{ $t('settings.stop_gifs') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"streaming\">\n            {{ $t('settings.streaming') }}\n          </BooleanSetting>\n          <ul class=\"setting-list suboptions\">\n            <li>\n              <BooleanSetting\n                path=\"pauseOnUnfocused\"\n                parent-path=\"streaming\"\n              >\n                {{ $t('settings.pause_on_unfocused') }}\n              </BooleanSetting>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"useStreamingApi\"\n            expert=\"1\"\n          >\n            {{ $t('settings.useStreamingApi') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"virtualScrolling\"\n            expert=\"1\"\n          >\n            {{ $t('settings.virtual_scrolling') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <ChoiceSetting\n            id=\"userPopoverAvatarAction\"\n            path=\"userPopoverAvatarAction\"\n            :options=\"userPopoverAvatarActionOptions\"\n            expert=\"1\"\n          >\n            {{ $t('settings.user_popover_avatar_action') }}\n          </ChoiceSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"userPopoverOverlay\"\n            expert=\"1\"\n          >\n            {{ $t('settings.user_popover_avatar_overlay') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"alwaysShowNewPostButton\"\n            expert=\"1\"\n          >\n            {{ $t('settings.always_show_post_button') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"autohideFloatingPostButton\"\n            expert=\"1\"\n          >\n            {{ $t('settings.autohide_floating_post_button') }}\n          </BooleanSetting>\n        </li>\n        <li v-if=\"instanceShoutboxPresent\">\n          <BooleanSetting\n            path=\"hideShoutbox\"\n            expert=\"1\"\n          >\n            {{ $t('settings.hide_shoutbox') }}\n          </BooleanSetting>\n        </li>\n        <li class=\"select-multiple\">\n          <span class=\"label\">{{ $t('settings.confirm_dialogs') }}</span>\n          <ul class=\"option-list\">\n            <li>\n              <BooleanSetting path=\"modalOnRepeat\">\n                {{ $t('settings.confirm_dialogs_repeat') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnUnfollow\">\n                {{ $t('settings.confirm_dialogs_unfollow') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnBlock\">\n                {{ $t('settings.confirm_dialogs_block') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnMute\">\n                {{ $t('settings.confirm_dialogs_mute') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnMuteConversation\">\n                {{ $t('settings.confirm_dialogs_mute_conversation') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnMuteDomain\">\n                {{ $t('settings.confirm_dialogs_mute_domain') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnDelete\">\n                {{ $t('settings.confirm_dialogs_delete') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnLogout\">\n                {{ $t('settings.confirm_dialogs_logout') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnApproveFollow\">\n                {{ $t('settings.confirm_dialogs_approve_follow') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnDenyFollow\">\n                {{ $t('settings.confirm_dialogs_deny_follow') }}\n              </BooleanSetting>\n            </li>\n            <li>\n              <BooleanSetting path=\"modalOnRemoveUserFromFollowers\">\n                {{ $t('settings.confirm_dialogs_remove_follower') }}\n              </BooleanSetting>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.post_look_feel') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <ChoiceSetting\n            id=\"conversationDisplay\"\n            path=\"conversationDisplay\"\n            :options=\"conversationDisplayOptions\"\n          >\n            {{ $t('settings.conversation_display') }}\n          </ChoiceSetting>\n        </li>\n        <ul\n          v-if=\"mergedConfig.conversationDisplay !== 'linear'\"\n          class=\"setting-list suboptions\"\n        >\n          <li>\n            <BooleanSetting path=\"conversationTreeAdvanced\">\n              {{ $t('settings.tree_advanced') }}\n            </BooleanSetting>\n          </li>\n          <li>\n            <BooleanSetting\n              path=\"conversationTreeFadeAncestors\"\n              :expert=\"1\"\n            >\n              {{ $t('settings.tree_fade_ancestors') }}\n            </BooleanSetting>\n          </li>\n          <li>\n            <IntegerSetting\n              path=\"maxDepthInThread\"\n              :min=\"3\"\n              :expert=\"1\"\n            >\n              {{ $t('settings.max_depth_in_thread') }}\n            </IntegerSetting>\n          </li>\n          <li>\n            <ChoiceSetting\n              id=\"conversationOtherRepliesButton\"\n              path=\"conversationOtherRepliesButton\"\n              :options=\"conversationOtherRepliesButtonOptions\"\n              :expert=\"1\"\n            >\n              {{ $t('settings.conversation_other_replies_button') }}\n            </ChoiceSetting>\n          </li>\n        </ul>\n        <li>\n          <BooleanSetting path=\"collapseMessageWithSubject\">\n            {{ $t('settings.collapse_subject') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"emojiReactionsOnTimeline\"\n            expert=\"1\"\n          >\n            {{ $t('settings.emoji_reactions_on_timeline') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            v-if=\"user\"\n            source=\"profile\"\n            path=\"stripRichContent\"\n            expert=\"1\"\n          >\n            {{ $t('settings.no_rich_text_description') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"useAbsoluteTimeFormat\"\n            expert=\"1\"\n          >\n            {{ $t('settings.absolute_time_format') }}\n          </BooleanSetting>\n        </li>\n        <ul\n          v-if=\"mergedConfig.useAbsoluteTimeFormat\"\n          class=\"setting-list suboptions\"\n        >\n          <li>\n            <UnitSetting\n              path=\"absoluteTimeFormatMinAge\"\n              unit-set=\"time\"\n              :units=\"['s', 'm', 'h', 'd']\"\n              :min=\"0\"\n            >\n              {{ $t('settings.absolute_time_format_min_age') }}\n            </UnitSetting>\n          </li>\n          <li>\n            <ChoiceSetting\n              id=\"absoluteTime12h\"\n              path=\"absoluteTime12h\"\n              :options=\"absoluteTime12hOptions\"\n              :expert=\"1\"\n            >\n              {{ $t('settings.absolute_time_format_12h') }}\n            </ChoiceSetting>\n          </li>\n        </ul>\n        <h3>{{ $t('settings.attachments') }}</h3>\n        <li>\n          <BooleanSetting\n            path=\"imageCompression\"\n            expert=\"1\"\n          >\n            {{ $t('settings.image_compression') }}\n          </BooleanSetting>\n        </li>\n        <ul class=\"setting-list suboptions\">\n          <li>\n            <BooleanSetting\n              path=\"alwaysUseJpeg\"\n              expert=\"1\"\n              parent-path=\"imageCompression\"\n            >\n              {{ $t('settings.always_use_jpeg') }}\n            </BooleanSetting>\n          </li>\n        </ul>\n        <li>\n          <BooleanSetting\n            path=\"useContainFit\"\n            expert=\"1\"\n          >\n            {{ $t('settings.use_contain_fit') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"hideNsfw\">\n            {{ $t('settings.nsfw_clickthrough') }}\n          </BooleanSetting>\n        </li>\n        <ul class=\"setting-list suboptions\">\n          <li>\n            <BooleanSetting\n              path=\"preloadImage\"\n              expert=\"1\"\n              parent-path=\"hideNsfw\"\n            >\n              {{ $t('settings.preload_images') }}\n            </BooleanSetting>\n          </li>\n          <li>\n            <BooleanSetting\n              path=\"useOneClickNsfw\"\n              expert=\"1\"\n              parent-path=\"hideNsfw\"\n            >\n              {{ $t('settings.use_one_click_nsfw') }}\n            </BooleanSetting>\n          </li>\n        </ul>\n        <li>\n          <BooleanSetting\n            path=\"loopVideo\"\n            expert=\"1\"\n          >\n            {{ $t('settings.loop_video') }}\n          </BooleanSetting>\n          <ul class=\"setting-list suboptions\">\n            <li>\n              <BooleanSetting\n                path=\"loopVideoSilentOnly\"\n                expert=\"1\"\n                parent-path=\"loopVideo\"\n                :disabled=\"!loopSilentAvailable\"\n              >\n                {{ $t('settings.loop_video_silent_only') }}\n              </BooleanSetting>\n              <div\n                v-if=\"!loopSilentAvailable\"\n                class=\"unavailable\"\n              >\n                <FAIcon icon=\"globe\" />! {{ $t('settings.limited_availability') }}\n              </div>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"playVideosInModal\"\n            expert=\"1\"\n          >\n            {{ $t('settings.play_videos_in_modal') }}\n          </BooleanSetting>\n        </li>\n        <h3>{{ $t('settings.mention_links') }}</h3>\n        <li>\n          <ChoiceSetting\n            id=\"mentionLinkDisplay\"\n            path=\"mentionLinkDisplay\"\n            :options=\"mentionLinkDisplayOptions\"\n          >\n            {{ $t('settings.mention_link_display') }}\n          </ChoiceSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"mentionLinkShowTooltip\"\n            expert=\"1\"\n          >\n            {{ $t('settings.mention_link_use_tooltip') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"mentionLinkShowAvatar\">\n            {{ $t('settings.mention_link_show_avatar') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"mentionLinkFadeDomain\"\n            expert=\"1\"\n          >\n            {{ $t('settings.mention_link_fade_domain') }}\n          </BooleanSetting>\n        </li>\n        <li v-if=\"user\">\n          <BooleanSetting\n            path=\"mentionLinkBoldenYou\"\n            expert=\"1\"\n          >\n            {{ $t('settings.mention_link_bolden_you') }}\n          </BooleanSetting>\n        </li>\n        <h3 v-if=\"expertLevel > 0\">\n          {{ $t('settings.fun') }}\n        </h3>\n        <li>\n          <BooleanSetting\n            path=\"greentext\"\n            expert=\"1\"\n          >\n            {{ $t('settings.greentext') }}\n          </BooleanSetting>\n        </li>\n        <li v-if=\"user\">\n          <BooleanSetting\n            path=\"mentionLinkShowYous\"\n            expert=\"1\"\n          >\n            {{ $t('settings.show_yous') }}\n          </BooleanSetting>\n        </li>\n      </ul>\n    </div>\n\n    <div\n      v-if=\"user\"\n      class=\"setting-item\"\n    >\n      <h2>{{ $t('settings.composing') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <label for=\"default-vis\">\n            {{ $t('settings.default_vis') }} <ProfileSettingIndicator :is-profile=\"true\" />\n            <ScopeSelector\n              class=\"scope-selector\"\n              :show-all=\"true\"\n              :user-default=\"$store.state.profileConfig.defaultScope\"\n              :initial-scope=\"$store.state.profileConfig.defaultScope\"\n              :on-scope-change=\"changeDefaultScope\"\n            />\n          </label>\n        </li>\n        <li>\n          <!-- <BooleanSetting source=\"profile\" path=\"defaultNSFW\"> -->\n          <BooleanSetting path=\"sensitiveByDefault\">\n            {{ $t('settings.sensitive_by_default') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"scopeCopy\"\n            expert=\"1\"\n          >\n            {{ $t('settings.scope_copy') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"alwaysShowSubjectInput\"\n            expert=\"1\"\n          >\n            {{ $t('settings.subject_input_always_show') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <ChoiceSetting\n            id=\"subjectLineBehavior\"\n            path=\"subjectLineBehavior\"\n            :options=\"subjectLineOptions\"\n            expert=\"1\"\n          >\n            {{ $t('settings.subject_line_behavior') }}\n          </ChoiceSetting>\n        </li>\n        <li v-if=\"postFormats.length > 0\">\n          <ChoiceSetting\n            id=\"postContentType\"\n            path=\"postContentType\"\n            :options=\"postContentOptions\"\n          >\n            {{ $t('settings.post_status_content_type') }}\n          </ChoiceSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"minimalScopesMode\"\n            expert=\"1\"\n          >\n            {{ $t('settings.minimal_scopes_mode') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"padEmoji\"\n            expert=\"1\"\n          >\n            {{ $t('settings.pad_emoji') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"autocompleteSelect\"\n            expert=\"1\"\n          >\n            {{ $t('settings.autocomplete_select_first') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"autoSaveDraft\"\n          >\n            {{ $t('settings.auto_save_draft') }}\n          </BooleanSetting>\n        </li>\n        <li v-if=\"!mergedConfig.autoSaveDraft\">\n          <ChoiceSetting\n            id=\"unsavedPostAction\"\n            path=\"unsavedPostAction\"\n            :options=\"unsavedPostActionOptions\"\n          >\n            {{ $t('settings.unsaved_post_action') }}\n          </ChoiceSetting>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script src=\"./general_tab.js\"></script>\n","import Select from 'src/components/select/select.vue'\nimport Setting from './setting.js'\n\nexport const allCssUnits = ['cm', 'mm', 'in', 'px', 'pt', 'pc', 'em', 'ex', 'ch', 'rem', 'vw', 'vh', 'vmin', 'vmax', '%']\nexport const defaultHorizontalUnits = ['px', 'rem', 'vw']\nexport const defaultVerticalUnits = ['px', 'rem', 'vh']\n\nexport default {\n  ...Setting,\n  components: {\n    ...Setting.components,\n    Select\n  },\n  props: {\n    ...Setting.props,\n    min: Number,\n    units: {\n      type: Array,\n      default: () => allCssUnits\n    },\n    unitSet: {\n      type: String,\n      default: 'none'\n    },\n    step: {\n      type: Number,\n      default: 1\n    },\n    resetDefault: {\n      type: Object,\n      default: null\n    }\n  },\n  computed: {\n    ...Setting.computed,\n    stateUnit () {\n      return typeof this.state === 'string' ? this.state.replace(/[0-9,.]+/, '') : ''\n    },\n    stateValue () {\n      return typeof this.state === 'string' ? this.state.replace(/[^0-9,.]+/, '') : ''\n    }\n  },\n  methods: {\n    ...Setting.methods,\n    getUnitString (value) {\n      if (this.unitSet === 'none') return value\n      return this.$t(['settings', 'units', this.unitSet, value].join('.'))\n    },\n    updateValue (e) {\n      this.configSink(this.path, parseFloat(e.target.value) + this.stateUnit)\n    },\n    updateUnit (e) {\n      let value = this.stateValue\n      const newUnit = e.target.value\n      if (this.resetDefault) {\n        const replaceValue = this.resetDefault[newUnit]\n        if (replaceValue != null) {\n          value = replaceValue\n        }\n      }\n      this.configSink(this.path, value + newUnit)\n    }\n  }\n}\n","<template>\n  <div\n    class=\"color-input style-control\"\n    :class=\"{ disabled: !present || disabled }\"\n  >\n    <label\n      :for=\"name\"\n      class=\"label\"\n      :class=\"{ faint: !present || disabled }\"\n    >\n      {{ label }}\n    </label>\n    <Checkbox\n      v-if=\"typeof fallback !== 'undefined' && showOptionalCheckbox && !hideOptionalCheckbox\"\n      :model-value=\"present\"\n      :disabled=\"disabled\"\n      class=\"opt\"\n      @update:model-value=\"updateValue(typeof modelValue === 'undefined' ? fallback : undefined)\"\n    />\n    <div\n      class=\"input color-input-field\"\n      :class=\"{ disabled: !present || disabled }\"\n    >\n      <input\n        :id=\"name + '-t'\"\n        class=\"textColor unstyled\"\n        :class=\"{ disabled: !present || disabled }\"\n        type=\"text\"\n        :value=\"modelValue || fallback\"\n        :disabled=\"!present || disabled\"\n        @input=\"updateValue($event.target.value)\"\n      >\n      <div\n        v-if=\"validColor\"\n        class=\"validIndicator\"\n        :style=\"{backgroundColor: modelValue || fallback}\"\n      />\n      <div\n        v-else-if=\"transparentColor\"\n        class=\"transparentIndicator\"\n      />\n      <div\n        v-else-if=\"computedColor\"\n        class=\"computedIndicator\"\n        :style=\"{backgroundColor: fallback}\"\n      />\n      <div\n        v-else\n        class=\"invalidIndicator\"\n      />\n      <label class=\"nativeColor\">\n        <FAIcon icon=\"eye-dropper\" />\n        <input\n          :id=\"name\"\n          class=\"unstyled\"\n          type=\"color\"\n          :value=\"modelValue || fallback\"\n          :disabled=\"!present || disabled\"\n          :class=\"{ disabled: !present || disabled }\"\n          @input=\"updateValue($event.target.value)\"\n        >\n      </label>\n    </div>\n  </div>\n</template>\n<script>\nimport Checkbox from '../checkbox/checkbox.vue'\nimport { hex2rgb } from '../../services/color_convert/color_convert.js'\nimport { throttle } from 'lodash'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faEyeDropper\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faEyeDropper\n)\n\nexport default {\n  components: {\n    Checkbox\n  },\n  props: {\n    // Name of color, used for identifying\n    name: {\n      required: true,\n      type: String\n    },\n    // Readable label\n    label: {\n      required: true,\n      type: String\n    },\n    // Color value, should be required but vue cannot tell the difference\n    // between \"property missing\" and \"property set to undefined\"\n    modelValue: {\n      required: false,\n      type: String,\n      default: undefined\n    },\n    // Color fallback to use when value is not defeind\n    fallback: {\n      required: false,\n      type: String,\n      default: undefined\n    },\n    // Disable the control\n    disabled: {\n      required: false,\n      type: Boolean,\n      default: false\n    },\n    // Show \"optional\" tickbox, for when value might become mandatory\n    showOptionalCheckbox: {\n      required: false,\n      type: Boolean,\n      default: true\n    },\n    // Force \"optional\" tickbox to hide\n    hideOptionalCheckbox: {\n      required: false,\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['update:modelValue'],\n  computed: {\n    present () {\n      return typeof this.modelValue !== 'undefined'\n    },\n    validColor () {\n      return hex2rgb(this.modelValue || this.fallback)\n    },\n    transparentColor () {\n      return this.modelValue === 'transparent'\n    },\n    computedColor () {\n      return this.modelValue && (this.modelValue.startsWith('--') || this.modelValue.startsWith('$'))\n    }\n  },\n  methods: {\n    updateValue: throttle(function (value) {\n      this.$emit('update:modelValue', value)\n    }, 100)\n  }\n}\n</script>\n<style lang=\"scss\" src=\"./color_input.scss\"></style>\n","<template>\n  <div\n    class=\"PaletteEditor\"\n    :class=\"{ '-compact': compact, '-apply': apply }\"\n  >\n    <ColorInput\n      v-for=\"key in paletteKeys\"\n      :key=\"key\"\n      :name=\"key\"\n      :model-value=\"props.modelValue[key]\"\n      :fallback=\"fallback(key)\"\n      :label=\"$t('settings.style.themes3.palette.' + key)\"\n      @update:model-value=\"value => updatePalette(key, value)\"\n    />\n    <button\n      class=\"btn button-default palette-import-button\"\n      @click=\"importPalette\"\n    >\n      <FAIcon icon=\"file-import\" />\n      {{ $t('settings.style.themes3.palette.import') }}\n    </button>\n    <button\n      class=\"btn button-default palette-export-button\"\n      @click=\"exportPalette\"\n    >\n      <FAIcon icon=\"file-export\" />\n      {{ $t('settings.style.themes3.palette.export') }}\n    </button>\n    <button\n      v-if=\"apply\"\n      class=\"btn button-default palette-apply-button\"\n      :disabled=\"disabled\"\n      :class=\"{ disabled }\"\n      @click=\"applyPalette\"\n    >\n      {{ $t('settings.style.themes3.palette.apply') }}\n    </button>\n  </div>\n</template>\n\n<script setup>\nimport ColorInput from 'src/components/color_input/color_input.vue'\nimport {\n  newImporter,\n  newExporter\n} from 'src/services/export_import/export_import.js'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faFileImport,\n  faFileExport\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faFileImport,\n  faFileExport\n)\n\nconst paletteKeys = [\n  'bg',\n  'fg',\n  'text',\n  'link',\n  'accent',\n  'cRed',\n  'cBlue',\n  'cGreen',\n  'cOrange',\n  'wallpaper'\n]\n\nconst props = defineProps(['modelValue', 'compact', 'apply', 'disabled'])\nconst emit = defineEmits(['update:modelValue', 'applyPalette'])\nconst getExportedObject = () => paletteKeys.reduce((acc, key) => {\n  const value = props.modelValue[key]\n  if (value == null) {\n    return acc\n  } else {\n    return { ...acc, [key]: props.modelValue[key] }\n  }\n}, {})\n\nconst paletteExporter = newExporter({\n  filename: 'pleroma_palette',\n  extension: 'json',\n  getExportedObject\n})\nconst paletteImporter = newImporter({\n  accept: '.json',\n  onImport (parsed) {\n    emit('update:modelValue', parsed)\n  }\n})\n\nconst exportPalette = () => {\n  paletteExporter.exportData()\n}\n\nconst importPalette = () => {\n  paletteImporter.importData()\n}\n\nconst applyPalette = () => {\n  emit('applyPalette', getExportedObject())\n}\n\nconst fallback = (key) => {\n  if (key === 'accent') {\n    return props.modelValue.link\n  }\n  if (key === 'link') {\n    return props.modelValue.accent\n  }\n  if (key.startsWith('extra')) {\n    return '#FF00FF'\n  }\n  if (key.startsWith('wallpaper')) {\n    return '#008080'\n  }\n}\n\nconst updatePalette = (paletteKey, value) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    [paletteKey]: value\n  })\n}\n</script>\n\n<style lang=\"scss\">\n.PaletteEditor {\n  display: grid;\n  justify-content: space-around;\n  grid-template-columns: repeat(4, 1fr);\n  grid-template-rows: repeat(5, 1fr) auto;\n  grid-gap: 0.5em;\n  align-items: baseline;\n\n  .palette-import-button {\n    grid-column: 1 / span 2;\n  }\n\n  .palette-export-button {\n    grid-column: 3 / span 2;\n  }\n\n  .palette-apply-button {\n    grid-column: 1 / span 2;\n  }\n\n  .color-input.style-control {\n    margin: 0;\n  }\n\n  &.-compact {\n    grid-template-columns: repeat(2, 1fr);\n    grid-template-rows: repeat(5, 1fr) auto;\n\n    .palette-import-button {\n      grid-column: 1;\n    }\n\n    .palette-export-button {\n      grid-column: 2;\n    }\n\n    &.-apply {\n      grid-template-rows: repeat(5, 1fr) auto auto;\n\n      .palette-apply-button {\n        grid-column: 1 / span 2;\n      }\n    }\n\n    .-mobile & {\n      grid-template-columns: 1fr;\n      grid-template-rows: repeat(10, 1fr) auto;\n\n      .palette-import-button {\n        grid-column: 1;\n      }\n\n      .palette-export-button {\n        grid-column: 1;\n      }\n\n      &.-apply {\n        .palette-apply-button {\n          grid-column: 1;\n        }\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"theme-preview-container\">\n    <div class=\"underlay underlay-preview\" />\n    <div class=\"panel dummy\">\n      <div class=\"panel-heading\">\n        <h1 class=\"title\">\n          {{ $t('settings.style.preview.header') }}\n          <span class=\"badge -notification\">\n            99\n          </span>\n        </h1>\n        <span class=\"faint\">\n          {{ $t('settings.style.preview.header_faint') }}\n        </span>\n        <span class=\"alert error\">\n          {{ $t('settings.style.preview.error') }}\n        </span>\n        <button class=\"btn button-default\">\n          {{ $t('settings.style.preview.button') }}\n        </button>\n      </div>\n      <div class=\"panel-body theme-preview-content\">\n        <div class=\"post\">\n          <div class=\"avatar still-image\">\n            ( ͡° ͜ʖ ͡°)\n          </div>\n          <div class=\"content\">\n            <h4>\n              {{ $t('settings.style.preview.content') }}\n            </h4>\n\n            <i18n-t\n              scope=\"global\"\n              keypath=\"settings.style.preview.text\"\n            >\n              <code style=\"font-family: var(--postCodeFont);\">\n                {{ $t('settings.style.preview.mono') }}\n              </code>\n              <a style=\"color: var(--link);\">\n                {{ $t('settings.style.preview.link') }}\n              </a>\n            </i18n-t>\n\n            <div class=\"icons\">\n              <FAIcon\n                fixed-width\n                style=\"color: var(--cBlue);\"\n                class=\"fa-scale-110 fa-old-padding\"\n                icon=\"reply\"\n              />\n              <FAIcon\n                fixed-width\n                style=\"color: var(--cGreen);\"\n                class=\"fa-scale-110 fa-old-padding\"\n                icon=\"retweet\"\n              />\n              <FAIcon\n                fixed-width\n                style=\"color: var(--cOrange);\"\n                class=\"fa-scale-110 fa-old-padding\"\n                icon=\"star\"\n              />\n              <FAIcon\n                fixed-width\n                style=\"color: var(--cRed);\"\n                class=\"fa-scale-110 fa-old-padding\"\n                icon=\"times\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div class=\"after-post\">\n          <div class=\"avatar-alt\">\n            :^)\n          </div>\n          <div class=\"content\">\n            <i18n-t\n              keypath=\"settings.style.preview.fine_print\"\n              tag=\"span\"\n              class=\"faint\"\n              scope=\"global\"\n            >\n              <a style=\"color: var(--linkFaint);\">\n                {{ $t('settings.style.preview.faint_link') }}\n              </a>\n            </i18n-t>\n          </div>\n        </div>\n        <div class=\"separator\" />\n\n        <span class=\"alert error\">\n          {{ $t('settings.style.preview.error') }}\n        </span>\n        <input\n          :value=\"$t('settings.style.preview.input')\"\n          type=\"text\"\n          class=\"input\"\n        >\n\n        <div class=\"actions\">\n          <Checkbox>\n            {{ $t('settings.style.preview.checkbox') }}\n          </Checkbox>\n          <button class=\"btn button-default\">\n            {{ $t('settings.style.preview.button') }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faTimes,\n  faStar,\n  faRetweet,\n  faReply\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faTimes,\n  faStar,\n  faRetweet,\n  faReply\n)\n\nexport default {\n  components: {\n    Checkbox\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.theme-preview-container {\n  position: relative;\n  border-top: 1px dashed;\n  border-bottom: 1px dashed;\n  border-color: var(--border);\n  margin: 1em 0;\n  padding: 1em;\n  background-color: var(--wallpaper);\n  background-image: var(--body-background-image);\n  background-size: cover;\n  background-position: 50% 50%;\n\n  .theme-preview-content {\n    padding: 20px;\n  }\n\n  .dummy {\n    .post {\n      font-family: var(--postFont);\n      display: flex;\n\n      .content {\n        flex: 1;\n\n        h4 {\n          margin-bottom: 0.25em;\n        }\n\n        .icons {\n          margin-top: 0.5em;\n          display: flex;\n\n          i {\n            margin-right: 1em;\n          }\n        }\n      }\n    }\n\n    .after-post {\n      margin-top: 1em;\n      display: flex;\n      align-items: center;\n    }\n\n    .avatar,\n    .avatar-alt {\n      background:\n        linear-gradient(\n          135deg,\n          #b8e1fc 0%,\n          #a9d2f3 10%,\n          #90bae4 25%,\n          #90bcea 37%,\n          #90bff0 50%,\n          #6ba8e5 51%,\n          #a2daf5 83%,\n          #bdf3fd 100%\n        );\n      color: black;\n      font-family: sans-serif;\n      text-align: center;\n      margin-right: 1em;\n    }\n\n    .avatar-alt {\n      flex: 0 auto;\n      margin-left: 28px;\n      font-size: 12px;\n      min-width: 20px;\n      min-height: 20px;\n      line-height: 20px;\n    }\n\n    .avatar {\n      flex: 0 auto;\n      width: 48px;\n      height: 48px;\n      font-size: 14px;\n      line-height: 48px;\n    }\n\n    .actions {\n      display: flex;\n      align-items: baseline;\n\n      .checkbox {\n        margin-right: 1em;\n        flex: 1;\n      }\n    }\n\n    .separator {\n      margin: 1em;\n      border-bottom: 1px solid;\n      border-color: var(--border);\n    }\n\n    .btn {\n      min-width: 3em;\n    }\n  }\n\n  .underlay-preview {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 10px;\n    right: 10px;\n  }\n}\n </style>\n","import Select from '../select/select.vue'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport Popover from 'src/components/popover/popover.vue'\nimport { useInterfaceStore } from 'src/stores/interface'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faExclamationTriangle,\n  faKeyboard,\n  faFont\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faExclamationTriangle,\n  faKeyboard,\n  faFont\n)\n\nexport default {\n  components: {\n    Select,\n    Checkbox,\n    Popover\n  },\n  props: [\n    'name', 'label', 'modelValue', 'fallback', 'options', 'no-inherit'\n  ],\n  mounted () {\n    useInterfaceStore().queryLocalFonts()\n  },\n  emits: ['update:modelValue'],\n  data () {\n    return {\n      manualEntry: false,\n      availableOptions: [\n        this.noInherit ? '' : 'inherit',\n        'serif',\n        'sans-serif',\n        'monospace',\n        ...(this.options || [])\n      ].filter(_ => _)\n    }\n  },\n  methods: {\n    toggleManualEntry () {\n      this.manualEntry = !this.manualEntry\n    }\n  },\n  computed: {\n    present () {\n      return typeof this.modelValue !== 'undefined'\n    },\n    localFontsList () {\n      return useInterfaceStore().localFonts\n    },\n    localFontsSize () {\n      return useInterfaceStore().localFonts?.length\n    }\n  }\n}\n","<template>\n  <div class=\"font-control\">\n    <label\n      :id=\"name + '-label'\"\n      :for=\"manualEntry ? name : name + '-font-switcher'\"\n      class=\"label\"\n    >\n      {{ $t('settings.style.themes3.font.label', { label }) }}\n    </label>\n    {{ ' ' }}\n    <Checkbox\n      v-if=\"typeof fallback !== 'undefined'\"\n      :id=\"name + '-o'\"\n      class=\"font-checkbox\"\n      :model-value=\"present\"\n      @change=\"$emit('update:modelValue', typeof modelValue === 'undefined' ? fallback : undefined)\"\n    >\n      {{ $t('settings.style.themes3.define') }}\n    </Checkbox>\n    <div\n      v-if=\"modelValue?.family\"\n      class=\"font-input\"\n    >\n      <label\n        v-if=\"manualEntry\"\n        :id=\"name + '-label'\"\n        :for=\"manualEntry ? name : name + '-font-switcher'\"\n        class=\"label\"\n      >\n        <i18n-t\n          keypath=\"settings.style.themes3.font.entry\"\n          tag=\"span\"\n          scope=\"global\"\n        >\n          <template #fontFamily>\n            <code>font-family</code>\n          </template>\n        </i18n-t>\n      </label>\n      <label\n        v-else\n        :id=\"name + '-label'\"\n        :for=\"manualEntry ? name : name + '-font-switcher'\"\n        class=\"label\"\n      >\n        {{ $t('settings.style.themes3.font.select') }}\n      </label>\n      {{ ' ' }}\n      <span\n        v-if=\"manualEntry\"\n        class=\"btn-group\"\n      >\n        <button\n          class=\"btn button-default\"\n          :title=\"$t('settings.style.themes3.font.lookup_local_fonts')\"\n          @click=\"toggleManualEntry\"\n        >\n          <FAIcon\n            fixed-width\n            icon=\"font\"\n          />\n        </button>\n        <input\n          :id=\"name\"\n          :model-value=\"modelValue.family\"\n          class=\"input custom-font\"\n          type=\"text\"\n          @update:modelValue=\"$emit('update:modelValue', { ...(modelValue || {}), family: $event.target.value })\"\n        >\n      </span>\n      <span\n        v-else\n        class=\"btn-group\"\n      >\n        <button\n          class=\"btn button-default\"\n          :title=\"$t('settings.style.themes3.font.enter_manually')\"\n          @click=\"toggleManualEntry\"\n        >\n          <FAIcon\n            fixed-width\n            icon=\"keyboard\"\n          />\n        </button>\n        <Select\n          :id=\"name + '-local-font-switcher'\"\n          :model-value=\"modelValue?.family\"\n          class=\"custom-font\"\n          @update:model-value=\"v => $emit('update:modelValue', { ...(modelValue || {}), family: v })\"\n        >\n          <optgroup\n            :label=\"$t('settings.style.themes3.font.group-builtin')\"\n          >\n            <option\n              v-for=\"option in availableOptions\"\n              :key=\"option\"\n              :value=\"option\"\n              :style=\"{ fontFamily: option === 'inherit' ? null : option }\"\n            >\n              {{ $t('settings.style.themes3.font.builtin.' + option) }}\n            </option>\n          </optgroup>\n          <optgroup\n            v-if=\"localFontsSize > 0\"\n            :label=\"$t('settings.style.themes3.font.group-local')\"\n          >\n            <option\n              v-for=\"option in localFontsList\"\n              :key=\"option\"\n              :value=\"option\"\n              :style=\"{ fontFamily: option }\"\n            >\n              {{ option }}\n            </option>\n          </optgroup>\n          <optgroup\n            v-else\n            :label=\"$t('settings.style.themes3.font.group-local')\"\n          >\n            <option disabled>\n              {{ $t('settings.style.themes3.font.local-unavailable1') }}\n            </option>\n            <option disabled>\n              {{ $t('settings.style.themes3.font.local-unavailable2') }}\n            </option>\n          </optgroup>\n        </Select>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script src=\"./font_control.js\"></script>\n\n<style lang=\"scss\">\n.font-control {\n  .custom-font {\n    min-width: 20em;\n    max-width: 20em;\n  }\n\n  .font-input {\n    margin-left: 2em;\n    margin-top: 0.5em;\n  }\n\n  .font-checkbox {\n    margin-left: 1em;\n  }\n}\n\n.invalid-tooltip {\n  margin: 0.5em 1em;\n  min-width: 10em;\n  text-align: center;\n}\n</style>\n","import BooleanSetting from '../helpers/boolean_setting.vue'\nimport ChoiceSetting from '../helpers/choice_setting.vue'\nimport IntegerSetting from '../helpers/integer_setting.vue'\nimport FloatSetting from '../helpers/float_setting.vue'\nimport UnitSetting from '../helpers/unit_setting.vue'\nimport { defaultHorizontalUnits } from '../helpers/unit_setting.js'\nimport PaletteEditor from 'src/components/palette_editor/palette_editor.vue'\nimport Preview from './theme_tab/theme_preview.vue'\nimport FontControl from 'src/components/font_control/font_control.vue'\n\nimport { newImporter } from 'src/services/export_import/export_import.js'\nimport { convertTheme2To3 } from 'src/services/theme_data/theme2_to_theme3.js'\nimport { init } from 'src/services/theme_data/theme_data_3.service.js'\nimport {\n  getCssRules,\n  getScopedVersion\n} from 'src/services/theme_data/css_utils.js'\nimport { deserialize } from 'src/services/theme_data/iss_deserializer.js'\n\nimport SharedComputedObject from '../helpers/shared_computed_object.js'\nimport ProfileSettingIndicator from '../helpers/profile_setting_indicator.vue'\n\nimport { mapActions } from 'pinia'\nimport { useInterfaceStore, normalizeThemeData } from 'src/stores/interface'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faGlobe\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faGlobe\n)\n\nconst AppearanceTab = {\n  data () {\n    return {\n      availableThemesV3: [],\n      availableThemesV2: [],\n      bundledPalettes: [],\n      compilationCache: {},\n      fileImporter: newImporter({\n        accept: '.json, .iss',\n        validator: this.importValidator,\n        onImport: this.onImport,\n        parser: this.importParser,\n        onImportFailure: this.onImportFailure\n      }),\n      palettesKeys: [\n        'bg',\n        'fg',\n        'link',\n        'text',\n        'cRed',\n        'cGreen',\n        'cBlue',\n        'cOrange'\n      ],\n      userPalette: {},\n      intersectionObserver: null,\n      thirdColumnModeOptions: ['none', 'notifications', 'postform'].map(mode => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.third_column_mode_${mode}`)\n      })),\n      forcedRoundnessOptions: ['disabled', 'sharp', 'nonsharp', 'round'].map((mode, i) => ({\n        key: mode,\n        value: i - 1,\n        label: this.$t(`settings.style.themes3.hacks.forced_roundness_mode_${mode}`)\n      })),\n      underlayOverrideModes: ['none', 'opaque', 'transparent'].map((mode) => ({\n        key: mode,\n        value: mode,\n        label: this.$t(`settings.style.themes3.hacks.underlay_override_mode_${mode}`)\n      }))\n    }\n  },\n  components: {\n    BooleanSetting,\n    ChoiceSetting,\n    IntegerSetting,\n    FloatSetting,\n    UnitSetting,\n    ProfileSettingIndicator,\n    FontControl,\n    Preview,\n    PaletteEditor\n  },\n  mounted () {\n    useInterfaceStore().getThemeData()\n\n    const updateIndex = (resource) => {\n      const capitalizedResource = resource[0].toUpperCase() + resource.slice(1)\n      const currentIndex = this.$store.state.instance[`${resource}sIndex`]\n\n      let promise\n      if (currentIndex) {\n        promise = Promise.resolve(currentIndex)\n      } else {\n        promise = useInterfaceStore()[`fetch${capitalizedResource}sIndex`]()\n      }\n\n      return promise.then(index => {\n        return Object\n          .entries(index)\n          .map(([k, func]) => [k, func()])\n      })\n    }\n\n    updateIndex('style').then(styles => {\n      styles.forEach(([key, stylePromise]) => stylePromise.then(data => {\n        const meta = data.find(x => x.component === '@meta')\n        this.availableThemesV3.push({ key, data, name: meta.directives.name, version: 'v3' })\n      }))\n    })\n\n    updateIndex('theme').then(themes => {\n      themes.forEach(([key, themePromise]) => themePromise.then(data => {\n        if (!data) {\n          console.warn(`Theme with key ${key} is empty or malformed`)\n        } else if (Array.isArray(data)) {\n          console.warn(`Theme with key ${key} is a v1 theme and should be moved to static/palettes/index.json`)\n        } else if (!data.source && !data.theme) {\n          console.warn(`Theme with key ${key} is malformed`)\n        } else {\n          this.availableThemesV2.push({ key, data, name: data.name, version: 'v2' })\n        }\n      }))\n    })\n\n    this.userPalette = useInterfaceStore().paletteDataUsed || {}\n\n    updateIndex('palette').then(bundledPalettes => {\n      bundledPalettes.forEach(([key, palettePromise]) => palettePromise.then(v => {\n        let palette\n        if (Array.isArray(v)) {\n          const [\n            name,\n            bg,\n            fg,\n            text,\n            link,\n            cRed = '#FF0000',\n            cGreen = '#00FF00',\n            cBlue = '#0000FF',\n            cOrange = '#E3FF00'\n          ] = v\n          palette = { key, name, bg, fg, text, link, cRed, cBlue, cGreen, cOrange }\n        } else {\n          palette = { key, ...v }\n        }\n        if (!palette.key.startsWith('style.')) {\n          this.bundledPalettes.push(palette)\n        }\n      }))\n    })\n\n    if (window.IntersectionObserver) {\n      this.intersectionObserver = new IntersectionObserver((entries, observer) => {\n        entries.forEach(({ target, isIntersecting }) => {\n          if (!isIntersecting) return\n          const theme = this.availableStyles.find(x => x.key === target.dataset.themeKey)\n          this.$nextTick(() => {\n            if (theme) theme.ready = true\n          })\n          observer.unobserve(target)\n        })\n      }, {\n        root: this.$refs.themeList\n      })\n    }\n  },\n  updated () {\n    this.$nextTick(() => {\n      this.$refs.themeList.querySelectorAll('.theme-preview').forEach(node => {\n        this.intersectionObserver.observe(node)\n      })\n    })\n  },\n  watch: {\n    paletteDataUsed () {\n      this.userPalette = this.paletteDataUsed || {}\n    }\n  },\n  computed: {\n    switchInProgress () {\n      return useInterfaceStore().themeChangeInProgress\n    },\n    paletteDataUsed () {\n      return useInterfaceStore().paletteDataUsed\n    },\n    availableStyles () {\n      return [\n        ...this.availableThemesV3,\n        ...this.availableThemesV2\n      ]\n    },\n    availablePalettes () {\n      return [\n        ...this.bundledPalettes,\n        ...this.stylePalettes\n      ]\n    },\n    stylePalettes () {\n      const ruleset = useInterfaceStore().styleDataUsed || []\n      if (!ruleset && ruleset.length === 0) return\n      const meta = ruleset.find(x => x.component === '@meta')\n      const result = ruleset.filter(x => x.component.startsWith('@palette'))\n        .map(x => {\n          const { variant, directives } = x\n          const {\n            bg,\n            fg,\n            text,\n            link,\n            accent,\n            cRed,\n            cBlue,\n            cGreen,\n            cOrange,\n            wallpaper\n          } = directives\n\n          const result = {\n            name: `${meta.directives.name || this.$t('settings.style.themes3.palette.imported')}: ${variant}`,\n            key: `style.${variant.toLowerCase().replace(/ /g, '_')}`,\n            bg,\n            fg,\n            text,\n            link,\n            accent,\n            cRed,\n            cBlue,\n            cGreen,\n            cOrange,\n            wallpaper\n          }\n          return Object.fromEntries(Object.entries(result).filter(([, v]) => v))\n        })\n      return result\n    },\n    noIntersectionObserver () {\n      return !window.IntersectionObserver\n    },\n    horizontalUnits () {\n      return defaultHorizontalUnits\n    },\n    fontsOverride () {\n      return this.$store.getters.mergedConfig.fontsOverride\n    },\n    columns () {\n      const mode = this.$store.getters.mergedConfig.thirdColumnMode\n\n      const notif = mode === 'none' ? [] : ['notifs']\n\n      if (this.$store.getters.mergedConfig.sidebarRight || mode === 'postform') {\n        return [...notif, 'content', 'sidebar']\n      } else {\n        return ['sidebar', 'content', ...notif]\n      }\n    },\n    instanceWallpaperUsed () {\n      return this.$store.state.instance.background &&\n        !this.$store.state.users.currentUser.background_image\n    },\n    language: {\n      get: function () { return this.$store.getters.mergedConfig.interfaceLanguage },\n      set: function (val) {\n        this.$store.dispatch('setOption', { name: 'interfaceLanguage', value: val })\n      }\n    },\n    customThemeVersion () {\n      const { themeVersion } = useInterfaceStore()\n      return themeVersion\n    },\n    isCustomThemeUsed () {\n      const { customTheme, customThemeSource } = this.mergedConfig\n      return customTheme != null || customThemeSource != null\n    },\n    isCustomStyleUsed () {\n      const { styleCustomData } = this.mergedConfig\n      return styleCustomData != null\n    },\n    ...SharedComputedObject()\n  },\n  methods: {\n    updateFont (key, value) {\n      this.$store.dispatch('setOption', {\n        name: 'theme3hacks',\n        value: {\n          ...this.mergedConfig.theme3hacks,\n          fonts: {\n            ...this.mergedConfig.theme3hacks.fonts,\n            [key]: value\n          }\n        }\n      })\n    },\n    importFile () {\n      this.fileImporter.importData()\n    },\n    importParser (file, filename) {\n      if (filename.endsWith('.json')) {\n        return JSON.parse(file)\n      } else if (filename.endsWith('.iss')) {\n        return deserialize(file)\n      }\n    },\n    onImport (parsed, filename) {\n      if (filename.endsWith('.json')) {\n        useInterfaceStore().setThemeCustom(parsed.source || parsed.theme)\n      } else if (filename.endsWith('.iss')) {\n        useInterfaceStore().setStyleCustom(parsed)\n      }\n    },\n    onImportFailure (result) {\n      console.error('Failure importing theme:', result)\n      this.$store.useInterfaceStore().pushGlobalNotice({ messageKey: 'settings.invalid_theme_imported', level: 'error' })\n    },\n    importValidator (parsed, filename) {\n      if (filename.endsWith('.json')) {\n        const version = parsed._pleroma_theme_version\n        return version >= 1 || version <= 2\n      } else if (filename.endsWith('.iss')) {\n        if (!Array.isArray(parsed)) return false\n        if (parsed.length < 1) return false\n        if (parsed.find(x => x.component === '@meta') == null) return false\n        return true\n      }\n    },\n    isThemeActive (key) {\n      return key === (this.mergedConfig.theme || this.$store.state.instance.theme)\n    },\n    isStyleActive (key) {\n      return key === (this.mergedConfig.style || this.$store.state.instance.style)\n    },\n    isPaletteActive (key) {\n      return key === (this.mergedConfig.palette || this.$store.state.instance.palette)\n    },\n    ...mapActions(useInterfaceStore, [\n      'setStyle',\n      'setTheme'\n    ]),\n    setPalette (name, data) {\n      useInterfaceStore().setPalette(name)\n      this.userPalette = data\n    },\n    setPaletteCustom (data) {\n      useInterfaceStore().setPaletteCustom(data)\n      this.userPalette = data\n    },\n    resetTheming () {\n      useInterfaceStore().setStyle('stock')\n    },\n    previewTheme (key, version, input) {\n      let theme3\n      if (this.compilationCache[key]) {\n        theme3 = this.compilationCache[key]\n      } else if (input) {\n        if (version === 'v2') {\n          const style = normalizeThemeData(input)\n          const theme2 = convertTheme2To3(style)\n          theme3 = init({\n            inputRuleset: theme2,\n            ultimateBackgroundColor: '#000000',\n            liteMode: true,\n            debug: true,\n            onlyNormalState: true\n          })\n        } else if (version === 'v3') {\n          const palette = input.find(x => x.component === '@palette')\n          let paletteRule\n          if (palette) {\n            const { directives } = palette\n            directives.link = directives.link || directives.accent\n            directives.accent = directives.accent || directives.link\n            paletteRule = {\n              component: 'Root',\n              directives: Object.fromEntries(\n                Object\n                  .entries(directives)\n                  .filter(([k]) => k && k !== 'name')\n                  .map(([k, v]) => ['--' + k, 'color | ' + v])\n              )\n            }\n          } else {\n            paletteRule = null\n          }\n\n          theme3 = init({\n            inputRuleset: [...input, paletteRule].filter(x => x),\n            ultimateBackgroundColor: '#000000',\n            liteMode: true,\n            debug: true,\n            onlyNormalState: true\n          })\n        }\n      } else {\n        theme3 = init({\n          inputRuleset: [],\n          ultimateBackgroundColor: '#000000',\n          liteMode: true,\n          debug: true,\n          onlyNormalState: true\n        })\n      }\n\n      if (!this.compilationCache[key]) {\n        this.compilationCache[key] = theme3\n      }\n\n      return getScopedVersion(\n        getCssRules(theme3.eager),\n        '#theme-preview-' + key\n      ).join('\\n')\n    }\n  }\n}\n\nexport default AppearanceTab\n","<template>\n  <div\n    class=\"appearance-tab\"\n    :label=\"$t('settings.general')\"\n  >\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.theme') }}</h2>\n      <ul\n        ref=\"themeList\"\n        class=\"theme-list\"\n      >\n        <button\n          class=\"button-default theme-preview\"\n          data-theme-key=\"stock\"\n          :class=\"{ toggled: isStyleActive('stock'), disabled: switchInProgress }\"\n          :disabled=\"switchInProgress\"\n          @click=\"resetTheming\"\n        >\n          <!-- eslint-disable vue/no-v-text-v-html-on-component -->\n          <!-- eslint-disable vue/no-v-html -->\n          <component\n            :is=\"'style'\"\n            v-html=\"previewTheme('stock', 'v3')\"\n          />\n          <!-- eslint-enable vue/no-v-html -->\n          <!-- eslint-enable vue/no-v-text-v-html-on-component -->\n          <preview id=\"theme-preview-stock\" />\n          <h4 class=\"theme-name\">\n            {{ $t('settings.style.stock_theme_used') }}\n            <span class=\"alert neutral version\">v3</span>\n          </h4>\n        </button>\n        <button\n          v-if=\"isCustomThemeUsed\"\n          disabled\n          class=\"button-default theme-preview toggled\"\n        >\n          <preview />\n          <h4 class=\"theme-name\">\n            {{ $t('settings.style.custom_theme_used') }}\n            <span class=\"alert neutral version\">v2</span>\n          </h4>\n        </button>\n        <button\n          v-if=\"isCustomStyleUsed\"\n          disabled\n          class=\"button-default theme-preview toggled\"\n        >\n          <preview />\n          <h4 class=\"theme-name\">\n            {{ $t('settings.style.custom_style_used') }}\n            <span class=\"alert neutral version\">v3</span>\n          </h4>\n        </button>\n        <button\n          v-for=\"style in availableStyles\"\n          :key=\"style.key\"\n          :data-theme-key=\"style.key\"\n          class=\"button-default theme-preview\"\n          :class=\"{ toggled: isThemeActive(style.key), disabled: switchInProgress }\"\n          :disabled=\"switchInProgress\"\n          @click=\"style.version === 'v2' ? setTheme(style.key) : setStyle(style.key)\"\n        >\n          <!-- eslint-disable vue/no-v-text-v-html-on-component -->\n          <!-- eslint-disable vue/no-v-html -->\n          <div v-if=\"style.ready || noIntersectionObserver\">\n            <component\n              :is=\"'style'\"\n              v-html=\"previewTheme(style.key, style.version, style.data)\"\n            />\n          </div>\n          <!-- eslint-enable vue/no-v-html -->\n          <!-- eslint-enable vue/no-v-text-v-html-on-component -->\n          <preview :id=\"'theme-preview-' + style.key\" />\n          <h4 class=\"theme-name\">\n            {{ style.name }}\n            <span class=\"alert neutral version\">{{ style.version }}</span>\n          </h4>\n        </button>\n      </ul>\n      <div class=\"import-file-container\">\n        <button\n          class=\"btn button-default\"\n          :class=\"{ disabled: switchInProgress }\"\n          :disabled=\"switchInProgress\"\n          @click=\"importFile\"\n        >\n          <FAIcon icon=\"folder-open\" />\n          {{ $t('settings.style.themes3.editor.load_style') }}\n        </button>\n      </div>\n      <div class=\"setting-item\">\n        <h2>{{ $t('settings.style.themes3.palette.label') }}</h2>\n        <div\n          v-if=\"customThemeVersion === 'v3'\"\n          class=\"palettes-container\"\n        >\n          <h4 v-if=\"stylePalettes?.length > 0\">\n            {{ $t('settings.style.themes3.palette.style') }}\n          </h4>\n          <div class=\"palettes\">\n            <button\n              v-for=\"p in stylePalettes || []\"\n              :key=\"p.name\"\n              class=\"btn button-default palette-entry\"\n              :class=\"{ toggled: isPaletteActive(p.key), disabled: switchInProgress }\"\n              :disabled=\"switchInProgress\"\n              @click=\"() => setPalette(p.key, p)\"\n            >\n              <div class=\"palette-label\">\n                <label>\n                  {{ p.name ?? $t('settings.style.themes3.palette.user') }}\n                </label>\n              </div>\n              <div class=\"palette-preview\">\n                <span\n                  v-for=\"c in palettesKeys\"\n                  :key=\"c\"\n                  class=\"palette-square\"\n                  :style=\"{ backgroundColor: p[c], border: '1px solid ' + (p[c] ?? 'var(--text)') }\"\n                />\n              </div>\n            </button>\n            <h4>{{ $t('settings.style.themes3.palette.bundled') }}</h4>\n            <button\n              v-for=\"p in bundledPalettes\"\n              :key=\"p.name\"\n              class=\"btn button-default palette-entry\"\n              :class=\"{ toggled: isPaletteActive(p.key), disabled: switchInProgress }\"\n              :disabled=\"switchInProgress\"\n              @click=\"() => setPalette(p.key, p)\"\n            >\n              <div class=\"palette-label\">\n                <label>\n                  {{ p.name }}\n                </label>\n              </div>\n              <div class=\"palette-preview\">\n                <span\n                  v-for=\"c in palettesKeys\"\n                  :key=\"c\"\n                  class=\"palette-square\"\n                  :style=\"{ backgroundColor: p[c], border: '1px solid ' + (p[c] ?? 'var(--text)') }\"\n                />\n              </div>\n            </button>\n          </div>\n        </div>\n        <div>\n          <template v-if=\"customThemeVersion === 'v3'\">\n            <h4 v-if=\"expertLevel > 0\">\n              {{ $t('settings.style.themes3.palette.user') }}\n            </h4>\n            <PaletteEditor\n              v-if=\"expertLevel > 0\"\n              v-model=\"userPalette\"\n              class=\"userPalette\"\n              :compact=\"true\"\n              :apply=\"true\"\n              :disabled=\"switchInProgress\"\n              @apply-palette=\"data => setPaletteCustom(data)\"\n            />\n          </template>\n          <template v-else-if=\"customThemeVersion === 'v2'\">\n            <div class=\"alert neutral theme-notice unsupported-theme-v2\">\n              {{ $t('settings.style.themes3.palette.v2_unsupported') }}\n            </div>\n          </template>\n        </div>\n      </div>\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.scale_and_layout') }}</h2>\n      <div class=\"alert neutral theme-notice\">\n        {{ $t(\"settings.style.appearance_tab_note\") }}\n      </div>\n      <ul class=\"setting-list\">\n        <li>\n          <UnitSetting\n            path=\"textSize\"\n            :step=\"0.1\"\n            :units=\"['px', 'rem']\"\n            :reset-default=\"{ 'px': 14, 'rem': 1 }\"\n            timed-apply-mode\n          >\n            {{ $t('settings.text_size') }}\n          </UnitSetting>\n          <div>\n            <small>\n              <i18n-t\n                scope=\"global\"\n                keypath=\"settings.text_size_tip\"\n                tag=\"span\"\n              >\n                <code>px</code>\n                <code>rem</code>\n              </i18n-t>\n              <br>\n              <i18n-t\n                scope=\"global\"\n                keypath=\"settings.text_size_tip2\"\n                tag=\"span\"\n              >\n                <code>14px</code>\n              </i18n-t>\n            </small>\n          </div>\n        </li>\n        <li>\n          <UnitSetting\n            path=\"emojiSize\"\n            :step=\"0.1\"\n            :units=\"['px', 'rem']\"\n            :reset-default=\"{ 'px': 32, 'rem': 2.2 }\"\n          >\n            {{ $t('settings.emoji_size') }}\n          </UnitSetting>\n          <ul\n            class=\"setting-list suboptions\"\n          >\n            <li>\n              <FloatSetting\n                v-if=\"user\"\n                path=\"emojiReactionsScale\"\n                expert=\"1\"\n              >\n                {{ $t('settings.emoji_reactions_scale') }}\n              </FloatSetting>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <UnitSetting\n            path=\"navbarSize\"\n            :step=\"0.1\"\n            :units=\"['px', 'rem']\"\n            :reset-default=\"{ 'px': 55, 'rem': 3.5 }\"\n          >\n            {{ $t('settings.navbar_size') }}\n          </UnitSetting>\n        </li>\n        <h3>{{ $t('settings.style.interface_font_user_override') }}</h3>\n        <li>\n          <FontControl\n            :model-value=\"mergedConfig.theme3hacks.fonts.interface\"\n            name=\"ui\"\n            :label=\"$t('settings.style.fonts.components.interface')\"\n            :fallback=\"{ family: 'sans-serif' }\"\n            no-inherit=\"1\"\n            @update:model-value=\"v => updateFont('interface', v)\"\n          />\n        </li>\n        <li>\n          <FontControl\n            v-if=\"expertLevel > 0\"\n            :model-value=\"mergedConfig.theme3hacks.fonts.input\"\n            name=\"input\"\n            :fallback=\"{ family: 'inherit' }\"\n            :label=\"$t('settings.style.fonts.components.input')\"\n            @update:model-value=\"v => updateFont('input', v)\"\n          />\n        </li>\n        <li>\n          <FontControl\n            v-if=\"expertLevel > 0\"\n            :model-value=\"mergedConfig.theme3hacks.fonts.post\"\n            name=\"post\"\n            :fallback=\"{ family: 'inherit' }\"\n            :label=\"$t('settings.style.fonts.components.post')\"\n            @update:model-value=\"v => updateFont('post', v)\"\n          />\n        </li>\n        <li>\n          <FontControl\n            v-if=\"expertLevel > 0\"\n            :model-value=\"mergedConfig.theme3hacks.fonts.monospace\"\n            name=\"postCode\"\n            :fallback=\"{ family: 'monospace' }\"\n            :label=\"$t('settings.style.fonts.components.monospace')\"\n            @update:model-value=\"v => updateFont('monospace', v)\"\n          />\n        </li>\n        <h3>{{ $t('settings.columns') }}</h3>\n        <li>\n          <UnitSetting\n            path=\"panelHeaderSize\"\n            :step=\"0.1\"\n            :units=\"['px', 'rem']\"\n            :reset-default=\"{ 'px': 52, 'rem': 3.2 }\"\n            timed-apply-mode\n          >\n            {{ $t('settings.panel_header_size') }}\n          </UnitSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"sidebarRight\">\n            {{ $t('settings.right_sidebar') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"navbarColumnStretch\">\n            {{ $t('settings.navbar_column_stretch') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <ChoiceSetting\n            v-if=\"user\"\n            id=\"thirdColumnMode\"\n            path=\"thirdColumnMode\"\n            :options=\"thirdColumnModeOptions\"\n          >\n            {{ $t('settings.third_column_mode') }}\n          </ChoiceSetting>\n        </li>\n        <li v-if=\"expertLevel > 0\">\n          {{ $t('settings.column_sizes') }}\n          <div class=\"column-settings\">\n            <UnitSetting\n              v-for=\"column in columns\"\n              :key=\"column\"\n              :path=\"column + 'ColumnWidth'\"\n              :units=\"horizontalUnits\"\n              expert=\"1\"\n            >\n              {{ $t('settings.column_sizes_' + column) }}\n            </UnitSetting>\n          </div>\n        </li>\n        <li>\n          <BooleanSetting path=\"disableStickyHeaders\">\n            {{ $t('settings.disable_sticky_headers') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting path=\"showScrollbars\">\n            {{ $t('settings.show_scrollbars') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <UnitSetting\n            path=\"themeEditorMinWidth\"\n            :units=\"['px', 'rem']\"\n            expert=\"1\"\n          >\n            {{ $t('settings.theme_editor_min_width') }}\n          </UnitSetting>\n        </li>\n      </ul>\n    </div>\n    <div class=\"setting-item\">\n      <h2>{{ $t('settings.visual_tweaks') }}</h2>\n      <ul class=\"setting-list\">\n        <li>\n          <BooleanSetting path=\"modalMobileCenter\">\n            {{ $t('settings.mobile_center_dialog') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <ChoiceSetting\n            id=\"forcedRoundness\"\n            path=\"forcedRoundness\"\n            :options=\"forcedRoundnessOptions\"\n          >\n            {{ $t('settings.style.themes3.hacks.force_interface_roundness') }}\n          </ChoiceSetting>\n        </li>\n        <li>\n          <ChoiceSetting\n            id=\"underlayOverride\"\n            path=\"theme3hacks.underlay\"\n            :options=\"underlayOverrideModes\"\n          >\n            {{ $t('settings.style.themes3.hacks.underlay_overrides') }}\n          </ChoiceSetting>\n        </li>\n        <li v-if=\"instanceWallpaperUsed\">\n          <BooleanSetting path=\"hideInstanceWallpaper\">\n            {{ $t('settings.hide_wallpaper') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"forceThemeRecompilation\"\n            :expert=\"1\"\n          >\n            {{ $t('settings.force_theme_recompilation_debug') }}\n          </BooleanSetting>\n        </li>\n        <li>\n          <BooleanSetting\n            path=\"themeDebug\"\n            :expert=\"1\"\n          >\n            {{ $t('settings.theme_debug') }}\n          </BooleanSetting>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script src=\"./appearance_tab.js\"></script>\n\n<style lang=\"scss\" src=\"./appearance_tab.scss\"></style>\n","const pleromaFeCommitUrl = 'https://git.pleroma.social/pleroma/pleroma-fe/commit/'\n\nconst VersionTab = {\n  data () {\n    const instance = this.$store.state.instance\n    return {\n      backendVersion: instance.backendVersion,\n      backendRepository: instance.backendRepository,\n      frontendVersion: instance.frontendVersion\n    }\n  },\n  computed: {\n    frontendVersionLink () {\n      return pleromaFeCommitUrl + this.frontendVersion\n    }\n  }\n}\n\nexport default VersionTab\n","<template>\n  <div :label=\"$t('settings.version.title')\">\n    <div class=\"setting-item\">\n      <ul class=\"setting-list\">\n        <li>\n          <p>{{ $t('settings.version.backend_version') }}</p>\n          <ul class=\"option-list\">\n            <li>\n              <a\n                :href=\"backendRepository\"\n                target=\"_blank\"\n              >{{ backendVersion }}</a>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <p>{{ $t('settings.version.frontend_version') }}</p>\n          <ul class=\"option-list\">\n            <li>\n              <a\n                :href=\"frontendVersionLink\"\n                target=\"_blank\"\n              >{{ frontendVersion }}</a>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n<script src=\"./version_tab.js\" />\n","<template>\n  <div\n    class=\"range-control style-control\"\n    :class=\"{ disabled: !present || disabled }\"\n  >\n    <label\n      :id=\"name + '-label'\"\n      :for=\"name\"\n      class=\"label\"\n    >\n      {{ label }}\n    </label>\n    <input\n      v-if=\"typeof fallback !== 'undefined'\"\n      :id=\"name + '-o'\"\n      :aria-labelledby=\"name + '-label'\"\n      class=\"input -checkbox opt visible-for-screenreader-only\"\n      type=\"checkbox\"\n      :checked=\"present\"\n      @change=\"$emit('update:modelValue', !present ? fallback : undefined)\"\n    >\n    <label\n      v-if=\"typeof fallback !== 'undefined'\"\n      class=\"opt-l\"\n      :for=\"name + '-o'\"\n      :aria-hidden=\"true\"\n    />\n    <input\n      :id=\"name\"\n      class=\"input input-number\"\n      type=\"range\"\n      :value=\"modelValue || fallback\"\n      :disabled=\"!present || disabled\"\n      :max=\"max || hardMax || 100\"\n      :min=\"min || hardMin || 0\"\n      :step=\"step || 1\"\n      @input=\"$emit('update:modelValue', $event.target.value)\"\n    >\n    <input\n      :id=\"name + '-numeric'\"\n      class=\"input input-number\"\n      type=\"number\"\n      :aria-labelledby=\"name + '-label'\"\n      :value=\"modelValue || fallback\"\n      :disabled=\"!present || disabled\"\n      :max=\"hardMax\"\n      :min=\"hardMin\"\n      :step=\"step || 1\"\n      @input=\"$emit('update:modelValue', $event.target.value)\"\n    >\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\n    'name', 'modelValue', 'fallback', 'disabled', 'label', 'max', 'min', 'step', 'hardMin', 'hardMax'\n  ],\n  emits: ['update:modelValue'],\n  computed: {\n    present () {\n      return typeof this.modelValue !== 'undefined'\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"opacity-control style-control\"\n    :class=\"{ disabled: !present || disabled }\"\n  >\n    <label\n      :for=\"name\"\n      class=\"label\"\n      :class=\"{ faint: !present || disabled }\"\n    >\n      {{ label }}\n    </label>\n    <Checkbox\n      v-if=\"typeof fallback !== 'undefined'\"\n      :model-value=\"present\"\n      :disabled=\"disabled\"\n      class=\"opt\"\n      @update:model-value=\"$emit('update:modelValue', !present ? fallback : undefined)\"\n    />\n    <input\n      :id=\"name\"\n      class=\"input input-number\"\n      type=\"number\"\n      :value=\"modelValue || fallback\"\n      :disabled=\"!present || disabled\"\n      :class=\"{ disabled: !present || disabled }\"\n      max=\"1\"\n      min=\"0\"\n      step=\".05\"\n      @input=\"$emit('update:modelValue', $event.target.value)\"\n    >\n  </div>\n</template>\n\n<script>\nimport Checkbox from '../checkbox/checkbox.vue'\nexport default {\n  components: {\n    Checkbox\n  },\n  props: [\n    'name', 'label', 'modelValue', 'fallback', 'disabled'\n  ],\n  emits: ['update:modelValue'],\n  computed: {\n    present () {\n      return typeof this.modelValue !== 'undefined'\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"SelectMotion btn-group\"\n  >\n    <button\n      class=\"btn button-default\"\n      :disabled=\"disabled\"\n      @click=\"add\"\n    >\n      <FAIcon\n        fixed-width\n        icon=\"plus\"\n      />\n    </button>\n    <button\n      class=\"btn button-default\"\n      :disabled=\"disabled || !moveUpValid\"\n      :class=\"{ disabled: disabled || !moveUpValid }\"\n      @click=\"moveUp\"\n    >\n      <FAIcon\n        fixed-width\n        icon=\"chevron-up\"\n      />\n    </button>\n    <button\n      class=\"btn button-default\"\n      :disabled=\"disabled || !moveDnValid\"\n      :class=\"{ disabled: disabled || !moveDnValid }\"\n      @click=\"moveDn\"\n    >\n      <FAIcon\n        fixed-width\n        icon=\"chevron-down\"\n      />\n    </button>\n    <button\n      class=\"btn button-default\"\n      :disabled=\"disabled || !present\"\n      :class=\"{ disabled: disabled || !present }\"\n      @click=\"del\"\n    >\n      <FAIcon\n        fixed-width\n        icon=\"times\"\n      />\n    </button>\n  </div>\n</template>\n\n<script setup>\nimport { computed, defineEmits, defineProps, nextTick } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Array,\n    required: true\n  },\n  selectedId: {\n    type: Number,\n    required: true\n  },\n  disabled: {\n    type: Boolean,\n    default: false\n  },\n  getAddValue: {\n    type: Function,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'update:selectedId'])\n\nconst moveUpValid = computed(() => {\n  return props.selectedId > 0\n})\n\nconst present = computed(() => props.modelValue[props.selectedId] != null)\n\nconst moveUp = async () => {\n  const newModel = [...props.modelValue]\n  const movable = newModel.splice(props.selectedId, 1)[0]\n  newModel.splice(props.selectedId - 1, 0, movable)\n\n  emit('update:modelValue', newModel)\n  await nextTick()\n  emit('update:selectedId', props.selectedId - 1)\n}\n\nconst moveDnValid = computed(() => {\n  return props.selectedId < props.modelValue.length - 1\n})\n\nconst moveDn = async () => {\n  const newModel = [...props.modelValue]\n  const movable = newModel.splice(props.selectedId.value, 1)[0]\n  newModel.splice(props.selectedId + 1, 0, movable)\n\n  emit('update:modelValue', newModel)\n  await nextTick()\n  emit('update:selectedId', props.selectedId + 1)\n}\n\nconst add = async () => {\n  const newModel = [...props.modelValue, props.getAddValue()]\n\n  emit('update:modelValue', newModel)\n  await nextTick()\n  emit('update:selectedId', Math.max(newModel.length - 1, 0))\n}\n\nconst del = async () => {\n  const newModel = [...props.modelValue]\n  newModel.splice(props.selectedId, 1)\n\n  emit('update:modelValue', newModel)\n  await nextTick()\n  emit('update:selectedId', newModel.length === 0 ? undefined : Math.max(props.selectedId - 1, 0))\n}\n</script>\n\n<style lang=\"scss\">\n.SelectMotion {\n  flex: 0 0 auto;\n  display: grid;\n  grid-auto-columns: 1fr;\n  grid-auto-flow: column;\n  margin-top: 0.25em;\n\n  .button-default {\n    margin: 0;\n    padding: 0;\n  }\n}\n</style>\n","<template>\n  <div\n    class=\"ComponentPreview\"\n    :class=\"{ '-shadow-controls': shadowControl }\"\n  >\n    <!-- eslint-disable vue/no-v-html vue/no-v-text-v-html-on-component -->\n    <component\n      :is=\"'style'\"\n      v-html=\"previewCss\"\n    />\n    <!-- eslint-enable vue/no-v-html vue/no-v-text-v-html-on-component -->\n    <label\n      v-show=\"shadowControl\"\n      role=\"heading\"\n      class=\"header\"\n      :class=\"{ faint: disabled }\"\n    >\n      {{ $t('settings.style.shadows.offset') }}\n    </label>\n    <label\n      v-show=\"shadowControl && !hideControls\"\n      class=\"x-shift-number\"\n    >\n      {{ $t('settings.style.shadows.offset-x') }}\n      <input\n        :value=\"shadow?.x\"\n        :disabled=\"disabled\"\n        :class=\"{ disabled }\"\n        class=\"input input-number\"\n        type=\"number\"\n        @input=\"e => updateProperty('x', e.target.value)\"\n      >\n    </label>\n    <label\n      v-show=\"shadowControl && !hideControls\"\n      class=\"y-shift-number\"\n    >\n      {{ $t('settings.style.shadows.offset-y') }}\n      <input\n        :value=\"shadow?.y\"\n        :disabled=\"disabled\"\n        :class=\"{ disabled }\"\n        class=\"input input-number\"\n        type=\"number\"\n        @input=\"e => updateProperty('y', e.target.value)\"\n      >\n    </label>\n    <input\n      v-show=\"shadowControl && !hideControls\"\n      :value=\"shadow?.x\"\n      :disabled=\"disabled\"\n      :class=\"{ disabled }\"\n      class=\"input input-range x-shift-slider\"\n      type=\"range\"\n      max=\"20\"\n      min=\"-20\"\n      @input=\"e => updateProperty('x', e.target.value)\"\n    >\n    <input\n      v-show=\"shadowControl && !hideControls\"\n      :value=\"shadow?.y\"\n      :disabled=\"disabled\"\n      :class=\"{ disabled }\"\n      class=\"input input-range y-shift-slider\"\n      type=\"range\"\n      max=\"20\"\n      min=\"-20\"\n      @input=\"e => updateProperty('y', e.target.value)\"\n    >\n    <div\n      class=\"preview-window\"\n      :class=\"{ '-light-grid': lightGrid }\"\n    >\n      <div\n        class=\"preview-block\"\n        :class=\"previewClass\"\n        :style=\"style\"\n      >\n        {{ $t('settings.style.themes3.editor.test_string') }}\n      </div>\n      <div\n        v-if=\"invalid\"\n        class=\"invalid-container\"\n      >\n        <div class=\"alert error invalid-label\">\n          {{ $t('settings.style.themes3.editor.invalid') }}\n        </div>\n      </div>\n    </div>\n    <div class=\"assists\">\n      <Checkbox\n        v-model=\"lightGrid\"\n        name=\"lightGrid\"\n        class=\"input-light-grid\"\n      >\n        {{ $t('settings.style.shadows.light_grid') }}\n      </Checkbox>\n      <div class=\"style-control\">\n        <label class=\"label\">\n          {{ $t('settings.style.shadows.zoom') }}\n        </label>\n        <input\n          v-model=\"zoom\"\n          class=\"input input-number y-shift-number\"\n          type=\"number\"\n        >\n      </div>\n      <ColorInput\n        v-if=\"!noColorControl\"\n        v-model=\"colorOverride\"\n        class=\"input-color-input\"\n        fallback=\"#606060\"\n        :label=\"$t('settings.style.shadows.color_override')\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport ColorInput from 'src/components/color_input/color_input.vue'\n\nexport default {\n  components: {\n    Checkbox,\n    ColorInput\n  },\n  props: [\n    'shadow',\n    'shadowControl',\n    'previewClass',\n    'previewStyle',\n    'previewCss',\n    'disabled',\n    'invalid',\n    'noColorControl'\n  ],\n  emits: ['update:shadow'],\n  data () {\n    return {\n      colorOverride: undefined,\n      lightGrid: false,\n      zoom: 100\n    }\n  },\n  computed: {\n    style () {\n      const result = [\n        this.previewStyle,\n        `zoom: ${this.zoom / 100}`\n      ]\n      if (this.colorOverride) result.push(`--background: ${this.colorOverride}`)\n      return result\n    },\n    hideControls () {\n      return typeof this.shadow === 'string'\n    }\n  },\n  methods: {\n    updateProperty (axis, value) {\n      this.$emit('update:shadow', { axis, value: Number(value) })\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.ComponentPreview {\n  display: grid;\n  grid-template-columns: 1em 1fr 1fr 1em;\n  grid-template-rows: 2em 1fr 1fr 1fr 1em 2em max-content;\n  grid-template-areas:\n    \"header     header     header     header \"\n    \"preview    preview    preview    y-slide\"\n    \"preview    preview    preview    y-slide\"\n    \"preview    preview    preview    y-slide\"\n    \"x-slide    x-slide    x-slide    .      \"\n    \"x-num      x-num      y-num      y-num  \"\n    \"assists    assists    assists    assists\";\n  grid-gap: 0.5em;\n\n  &:not(.-shadow-controls) {\n    grid-template-areas:\n      \"header     header     header     header \"\n      \"preview    preview    preview    y-slide\"\n      \"preview    preview    preview    y-slide\"\n      \"preview    preview    preview    y-slide\"\n      \"assists    assists    assists    assists\";\n    grid-template-rows: 2em 1fr 1fr 1fr max-content;\n  }\n\n  .header {\n    grid-area: header;\n    justify-self: center;\n    align-self: baseline;\n    line-height: 2;\n  }\n\n  .invalid-container {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    display: grid;\n    align-items: center;\n    justify-items: center;\n    background-color: rgba(100 0 0 / 50%);\n\n    .alert {\n      padding: 0.5em 1em;\n    }\n  }\n\n  .assists {\n    grid-area: assists;\n    display: grid;\n    grid-auto-flow: rows;\n    grid-auto-rows: 2em;\n    grid-gap: 0.5em;\n  }\n\n  .input-light-grid {\n    justify-self: center;\n  }\n\n  .input-number {\n    min-width: 2em;\n  }\n\n  .x-shift-number {\n    grid-area: x-num;\n    justify-self: right;\n  }\n\n  .y-shift-number {\n    grid-area: y-num;\n    justify-self: left;\n  }\n\n  .x-shift-number,\n  .y-shift-number {\n    input {\n      max-width: 4em;\n    }\n  }\n\n  .x-shift-slider {\n    grid-area: x-slide;\n    height: auto;\n    align-self: start;\n    min-width: 10em;\n  }\n\n  .y-shift-slider {\n    grid-area: y-slide;\n    writing-mode: vertical-lr;\n    justify-self: left;\n    min-height: 10em;\n  }\n\n  .x-shift-slider,\n  .y-shift-slider {\n    padding: 0;\n  }\n\n  .preview-window {\n    --__grid-color1: rgb(102 102 102);\n    --__grid-color2: rgb(153 153 153);\n    --__grid-color1-disabled: rgba(102 102 102 / 20%);\n    --__grid-color2-disabled: rgba(153 153 153 / 20%);\n\n    &.-light-grid {\n      --__grid-color1: rgb(205 205 205);\n      --__grid-color2: rgb(255 255 255);\n      --__grid-color1-disabled: rgba(205 205 205 / 20%);\n      --__grid-color2-disabled: rgba(255 255 255 / 20%);\n    }\n\n    position: relative;\n    grid-area: preview;\n    aspect-ratio: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    min-width: 10em;\n    min-height: 10em;\n    background-color: var(--__grid-color2);\n    background-image:\n      linear-gradient(45deg, var(--__grid-color1) 25%, transparent 25%),\n      linear-gradient(-45deg, var(--__grid-color1) 25%, transparent 25%),\n      linear-gradient(45deg, transparent 75%, var(--__grid-color1) 75%),\n      linear-gradient(-45deg, transparent 75%, var(--__grid-color1) 75%);\n    background-size: 20px 20px;\n    background-position: 0 0, 0 10px, 10px -10px, -10px 0;\n    border-radius: var(--roundness);\n\n    &.disabled {\n      background-color: var(--__grid-color2-disabled);\n      background-image:\n        linear-gradient(45deg, var(--__grid-color1-disabled) 25%, transparent 25%),\n        linear-gradient(-45deg, var(--__grid-color1-disabled) 25%, transparent 25%),\n        linear-gradient(45deg, transparent 75%, var(--__grid-color1-disabled) 75%),\n        linear-gradient(-45deg, transparent 75%, var(--__grid-color1-disabled) 75%);\n    }\n\n    .preview-block {\n      background: var(--background, var(--bg));\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      min-width: 33%;\n      min-height: 33%;\n      max-width: 80%;\n      max-height: 80%;\n      border-width: 0;\n      border-style: solid;\n      border-color: var(--border);\n      border-radius: var(--roundness);\n      box-shadow: var(--shadow);\n    }\n  }\n}\n</style>\n","import { unroll } from './iss_utils.js'\nimport { deserializeShadow } from './iss_deserializer.js'\n\nexport const serializeShadow = (s) => {\n  if (typeof s === 'object') {\n    const inset = s.inset ? 'inset ' : ''\n    const name = s.name ? ` #${s.name} ` : ''\n    const result = `${inset}${s.x} ${s.y} ${s.blur} ${s.spread} ${s.color} / ${s.alpha}${name}`\n    deserializeShadow(result) // Verify that output is valid and parseable\n    return result\n  } else {\n    return s\n  }\n}\n\nexport const serialize = (ruleset) => {\n  return ruleset.map((rule) => {\n    if (Object.keys(rule.directives || {}).length === 0) return false\n\n    const header = unroll(rule).reverse().map(rule => {\n      const { component } = rule\n      const newVariant = (rule.variant == null || rule.variant === 'normal') ? '' : ('.' + rule.variant)\n      const newState = (rule.state || []).filter(st => st !== 'normal')\n\n      return `${component}${newVariant}${newState.map(st => ':' + st).join('')}`\n    }).join(' ')\n\n    const content = Object.entries(rule.directives).map(([directive, value]) => {\n      if (directive.startsWith('--')) {\n        const [valType, newValue] = value.split('|') // only first one! intentional!\n        switch (valType) {\n          case 'shadow':\n            return `  ${directive}: ${valType.trim()} | ${newValue.map(serializeShadow).map(s => s.trim()).join(', ')}`\n          default:\n            return `  ${directive}: ${valType.trim()} | ${newValue.trim()}`\n        }\n      } else {\n        switch (directive) {\n          case 'shadow':\n            if (value.length > 0) {\n              return `  ${directive}: ${value.map(serializeShadow).join(', ')}`\n            } else {\n              return `  ${directive}: none`\n            }\n          default:\n            return `  ${directive}: ${value}`\n        }\n      }\n    })\n\n    return `${header} {\\n${content.join(';\\n')}\\n}`\n  }).filter(x => x).join('\\n\\n')\n}\n","import ColorInput from 'src/components/color_input/color_input.vue'\nimport OpacityInput from 'src/components/opacity_input/opacity_input.vue'\nimport Select from 'src/components/select/select.vue'\nimport SelectMotion from 'src/components/select/select_motion.vue'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport Popover from 'src/components/popover/popover.vue'\nimport ComponentPreview from 'src/components/component_preview/component_preview.vue'\nimport { rgb2hex } from 'src/services/color_convert/color_convert.js'\nimport { serializeShadow } from 'src/services/theme_data/iss_serializer.js'\nimport { deserializeShadow } from 'src/services/theme_data/iss_deserializer.js'\nimport { getCssShadow, getCssShadowFilter } from 'src/services/theme_data/css_utils.js'\nimport { findShadow, findColor } from 'src/services/theme_data/theme_data_3.service.js'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { throttle, flattenDeep } from 'lodash'\nimport {\n  faTimes,\n  faChevronDown,\n  faChevronUp,\n  faPlus\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faChevronDown,\n  faChevronUp,\n  faTimes,\n  faPlus\n)\n\nconst toModel = (input) => {\n  if (typeof input === 'object') {\n    return {\n      x: 0,\n      y: 0,\n      blur: 0,\n      spread: 0,\n      inset: false,\n      color: '#000000',\n      alpha: 1,\n      ...input\n    }\n  } else if (typeof input === 'string') {\n    return input\n  }\n}\n\nexport default {\n  props: [\n    'modelValue',\n    'fallback',\n    'separateInset',\n    'noPreview',\n    'disabled',\n    'staticVars',\n    'compact'\n  ],\n  emits: ['update:modelValue', 'subShadowSelected'],\n  data () {\n    return {\n      selectedId: 0,\n      invalid: false\n    }\n  },\n  components: {\n    ColorInput,\n    OpacityInput,\n    Select,\n    SelectMotion,\n    Checkbox,\n    Popover,\n    ComponentPreview\n  },\n  computed: {\n    cValue: {\n      get () {\n        return (this.modelValue ?? this.fallback ?? []).map(toModel)\n      },\n      set (newVal) {\n        this.$emit('update:modelValue', newVal)\n      }\n    },\n    selectedType: {\n      get () {\n        return typeof this.selected\n      },\n      set (newType) {\n        this.selected = toModel(newType === 'object' ? {} : '')\n      }\n    },\n    selected: {\n      get () {\n        const selected = this.cValue[this.selectedId]\n        if (selected && typeof selected === 'object') {\n          return { ...selected }\n        } else if (typeof selected === 'string') {\n          return selected\n        }\n        return null\n      },\n      set (value) {\n        this.cValue[this.selectedId] = toModel(value)\n        this.$emit('update:modelValue', this.cValue)\n      }\n    },\n    present () {\n      return this.selected != null && this.modelValue != null\n    },\n    shadowsAreNull () {\n      return this.modelValue == null\n    },\n    currentFallback () {\n      return this.fallback?.[this.selectedId]\n    },\n    getColorFallback () {\n      if (this.staticVars && this.selected?.color) {\n        try {\n          const computedColor = findColor(this.selected.color, { dynamicVars: {}, staticVars: this.staticVars }, true)\n          if (computedColor) return rgb2hex(computedColor)\n          return null\n        } catch (e) {\n          console.warn(e)\n          return null\n        }\n      } else {\n        return this.currentFallback?.color\n      }\n    },\n    style () {\n      try {\n        let result\n        const serialized = this.cValue.map(x => serializeShadow(x)).join(',')\n        serialized.split(/,/).map(deserializeShadow) // validate\n        const expandedShadow = flattenDeep(findShadow(this.cValue, { dynamicVars: {}, staticVars: this.staticVars }))\n        const fixedShadows = expandedShadow.map(x => ({ ...x, color: rgb2hex(x.color) }))\n\n        if (this.separateInset) {\n          result = {\n            filter: getCssShadowFilter(fixedShadows),\n            boxShadow: getCssShadow(fixedShadows, true)\n          }\n        } else {\n          result = {\n            boxShadow: getCssShadow(fixedShadows)\n          }\n        }\n        this.invalid = false\n        return result\n      } catch (e) {\n        console.error('Invalid shadow', e)\n        this.invalid = true\n      }\n    }\n  },\n  watch: {\n    selected () {\n      this.$emit('subShadowSelected', this.selectedId)\n    }\n  },\n  methods: {\n    getNewSubshadow () {\n      return toModel(this.selected)\n    },\n    onSelectChange (id) {\n      this.selectedId = id\n    },\n    getSubshadowLabel (shadow, index) {\n      if (typeof shadow === 'object') {\n        return shadow?.name ?? this.$t('settings.style.shadows.shadow_id', { value: index })\n      } else if (typeof shadow === 'string') {\n        return shadow || this.$t('settings.style.shadows.empty_expression')\n      }\n    },\n    updateProperty: throttle(function (prop, value) {\n      this.cValue[this.selectedId][prop] = value\n      if (prop === 'inset' && value === false && this.separateInset) {\n        this.cValue[this.selectedId].spread = 0\n      }\n      this.$emit('update:modelValue', this.cValue)\n    }, 100)\n  }\n}\n","<template>\n  <div\n    class=\"ShadowControl label shadow-control\"\n    :class=\"{ disabled: disabled || !present, '-no-preview': noPreview, '-compact': compact }\"\n  >\n    <ComponentPreview\n      v-if=\"!noPreview\"\n      :invalid=\"invalid\"\n      class=\"shadow-preview\"\n      :shadow-control=\"true\"\n      :shadow=\"selected\"\n      :preview-style=\"style\"\n      :disabled=\"disabled || !present\"\n      @update:shadow=\"({ axis, value }) => updateProperty(axis, value)\"\n    />\n    <div class=\"shadow-switcher\">\n      <Select\n        id=\"shadow-list\"\n        v-model=\"selectedId\"\n        class=\"shadow-list\"\n        size=\"4\"\n        :disabled=\"disabled || shadowsAreNull\"\n      >\n        <option\n          v-for=\"(shadow, index) in cValue\"\n          :key=\"index\"\n          :value=\"index\"\n          :class=\"{ '-active': index === Number(selectedId) }\"\n        >\n          {{ getSubshadowLabel(shadow, index) }}\n        </option>\n      </Select>\n      <SelectMotion\n        v-model=\"cValue\"\n        :selected-id=\"selectedId\"\n        :get-add-value=\"getNewSubshadow\"\n        :disabled=\"disabled\"\n        @update:selected-id=\"onSelectChange\"\n      />\n    </div>\n    <div class=\"shadow-tweak\">\n      <Select\n        v-model=\"selectedType\"\n        :disabled=\"disabled || !present\"\n      >\n        <option value=\"object\">\n          {{ $t('settings.style.shadows.raw') }}\n        </option>\n        <option value=\"string\">\n          {{ $t('settings.style.shadows.expression') }}\n        </option>\n      </Select>\n      <template v-if=\"selectedType === 'string'\">\n        <textarea\n          v-model=\"selected\"\n          class=\"input shadow-expression\"\n          :disabled=\"disabled || shadowsAreNull\"\n          :class=\"{disabled: disabled || shadowsAreNull}\"\n        />\n      </template>\n      <template v-else-if=\"selectedType === 'object'\">\n        <div\n          :class=\"{ disabled: disabled || !present }\"\n          class=\"name-control style-control\"\n        >\n          <label\n            for=\"name\"\n            class=\"label\"\n            :class=\"{ faint: disabled || !present }\"\n          >\n            {{ $t('settings.style.shadows.name') }}\n          </label>\n          <input\n            id=\"name\"\n            :value=\"selected?.name\"\n            :disabled=\"disabled || !present\"\n            :class=\"{ disabled: disabled || !present }\"\n            name=\"name\"\n            class=\"input input-string\"\n            @input=\"e => updateProperty('name', e.target.value)\"\n          >\n        </div>\n        <div\n          :disabled=\"disabled || !present\"\n          class=\"inset-control style-control\"\n        >\n          <Checkbox\n            id=\"inset\"\n            :value=\"selected?.inset\"\n            :disabled=\"disabled || !present\"\n            name=\"inset\"\n            class=\"input-inset input-boolean\"\n            @input=\"e => updateProperty('inset', e.target.checked)\"\n          >\n            <template #before>\n              {{ $t('settings.style.shadows.inset') }}\n            </template>\n          </Checkbox>\n        </div>\n        <div\n          :disabled=\"disabled || !present\"\n          :class=\"{ disabled: disabled || !present }\"\n          class=\"blur-control style-control\"\n        >\n          <label\n            for=\"blur\"\n            class=\"label\"\n            :class=\"{ faint: disabled || !present }\"\n          >\n            {{ $t('settings.style.shadows.blur') }}\n          </label>\n          <input\n            id=\"blur\"\n            :value=\"selected?.blur\"\n            :disabled=\"disabled || !present\"\n            :class=\"{ disabled: disabled || !present }\"\n            name=\"blur\"\n            class=\"input input-range\"\n            type=\"range\"\n            max=\"20\"\n            min=\"0\"\n            @input=\"e => updateProperty('blur', e.target.value)\"\n          >\n          <input\n            :value=\"selected?.blur\"\n            class=\"input input-number -small\"\n            :disabled=\"disabled || !present\"\n            :class=\"{ disabled: disabled || !present }\"\n            type=\"number\"\n            min=\"0\"\n            @input=\"e => updateProperty('blur', e.target.value)\"\n          >\n        </div>\n        <div\n          class=\"spread-control style-control\"\n          :class=\"{ disabled: disabled || !present || (separateInset && !selected?.inset) }\"\n        >\n          <label\n            for=\"spread\"\n            class=\"label\"\n            :class=\"{ faint: disabled || !present || (separateInset && !selected?.inset) }\"\n          >\n            {{ $t('settings.style.shadows.spread') }}\n          </label>\n          <input\n            id=\"spread\"\n            :value=\"selected?.spread\"\n            :class=\"{ disabled: disabled || !present || (separateInset && !selected?.inset) }\"\n            :disabled=\"disabled || !present || (separateInset && !selected?.inset)\"\n            name=\"spread\"\n            class=\"input input-range\"\n            type=\"range\"\n            max=\"20\"\n            min=\"-20\"\n            @input=\"e => updateProperty('spread', e.target.value)\"\n          >\n          <input\n            :value=\"selected?.spread\"\n            class=\"input input-number -small\"\n            :class=\"{ disabled: disabled || !present || (separateInset && !selected?.inset) }\"\n            :disabled=\"disabled || !present || (separateInset && !selected?.inset)\"\n            type=\"number\"\n            @input=\"e => updateProperty('spread', e.target.value)\"\n          >\n        </div>\n        <ColorInput\n          :model-value=\"selected?.color\"\n          :disabled=\"disabled || !present\"\n          :label=\"$t('settings.style.common.color')\"\n          :fallback=\"getColorFallback\"\n          :show-optional-checkbox=\"false\"\n          name=\"shadow\"\n          @update:model-value=\"e => updateProperty('color', e)\"\n        />\n        <OpacityInput\n          :model-value=\"selected?.alpha\"\n          :disabled=\"disabled || !present\"\n          @update:model-value=\"e => updateProperty('alpha', e)\"\n        />\n        <i18n-t\n          scope=\"global\"\n          keypath=\"settings.style.shadows.hintV3\"\n          :class=\"{ faint: disabled || !present }\"\n          tag=\"p\"\n        >\n          <code>--variable,mod</code>\n        </i18n-t>\n        <Popover\n          v-if=\"separateInset\"\n          trigger=\"hover\"\n        >\n          <template #trigger>\n            <div\n              class=\"inset-alert alert warning\"\n            >\n              <FAIcon icon=\"exclamation-triangle\" />\n              &nbsp;\n              {{ $t('settings.style.shadows.filter_hint.avatar_inset_short') }}\n            </div>\n          </template>\n          <template #content>\n            <div class=\"inset-tooltip tooltip\">\n              <i18n-t\n                scope=\"global\"\n                keypath=\"settings.style.shadows.filter_hint.always_drop_shadow\"\n                tag=\"p\"\n              >\n                <code>filter: drop-shadow()</code>\n              </i18n-t>\n              <p>{{ $t('settings.style.shadows.filter_hint.avatar_inset') }}</p>\n              <i18n-t\n                scope=\"global\"\n                keypath=\"settings.style.shadows.filter_hint.drop_shadow_syntax\"\n                tag=\"p\"\n              >\n                <code>drop-shadow</code>\n                <code>spread-radius</code>\n                <code>inset</code>\n              </i18n-t>\n              <i18n-t\n                scope=\"global\"\n                keypath=\"settings.style.shadows.filter_hint.inset_classic\"\n                tag=\"p\"\n              >\n                <code>box-shadow</code>\n              </i18n-t>\n              <p>{{ $t('settings.style.shadows.filter_hint.spread_zero') }}</p>\n            </div>\n          </template>\n        </Popover>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script src=\"./shadow_control.js\"></script>\n\n<style src=\"./shadow_control.scss\" lang=\"scss\"></style>\n","<template>\n  <Popover trigger=\"hover\">\n    <template #trigger>\n      <slot />\n    </template>\n    <template #content>\n      <div class=\"tooltip\">\n        {{ props.text }}\n      </div>\n    </template>\n  </Popover>\n</template>\n\n<script setup>\nimport Popover from 'src/components/popover/popover.vue'\n\nconst props = defineProps(['text'])\n</script>\n\n<style lang=\"scss\">\n.tooltip {\n  margin: 0.5em 1em;\n}\n</style>\n","<template>\n  <span\n    v-if=\"contrast\"\n    class=\"contrast-ratio\"\n  >\n    <span v-if=\"showRatio\">\n      {{ contrast.text }}\n    </span>\n    <Tooltip\n      :text=\"hint\"\n      class=\"rating\"\n    >\n      <span v-if=\"contrast.aaa\">\n        <FAIcon\n          icon=\"thumbs-up\"\n          :size=\"showRatio ? 'lg' : ''\"\n        />\n      </span>\n      <span v-if=\"!contrast.aaa && contrast.aa\">\n        <FAIcon\n          icon=\"adjust\"\n          :size=\"showRatio ? 'lg' : ''\"\n        />\n      </span>\n      <span v-if=\"!contrast.aaa && !contrast.aa\">\n        <FAIcon\n          icon=\"exclamation-triangle\"\n          :size=\"showRatio ? 'lg' : ''\"\n        />\n      </span>\n    </Tooltip>\n    <Tooltip\n      v-if=\"contrast && large\"\n      :text=\"hint_18pt\"\n      class=\"rating\"\n    >\n      <span v-if=\"contrast.laaa\">\n        <FAIcon\n          icon=\"thumbs-up\"\n          :size=\"showRatio ? 'large' : ''\"\n        />\n      </span>\n      <span v-if=\"!contrast.laaa && contrast.laa\">\n        <FAIcon\n          icon=\"adjust\"\n          :size=\"showRatio ? 'lg' : ''\"\n        />\n      </span>\n      <span v-if=\"!contrast.laaa && !contrast.laa\">\n        <FAIcon\n          icon=\"exclamation-triangle\"\n          :size=\"showRatio ? 'lg' : ''\"\n        />\n      </span>\n    </Tooltip>\n  </span>\n</template>\n\n<script>\nimport Tooltip from 'src/components/tooltip/tooltip.vue'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faAdjust,\n  faExclamationTriangle,\n  faThumbsUp\n} from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n  faAdjust,\n  faExclamationTriangle,\n  faThumbsUp\n)\n\nexport default {\n  components: {\n    Tooltip\n  },\n  props: {\n    large: {\n      required: false,\n      type: Boolean,\n      default: false\n    },\n    // TODO: Make theme switcher compute theme initially so that contrast\n    // component won't be called without contrast data\n    contrast: {\n      required: false,\n      type: Object,\n      default: () => ({})\n    },\n    showRatio: {\n      required: false,\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    hint () {\n      const levelVal = this.contrast.aaa ? 'aaa' : (this.contrast.aa ? 'aa' : 'bad')\n      const level = this.$t(`settings.style.common.contrast.level.${levelVal}`)\n      const context = this.$t('settings.style.common.contrast.context.text')\n      const ratio = this.contrast.text\n      return this.$t('settings.style.common.contrast.hint', { level, context, ratio })\n    },\n    hint_18pt () {\n      const levelVal = this.contrast.laaa ? 'aaa' : (this.contrast.laa ? 'aa' : 'bad')\n      const level = this.$t(`settings.style.common.contrast.level.${levelVal}`)\n      const context = this.$t('settings.style.common.contrast.context.18pt')\n      const ratio = this.contrast.text\n      return this.$t('settings.style.common.contrast.hint', { level, context, ratio })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.contrast-ratio {\n  display: flex;\n  justify-content: flex-end;\n  align-items: baseline;\n\n  .label {\n    margin-right: 1em;\n  }\n\n  .rating {\n    display: inline-block;\n    margin-left: 0.5em;\n  }\n}\n</style>\n","import {\n  rgb2hex,\n  hex2rgb,\n  getContrastRatioLayers,\n  relativeLuminance\n} from 'src/services/color_convert/color_convert.js'\nimport {\n  newImporter,\n  newExporter\n} from 'src/services/export_import/export_import.js'\nimport {\n  SLOT_INHERITANCE\n} from 'src/services/theme_data/pleromafe.js'\nimport {\n  CURRENT_VERSION,\n  OPACITIES,\n  getLayers,\n  getOpacitySlot,\n  DEFAULT_SHADOWS,\n  generateColors,\n  generateShadows,\n  generateRadii,\n  generateFonts,\n  shadows2to3,\n  colors2to3\n} from 'src/services/theme_data/theme_data.service.js'\n\nimport { convertTheme2To3 } from 'src/services/theme_data/theme2_to_theme3.js'\nimport { init } from 'src/services/theme_data/theme_data_3.service.js'\nimport {\n  getCssRules,\n  getScopedVersion\n} from 'src/services/theme_data/css_utils.js'\n\nimport ColorInput from 'src/components/color_input/color_input.vue'\nimport RangeInput from 'src/components/range_input/range_input.vue'\nimport OpacityInput from 'src/components/opacity_input/opacity_input.vue'\nimport ShadowControl from 'src/components/shadow_control/shadow_control.vue'\nimport FontControl from 'src/components/font_control/font_control.vue'\nimport ContrastRatio from 'src/components/contrast_ratio/contrast_ratio.vue'\nimport TabSwitcher from 'src/components/tab_switcher/tab_switcher.jsx'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport Select from 'src/components/select/select.vue'\n\nimport Preview from './theme_preview.vue'\nimport { useInterfaceStore } from 'src/stores/interface'\n\n// List of color values used in v1\nconst v1OnlyNames = [\n  'bg',\n  'fg',\n  'text',\n  'link',\n  'cRed',\n  'cGreen',\n  'cBlue',\n  'cOrange'\n].map(_ => _ + 'ColorLocal')\n\nconst colorConvert = (color) => {\n  if (color.startsWith('--') || color === 'transparent') {\n    return color\n  } else {\n    return hex2rgb(color)\n  }\n}\n\nexport default {\n  data () {\n    return {\n      themeV3Preview: [],\n      themeImporter: newImporter({\n        validator: this.importValidator,\n        onImport: this.onImport,\n        onImportFailure: this.onImportFailure\n      }),\n      themeExporter: newExporter({\n        filename: 'pleroma_theme',\n        getExportedObject: () => this.exportedTheme\n      }),\n      availableStyles: [],\n      selected: '',\n      selectedTheme: this.$store.getters.mergedConfig.theme,\n      themeWarning: undefined,\n      tempImportFile: undefined,\n      engineVersion: 0,\n\n      previewTheme: {},\n\n      shadowsInvalid: true,\n      colorsInvalid: true,\n      radiiInvalid: true,\n\n      keepColor: false,\n      keepShadows: false,\n      keepOpacity: false,\n      keepRoundness: false,\n      keepFonts: false,\n\n      ...Object.keys(SLOT_INHERITANCE)\n        .map(key => [key, ''])\n        .reduce((acc, [key, val]) => ({ ...acc, [key + 'ColorLocal']: val }), {}),\n\n      ...Object.keys(OPACITIES)\n        .map(key => [key, ''])\n        .reduce((acc, [key, val]) => ({ ...acc, [key + 'OpacityLocal']: val }), {}),\n\n      shadowSelected: undefined,\n      shadowsLocal: {},\n      fontsLocal: {},\n\n      btnRadiusLocal: '',\n      inputRadiusLocal: '',\n      checkboxRadiusLocal: '',\n      panelRadiusLocal: '',\n      avatarRadiusLocal: '',\n      avatarAltRadiusLocal: '',\n      attachmentRadiusLocal: '',\n      tooltipRadiusLocal: '',\n      chatMessageRadiusLocal: ''\n    }\n  },\n  created () {\n    const currentIndex = this.$store.state.instance.themesIndex\n\n    let promise\n    if (currentIndex) {\n      promise = Promise.resolve(currentIndex)\n    } else {\n      promise = useInterfaceStore().fetchThemesIndex()\n    }\n\n    promise.then(themesIndex => {\n      Object\n        .values(themesIndex)\n        .forEach(themeFunc => {\n          themeFunc().then(themeData => themeData && this.availableStyles.push(themeData))\n        })\n    })\n  },\n  mounted () {\n    if (typeof this.shadowSelected === 'undefined') {\n      this.shadowSelected = this.shadowsAvailable[0]\n    }\n  },\n  computed: {\n    themeWarningHelp () {\n      if (!this.themeWarning) return\n      const t = this.$t\n      const pre = 'settings.style.switcher.help.'\n      const {\n        origin,\n        themeEngineVersion,\n        type,\n        noActionsPossible\n      } = this.themeWarning\n      if (origin === 'file') {\n        // Loaded v2 theme from file\n        if (themeEngineVersion === 2 && type === 'wrong_version') {\n          return t(pre + 'v2_imported')\n        }\n        if (themeEngineVersion > CURRENT_VERSION) {\n          return t(pre + 'future_version_imported') + ' ' +\n            (\n              noActionsPossible\n                ? t(pre + 'snapshot_missing')\n                : t(pre + 'snapshot_present')\n            )\n        }\n        if (themeEngineVersion < CURRENT_VERSION) {\n          return t(pre + 'future_version_imported') + ' ' +\n            (\n              noActionsPossible\n                ? t(pre + 'snapshot_missing')\n                : t(pre + 'snapshot_present')\n            )\n        }\n      } else if (origin === 'localStorage') {\n        if (type === 'snapshot_source_mismatch') {\n          return t(pre + 'snapshot_source_mismatch')\n        }\n        // FE upgraded from v2\n        if (themeEngineVersion === 2) {\n          return t(pre + 'upgraded_from_v2')\n        }\n        // Admin downgraded FE\n        if (themeEngineVersion > CURRENT_VERSION) {\n          return t(pre + 'fe_downgraded') + ' ' +\n            (\n              noActionsPossible\n                ? t(pre + 'migration_snapshot_ok')\n                : t(pre + 'migration_snapshot_gone')\n            )\n        }\n        // Admin upgraded FE\n        if (themeEngineVersion < CURRENT_VERSION) {\n          return t(pre + 'fe_upgraded') + ' ' +\n            (\n              noActionsPossible\n                ? t(pre + 'migration_snapshot_ok')\n                : t(pre + 'migration_snapshot_gone')\n            )\n        }\n      }\n    },\n    selectedVersion () {\n      return Array.isArray(this.selectedTheme) ? 1 : 2\n    },\n    currentColors () {\n      return Object.keys(SLOT_INHERITANCE)\n        .map(key => [key, this[key + 'ColorLocal']])\n        .reduce((acc, [key, val]) => ({ ...acc, [key]: val }), {})\n    },\n    currentOpacity () {\n      return Object.keys(OPACITIES)\n        .map(key => [key, this[key + 'OpacityLocal']])\n        .reduce((acc, [key, val]) => ({ ...acc, [key]: val }), {})\n    },\n    currentRadii () {\n      return {\n        btn: this.btnRadiusLocal,\n        input: this.inputRadiusLocal,\n        checkbox: this.checkboxRadiusLocal,\n        panel: this.panelRadiusLocal,\n        avatar: this.avatarRadiusLocal,\n        avatarAlt: this.avatarAltRadiusLocal,\n        tooltip: this.tooltipRadiusLocal,\n        attachment: this.attachmentRadiusLocal,\n        chatMessage: this.chatMessageRadiusLocal\n      }\n    },\n    // This needs optimization maybe\n    previewContrast () {\n      try {\n        if (!this.previewTheme.colors.bg) return {}\n        const colors = this.previewTheme.colors\n        const opacity = this.previewTheme.opacity\n        if (!colors.bg) return {}\n        const hints = (ratio) => ({\n          text: ratio.toPrecision(3) + ':1',\n          // AA level, AAA level\n          aa: ratio >= 4.5,\n          aaa: ratio >= 7,\n          // same but for 18pt+ texts\n          laa: ratio >= 3,\n          laaa: ratio >= 4.5\n        })\n        const colorsConverted = Object.entries(colors).reduce((acc, [key, value]) => ({ ...acc, [key]: colorConvert(value) }), {})\n\n        const ratios = Object.entries(SLOT_INHERITANCE).reduce((acc, [key, value]) => {\n          const slotIsBaseText = key === 'text' || key === 'link'\n          const slotIsText = slotIsBaseText || (\n            typeof value === 'object' && value !== null && value.textColor\n          )\n          if (!slotIsText) return acc\n          const { layer, variant } = slotIsBaseText ? { layer: 'bg' } : value\n          const background = variant || layer\n          const opacitySlot = getOpacitySlot(background)\n          const textColors = [\n            key,\n            ...(background === 'bg' ? ['cRed', 'cGreen', 'cBlue', 'cOrange'] : [])\n          ]\n\n          const layers = getLayers(\n            layer,\n            variant || layer,\n            opacitySlot,\n            colorsConverted,\n            opacity\n          )\n\n          // Temporary patch for null-y value errors\n          if (layers.flat().some(v => v == null)) return acc\n\n          return {\n            ...acc,\n            ...textColors.reduce((acc, textColorKey) => {\n              const newKey = slotIsBaseText\n                ? 'bg' + textColorKey[0].toUpperCase() + textColorKey.slice(1)\n                : textColorKey\n              return {\n                ...acc,\n                [newKey]: getContrastRatioLayers(\n                  colorsConverted[textColorKey],\n                  layers,\n                  colorsConverted[textColorKey]\n                )\n              }\n            }, {})\n          }\n        }, {})\n\n        return Object.entries(ratios).reduce((acc, [k, v]) => { acc[k] = hints(v); return acc }, {})\n      } catch (e) {\n        console.warn('Failure computing contrasts', e)\n        return {}\n      }\n    },\n    themeDataUsed () {\n      return useInterfaceStore().themeDataUsed\n    },\n    shadowsAvailable () {\n      return Object.keys(DEFAULT_SHADOWS).sort()\n    },\n    currentShadowOverriden: {\n      get () {\n        return !!this.currentShadow\n      },\n      set (val) {\n        if (val) {\n          this.shadowsLocal[this.shadowSelected] = (this.currentShadowFallback || [])\n            .map(s => ({\n              name: null,\n              x: 0,\n              y: 0,\n              blur: 0,\n              spread: 0,\n              inset: false,\n              color: '#000000',\n              alpha: 1,\n              ...s\n            }))\n        } else {\n          delete this.shadowsLocal[this.shadowSelected]\n        }\n      }\n    },\n    currentShadowFallback () {\n      return (this.previewTheme.shadows || {})[this.shadowSelected]\n    },\n    currentShadow: {\n      get () {\n        return this.shadowsLocal[this.shadowSelected]\n      },\n      set (v) {\n        this.shadowsLocal[this.shadowSelected] = v\n      }\n    },\n    themeValid () {\n      return !this.shadowsInvalid && !this.colorsInvalid && !this.radiiInvalid\n    },\n    exportedTheme () {\n      const saveEverything = (\n        !this.keepFonts &&\n        !this.keepShadows &&\n        !this.keepOpacity &&\n        !this.keepRoundness &&\n        !this.keepColor\n      )\n\n      const source = {\n        themeEngineVersion: CURRENT_VERSION\n      }\n\n      if (this.keepFonts || saveEverything) {\n        source.fonts = this.fontsLocal\n      }\n      if (this.keepShadows || saveEverything) {\n        source.shadows = this.shadowsLocal\n      }\n      if (this.keepOpacity || saveEverything) {\n        source.opacity = this.currentOpacity\n      }\n      if (this.keepColor || saveEverything) {\n        source.colors = this.currentColors\n      }\n      if (this.keepRoundness || saveEverything) {\n        source.radii = this.currentRadii\n      }\n\n      const theme = {\n        themeEngineVersion: CURRENT_VERSION,\n        ...this.previewTheme\n      }\n\n      return {\n        // To separate from other random JSON files and possible future source formats\n        _pleroma_theme_version: 2, theme, source\n      }\n    },\n    isActive () {\n      const tabSwitcher = this.$parent\n      return tabSwitcher ? tabSwitcher.isActive('theme') : false\n    }\n  },\n  components: {\n    ColorInput,\n    OpacityInput,\n    RangeInput,\n    ContrastRatio,\n    ShadowControl,\n    FontControl,\n    TabSwitcher,\n    Preview,\n    Checkbox,\n    Select\n  },\n  methods: {\n    loadTheme (\n      {\n        theme,\n        source,\n        _pleroma_theme_version: fileVersion\n      },\n      origin,\n      forceUseSource = false\n    ) {\n      this.dismissWarning()\n      const version = (origin === 'localStorage' && !theme.colors)\n        ? 'l1'\n        : fileVersion\n      const snapshotEngineVersion = (theme || {}).themeEngineVersion\n      const themeEngineVersion = (source || {}).themeEngineVersion || 2\n      const versionsMatch = themeEngineVersion === CURRENT_VERSION\n      const sourceSnapshotMismatch = (\n        theme !== undefined &&\n          source !== undefined &&\n          themeEngineVersion !== snapshotEngineVersion\n      )\n      // Force loading of source if user requested it or if snapshot\n      // is unavailable\n      const forcedSourceLoad = (source && forceUseSource) || !theme\n      if (!(versionsMatch && !sourceSnapshotMismatch) &&\n          !forcedSourceLoad &&\n          version !== 'l1' &&\n          origin !== 'defaults'\n      ) {\n        if (sourceSnapshotMismatch && origin === 'localStorage') {\n          this.themeWarning = {\n            origin,\n            themeEngineVersion,\n            type: 'snapshot_source_mismatch'\n          }\n        } else if (!theme) {\n          this.themeWarning = {\n            origin,\n            noActionsPossible: true,\n            themeEngineVersion,\n            type: 'no_snapshot_old_version'\n          }\n        } else if (!versionsMatch) {\n          this.themeWarning = {\n            origin,\n            noActionsPossible: !source,\n            themeEngineVersion,\n            type: 'wrong_version'\n          }\n        }\n      }\n      this.normalizeLocalState(theme, version, source, forcedSourceLoad)\n    },\n    forceLoadLocalStorage () {\n      this.loadThemeFromLocalStorage(true)\n    },\n    dismissWarning () {\n      this.themeWarning = undefined\n      this.tempImportFile = undefined\n    },\n    forceLoad () {\n      const { origin } = this.themeWarning\n      switch (origin) {\n        case 'localStorage':\n          this.loadThemeFromLocalStorage(true)\n          break\n        case 'file':\n          this.onImport(this.tempImportFile, true)\n          break\n      }\n      this.dismissWarning()\n    },\n    forceSnapshot () {\n      const { origin } = this.themeWarning\n      switch (origin) {\n        case 'localStorage':\n          this.loadThemeFromLocalStorage(false, true)\n          break\n        case 'file':\n          console.error('Forcing snapshot from file is not supported yet')\n          break\n      }\n      this.dismissWarning()\n    },\n    loadThemeFromLocalStorage (confirmLoadSource = false) {\n      const theme = this.themeDataUsed?.source\n      if (theme) {\n        this.loadTheme(\n          {\n            theme\n          },\n          'localStorage',\n          confirmLoadSource\n        )\n      }\n    },\n    setCustomTheme () {\n      useInterfaceStore().setThemeV2({\n        customTheme: {\n          ignore: true,\n          themeFileVersion: this.selectedVersion,\n          themeEngineVersion: CURRENT_VERSION,\n          ...this.previewTheme\n        },\n        customThemeSource: {\n          themeFileVersion: this.selectedVersion,\n          themeEngineVersion: CURRENT_VERSION,\n          shadows: this.shadowsLocal,\n          fonts: this.fontsLocal,\n          opacity: this.currentOpacity,\n          colors: this.currentColors,\n          radii: this.currentRadii\n        }\n      })\n    },\n    updatePreviewColors () {\n      const result = generateColors({\n        opacity: this.currentOpacity,\n        colors: this.currentColors\n      })\n      this.previewTheme.colors = result.theme.colors\n      this.previewTheme.opacity = result.theme.opacity\n    },\n    updatePreviewShadows () {\n      this.previewTheme.shadows = generateShadows(\n        {\n          shadows: this.shadowsLocal,\n          opacity: this.previewTheme.opacity,\n          themeEngineVersion: this.engineVersion\n        },\n        this.previewTheme.colors,\n        relativeLuminance(this.previewTheme.colors.bg) < 0.5 ? 1 : -1\n      ).theme.shadows\n    },\n    importTheme () { this.themeImporter.importData() },\n    exportTheme () { this.themeExporter.exportData() },\n    onImport (parsed, forceSource = false) {\n      this.tempImportFile = parsed\n      this.loadTheme(parsed, 'file', forceSource)\n    },\n    onImportFailure () {\n      useInterfaceStore().pushGlobalNotice({ messageKey: 'settings.invalid_theme_imported', level: 'error' })\n    },\n    importValidator (parsed) {\n      const version = parsed._pleroma_theme_version\n      return version >= 1 || version <= 2\n    },\n    clearAll () {\n      this.loadThemeFromLocalStorage()\n    },\n\n    // Clears all the extra stuff when loading V1 theme\n    clearV1 () {\n      Object.keys(this.$data)\n        .filter(_ => _.endsWith('ColorLocal') || _.endsWith('OpacityLocal'))\n        .filter(_ => !v1OnlyNames.includes(_))\n        .forEach(key => {\n          this.$data[key] = undefined\n        })\n    },\n\n    clearRoundness () {\n      Object.keys(this.$data)\n        .filter(_ => _.endsWith('RadiusLocal'))\n        .forEach(key => {\n          this.$data[key] = undefined\n        })\n    },\n\n    clearOpacity () {\n      Object.keys(this.$data)\n        .filter(_ => _.endsWith('OpacityLocal'))\n        .forEach(key => {\n          this.$data[key] = undefined\n        })\n    },\n\n    clearShadows () {\n      this.shadowsLocal = {}\n    },\n\n    clearFonts () {\n      this.fontsLocal = {}\n    },\n\n    /**\n     * This applies stored theme data onto form. Supports three versions of data:\n     * v3 (version >= 3) - newest version of themes which supports snapshots for better compatiblity\n     * v2 (version = 2) - newer version of themes.\n     * v1 (version = 1) - older version of themes (import from file)\n     * v1l (version = l1) - older version of theme (load from local storage)\n     * v1 and v1l differ because of way themes were stored/exported.\n     * @param {Object} theme - theme data (snapshot)\n     * @param {Number} version - version of data. 0 means try to guess based on data. \"l1\" means v1, locastorage type\n     * @param {Object} source - theme source - this will be used if compatible\n     * @param {Boolean} source - by default source won't be used if version doesn't match since it might render differently\n     *                           this allows importing source anyway\n     */\n    normalizeLocalState (theme, version = 0, source, forceSource = false) {\n      let input\n      if (typeof source !== 'undefined') {\n        if (forceSource || source?.themeEngineVersion === CURRENT_VERSION) {\n          input = source\n          version = source.themeEngineVersion\n        } else {\n          input = theme\n        }\n      } else {\n        input = theme\n      }\n\n      const radii = input.radii || input\n      const opacity = input.opacity\n      const shadows = input.shadows || {}\n      const fonts = input.fonts || {}\n      const colors = !input.themeEngineVersion\n        ? colors2to3(input.colors || input)\n        : input.colors || input\n\n      if (version === 0) {\n        if (input.version) version = input.version\n        // Old v1 naming: fg is text, btn is foreground\n        if (typeof colors.text === 'undefined' && typeof colors.fg !== 'undefined') {\n          version = 1\n        }\n        // New v2 naming: text is text, fg is foreground\n        if (typeof colors.text !== 'undefined' && typeof colors.fg !== 'undefined') {\n          version = 2\n        }\n      }\n\n      this.engineVersion = version\n\n      // Stuff that differs between V1 and V2\n      if (version === 1) {\n        this.fgColorLocal = rgb2hex(colors.btn)\n        this.textColorLocal = rgb2hex(colors.fg)\n      }\n\n      if (!this.keepColor) {\n        this.clearV1()\n        const keys = new Set(version !== 1 ? Object.keys(SLOT_INHERITANCE) : [])\n        if (version === 1 || version === 'l1') {\n          keys\n            .add('bg')\n            .add('link')\n            .add('cRed')\n            .add('cBlue')\n            .add('cGreen')\n            .add('cOrange')\n        }\n\n        keys.forEach(key => {\n          const color = colors[key]\n          const hex = rgb2hex(colors[key])\n          this[key + 'ColorLocal'] = hex === '#aN' ? color : hex\n        })\n      }\n\n      if (opacity && !this.keepOpacity) {\n        this.clearOpacity()\n        Object.entries(opacity).forEach(([k, v]) => {\n          if (typeof v === 'undefined' || v === null || Number.isNaN(v)) return\n          this[k + 'OpacityLocal'] = v\n        })\n      }\n\n      if (!this.keepRoundness) {\n        this.clearRoundness()\n        Object.entries(radii).forEach(([k, v]) => {\n          // 'Radius' is kept mostly for v1->v2 localstorage transition\n          const key = k.endsWith('Radius') ? k.split('Radius')[0] : k\n          this[key + 'RadiusLocal'] = v\n        })\n      }\n\n      if (!this.keepShadows) {\n        this.clearShadows()\n        if (version === 2) {\n          this.shadowsLocal = shadows2to3(shadows, this.previewTheme.opacity)\n        } else {\n          this.shadowsLocal = shadows\n        }\n        this.updatePreviewColors()\n        this.updatePreviewShadows()\n        this.shadowSelected = this.shadowsAvailable[0]\n      }\n\n      if (!this.keepFonts) {\n        this.clearFonts()\n        this.fontsLocal = fonts\n      }\n    },\n    updateTheme3Preview () {\n      const theme2 = convertTheme2To3(this.previewTheme)\n      const theme3 = init({\n        inputRuleset: theme2,\n        ultimateBackgroundColor: '#000000',\n        liteMode: true\n      })\n\n      this.themeV3Preview = getScopedVersion(\n        getCssRules(theme3.eager),\n        '#theme-preview'\n      ).join('\\n')\n    }\n  },\n  watch: {\n    themeDataUsed () {\n      this.loadThemeFromLocalStorage()\n    },\n    currentRadii () {\n      try {\n        this.previewTheme.radii = generateRadii({ radii: this.currentRadii }).theme.radii\n        this.radiiInvalid = false\n      } catch (e) {\n        this.radiiInvalid = true\n        console.warn(e)\n      }\n    },\n    shadowsLocal: {\n      handler () {\n        try {\n          this.updatePreviewShadows()\n          this.shadowsInvalid = false\n        } catch (e) {\n          this.shadowsInvalid = true\n          console.warn(e)\n        }\n      },\n      deep: true\n    },\n    fontsLocal: {\n      handler () {\n        try {\n          this.previewTheme.fonts = generateFonts({ fonts: this.fontsLocal }).theme.fonts\n          this.fontsInvalid = false\n        } catch (e) {\n          this.fontsInvalid = true\n          console.warn(e)\n        }\n      },\n      deep: true\n    },\n    currentColors () {\n      try {\n        this.updatePreviewColors()\n        this.colorsInvalid = false\n      } catch (e) {\n        this.colorsInvalid = true\n        console.warn(e)\n      }\n    },\n    currentOpacity () {\n      try {\n        this.updatePreviewColors()\n      } catch (e) {\n        console.warn(e)\n      }\n    },\n    selected () {\n      this.selectedTheme = Object.entries(this.availableStyles).find(([, s]) => {\n        if (Array.isArray(s)) {\n          return s[0] === this.selected\n        } else {\n          return s.name === this.selected\n        }\n      })[1]\n    },\n    selectedTheme () {\n      this.dismissWarning()\n      if (this.selectedVersion === 1) {\n        if (!this.keepRoundness) {\n          this.clearRoundness()\n        }\n\n        if (!this.keepShadows) {\n          this.clearShadows()\n        }\n\n        if (!this.keepOpacity) {\n          this.clearOpacity()\n        }\n\n        if (!this.keepColor) {\n          this.clearV1()\n\n          this.bgColorLocal = this.selectedTheme[1]\n          this.fgColorLocal = this.selectedTheme[2]\n          this.textColorLocal = this.selectedTheme[3]\n          this.linkColorLocal = this.selectedTheme[4]\n          this.cRedColorLocal = this.selectedTheme[5]\n          this.cGreenColorLocal = this.selectedTheme[6]\n          this.cBlueColorLocal = this.selectedTheme[7]\n          this.cOrangeColorLocal = this.selectedTheme[8]\n        }\n      } else if (this.selectedVersion >= 2) {\n        this.normalizeLocalState(this.selectedTheme.theme, 2, this.selectedTheme.source)\n      }\n    }\n  }\n}\n","<template>\n  <div class=\"theme-tab\">\n    <div class=\"alert warning deprecation-warning\">\n      {{ $t(\"settings.style.themes2_outdated\") }}\n    </div>\n    <div class=\"presets-container\">\n      <div class=\"save-load\">\n        <div\n          v-if=\"themeWarning\"\n          class=\"theme-warning\"\n        >\n          <div class=\"alert warning\">\n            {{ themeWarningHelp }}\n          </div>\n          <div class=\"buttons\">\n            <template v-if=\"themeWarning.type === 'snapshot_source_mismatch'\">\n              <button\n                class=\"btn button-default\"\n                @click=\"forceLoad\"\n              >\n                {{ $t('settings.style.switcher.use_source') }}\n              </button>\n              <button\n                class=\"btn button-default\"\n                @click=\"forceSnapshot\"\n              >\n                {{ $t('settings.style.switcher.use_snapshot') }}\n              </button>\n            </template>\n            <template v-else-if=\"themeWarning.noActionsPossible\">\n              <button\n                class=\"btn button-default\"\n                @click=\"dismissWarning\"\n              >\n                {{ $t('general.dismiss') }}\n              </button>\n            </template>\n            <template v-else>\n              <button\n                class=\"btn button-default\"\n                @click=\"forceLoad\"\n              >\n                {{ $t('settings.style.switcher.load_theme') }}\n              </button>\n              <button\n                class=\"btn button-default\"\n                @click=\"dismissWarning\"\n              >\n                {{ $t('settings.style.switcher.keep_as_is') }}\n              </button>\n            </template>\n          </div>\n        </div>\n        <div class=\"top\">\n          <div class=\"presets\">\n            {{ $t('settings.presets') }}\n            <label\n              for=\"preset-switcher\"\n              class=\"select\"\n            >\n              <Select\n                id=\"preset-switcher\"\n                v-model=\"selected\"\n                class=\"preset-switcher\"\n              >\n                <option\n                  v-for=\"style in availableStyles\"\n                  :key=\"style.name\"\n                  :value=\"style.name || style[0]\"\n                  :style=\"{\n                    backgroundColor: style[1] || (style.theme || style.source).colors.bg,\n                    color: style[3] || (style.theme || style.source).colors.text\n                  }\"\n                >\n                  {{ style[0] || style.name }}\n                </option>\n              </Select>\n            </label>\n          </div>\n          <div class=\"export-import\">\n            <button\n              class=\"btn button-default\"\n              @click=\"importTheme\"\n            >\n              {{ $t(&quot;settings.import_theme&quot;) }}\n            </button>\n            <button\n              class=\"btn button-default\"\n              @click=\"exportTheme\"\n            >\n              {{ $t(&quot;settings.export_theme&quot;) }}\n            </button>\n          </div>\n        </div>\n      </div>\n      <div class=\"save-load-options\">\n        <span class=\"keep-option\">\n          <Checkbox v-model=\"keepColor\">\n            {{ $t('settings.style.switcher.keep_color') }}\n          </Checkbox>\n        </span>\n        <span class=\"keep-option\">\n          <Checkbox v-model=\"keepShadows\">\n            {{ $t('settings.style.switcher.keep_shadows') }}\n          </Checkbox>\n        </span>\n        <span class=\"keep-option\">\n          <Checkbox v-model=\"keepOpacity\">\n            {{ $t('settings.style.switcher.keep_opacity') }}\n          </Checkbox>\n        </span>\n        <span class=\"keep-option\">\n          <Checkbox v-model=\"keepRoundness\">\n            {{ $t('settings.style.switcher.keep_roundness') }}\n          </Checkbox>\n        </span>\n        <span class=\"keep-option\">\n          <Checkbox v-model=\"keepFonts\">\n            {{ $t('settings.style.switcher.keep_fonts') }}\n          </Checkbox>\n        </span>\n        <p>{{ $t('settings.style.switcher.save_load_hint') }}</p>\n      </div>\n    </div>\n\n    <!-- eslint-disable vue/no-v-html vue/no-v-text-v-html-on-component -->\n    <component\n      :is=\"'style'\"\n      v-html=\"themeV3Preview\"\n    />\n    <!-- eslint-enable vue/no-v-html vue/no-v-text-v-html-on-component -->\n    <preview id=\"theme-preview\" />\n\n    <div>\n      <button\n        class=\"btn button-default\"\n        @click=\"updateTheme3Preview\"\n      >\n        {{ $t(\"settings.style.update_preview\") }}\n      </button>\n    </div>\n\n    <keep-alive>\n      <tab-switcher key=\"style-tweak\">\n        <div\n          :label=\"$t('settings.style.common_colors._tab_label')\"\n          class=\"color-container\"\n        >\n          <div class=\"tab-header\">\n            <p>{{ $t('settings.theme_help') }}</p>\n            <div class=\"tab-header-buttons\">\n              <button\n                class=\"btn button-default\"\n                @click=\"clearOpacity\"\n              >\n                {{ $t('settings.style.switcher.clear_opacity') }}\n              </button>\n              <button\n                class=\"btn button-default\"\n                @click=\"clearV1\"\n              >\n                {{ $t('settings.style.switcher.clear_all') }}\n              </button>\n            </div>\n          </div>\n          <p>{{ $t('settings.theme_help_v2_1') }}</p>\n          <h4>{{ $t('settings.style.common_colors.main') }}</h4>\n          <div class=\"color-item\">\n            <ColorInput\n              v-model=\"bgColorLocal\"\n              name=\"bgColor\"\n              :label=\"$t('settings.background')\"\n            />\n            <OpacityInput\n              v-model=\"bgOpacityLocal\"\n              name=\"bgOpacity\"\n              :fallback=\"previewTheme.opacity?.bg\"\n            />\n            <ColorInput\n              v-model=\"textColorLocal\"\n              name=\"textColor\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.bgText\" />\n            <ColorInput\n              v-model=\"accentColorLocal\"\n              name=\"accentColor\"\n              :fallback=\"previewTheme.colors?.link\"\n              :label=\"$t('settings.accent')\"\n              :show-optional-checkbox=\"typeof linkColorLocal !== 'undefined'\"\n            />\n            <ColorInput\n              v-model=\"linkColorLocal\"\n              name=\"linkColor\"\n              :fallback=\"previewTheme.colors?.accent\"\n              :label=\"$t('settings.links')\"\n              :show-optional-checkbox=\"typeof accentColorLocal !== 'undefined'\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.bgLink\" />\n          </div>\n          <div class=\"color-item\">\n            <ColorInput\n              v-model=\"fgColorLocal\"\n              name=\"fgColor\"\n              :label=\"$t('settings.foreground')\"\n            />\n            <ColorInput\n              v-model=\"fgTextColorLocal\"\n              name=\"fgTextColor\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.fgText\"\n            />\n            <ColorInput\n              v-model=\"fgLinkColorLocal\"\n              name=\"fgLinkColor\"\n              :label=\"$t('settings.links')\"\n              :fallback=\"previewTheme.colors?.fgLink\"\n            />\n            <p>{{ $t('settings.style.common_colors.foreground_hint') }}</p>\n          </div>\n          <h4>{{ $t('settings.style.common_colors.rgbo') }}</h4>\n          <div class=\"color-item\">\n            <ColorInput\n              v-model=\"cRedColorLocal\"\n              name=\"cRedColor\"\n              :label=\"$t('settings.cRed')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.bgCRed\" />\n            <ColorInput\n              v-model=\"cBlueColorLocal\"\n              name=\"cBlueColor\"\n              :label=\"$t('settings.cBlue')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.bgCBlue\" />\n          </div>\n          <div class=\"color-item\">\n            <ColorInput\n              v-model=\"cGreenColorLocal\"\n              name=\"cGreenColor\"\n              :label=\"$t('settings.cGreen')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.bgCGreen\" />\n            <ColorInput\n              v-model=\"cOrangeColorLocal\"\n              name=\"cOrangeColor\"\n              :label=\"$t('settings.cOrange')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.bgCOrange\" />\n          </div>\n          <p>{{ $t('settings.theme_help_v2_2') }}</p>\n        </div>\n\n        <div\n          :label=\"$t('settings.style.advanced_colors._tab_label')\"\n          class=\"color-container\"\n        >\n          <div class=\"tab-header\">\n            <p>{{ $t('settings.theme_help') }}</p>\n            <button\n              class=\"btn button-default\"\n              @click=\"clearOpacity\"\n            >\n              {{ $t('settings.style.switcher.clear_opacity') }}\n            </button>\n            <button\n              class=\"btn button-default\"\n              @click=\"clearV1\"\n            >\n              {{ $t('settings.style.switcher.clear_all') }}\n            </button>\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.post') }}</h4>\n            <ColorInput\n              v-model=\"postLinkColorLocal\"\n              name=\"postLinkColor\"\n              :fallback=\"previewTheme.colors?.accent\"\n              :label=\"$t('settings.links')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.postLink\" />\n            <ColorInput\n              v-model=\"postGreentextColorLocal\"\n              name=\"postGreentextColor\"\n              :fallback=\"previewTheme.colors?.cGreen\"\n              :label=\"$t('settings.greentext')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.postGreentext\" />\n            <h4>{{ $t('settings.style.advanced_colors.alert') }}</h4>\n            <ColorInput\n              v-model=\"alertErrorColorLocal\"\n              name=\"alertError\"\n              :label=\"$t('settings.style.advanced_colors.alert_error')\"\n              :fallback=\"previewTheme.colors?.alertError\"\n            />\n            <ColorInput\n              v-model=\"alertErrorTextColorLocal\"\n              name=\"alertErrorText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.alertErrorText\"\n            />\n            <ContrastRatio\n              :contrast=\"previewContrast.alertErrorText\"\n              large\n            />\n            <ColorInput\n              v-model=\"alertWarningColorLocal\"\n              name=\"alertWarning\"\n              :label=\"$t('settings.style.advanced_colors.alert_warning')\"\n              :fallback=\"previewTheme.colors?.alertWarning\"\n            />\n            <ColorInput\n              v-model=\"alertWarningTextColorLocal\"\n              name=\"alertWarningText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.alertWarningText\"\n            />\n            <ContrastRatio\n              :contrast=\"previewContrast.alertWarningText\"\n              large\n            />\n            <ColorInput\n              v-model=\"alertNeutralColorLocal\"\n              name=\"alertNeutral\"\n              :label=\"$t('settings.style.advanced_colors.alert_neutral')\"\n              :fallback=\"previewTheme.colors?.alertNeutral\"\n            />\n            <ColorInput\n              v-model=\"alertNeutralTextColorLocal\"\n              name=\"alertNeutralText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.alertNeutralText\"\n            />\n            <ContrastRatio\n              :contrast=\"previewContrast.alertNeutralText\"\n              large\n            />\n            <OpacityInput\n              v-model=\"alertOpacityLocal\"\n              name=\"alertOpacity\"\n              :fallback=\"previewTheme.opacity?.alert\"\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.badge') }}</h4>\n            <ColorInput\n              v-model=\"badgeNotificationColorLocal\"\n              name=\"badgeNotification\"\n              :label=\"$t('settings.style.advanced_colors.badge_notification')\"\n              :fallback=\"previewTheme.colors?.badgeNotification\"\n            />\n            <ColorInput\n              v-model=\"badgeNotificationTextColorLocal\"\n              name=\"badgeNotificationText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.badgeNotificationText\"\n            />\n            <ContrastRatio\n              :contrast=\"previewContrast.badgeNotificationText\"\n              large\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.panel_header') }}</h4>\n            <ColorInput\n              v-model=\"panelColorLocal\"\n              name=\"panelColor\"\n              :fallback=\"previewTheme.colors?.panel\"\n              :label=\"$t('settings.background')\"\n            />\n            <OpacityInput\n              v-model=\"panelOpacityLocal\"\n              name=\"panelOpacity\"\n              :fallback=\"previewTheme.opacity?.panel\"\n              :disabled=\"panelColorLocal === 'transparent'\"\n            />\n            <ColorInput\n              v-model=\"panelTextColorLocal\"\n              name=\"panelTextColor\"\n              :fallback=\"previewTheme.colors?.panelText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio\n              :contrast=\"previewContrast.panelText\"\n              large\n            />\n            <ColorInput\n              v-model=\"panelLinkColorLocal\"\n              name=\"panelLinkColor\"\n              :fallback=\"previewTheme.colors?.panelLink\"\n              :label=\"$t('settings.links')\"\n            />\n            <ContrastRatio\n              :contrast=\"previewContrast.panelLink\"\n              large\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.top_bar') }}</h4>\n            <ColorInput\n              v-model=\"topBarColorLocal\"\n              name=\"topBarColor\"\n              :fallback=\"previewTheme.colors?.topBar\"\n              :label=\"$t('settings.background')\"\n            />\n            <ColorInput\n              v-model=\"topBarTextColorLocal\"\n              name=\"topBarTextColor\"\n              :fallback=\"previewTheme.colors?.topBarText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.topBarText\" />\n            <ColorInput\n              v-model=\"topBarLinkColorLocal\"\n              name=\"topBarLinkColor\"\n              :fallback=\"previewTheme.colors?.topBarLink\"\n              :label=\"$t('settings.links')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.topBarLink\" />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.inputs') }}</h4>\n            <ColorInput\n              v-model=\"inputColorLocal\"\n              name=\"inputColor\"\n              :fallback=\"previewTheme.colors?.input\"\n              :label=\"$t('settings.background')\"\n            />\n            <OpacityInput\n              v-model=\"inputOpacityLocal\"\n              name=\"inputOpacity\"\n              :fallback=\"previewTheme.opacity?.input\"\n              :disabled=\"inputColorLocal === 'transparent'\"\n            />\n            <ColorInput\n              v-model=\"inputTextColorLocal\"\n              name=\"inputTextColor\"\n              :fallback=\"previewTheme.colors?.inputText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.inputText\" />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.buttons') }}</h4>\n            <ColorInput\n              v-model=\"btnColorLocal\"\n              name=\"btnColor\"\n              :fallback=\"previewTheme.colors?.btn\"\n              :label=\"$t('settings.background')\"\n            />\n            <OpacityInput\n              v-model=\"btnOpacityLocal\"\n              name=\"btnOpacity\"\n              :fallback=\"previewTheme.opacity?.btn\"\n              :disabled=\"btnColorLocal === 'transparent'\"\n            />\n            <ColorInput\n              v-model=\"btnTextColorLocal\"\n              name=\"btnTextColor\"\n              :fallback=\"previewTheme.colors?.btnText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnText\" />\n            <ColorInput\n              v-model=\"btnPanelTextColorLocal\"\n              name=\"btnPanelTextColor\"\n              :fallback=\"previewTheme.colors?.btnPanelText\"\n              :label=\"$t('settings.style.advanced_colors.panel_header')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnPanelText\" />\n            <ColorInput\n              v-model=\"btnTopBarTextColorLocal\"\n              name=\"btnTopBarTextColor\"\n              :fallback=\"previewTheme.colors?.btnTopBarText\"\n              :label=\"$t('settings.style.advanced_colors.top_bar')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnTopBarText\" />\n            <h5>{{ $t('settings.style.advanced_colors.pressed') }}</h5>\n            <ColorInput\n              v-model=\"btnPressedColorLocal\"\n              name=\"btnPressedColor\"\n              :fallback=\"previewTheme.colors?.btnPressed\"\n              :label=\"$t('settings.background')\"\n            />\n            <ColorInput\n              v-model=\"btnPressedTextColorLocal\"\n              name=\"btnPressedTextColor\"\n              :fallback=\"previewTheme.colors?.btnPressedText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnPressedText\" />\n            <ColorInput\n              v-model=\"btnPressedPanelTextColorLocal\"\n              name=\"btnPressedPanelTextColor\"\n              :fallback=\"previewTheme.colors?.btnPressedPanelText\"\n              :label=\"$t('settings.style.advanced_colors.panel_header')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnPressedPanelText\" />\n            <ColorInput\n              v-model=\"btnPressedTopBarTextColorLocal\"\n              name=\"btnPressedTopBarTextColor\"\n              :fallback=\"previewTheme.colors?.btnPressedTopBarText\"\n              :label=\"$t('settings.style.advanced_colors.top_bar')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnPressedTopBarText\" />\n            <h5>{{ $t('settings.style.advanced_colors.disabled') }}</h5>\n            <ColorInput\n              v-model=\"btnDisabledColorLocal\"\n              name=\"btnDisabledColor\"\n              :fallback=\"previewTheme.colors?.btnDisabled\"\n              :label=\"$t('settings.background')\"\n            />\n            <ColorInput\n              v-model=\"btnDisabledTextColorLocal\"\n              name=\"btnDisabledTextColor\"\n              :fallback=\"previewTheme.colors?.btnDisabledText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ColorInput\n              v-model=\"btnDisabledPanelTextColorLocal\"\n              name=\"btnDisabledPanelTextColor\"\n              :fallback=\"previewTheme.colors?.btnDisabledPanelText\"\n              :label=\"$t('settings.style.advanced_colors.panel_header')\"\n            />\n            <ColorInput\n              v-model=\"btnDisabledTopBarTextColorLocal\"\n              name=\"btnDisabledTopBarTextColor\"\n              :fallback=\"previewTheme.colors?.btnDisabledTopBarText\"\n              :label=\"$t('settings.style.advanced_colors.top_bar')\"\n            />\n            <h5>{{ $t('settings.style.advanced_colors.toggled') }}</h5>\n            <ColorInput\n              v-model=\"btnToggledColorLocal\"\n              name=\"btnToggledColor\"\n              :fallback=\"previewTheme.colors?.btnToggled\"\n              :label=\"$t('settings.background')\"\n            />\n            <ColorInput\n              v-model=\"btnToggledTextColorLocal\"\n              name=\"btnToggledTextColor\"\n              :fallback=\"previewTheme.colors?.btnToggledText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnToggledText\" />\n            <ColorInput\n              v-model=\"btnToggledPanelTextColorLocal\"\n              name=\"btnToggledPanelTextColor\"\n              :fallback=\"previewTheme.colors?.btnToggledPanelText\"\n              :label=\"$t('settings.style.advanced_colors.panel_header')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnToggledPanelText\" />\n            <ColorInput\n              v-model=\"btnToggledTopBarTextColorLocal\"\n              name=\"btnToggledTopBarTextColor\"\n              :fallback=\"previewTheme.colors?.btnToggledTopBarText\"\n              :label=\"$t('settings.style.advanced_colors.top_bar')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.btnToggledTopBarText\" />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.tabs') }}</h4>\n            <ColorInput\n              v-model=\"tabColorLocal\"\n              name=\"tabColor\"\n              :fallback=\"previewTheme.colors?.tab\"\n              :label=\"$t('settings.background')\"\n            />\n            <ColorInput\n              v-model=\"tabTextColorLocal\"\n              name=\"tabTextColor\"\n              :fallback=\"previewTheme.colors?.tabText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.tabText\" />\n            <ColorInput\n              v-model=\"tabActiveTextColorLocal\"\n              name=\"tabActiveTextColor\"\n              :fallback=\"previewTheme.colors?.tabActiveText\"\n              :label=\"$t('settings.text')\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.tabActiveText\" />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.borders') }}</h4>\n            <ColorInput\n              v-model=\"borderColorLocal\"\n              name=\"borderColor\"\n              :fallback=\"previewTheme.colors?.border\"\n              :label=\"$t('settings.style.common.color')\"\n            />\n            <OpacityInput\n              v-model=\"borderOpacityLocal\"\n              name=\"borderOpacity\"\n              :fallback=\"previewTheme.opacity?.border\"\n              :disabled=\"borderColorLocal === 'transparent'\"\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.faint_text') }}</h4>\n            <ColorInput\n              v-model=\"faintColorLocal\"\n              name=\"faintColor\"\n              :fallback=\"previewTheme.colors?.faint\"\n              :label=\"$t('settings.text')\"\n            />\n            <ColorInput\n              v-model=\"faintLinkColorLocal\"\n              name=\"faintLinkColor\"\n              :fallback=\"previewTheme.colors?.faintLink\"\n              :label=\"$t('settings.links')\"\n            />\n            <ColorInput\n              v-model=\"panelFaintColorLocal\"\n              name=\"panelFaintColor\"\n              :fallback=\"previewTheme.colors?.panelFaint\"\n              :label=\"$t('settings.style.advanced_colors.panel_header')\"\n            />\n            <OpacityInput\n              v-model=\"faintOpacityLocal\"\n              name=\"faintOpacity\"\n              :fallback=\"previewTheme.opacity?.faint\"\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.underlay') }}</h4>\n            <ColorInput\n              v-model=\"underlayColorLocal\"\n              name=\"underlay\"\n              :label=\"$t('settings.style.advanced_colors.underlay')\"\n              :fallback=\"previewTheme.colors?.underlay\"\n            />\n            <OpacityInput\n              v-model=\"underlayOpacityLocal\"\n              name=\"underlayOpacity\"\n              :fallback=\"previewTheme.opacity?.underlay\"\n              :disabled=\"underlayOpacityLocal === 'transparent'\"\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.wallpaper') }}</h4>\n            <ColorInput\n              v-model=\"wallpaperColorLocal\"\n              name=\"wallpaper\"\n              :label=\"$t('settings.style.advanced_colors.wallpaper')\"\n              :fallback=\"previewTheme.colors?.wallpaper\"\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.poll') }}</h4>\n            <ColorInput\n              v-model=\"pollColorLocal\"\n              name=\"poll\"\n              :label=\"$t('settings.background')\"\n              :fallback=\"previewTheme.colors?.poll\"\n            />\n            <ColorInput\n              v-model=\"pollTextColorLocal\"\n              name=\"pollText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.pollText\"\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.icons') }}</h4>\n            <ColorInput\n              v-model=\"iconColorLocal\"\n              name=\"icon\"\n              :label=\"$t('settings.style.advanced_colors.icons')\"\n              :fallback=\"previewTheme.colors?.icon\"\n            />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.highlight') }}</h4>\n            <ColorInput\n              v-model=\"highlightColorLocal\"\n              name=\"highlight\"\n              :label=\"$t('settings.background')\"\n              :fallback=\"previewTheme.colors?.highlight\"\n            />\n            <ColorInput\n              v-model=\"highlightTextColorLocal\"\n              name=\"highlightText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.highlightText\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.highlightText\" />\n            <ColorInput\n              v-model=\"highlightLinkColorLocal\"\n              name=\"highlightLink\"\n              :label=\"$t('settings.links')\"\n              :fallback=\"previewTheme.colors?.highlightLink\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.highlightLink\" />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.popover') }}</h4>\n            <ColorInput\n              v-model=\"popoverColorLocal\"\n              name=\"popover\"\n              :label=\"$t('settings.background')\"\n              :fallback=\"previewTheme.colors?.popover\"\n            />\n            <OpacityInput\n              v-model=\"popoverOpacityLocal\"\n              name=\"popoverOpacity\"\n              :fallback=\"previewTheme.opacity?.popover\"\n              :disabled=\"popoverOpacityLocal === 'transparent'\"\n            />\n            <ColorInput\n              v-model=\"popoverTextColorLocal\"\n              name=\"popoverText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.popoverText\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.popoverText\" />\n            <ColorInput\n              v-model=\"popoverLinkColorLocal\"\n              name=\"popoverLink\"\n              :label=\"$t('settings.links')\"\n              :fallback=\"previewTheme.colors?.popoverLink\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.popoverLink\" />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.selectedPost') }}</h4>\n            <ColorInput\n              v-model=\"selectedPostColorLocal\"\n              name=\"selectedPost\"\n              :label=\"$t('settings.background')\"\n              :fallback=\"previewTheme.colors?.selectedPost\"\n            />\n            <ColorInput\n              v-model=\"selectedPostTextColorLocal\"\n              name=\"selectedPostText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.selectedPostText\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.selectedPostText\" />\n            <ColorInput\n              v-model=\"selectedPostLinkColorLocal\"\n              name=\"selectedPostLink\"\n              :label=\"$t('settings.links')\"\n              :fallback=\"previewTheme.colors?.selectedPostLink\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.selectedPostLink\" />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('settings.style.advanced_colors.selectedMenu') }}</h4>\n            <ColorInput\n              v-model=\"selectedMenuColorLocal\"\n              name=\"selectedMenu\"\n              :label=\"$t('settings.background')\"\n              :fallback=\"previewTheme.colors?.selectedMenu\"\n            />\n            <ColorInput\n              v-model=\"selectedMenuTextColorLocal\"\n              name=\"selectedMenuText\"\n              :label=\"$t('settings.text')\"\n              :fallback=\"previewTheme.colors?.selectedMenuText\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.selectedMenuText\" />\n            <ColorInput\n              v-model=\"selectedMenuLinkColorLocal\"\n              name=\"selectedMenuLink\"\n              :label=\"$t('settings.links')\"\n              :fallback=\"previewTheme.colors?.selectedMenuLink\"\n            />\n            <ContrastRatio :contrast=\"previewContrast.selectedMenuLink\" />\n          </div>\n          <div class=\"color-item\">\n            <h4>{{ $t('chats.chats') }}</h4>\n            <ColorInput\n              v-model=\"chatBgColorLocal\"\n              name=\"chatBgColor\"\n              :fallback=\"previewTheme.colors?.bg\"\n              :label=\"$t('settings.background')\"\n            />\n            <h5>{{ $t('settings.style.advanced_colors.chat.incoming') }}</h5>\n            <ColorInput\n              v-model=\"chatMessageIncomingBgColorLocal\"\n              name=\"chatMessageIncomingBgColor\"\n              :fallback=\"previewTheme.colors?.bg\"\n              :label=\"$t('settings.background')\"\n            />\n            <ColorInput\n              v-model=\"chatMessageIncomingTextColorLocal\"\n              name=\"chatMessageIncomingTextColor\"\n              :fallback=\"previewTheme.colors?.text\"\n              :label=\"$t('settings.text')\"\n            />\n            <ColorInput\n              v-model=\"chatMessageIncomingLinkColorLocal\"\n              name=\"chatMessageIncomingLinkColor\"\n              :fallback=\"previewTheme.colors?.link\"\n              :label=\"$t('settings.links')\"\n            />\n            <ColorInput\n              v-model=\"chatMessageIncomingBorderColorLocal\"\n              name=\"chatMessageIncomingBorderLinkColor\"\n              :fallback=\"previewTheme.colors?.fg\"\n              :label=\"$t('settings.style.advanced_colors.chat.border')\"\n            />\n            <h5>{{ $t('settings.style.advanced_colors.chat.outgoing') }}</h5>\n            <ColorInput\n              v-model=\"chatMessageOutgoingBgColorLocal\"\n              name=\"chatMessageOutgoingBgColor\"\n              :fallback=\"previewTheme.colors?.bg\"\n              :label=\"$t('settings.background')\"\n            />\n            <ColorInput\n              v-model=\"chatMessageOutgoingTextColorLocal\"\n              name=\"chatMessageOutgoingTextColor\"\n              :fallback=\"previewTheme.colors?.text\"\n              :label=\"$t('settings.text')\"\n            />\n            <ColorInput\n              v-model=\"chatMessageOutgoingLinkColorLocal\"\n              name=\"chatMessageOutgoingLinkColor\"\n              :fallback=\"previewTheme.colors?.link\"\n              :label=\"$t('settings.links')\"\n            />\n            <ColorInput\n              v-model=\"chatMessageOutgoingBorderColorLocal\"\n              name=\"chatMessageOutgoingBorderLinkColor\"\n              :fallback=\"previewTheme.colors?.bg\"\n              :label=\"$t('settings.style.advanced_colors.chat.border')\"\n            />\n          </div>\n        </div>\n\n        <div\n          :label=\"$t('settings.style.radii._tab_label')\"\n          class=\"radius-container\"\n        >\n          <div class=\"tab-header\">\n            <p>{{ $t('settings.radii_help') }}</p>\n            <button\n              class=\"btn button-default\"\n              @click=\"clearRoundness\"\n            >\n              {{ $t('settings.style.switcher.clear_all') }}\n            </button>\n          </div>\n          <RangeInput\n            v-model=\"btnRadiusLocal\"\n            name=\"btnRadius\"\n            :label=\"$t('settings.btnRadius')\"\n            :fallback=\"previewTheme.radii?.btn\"\n            max=\"16\"\n            hard-min=\"0\"\n          />\n          <RangeInput\n            v-model=\"inputRadiusLocal\"\n            name=\"inputRadius\"\n            :label=\"$t('settings.inputRadius')\"\n            :fallback=\"previewTheme.radii?.input\"\n            max=\"9\"\n            hard-min=\"0\"\n          />\n          <RangeInput\n            v-model=\"checkboxRadiusLocal\"\n            name=\"checkboxRadius\"\n            :label=\"$t('settings.checkboxRadius')\"\n            :fallback=\"previewTheme.radii?.checkbox\"\n            max=\"16\"\n            hard-min=\"0\"\n          />\n          <RangeInput\n            v-model=\"panelRadiusLocal\"\n            name=\"panelRadius\"\n            :label=\"$t('settings.panelRadius')\"\n            :fallback=\"previewTheme.radii?.panel\"\n            max=\"50\"\n            hard-min=\"0\"\n          />\n          <RangeInput\n            v-model=\"avatarRadiusLocal\"\n            name=\"avatarRadius\"\n            :label=\"$t('settings.avatarRadius')\"\n            :fallback=\"previewTheme.radii?.avatar\"\n            max=\"28\"\n            hard-min=\"0\"\n          />\n          <RangeInput\n            v-model=\"avatarAltRadiusLocal\"\n            name=\"avatarAltRadius\"\n            :label=\"$t('settings.avatarAltRadius')\"\n            :fallback=\"previewTheme.radii?.avatarAlt\"\n            max=\"28\"\n            hard-min=\"0\"\n          />\n          <RangeInput\n            v-model=\"attachmentRadiusLocal\"\n            name=\"attachmentRadius\"\n            :label=\"$t('settings.attachmentRadius')\"\n            :fallback=\"previewTheme.radii?.attachment\"\n            max=\"50\"\n            hard-min=\"0\"\n          />\n          <RangeInput\n            v-model=\"tooltipRadiusLocal\"\n            name=\"tooltipRadius\"\n            :label=\"$t('settings.tooltipRadius')\"\n            :fallback=\"previewTheme.radii?.tooltip\"\n            max=\"50\"\n            hard-min=\"0\"\n          />\n          <RangeInput\n            v-model=\"chatMessageRadiusLocal\"\n            name=\"chatMessageRadius\"\n            :label=\"$t('settings.chatMessageRadius')\"\n            :fallback=\"previewTheme.radii?.chatMessage || 2\"\n            max=\"50\"\n            hard-min=\"0\"\n          />\n        </div>\n\n        <div\n          :label=\"$t('settings.style.shadows._tab_label')\"\n          class=\"shadow-container\"\n        >\n          <div class=\"tab-header shadow-selector\">\n            <div class=\"select-container\">\n              {{ $t('settings.style.shadows.component') }}\n              {{ ' ' }}\n              <Select\n                id=\"shadow-switcher\"\n                v-model=\"shadowSelected\"\n                class=\"shadow-switcher\"\n              >\n                <option\n                  v-for=\"shadow in shadowsAvailable\"\n                  :key=\"shadow\"\n                  :value=\"shadow\"\n                >\n                  {{ $t('settings.style.shadows.components.' + shadow) }}\n                </option>\n              </Select>\n            </div>\n            <div class=\"override\">\n              <Checkbox\n                id=\"override\"\n                v-model=\"currentShadowOverriden\"\n                name=\"override\"\n                class=\"input-override\"\n              >\n                {{ $t('settings.style.shadows.override') }}\n              </Checkbox>\n            </div>\n            <button\n              class=\"btn button-default\"\n              @click=\"clearShadows\"\n            >\n              {{ $t('settings.style.switcher.clear_all') }}\n            </button>\n          </div>\n          <ShadowControl\n            v-model=\"currentShadow\"\n            :separate-inset=\"shadowSelected === 'avatar' || shadowSelected === 'avatarStatus'\"\n            :fallback=\"currentShadowFallback\"\n            :static-vars=\"previewTheme.colors\"\n            :compact=\"true\"\n          />\n        </div>\n        <div\n          :label=\"$t('settings.style.fonts._tab_label')\"\n          class=\"fonts-container\"\n        >\n          <div class=\"tab-header\">\n            <p>{{ $t('settings.style.fonts.help') }}</p>\n            <button\n              class=\"btn button-default\"\n              @click=\"clearFonts\"\n            >\n              {{ $t('settings.style.switcher.clear_all') }}\n            </button>\n          </div>\n          <FontControl\n            v-model=\"fontsLocal.interface\"\n            name=\"ui\"\n            :label=\"$t('settings.style.fonts.components.interface')\"\n            :fallback=\"previewTheme.fonts?.interface\"\n            no-inherit=\"1\"\n          />\n          <FontControl\n            v-model=\"fontsLocal.input\"\n            name=\"input\"\n            :label=\"$t('settings.style.fonts.components.input')\"\n            :fallback=\"previewTheme.fonts?.input\"\n          />\n          <FontControl\n            v-model=\"fontsLocal.post\"\n            name=\"post\"\n            :label=\"$t('settings.style.fonts.components.post')\"\n            :fallback=\"previewTheme.fonts?.post\"\n          />\n          <FontControl\n            v-model=\"fontsLocal.postCode\"\n            name=\"postCode\"\n            :label=\"$t('settings.style.fonts.components.postCode')\"\n            :fallback=\"previewTheme.fonts?.postCode\"\n          />\n        </div>\n      </tab-switcher>\n    </keep-alive>\n\n    <teleport\n      v-if=\"isActive\"\n      to=\"#unscrolled-content\"\n    >\n      <div class=\"apply-container\">\n        <button\n          class=\"btn button-default submit\"\n          :disabled=\"!themeValid\"\n          @click=\"setCustomTheme\"\n        >\n          {{ $t('general.apply') }}\n        </button>\n        <button\n          class=\"btn button-default\"\n          @click=\"clearAll\"\n        >\n          {{ $t('settings.style.switcher.reset') }}\n        </button>\n      </div>\n    </teleport>\n  </div>\n</template>\n\n<script src=\"./theme_tab.js\"></script>\n\n<style src=\"./theme_tab.scss\" lang=\"scss\"></style>\n","<template>\n  <div\n    class=\"roundness-control style-control\"\n    :class=\"{ disabled: !present || disabled }\"\n  >\n    <label\n      :for=\"name\"\n      class=\"label\"\n      :class=\"{ faint: !present || disabled }\"\n    >\n      {{ label }}\n    </label>\n    <Checkbox\n      v-if=\"typeof fallback !== 'undefined'\"\n      :model-value=\"present\"\n      :disabled=\"disabled\"\n      class=\"opt\"\n      @update:model-value=\"$emit('update:modelValue', !present ? fallback : undefined)\"\n    />\n    <input\n      :id=\"name\"\n      class=\"input input-number\"\n      type=\"number\"\n      :value=\"modelValue || fallback\"\n      :disabled=\"!present || disabled\"\n      :class=\"{ disabled: !present || disabled }\"\n      max=\"999\"\n      min=\"0\"\n      step=\"1\"\n      @input=\"$emit('update:modelValue', $event.target.value)\"\n    >\n  </div>\n</template>\n\n<script>\nimport Checkbox from '../checkbox/checkbox.vue'\nexport default {\n  components: {\n    Checkbox\n  },\n  props: [\n    'name', 'label', 'modelValue', 'fallback', 'disabled'\n  ],\n  emits: ['update:modelValue'],\n  computed: {\n    present () {\n      return typeof this.modelValue !== 'undefined'\n    }\n  }\n}\n</script>\n","import { ref, computed, watch, inject } from 'vue'\n\nimport Select from 'src/components/select/select.vue'\nimport SelectMotion from 'src/components/select/select_motion.vue'\nimport ShadowControl from 'src/components/shadow_control/shadow_control.vue'\nimport ColorInput from 'src/components/color_input/color_input.vue'\n\nimport { serializeShadow } from 'src/services/theme_data/iss_serializer.js'\n\n// helper for debugging\n// eslint-disable-next-line no-unused-vars\nconst toValue = (x) => JSON.parse(JSON.stringify(x === undefined ? 'null' : x))\n\nexport default {\n  components: {\n    Select,\n    SelectMotion,\n    ShadowControl,\n    ColorInput\n  },\n  props: ['modelValue'],\n  emits: ['update:modelValue'],\n  setup (props, context) {\n    const exports = {}\n    const emit = context.emit\n\n    exports.emit = emit\n    exports.computeColor = inject('computeColor')\n    exports.staticVars = inject('staticVars')\n\n    const selectedVirtualDirectiveId = ref(0)\n    exports.selectedVirtualDirectiveId = selectedVirtualDirectiveId\n\n    const selectedVirtualDirective = computed({\n      get () {\n        return props.modelValue[selectedVirtualDirectiveId.value]\n      },\n      set (value) {\n        const newVD = [...props.modelValue]\n        newVD[selectedVirtualDirectiveId.value] = value\n\n        emit('update:modelValue', newVD)\n      }\n    })\n    exports.selectedVirtualDirective = selectedVirtualDirective\n\n    exports.selectedVirtualDirectiveValType = computed({\n      get () {\n        return props.modelValue[selectedVirtualDirectiveId.value].valType\n      },\n      set (value) {\n        const newValType = value\n        let newValue\n        switch (value) {\n          case 'shadow':\n            newValue = '0 0 0 #000000 / 1'\n            break\n          case 'color':\n            newValue = '#000000'\n            break\n          default:\n            newValue = 'none'\n        }\n        const newName = props.modelValue[selectedVirtualDirectiveId.value].name\n        props.modelValue[selectedVirtualDirectiveId.value] = {\n          name: newName,\n          value: newValue,\n          valType: newValType\n        }\n      }\n    })\n\n    const draftVirtualDirectiveValid = ref(true)\n    const draftVirtualDirective = ref({})\n    exports.draftVirtualDirective = draftVirtualDirective\n    const normalizeShadows = inject('normalizeShadows')\n\n    watch(\n      selectedVirtualDirective,\n      (directive) => {\n        switch (directive.valType) {\n          case 'shadow': {\n            if (Array.isArray(directive.value)) {\n              draftVirtualDirective.value = normalizeShadows(directive.value)\n            } else {\n              const splitShadow = directive.value.split(/,/g).map(x => x.trim())\n              draftVirtualDirective.value = normalizeShadows(splitShadow)\n            }\n            break\n          }\n          case 'color':\n            draftVirtualDirective.value = directive.value\n            break\n          default:\n            draftVirtualDirective.value = directive.value\n            break\n        }\n      },\n      { immediate: true }\n    )\n\n    watch(\n      draftVirtualDirective,\n      (directive) => {\n        try {\n          switch (selectedVirtualDirective.value.valType) {\n            case 'shadow': {\n              props.modelValue[selectedVirtualDirectiveId.value].value =\n                directive.map(x => serializeShadow(x)).join(', ')\n              break\n            }\n            default:\n              props.modelValue[selectedVirtualDirectiveId.value].value = directive\n          }\n          draftVirtualDirectiveValid.value = true\n        } catch (e) {\n          console.error('Invalid virtual directive value', e)\n          draftVirtualDirectiveValid.value = false\n        }\n      },\n      { immediate: true }\n    )\n\n    exports.getNewVirtualDirective = () => ({\n      name: 'newDirective',\n      valType: 'generic',\n      value: 'foobar'\n    })\n\n    return exports\n  }\n}\n","<script src=\"./virtual_directives_tab.js\"></script>\n\n<template>\n  <div class=\"setting-item list-editor variables-editor\">\n    <label\n      class=\"list-select-label\"\n      for=\"variables-selector\"\n    >\n      {{ $t('settings.style.themes3.editor.variables.label') }}\n      {{ ' ' }}\n    </label>\n    <Select\n      id=\"variables-selector\"\n      v-model=\"selectedVirtualDirectiveId\"\n      class=\"list-select\"\n      size=\"20\"\n    >\n      <option\n        v-for=\"(p, index) in modelValue\"\n        :key=\"p.name\"\n        :value=\"index\"\n      >\n        {{ p.name }}\n      </option>\n    </Select>\n    <SelectMotion\n      class=\"list-select-movement\"\n      :model-value=\"modelValue\"\n      :selected-id=\"selectedVirtualDirectiveId\"\n      :get-add-value=\"getNewVirtualDirective\"\n      @update:model-value=\"e => emit('update:modelValue', e)\"\n      @update:selected-id=\"e => selectedVirtualDirectiveId = e\"\n    />\n    <div class=\"list-edit-area\">\n      <div class=\"variable-selector\">\n        <label\n          class=\"variable-name-label\"\n          for=\"variables-selector\"\n        >\n          {{ $t('settings.style.themes3.editor.variables.name_label') }}\n          {{ ' ' }}\n        </label>\n        <input\n          v-model=\"selectedVirtualDirective.name\"\n          class=\"input\"\n        >\n        <label\n          class=\"variable-type-label\"\n          for=\"variables-selector\"\n        >\n          {{ $t('settings.style.themes3.editor.variables.type_label') }}\n          {{ ' ' }}\n        </label>\n        <Select\n          v-model=\"selectedVirtualDirectiveValType\"\n        >\n          <option value=\"shadow\">\n            {{ $t('settings.style.themes3.editor.variables.type_shadow') }}\n          </option>\n          <option value=\"color\">\n            {{ $t('settings.style.themes3.editor.variables.type_color') }}\n          </option>\n          <option value=\"generic\">\n            {{ $t('settings.style.themes3.editor.variables.type_generic') }}\n          </option>\n        </Select>\n      </div>\n      <ShadowControl\n        v-if=\"selectedVirtualDirectiveValType === 'shadow'\"\n        v-model=\"draftVirtualDirective\"\n        :static-vars=\"staticVars\"\n        :compact=\"true\"\n      />\n      <ColorInput\n        v-if=\"selectedVirtualDirectiveValType === 'color'\"\n        v-model=\"draftVirtualDirective\"\n        name=\"virtual-directive-color\"\n        :fallback=\"computeColor(draftVirtualDirective)\"\n        :label=\"$t('settings.style.themes3.editor.variables.virtual_color')\"\n        :hide-optional-checkbox=\"true\"\n      />\n    </div>\n  </div>\n</template>\n","import { ref, reactive, computed, watch, watchEffect, provide, getCurrentInstance } from 'vue'\nimport { useInterfaceStore } from 'src/stores/interface'\nimport { get, set, unset, throttle } from 'lodash'\n\nimport Select from 'src/components/select/select.vue'\nimport SelectMotion from 'src/components/select/select_motion.vue'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport ComponentPreview from 'src/components/component_preview/component_preview.vue'\nimport StringSetting from '../../helpers/string_setting.vue'\nimport ShadowControl from 'src/components/shadow_control/shadow_control.vue'\nimport ColorInput from 'src/components/color_input/color_input.vue'\nimport PaletteEditor from 'src/components/palette_editor/palette_editor.vue'\nimport OpacityInput from 'src/components/opacity_input/opacity_input.vue'\nimport RoundnessInput from 'src/components/roundness_input/roundness_input.vue'\nimport TabSwitcher from 'src/components/tab_switcher/tab_switcher.jsx'\nimport Tooltip from 'src/components/tooltip/tooltip.vue'\nimport ContrastRatio from 'src/components/contrast_ratio/contrast_ratio.vue'\nimport Preview from '../theme_tab/theme_preview.vue'\n\nimport VirtualDirectivesTab from './virtual_directives_tab.vue'\n\nimport { init, findColor } from 'src/services/theme_data/theme_data_3.service.js'\nimport {\n  getCssRules,\n  getScopedVersion\n} from 'src/services/theme_data/css_utils.js'\nimport { serialize } from 'src/services/theme_data/iss_serializer.js'\nimport { deserializeShadow, deserialize } from 'src/services/theme_data/iss_deserializer.js'\nimport {\n  rgb2hex,\n  hex2rgb,\n  getContrastRatio\n} from 'src/services/color_convert/color_convert.js'\nimport {\n  newImporter,\n  newExporter\n} from 'src/services/export_import/export_import.js'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faFloppyDisk,\n  faFolderOpen,\n  faFile,\n  faArrowsRotate,\n  faCheck\n} from '@fortawesome/free-solid-svg-icons'\n\n// helper for debugging\n// eslint-disable-next-line no-unused-vars\nconst toValue = (x) => JSON.parse(JSON.stringify(x === undefined ? 'null' : x))\n\n// helper to make states comparable\nconst normalizeStates = (states) => ['normal', ...(states?.filter(x => x !== 'normal') || [])].join(':')\n\nlibrary.add(\n  faFile,\n  faFloppyDisk,\n  faFolderOpen,\n  faArrowsRotate,\n  faCheck\n)\n\nexport default {\n  components: {\n    Select,\n    SelectMotion,\n    Checkbox,\n    Tooltip,\n    StringSetting,\n    ComponentPreview,\n    TabSwitcher,\n    ShadowControl,\n    ColorInput,\n    PaletteEditor,\n    OpacityInput,\n    RoundnessInput,\n    ContrastRatio,\n    Preview,\n    VirtualDirectivesTab\n  },\n  setup () {\n    const exports = {}\n    const interfaceStore = useInterfaceStore()\n    // All rules that are made by editor\n    const allEditedRules = ref(interfaceStore.styleDataUsed || {})\n    const styleDataUsed = computed(() => interfaceStore.styleDataUsed)\n\n    watch([styleDataUsed], () => {\n      onImport(interfaceStore.styleDataUsed)\n    }, { once: true })\n\n    exports.isActive = computed(() => {\n      const tabSwitcher = getCurrentInstance().parent.ctx\n      return tabSwitcher ? tabSwitcher.isActive('style') : false\n    })\n\n    // ## Meta stuff\n    exports.name = ref('')\n    exports.author = ref('')\n    exports.license = ref('')\n    exports.website = ref('')\n\n    const metaOut = computed(() => {\n      return [\n        '@meta {',\n        `  name: ${exports.name.value};`,\n        `  author: ${exports.author.value};`,\n        `  license: ${exports.license.value};`,\n        `  website: ${exports.website.value};`,\n        '}'\n      ].join('\\n')\n    })\n\n    const metaRule = computed(() => ({\n      component: '@meta',\n      directives: {\n        name: exports.name.value,\n        author: exports.author.value,\n        license: exports.license.value,\n        website: exports.website.value\n      }\n    }))\n\n    // ## Palette stuff\n    const palettes = reactive([\n      {\n        name: 'default',\n        bg: '#121a24',\n        fg: '#182230',\n        text: '#b9b9ba',\n        link: '#d8a070',\n        accent: '#d8a070',\n        cRed: '#FF0000',\n        cBlue: '#0095ff',\n        cGreen: '#0fa00f',\n        cOrange: '#ffa500'\n      },\n      {\n        name: 'light',\n        bg: '#f2f6f9',\n        fg: '#d6dfed',\n        text: '#304055',\n        underlay: '#5d6086',\n        accent: '#f55b1b',\n        cBlue: '#0095ff',\n        cRed: '#d31014',\n        cGreen: '#0fa00f',\n        cOrange: '#ffa500',\n        border: '#d8e6f9'\n      }\n    ])\n    exports.palettes = palettes\n\n    // This is kinda dumb but you cannot \"replace\" reactive() object\n    // and so v-model simply fails when you try to chage (increase only?)\n    // length of the array. Since linter complains about mutating modelValue\n    // inside SelectMotion, the next best thing is to just wipe existing array\n    // and replace it with new one.\n\n    const onPalettesUpdate = (e) => {\n      palettes.splice(0, palettes.length)\n      palettes.push(...e)\n    }\n    exports.onPalettesUpdate = onPalettesUpdate\n\n    const selectedPaletteId = ref(0)\n    const selectedPalette = computed({\n      get () {\n        return palettes[selectedPaletteId.value]\n      },\n      set (newPalette) {\n        palettes[selectedPaletteId.value] = newPalette\n      }\n    })\n    exports.selectedPaletteId = selectedPaletteId\n    exports.selectedPalette = selectedPalette\n    provide('selectedPalette', selectedPalette)\n\n    watch([selectedPalette], () => updateOverallPreview())\n\n    exports.getNewPalette = () => ({\n      name: 'new palette',\n      bg: '#121a24',\n      fg: '#182230',\n      text: '#b9b9ba',\n      link: '#d8a070',\n      accent: '#d8a070',\n      cRed: '#FF0000',\n      cBlue: '#0095ff',\n      cGreen: '#0fa00f',\n      cOrange: '#ffa500'\n    })\n\n    // Raw format\n    const palettesRule = computed(() => {\n      return palettes.map(palette => {\n        const { name, ...rest } = palette\n        return {\n          component: '@palette',\n          variant: name,\n          directives: Object\n            .entries(rest)\n            .filter(([k, v]) => v && k)\n            .reduce((acc, [k, v]) => ({ ...acc, [k]: v }), {})\n        }\n      })\n    })\n\n    // Text format\n    const palettesOut = computed(() => {\n      return palettes.map(({ name, ...palette }) => {\n        const entries = Object\n          .entries(palette)\n          .filter(([k, v]) => v && k)\n          .map(([slot, data]) => `  ${slot}: ${data};`)\n          .join('\\n')\n\n        return `@palette.${name} {\\n${entries}\\n}`\n      }).join('\\n\\n')\n    })\n\n    // ## Components stuff\n    // Getting existing components\n    const componentsContext = import.meta.glob(\n      ['/src/**/*.style.js', '/src/**/*.style.json'],\n      { eager: true }\n    )\n    const componentKeysAll = Object.keys(componentsContext)\n    const componentsMap = new Map(\n      componentKeysAll\n        .map(\n          key => [key, componentsContext[key].default]\n        ).filter(([, component]) => !component.virtual && !component.notEditable)\n    )\n    exports.componentsMap = componentsMap\n    const componentKeys = [...componentsMap.keys()]\n    exports.componentKeys = componentKeys\n\n    // Component list and selection\n    const selectedComponentKey = ref(componentsMap.keys().next().value)\n    exports.selectedComponentKey = selectedComponentKey\n\n    const selectedComponent = computed(() => componentsMap.get(selectedComponentKey.value))\n    const selectedComponentName = computed(() => selectedComponent.value.name)\n\n    // Selection basis\n    exports.selectedComponentVariants = computed(() => {\n      return Object.keys({ normal: null, ...(selectedComponent.value.variants || {}) })\n    })\n    exports.selectedComponentStates = computed(() => {\n      const all = Object.keys({ normal: null, ...(selectedComponent.value.states || {}) })\n      return all.filter(x => x !== 'normal')\n    })\n\n    // selection\n    const selectedVariant = ref('normal')\n    exports.selectedVariant = selectedVariant\n    const selectedState = reactive(new Set())\n    exports.selectedState = selectedState\n    exports.updateSelectedStates = (state, v) => {\n      if (v) {\n        selectedState.add(state)\n      } else {\n        selectedState.delete(state)\n      }\n    }\n\n    // Reset variant and state on component change\n    const updateSelectedComponent = () => {\n      selectedVariant.value = 'normal'\n      selectedState.clear()\n    }\n\n    watch(\n      selectedComponentName,\n      updateSelectedComponent\n    )\n\n    // ### Rules stuff aka meat and potatoes\n    // The native structure of separate rules and the child -> parent\n    // relation isn't very convenient for editor, we replace the array\n    // and child -> parent structure with map and parent -> child structure\n    const rulesToEditorFriendly = (rules, root = {}) => rules.reduce((acc, rule) => {\n      const { parent: rParent, component: rComponent } = rule\n      const parent = rParent ?? rule\n      const hasChildren = !!rParent\n      const child = hasChildren ? rule : null\n\n      const {\n        component: pComponent,\n        variant: pVariant = 'normal',\n        state: pState = [] // no relation to Intel CPUs whatsoever\n      } = parent\n\n      const pPath = `${hasChildren ? pComponent : rComponent}.${pVariant}.${normalizeStates(pState)}`\n\n      let output = get(acc, pPath)\n      if (!output) {\n        set(acc, pPath, {})\n        output = get(acc, pPath)\n      }\n\n      if (hasChildren) {\n        output._children = output._children ?? {}\n        const {\n          component: cComponent,\n          variant: cVariant = 'normal',\n          state: cState = [],\n          directives\n        } = child\n\n        const cPath = `${cComponent}.${cVariant}.${normalizeStates(cState)}`\n        set(output._children, cPath, { directives })\n      } else {\n        output.directives = parent.directives\n      }\n      return acc\n    }, root)\n\n    const editorFriendlyFallbackStructure = computed(() => {\n      const root = {}\n\n      componentKeys.forEach((componentKey) => {\n        const componentValue = componentsMap.get(componentKey)\n        const { defaultRules, name } = componentValue\n        rulesToEditorFriendly(\n          defaultRules.map((rule) => ({ ...rule, component: name })),\n          root\n        )\n      })\n\n      return root\n    })\n\n    // Checking whether component can support some \"directives\" which\n    // are actually virtual subcomponents, i.e. Text, Link etc\n    exports.componentHas = (subComponent) => {\n      return !!selectedComponent.value.validInnerComponents?.find(x => x === subComponent)\n    }\n\n    // Path for lodash's get and set\n    const getPath = (component, directive) => {\n      const pathSuffix = component ? `._children.${component}.normal.normal` : ''\n      const path = `${selectedComponentName.value}.${selectedVariant.value}.${normalizeStates([...selectedState])}${pathSuffix}.directives.${directive}`\n      return path\n    }\n\n    // Templates for directives\n    const isElementPresent = (component, directive, defaultValue = '') => computed({\n      get () {\n        return get(allEditedRules.value, getPath(component, directive)) != null\n      },\n      set (value) {\n        if (value) {\n          const fallback = get(\n            editorFriendlyFallbackStructure.value,\n            getPath(component, directive)\n          )\n          set(allEditedRules.value, getPath(component, directive), fallback ?? defaultValue)\n        } else {\n          unset(allEditedRules.value, getPath(component, directive))\n        }\n        exports.updateOverallPreview()\n      }\n    })\n\n    const getEditedElement = (component, directive, postProcess = x => x) => computed({\n      get () {\n        let usedRule\n        const fallback = editorFriendlyFallbackStructure.value\n        const real = allEditedRules.value\n        const path = getPath(component, directive)\n\n        usedRule = get(real, path) // get real\n        if (!usedRule) {\n          usedRule = get(fallback, path)\n        }\n\n        return postProcess(usedRule)\n      },\n      set (value) {\n        if (value) {\n          set(allEditedRules.value, getPath(component, directive), value)\n        } else {\n          unset(allEditedRules.value, getPath(component, directive))\n        }\n        exports.updateOverallPreview()\n      }\n    })\n\n    // All the editable stuff for the component\n    exports.editedBackgroundColor = getEditedElement(null, 'background')\n    exports.isBackgroundColorPresent = isElementPresent(null, 'background', '#FFFFFF')\n    exports.editedOpacity = getEditedElement(null, 'opacity')\n    exports.isOpacityPresent = isElementPresent(null, 'opacity', 1)\n    exports.editedRoundness = getEditedElement(null, 'roundness')\n    exports.isRoundnessPresent = isElementPresent(null, 'roundness', '0')\n    exports.editedTextColor = getEditedElement('Text', 'textColor')\n    exports.isTextColorPresent = isElementPresent('Text', 'textColor', '#000000')\n    exports.editedTextAuto = getEditedElement('Text', 'textAuto')\n    exports.isTextAutoPresent = isElementPresent('Text', 'textAuto', '#000000')\n    exports.editedLinkColor = getEditedElement('Link', 'textColor')\n    exports.isLinkColorPresent = isElementPresent('Link', 'textColor', '#000080')\n    exports.editedIconColor = getEditedElement('Icon', 'textColor')\n    exports.isIconColorPresent = isElementPresent('Icon', 'textColor', '#909090')\n    exports.editedBorderColor = getEditedElement('Border', 'textColor')\n    exports.isBorderColorPresent = isElementPresent('Border', 'textColor', '#909090')\n\n    const getContrast = (bg, text) => {\n      try {\n        const bgRgb = hex2rgb(bg)\n        const textRgb = hex2rgb(text)\n\n        const ratio = getContrastRatio(bgRgb, textRgb)\n        return {\n          // TODO this ideally should be part of <ContractRatio />\n          ratio,\n          text: ratio.toPrecision(3) + ':1',\n          // AA level, AAA level\n          aa: ratio >= 4.5,\n          aaa: ratio >= 7,\n          // same but for 18pt+ texts\n          laa: ratio >= 3,\n          laaa: ratio >= 4.5\n        }\n      } catch (e) {\n        console.warn('Failure computing contrast', e)\n        return { error: e }\n      }\n    }\n\n    const normalizeShadows = (shadows) => {\n      return shadows?.map(shadow => {\n        if (typeof shadow === 'object') {\n          return shadow\n        }\n        if (typeof shadow === 'string') {\n          try {\n            return deserializeShadow(shadow)\n          } catch (e) {\n            console.warn(e)\n            return shadow\n          }\n        }\n        return null\n      })\n    }\n    provide('normalizeShadows', normalizeShadows)\n\n    // Shadow is partially edited outside the ShadowControl\n    // for better space utilization\n    const editedShadow = getEditedElement(null, 'shadow', normalizeShadows)\n    exports.editedShadow = editedShadow\n    const editedSubShadowId = ref(null)\n    exports.editedSubShadowId = editedSubShadowId\n    const editedSubShadow = computed(() => {\n      if (editedShadow.value == null || editedSubShadowId.value == null) return null\n      return editedShadow.value[editedSubShadowId.value]\n    })\n    exports.editedSubShadow = editedSubShadow\n    exports.isShadowPresent = isElementPresent(null, 'shadow', [])\n    exports.onSubShadow = (id) => {\n      if (id != null) {\n        editedSubShadowId.value = id\n      } else {\n        editedSubShadow.value = null\n      }\n    }\n    exports.updateSubShadow = (axis, value) => {\n      if (!editedSubShadow.value || editedSubShadowId.value == null) return\n      const newEditedShadow = [...editedShadow.value]\n\n      newEditedShadow[editedSubShadowId.value] = {\n        ...newEditedShadow[editedSubShadowId.value],\n        [axis]: value\n      }\n\n      editedShadow.value = newEditedShadow\n    }\n    exports.isShadowTabOpen = ref(false)\n    exports.onTabSwitch = (tab) => {\n      exports.isShadowTabOpen.value = tab === 'shadow'\n    }\n\n    // component preview\n    exports.editorHintStyle = computed(() => {\n      const editorHint = selectedComponent.value.editor\n      const styles = []\n      if (editorHint && Object.keys(editorHint).length > 0) {\n        if (editorHint.aspect != null) {\n          styles.push(`aspect-ratio: ${editorHint.aspect} !important;`)\n        }\n        if (editorHint.border != null) {\n          styles.push(`border-width: ${editorHint.border}px !important;`)\n        }\n      }\n      return styles.join('; ')\n    })\n\n    const editorFriendlyToOriginal = computed(() => {\n      const resultRules = []\n\n      const convert = (component, data = {}, parent) => {\n        const variants = Object.entries(data || {})\n\n        variants.forEach(([variant, variantData]) => {\n          const states = Object.entries(variantData)\n\n          states.forEach(([jointState, stateData]) => {\n            const state = jointState.split(/:/g)\n            const result = {\n              component,\n              variant,\n              state,\n              directives: stateData.directives || {}\n            }\n\n            if (parent) {\n              result.parent = {\n                component: parent\n              }\n            }\n\n            resultRules.push(result)\n\n            // Currently we only support single depth for simplicity's sake\n            if (!parent) {\n              Object.entries(stateData._children || {}).forEach(([cName, child]) => convert(cName, child, component))\n            }\n          })\n        })\n      }\n\n      [...componentsMap.values()].forEach(({ name }) => {\n        convert(name, allEditedRules.value[name])\n      })\n\n      return resultRules\n    })\n\n    const allCustomVirtualDirectives = [...componentsMap.values()]\n      .map(c => {\n        return c\n          .defaultRules\n          .filter(c => c.component === 'Root')\n          .map(x => Object.entries(x.directives))\n          .flat()\n      })\n      .filter(x => x)\n      .flat()\n      .map(([name, value]) => {\n        const [valType, valVal] = value.split('|')\n        return {\n          name: name.substring(2),\n          valType: valType?.trim(),\n          value: valVal?.trim()\n        }\n      })\n\n    const virtualDirectives = ref(allCustomVirtualDirectives)\n    exports.virtualDirectives = virtualDirectives\n    exports.updateVirtualDirectives = (value) => {\n      virtualDirectives.value = value\n    }\n\n    // Raw format\n    const virtualDirectivesRule = computed(() => ({\n      component: 'Root',\n      directives: Object.fromEntries(\n        virtualDirectives.value.map(vd => [`--${vd.name}`, `${vd.valType} | ${vd.value}`])\n      )\n    }))\n\n    // Text format\n    const virtualDirectivesOut = computed(() => {\n      return [\n        'Root {',\n        ...virtualDirectives.value\n          .filter(vd => vd.name && vd.valType && vd.value)\n          .map(vd => `  --${vd.name}: ${vd.valType} | ${vd.value};`),\n        '}'\n      ].join('\\n')\n    })\n\n    exports.computeColor = (color) => {\n      let computedColor\n      try {\n        computedColor = findColor(color, { dynamicVars: dynamicVars.value, staticVars: staticVars.value })\n        if (computedColor) {\n          return rgb2hex(computedColor)\n        }\n      } catch (e) {\n        console.warn(e)\n      }\n      return null\n    }\n    provide('computeColor', exports.computeColor)\n\n    exports.contrast = computed(() => {\n      return getContrast(\n        exports.computeColor(previewColors.value.background),\n        exports.computeColor(previewColors.value.text)\n      )\n    })\n\n    // ## Export and Import\n    const styleExporter = newExporter({\n      filename: () => exports.name.value ?? 'pleroma_theme',\n      mime: 'text/plain',\n      extension: 'iss',\n      getExportedObject: () => exportStyleData.value\n    })\n\n    const onImport = parsed => {\n      const editorComponents = parsed.filter(x => x.component.startsWith('@'))\n      const rootComponent = parsed.find(x => x.component === 'Root')\n      const rules = parsed.filter(x => !x.component.startsWith('@') && x.component !== 'Root')\n      const metaIn = editorComponents.find(x => x.component === '@meta').directives\n      const palettesIn = editorComponents.filter(x => x.component === '@palette')\n\n      exports.name.value = metaIn.name\n      exports.license.value = metaIn.license\n      exports.author.value = metaIn.author\n      exports.website.value = metaIn.website\n\n      const newVirtualDirectives = Object\n        .entries(rootComponent.directives)\n        .map(([name, value]) => {\n          const [valType, valVal] = value.split('|').map(x => x.trim())\n          return { name: name.substring(2), valType, value: valVal }\n        })\n      virtualDirectives.value = newVirtualDirectives\n\n      onPalettesUpdate(palettesIn.map(x => ({ name: x.variant, ...x.directives })))\n\n      allEditedRules.value = rulesToEditorFriendly(rules)\n\n      exports.updateOverallPreview()\n    }\n\n    const styleImporter = newImporter({\n      accept: '.iss',\n      parser (string) { return deserialize(string) },\n      onImportFailure (result) {\n        console.error('Failure importing style:', result)\n        this.$store.useInterfaceStore().pushGlobalNotice({ messageKey: 'settings.invalid_theme_imported', level: 'error' })\n      },\n      onImport\n    })\n\n    // Raw format\n    const exportRules = computed(() => [\n      metaRule.value,\n      ...palettesRule.value,\n      virtualDirectivesRule.value,\n      ...editorFriendlyToOriginal.value\n    ])\n\n    // Text format\n    const exportStyleData = computed(() => {\n      return [\n        metaOut.value,\n        palettesOut.value,\n        virtualDirectivesOut.value,\n        serialize(editorFriendlyToOriginal.value)\n      ].join('\\n\\n')\n    })\n\n    exports.clearStyle = () => {\n      onImport(interfaceStore().styleDataUsed)\n    }\n\n    exports.exportStyle = () => {\n      styleExporter.exportData()\n    }\n\n    exports.importStyle = () => {\n      styleImporter.importData()\n    }\n\n    exports.applyStyle = () => {\n      useInterfaceStore().setStyleCustom(exportRules.value)\n    }\n\n    const overallPreviewRules = ref([])\n    exports.overallPreviewRules = overallPreviewRules\n\n    const overallPreviewCssRules = ref([])\n    watchEffect(throttle(() => {\n      try {\n        overallPreviewCssRules.value = getScopedVersion(\n          getCssRules(overallPreviewRules.value),\n          '#edited-style-preview'\n        ).join('\\n')\n      } catch (e) {\n        console.error(e)\n      }\n    }, 500))\n\n    exports.overallPreviewCssRules = overallPreviewCssRules\n\n    const updateOverallPreview = throttle(() => {\n      try {\n        overallPreviewRules.value = init({\n          inputRuleset: [\n            ...exportRules.value,\n            {\n              component: 'Root',\n              directives: Object.fromEntries(\n                Object\n                  .entries(selectedPalette.value)\n                  .filter(([k, v]) => k && v && k !== 'name')\n                  .map(([k, v]) => [`--${k}`, `color | ${v}`])\n              )\n            }\n          ],\n          ultimateBackgroundColor: '#000000',\n          debug: true\n        }).eager\n      } catch (e) {\n        console.error('Could not compile preview theme', e)\n        return null\n      }\n    }, 5000)\n    //\n    // Apart from \"hover\" we can't really show how component looks like in\n    // certain states, so we have to fake them.\n    const simulatePseudoSelectors = (css, prefix) => css\n      .replace(prefix, '.component-preview .preview-block')\n      .replace(':active', '.preview-active')\n      .replace(':hover', '.preview-hover')\n      .replace(':active', '.preview-active')\n      .replace(':focus', '.preview-focus')\n      .replace(':focus-within', '.preview-focus-within')\n      .replace(':disabled', '.preview-disabled')\n\n    const previewRules = computed(() => {\n      const filtered = overallPreviewRules.value.filter(r => {\n        const componentMatch = r.component === selectedComponentName.value\n        const parentComponentMatch = r.parent?.component === selectedComponentName.value\n        if (!componentMatch && !parentComponentMatch) return false\n        const rule = parentComponentMatch ? r.parent : r\n        if (rule.component !== selectedComponentName.value) return false\n        if (rule.variant !== selectedVariant.value) return false\n        const ruleState = new Set(rule.state.filter(x => x !== 'normal'))\n        const differenceA = [...ruleState].filter(x => !selectedState.has(x))\n        const differenceB = [...selectedState].filter(x => !ruleState.has(x))\n        return (differenceA.length + differenceB.length) === 0\n      })\n      const sorted = [...filtered]\n        .filter(x => x.component === selectedComponentName.value)\n        .sort((a, b) => {\n          const aSelectorLength = a.selector.split(/ /g).length\n          const bSelectorLength = b.selector.split(/ /g).length\n          return aSelectorLength - bSelectorLength\n        })\n\n      const prefix = sorted[0].selector\n\n      return filtered.filter(x => x.selector.startsWith(prefix))\n    })\n\n    exports.previewClass = computed(() => {\n      const selectors = []\n      if (!!selectedComponent.value.variants?.normal || selectedVariant.value !== 'normal') {\n        selectors.push(selectedComponent.value.variants[selectedVariant.value])\n      }\n      if (selectedState.size > 0) {\n        selectedState.forEach(state => {\n          const original = selectedComponent.value.states[state]\n          selectors.push(simulatePseudoSelectors(original))\n        })\n      }\n      return selectors.map(x => x.substring(1)).join('')\n    })\n\n    exports.previewCss = computed(() => {\n      try {\n        const prefix = previewRules.value[0].selector\n        const scoped = getCssRules(previewRules.value).map(x => simulatePseudoSelectors(x, prefix))\n        return scoped.join('\\n')\n      } catch (e) {\n        console.error('Invalid ruleset', e)\n        return null\n      }\n    })\n\n    const dynamicVars = computed(() => {\n      return previewRules.value[0].dynamicVars\n    })\n\n    const staticVars = computed(() => {\n      const rootComponent = overallPreviewRules.value.find(r => {\n        return r.component === 'Root'\n      })\n      const rootDirectivesEntries = Object.entries(rootComponent.directives)\n      const directives = {}\n      rootDirectivesEntries\n        .filter(([k, v]) => k.startsWith('--') && v.startsWith('color | '))\n        .map(([k, v]) => [k.substring(2), v.substring('color | '.length)])\n        .forEach(([k, v]) => {\n          directives[k] = findColor(v, { dynamicVars: {}, staticVars: directives })\n        })\n      return directives\n    })\n    provide('staticVars', staticVars)\n    exports.staticVars = staticVars\n\n    const previewColors = computed(() => {\n      const stacked = dynamicVars.value.stacked\n      const background = typeof stacked === 'string' ? stacked : rgb2hex(stacked)\n      return {\n        text: previewRules.value.find(r => r.component === 'Text')?.virtualDirectives['--text'],\n        link: previewRules.value.find(r => r.component === 'Link')?.virtualDirectives['--link'],\n        border: previewRules.value.find(r => r.component === 'Border')?.virtualDirectives['--border'],\n        icon: previewRules.value.find(r => r.component === 'Icon')?.virtualDirectives['--icon'],\n        background\n      }\n    })\n    exports.previewColors = previewColors\n    exports.updateOverallPreview = updateOverallPreview\n\n    updateOverallPreview()\n\n    watch(\n      [\n        allEditedRules.value,\n        palettes,\n        selectedPalette,\n        selectedState,\n        selectedVariant\n      ],\n      updateOverallPreview\n    )\n\n    return exports\n  }\n}\n","<script src=\"./style_tab.js\">\n</script>\n\n<template>\n  <div class=\"StyleTab\">\n    <div class=\"setting-item heading\">\n      <h2> {{ $t('settings.style.themes3.editor.title') }} </h2>\n      <div class=\"meta-preview\">\n        <!-- eslint-disable vue/no-v-text-v-html-on-component -->\n        <!-- eslint-disable vue/no-v-html -->\n        <component\n          :is=\"'style'\"\n          v-html=\"overallPreviewCssRules\"\n        />\n        <!-- eslint-enable vue/no-v-html -->\n        <!-- eslint-enable vue/no-v-text-v-html-on-component -->\n        <Preview id=\"edited-style-preview\" />\n        <teleport\n          v-if=\"isActive\"\n          to=\"#unscrolled-content\"\n        >\n          <div class=\"style-actions-container\">\n            <div class=\"style-actions\">\n              <button\n                class=\"btn button-default button-new\"\n                @click=\"clearStyle\"\n              >\n                <FAIcon icon=\"arrows-rotate\" />\n                {{ $t('settings.style.themes3.editor.reset_style') }}\n              </button>\n              <button\n                class=\"btn button-default button-load\"\n                @click=\"importStyle\"\n              >\n                <FAIcon icon=\"folder-open\" />\n                {{ $t('settings.style.themes3.editor.load_style') }}\n              </button>\n              <button\n                class=\"btn button-default button-save\"\n                @click=\"exportStyle\"\n              >\n                <FAIcon icon=\"floppy-disk\" />\n                {{ $t('settings.style.themes3.editor.save_style') }}\n              </button>\n              <button\n                class=\"btn button-default button-apply\"\n                @click=\"applyStyle\"\n              >\n                <FAIcon icon=\"check\" />\n                {{ $t('settings.style.themes3.editor.apply_preview') }}\n              </button>\n            </div>\n          </div>\n        </teleport>\n        <ul class=\"setting-list style-metadata\">\n          <li>\n            <StringSetting\n              v-model=\"name\"\n              class=\"meta-field\"\n            >\n              {{ $t('settings.style.themes3.editor.style_name') }}\n            </StringSetting>\n          </li>\n          <li>\n            <StringSetting\n              v-model=\"author\"\n              class=\"meta-field\"\n            >\n              {{ $t('settings.style.themes3.editor.style_author') }}\n            </StringSetting>\n          </li>\n          <li>\n            <StringSetting\n              v-model=\"license\"\n              class=\"meta-field\"\n            >\n              {{ $t('settings.style.themes3.editor.style_license') }}\n            </StringSetting>\n          </li>\n          <li>\n            <StringSetting\n              v-model=\"website\"\n              class=\"meta-field\"\n            >\n              {{ $t('settings.style.themes3.editor.style_website') }}\n            </StringSetting>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <tab-switcher>\n      <div\n        key=\"component\"\n        class=\"setting-item component-editor\"\n        :label=\"$t('settings.style.themes3.editor.component_tab')\"\n      >\n        <div class=\"component-selector\">\n          <label for=\"component-selector\">\n            {{ $t('settings.style.themes3.editor.component_selector') }}\n            {{ ' ' }}\n          </label>\n          <Select\n            id=\"component-selector\"\n            v-model=\"selectedComponentKey\"\n          >\n            <option\n              v-for=\"key in componentKeys\"\n              :key=\"'component-' + key\"\n              :value=\"key\"\n            >\n              {{ componentsMap.get(key).name }}\n            </option>\n          </Select>\n        </div>\n        <div\n          v-if=\"selectedComponentVariants.length > 1\"\n          class=\"variant-selector\"\n        >\n          <label for=\"variant-selector\">\n            {{ $t('settings.style.themes3.editor.variant_selector') }}\n          </label>\n          <Select\n            v-model=\"selectedVariant\"\n          >\n            <option\n              v-for=\"variant in selectedComponentVariants\"\n              :key=\"'component-variant-' + variant\"\n              :value=\"variant\"\n            >\n              {{ variant }}\n            </option>\n          </Select>\n        </div>\n        <div\n          v-if=\"selectedComponentStates.length > 0\"\n          class=\"state-selector\"\n        >\n          <label>\n            {{ $t('settings.style.themes3.editor.states_selector') }}\n          </label>\n          <ul\n            class=\"state-selector-list\"\n          >\n            <li\n              v-for=\"state in selectedComponentStates\"\n              :key=\"'component-state-' + state\"\n            >\n              <Checkbox\n                :value=\"selectedState.has(state)\"\n                @update:model-value=\"(v) => updateSelectedStates(state, v)\"\n              >\n                {{ state }}\n              </Checkbox>\n            </li>\n          </ul>\n        </div>\n        <div class=\"preview-container\">\n          <!-- eslint-disable vue/no-v-html vue/no-v-text-v-html-on-component -->\n          <component\n            :is=\"'style'\"\n            v-html=\"previewCss\"\n          />\n          <!-- eslint-enable vue/no-v-html vue/no-v-text-v-html-on-component -->\n          <ComponentPreview\n            class=\"component-preview\"\n            :show-text=\"componentHas('Text')\"\n            :shadow-control=\"isShadowTabOpen\"\n            :preview-class=\"previewClass\"\n            :preview-style=\"editorHintStyle\"\n            :preview-css=\"previewCss\"\n            :disabled=\"!editedSubShadow && typeof editedShadow !== 'string'\"\n            :shadow=\"editedSubShadow\"\n            :no-color-control=\"true\"\n            @update:shadow=\"({ axis, value }) => updateSubShadow(axis, value)\"\n          />\n        </div>\n        <tab-switcher\n          ref=\"tabSwitcher\"\n          class=\"component-settings\"\n          :on-switch=\"onTabSwitch\"\n        >\n          <div\n            key=\"main\"\n            class=\"editor-tab\"\n            :label=\"$t('settings.style.themes3.editor.main_tab')\"\n          >\n            <ColorInput\n              v-model=\"editedBackgroundColor\"\n              name=\"component-background-color\"\n              :fallback=\"computeColor(editedBackgroundColor) ?? previewColors.background\"\n              :disabled=\"!isBackgroundColorPresent\"\n              :label=\"$t('settings.style.themes3.editor.background')\"\n              :hide-optional-checkbox=\"true\"\n            />\n            <Tooltip :text=\"$t('settings.style.themes3.editor.include_in_rule')\">\n              <Checkbox v-model=\"isBackgroundColorPresent\" />\n            </Tooltip>\n            <ColorInput\n              v-if=\"componentHas('Text')\"\n              v-model=\"editedTextColor\"\n              name=\"component-text-color\"\n              :fallback=\"computeColor(editedTextColor) ?? previewColors.text\"\n              :label=\"$t('settings.style.themes3.editor.text_color')\"\n              :disabled=\"!isTextColorPresent\"\n              :hide-optional-checkbox=\"true\"\n            />\n            <Tooltip\n              v-if=\"componentHas('Text')\"\n              :text=\"$t('settings.style.themes3.editor.include_in_rule')\"\n            >\n              <Checkbox v-model=\"isTextColorPresent\" />\n            </Tooltip>\n            <div\n              v-if=\"componentHas('Text')\"\n              class=\"style-control suboption\"\n            >\n              <label\n                for=\"textAuto\"\n                class=\"label\"\n                :class=\"{ faint: !isTextAutoPresent }\"\n              >\n                {{ $t('settings.style.themes3.editor.text_auto.label') }}\n              </label>\n              <Select\n                id=\"textAuto\"\n                v-model=\"editedTextAuto\"\n                :disabled=\"!isTextAutoPresent\"\n              >\n                <option value=\"no-preserve\">\n                  {{ $t('settings.style.themes3.editor.text_auto.no-preserve') }}\n                </option>\n                <option value=\"no-auto\">\n                  {{ $t('settings.style.themes3.editor.text_auto.no-auto') }}\n                </option>\n                <option value=\"preserve\">\n                  {{ $t('settings.style.themes3.editor.text_auto.preserve') }}\n                </option>\n              </Select>\n            </div>\n            <Tooltip\n              v-if=\"componentHas('Text')\"\n              :text=\"$t('settings.style.themes3.editor.include_in_rule')\"\n            >\n              <Checkbox v-model=\"isTextAutoPresent\" />\n            </Tooltip>\n            <div\n              v-if=\"componentHas('Text')\"\n              class=\"style-control suboption\"\n            >\n              <label class=\"label\">\n                {{ $t('settings.style.themes3.editor.contrast') }}\n              </label>\n              <ContrastRatio\n                :show-ratio=\"true\"\n                :contrast=\"contrast\"\n              />\n            </div>\n            <div v-if=\"componentHas('Text')\" />\n            <ColorInput\n              v-if=\"componentHas('Link')\"\n              v-model=\"editedLinkColor\"\n              name=\"component-link-color\"\n              :fallback=\"computeColor(editedLinkColor) ?? previewColors.link\"\n              :label=\"$t('settings.style.themes3.editor.link_color')\"\n              :disabled=\"!isLinkColorPresent\"\n              :hide-optional-checkbox=\"true\"\n            />\n            <Tooltip\n              v-if=\"componentHas('Link')\"\n              :text=\"$t('settings.style.themes3.editor.include_in_rule')\"\n            >\n              <Checkbox v-model=\"isLinkColorPresent\" />\n            </Tooltip>\n            <ColorInput\n              v-if=\"componentHas('Icon')\"\n              v-model=\"editedIconColor\"\n              name=\"component-icon-color\"\n              :fallback=\"computeColor(editedIconColor) ?? previewColors.icon\"\n              :label=\"$t('settings.style.themes3.editor.icon_color')\"\n              :disabled=\"!isIconColorPresent\"\n              :hide-optional-checkbox=\"true\"\n            />\n            <Tooltip\n              v-if=\"componentHas('Icon')\"\n              :text=\"$t('settings.style.themes3.editor.include_in_rule')\"\n            >\n              <Checkbox v-model=\"isIconColorPresent\" />\n            </Tooltip>\n            <ColorInput\n              v-if=\"componentHas('Border')\"\n              v-model=\"editedBorderColor\"\n              name=\"component-border-color\"\n              :fallback=\"computeColor(editedBorderColor) ?? previewColors.border\"\n              :label=\"$t('settings.style.themes3.editor.border_color')\"\n              :disabled=\"!isBorderColorPresent\"\n              :hide-optional-checkbox=\"true\"\n            />\n            <Tooltip\n              v-if=\"componentHas('Border')\"\n              :text=\"$t('settings.style.themes3.editor.include_in_rule')\"\n            >\n              <Checkbox v-model=\"isBorderColorPresent\" />\n            </Tooltip>\n            <OpacityInput\n              v-model=\"editedOpacity\"\n              name=\"component-opacity\"\n              :disabled=\"!isOpacityPresent\"\n              :label=\"$t('settings.style.themes3.editor.opacity')\"\n            />\n            <Tooltip :text=\"$t('settings.style.themes3.editor.include_in_rule')\">\n              <Checkbox v-model=\"isOpacityPresent\" />\n            </Tooltip>\n            <RoundnessInput\n              v-model=\"editedRoundness\"\n              name=\"component-roundness\"\n              :disabled=\"!isRoundnessPresent\"\n              :label=\"$t('settings.style.themes3.editor.roundness')\"\n            />\n            <Tooltip :text=\"$t('settings.style.themes3.editor.include_in_rule')\">\n              <Checkbox v-model=\"isRoundnessPresent\" />\n            </Tooltip>\n          </div>\n          <div\n            key=\"shadow\"\n            class=\"editor-tab shadow-tab\"\n            :label=\"$t('settings.style.themes3.editor.shadows_tab')\"\n          >\n            <Checkbox\n              v-model=\"isShadowPresent\"\n              class=\"style-control\"\n            >\n              {{ $t('settings.style.themes3.editor.include_in_rule') }}\n            </checkbox>\n            <ShadowControl\n              v-model=\"editedShadow\"\n              :disabled=\"!isShadowPresent\"\n              :no-preview=\"true\"\n              :compact=\"true\"\n              :static-vars=\"staticVars\"\n              @sub-shadow-selected=\"onSubShadow\"\n            />\n          </div>\n        </tab-switcher>\n      </div>\n      <div\n        key=\"palette\"\n        :label=\"$t('settings.style.themes3.editor.palette_tab')\"\n        class=\"setting-item list-editor palette-editor\"\n      >\n        <label\n          class=\"list-select-label\"\n          for=\"palette-selector\"\n        >\n          {{ $t('settings.style.themes3.palette.label') }}\n          {{ ' ' }}\n        </label>\n        <Select\n          id=\"palette-selector\"\n          v-model=\"selectedPaletteId\"\n          class=\"list-select\"\n          size=\"4\"\n        >\n          <option\n            v-for=\"(p, index) in palettes\"\n            :key=\"p.name\"\n            :value=\"index\"\n          >\n            {{ p.name }}\n          </option>\n        </Select>\n        <SelectMotion\n          class=\"list-select-movement\"\n          :model-value=\"palettes\"\n          :selected-id=\"selectedPaletteId\"\n          :get-add-value=\"getNewPalette\"\n          @update:model-value=\"onPalettesUpdate\"\n          @update:selected-id=\"e => selectedPaletteId = e\"\n        />\n        <div class=\"list-edit-area\">\n          <StringSetting\n            v-model=\"selectedPalette.name\"\n            class=\"palette-name-input\"\n          >\n            {{ $t('settings.style.themes3.palette.name_label') }}\n          </StringSetting>\n          <PaletteEditor\n            v-model=\"selectedPalette\"\n            class=\"palette-editor-single\"\n          />\n        </div>\n      </div>\n      <VirtualDirectivesTab\n        key=\"variables\"\n        :label=\"$t('settings.style.themes3.editor.variables_tab')\"\n        :model-value=\"virtualDirectives\"\n        @update:model-value=\"updateVirtualDirectives\"\n      />\n    </tab-switcher>\n  </div>\n</template>\n\n<style src=\"./style_tab.scss\" lang=\"scss\"></style>\n","import TabSwitcher from 'src/components/tab_switcher/tab_switcher.jsx'\n\nimport DataImportExportTab from './tabs/data_import_export_tab.vue'\nimport MutesAndBlocksTab from './tabs/mutes_and_blocks_tab.vue'\nimport NotificationsTab from './tabs/notifications_tab.vue'\nimport FilteringTab from './tabs/filtering_tab.vue'\nimport SecurityTab from './tabs/security_tab/security_tab.vue'\nimport ProfileTab from './tabs/profile_tab.vue'\nimport GeneralTab from './tabs/general_tab.vue'\nimport AppearanceTab from './tabs/appearance_tab.vue'\nimport VersionTab from './tabs/version_tab.vue'\nimport ThemeTab from './tabs/theme_tab/theme_tab.vue'\nimport StyleTab from './tabs/style_tab/style_tab.vue'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n  faWrench,\n  faUser,\n  faFilter,\n  faPaintBrush,\n  faPalette,\n  faBell,\n  faDownload,\n  faEyeSlash,\n  faInfo,\n  faWindowRestore\n} from '@fortawesome/free-solid-svg-icons'\nimport { useInterfaceStore } from 'src/stores/interface'\n\nlibrary.add(\n  faWrench,\n  faUser,\n  faFilter,\n  faPaintBrush,\n  faPalette,\n  faBell,\n  faDownload,\n  faEyeSlash,\n  faInfo,\n  faWindowRestore\n)\n\nconst SettingsModalContent = {\n  components: {\n    TabSwitcher,\n\n    DataImportExportTab,\n    MutesAndBlocksTab,\n    NotificationsTab,\n    FilteringTab,\n    SecurityTab,\n    ProfileTab,\n    GeneralTab,\n    AppearanceTab,\n    StyleTab,\n    VersionTab,\n    ThemeTab\n  },\n  computed: {\n    isLoggedIn () {\n      return !!this.$store.state.users.currentUser\n    },\n    open () {\n      return useInterfaceStore().settingsModalState !== 'hidden'\n    },\n    bodyLock () {\n      return useInterfaceStore().settingsModalState === 'visible'\n    },\n    expertLevel () {\n      return this.$store.state.config.expertLevel\n    },\n    isMobileLayout () {\n      return useInterfaceStore().layoutType === 'mobile'\n    }\n  },\n  methods: {\n    onOpen () {\n      const targetTab = useInterfaceStore().settingsModalTargetTab\n      // We're being told to open in specific tab\n      if (targetTab) {\n        const tabIndex = this.$refs.tabSwitcher.$slots.default().findIndex(elm => {\n          return elm.props && elm.props['data-tab-name'] === targetTab\n        })\n        if (tabIndex >= 0) {\n          this.$refs.tabSwitcher.setTab(tabIndex)\n        }\n      }\n      // Clear the state of target tab, so that next time settings is opened\n      // it doesn't force it.\n      useInterfaceStore().clearSettingsModalTargetTab()\n    }\n  },\n  mounted () {\n    this.onOpen()\n  },\n  watch: {\n    open: function (value) {\n      if (value) this.onOpen()\n    }\n  }\n}\n\nexport default SettingsModalContent\n","<template>\n  <tab-switcher\n    ref=\"tabSwitcher\"\n    class=\"settings_tab-switcher\"\n    :side-tab-bar=\"true\"\n    :scrollable-tabs=\"true\"\n    :body-scroll-lock=\"bodyLock\"\n  >\n    <div\n      :label=\"$t('settings.general')\"\n      icon=\"wrench\"\n      data-tab-name=\"general\"\n    >\n      <GeneralTab />\n    </div>\n    <div\n      :label=\"$t('settings.appearance')\"\n      icon=\"window-restore\"\n      data-tab-name=\"appearance\"\n      :delay-render=\"true\"\n    >\n      <AppearanceTab />\n    </div>\n    <div\n      v-if=\"expertLevel > 0\"\n      :label=\"$t('settings.style.themes3.editor.title')\"\n      icon=\"palette\"\n      data-tab-name=\"style\"\n      :delay-render=\"true\"\n    >\n      <StyleTab />\n    </div>\n    <div\n      v-if=\"expertLevel > 0\"\n      :label=\"$t('settings.theme_old')\"\n      icon=\"paint-brush\"\n      data-tab-name=\"theme\"\n      :delay-render=\"true\"\n    >\n      <ThemeTab />\n    </div>\n    <div\n      v-if=\"isLoggedIn\"\n      :label=\"$t('settings.profile_tab')\"\n      icon=\"user\"\n      data-tab-name=\"profile\"\n    >\n      <ProfileTab />\n    </div>\n    <div\n      v-if=\"isLoggedIn\"\n      :label=\"$t('settings.notifications')\"\n      icon=\"bell\"\n      data-tab-name=\"notifications\"\n    >\n      <NotificationsTab />\n    </div>\n    <div\n      v-if=\"isLoggedIn\"\n      :label=\"$t('settings.security_tab')\"\n      icon=\"lock\"\n      data-tab-name=\"security\"\n    >\n      <SecurityTab />\n    </div>\n    <div\n      :label=\"$t('settings.filtering')\"\n      icon=\"filter\"\n      data-tab-name=\"filtering\"\n    >\n      <FilteringTab />\n    </div>\n    <div\n      v-if=\"isLoggedIn\"\n      :label=\"$t('settings.mutes_and_blocks')\"\n      :fullHeight=\"true\"\n      icon=\"eye-slash\"\n      data-tab-name=\"mutesAndBlocks\"\n    >\n      <MutesAndBlocksTab />\n    </div>\n    <div\n      v-if=\"isLoggedIn\"\n      :label=\"$t('settings.data_import_export_tab')\"\n      icon=\"download\"\n      data-tab-name=\"dataImportExport\"\n    >\n      <DataImportExportTab />\n    </div>\n    <div\n      :label=\"$t('settings.version.title')\"\n      icon=\"info\"\n      data-tab-name=\"version\"\n    >\n      <VersionTab />\n    </div>\n  </tab-switcher>\n</template>\n\n<script src=\"./settings_modal_user_content.js\"></script>\n\n<style src=\"./settings_modal_user_content.scss\" lang=\"scss\"></style>\n"],"names":["library","faCircleNotch","faTimes","Importer","_component_FAIcon","_resolveComponent","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_createBlock","submitButtonLabel","_cache","args","_ctx","_toDisplayString","_hoisted_2","_createVNode","_hoisted_3","Exporter","content","fileToDownload","exportButtonLabel","DataImportExportTab","Checkbox","mapState","state","file","status","users","user","error","res","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_13","_hoisted_14","importFollows","_component_Importer","_component_Exporter","importBlocks","importMutes","_Fragment","_renderList","backup","_hoisted_9","$t","_hoisted_11","_createTextVNode","$event","_hoisted_15","_createCommentVNode","_hoisted_16","FUNC_ERROR_TEXT","negate","predicate","negate_1","arrayFilter","require$$0","baseFilter","require$$1","baseIteratee","require$$2","isArray","require$$3","require$$4","reject","collection","func","reject_1","debounceMilliseconds","_sfc_main$j","val","term","results","_directive_click_outside","_resolveDirective","_withDirectives","_vModelText","BlockCard","BasicUserCard","_component_basic_user_card","_withCtx","MuteCard","DomainMuteCard","ProgressButton","_component_ProgressButton","SelectableList","List","item","key","checked","oldChecked","value","_component_List","_component_Checkbox","getKey","_withModifiers","_renderSlot","_isSlot","s","Object","prototype","toString","call","_isVNode","add","withSubscription","fetch","select","childPropName","additionalPropNames","WrappedComponent","props","keys","getComponentProps","filter","v","concat","data","loading","computed","fetchedData","$props","$store","created","refresh","isEmpty","fetchData","methods","then","catch","render","children","$slots","default","FAIcon","BlockList","withLoadMore","get","MuteList","DomainMuteList","MutesAndBlocks","TabSwitcher","Autosuggest","tabName","userIds","userId","query","map","ids","urls","url","resolve","domains","_component_tab_switcher","_component_Autosuggest","row","_component_BlockList","i","selected","_component_MuteList","_component_DomainMuteList","_hoisted_10","NotificationsTab","BooleanSetting","SharedComputedObject","_hoisted_12","_hoisted_17","_hoisted_19","_hoisted_20","_hoisted_21","_component_BooleanSetting","_hoisted_18","mergedConfig","_hoisted_22","_normalizeClass","allCssUnits","_sfc_main$i","Setting","Select","newUnit","replaceValue","_component_Select","updateUnit","option","_component_ModifiedIndicator","FilteringTab","mode","ChoiceSetting","UnitSetting","IntegerSetting","debounce","word","trim","_component_ChoiceSetting","_component_IntegerSetting","_component_UnitSetting","_sfc_main$h","_sfc_render","$setup","$data","$options","backupCodes","Confirm","_sfc_main$g","_component_confirm","cancelDeactivate","canPromise","toSJISFunction","CODEWORDS_COUNT","utils","version","digit","f","kanji","exports","fromString","string","level","defaultValue","BitBuffer","index","bufIndex","num","length","bit","bitBuffer","BitMatrix","size","col","reserved","bitMatrix","getSymbolSize","posCount","intervals","positions","coords","pos","posLength","j","FINDER_PATTERN_SIZE","finderPattern","PenaltyScores","mask","points","sameCountCol","sameCountRow","lastCol","lastRow","module","last","bitsCol","bitsRow","darkCount","modulesCount","getMaskAt","maskPattern","pattern","setupFormatFunc","numPatterns","bestPattern","lowerPenalty","p","penalty","ECLevel","EC_BLOCKS_TABLE","EC_CODEWORDS_TABLE","errorCorrectionCode","errorCorrectionLevel","EXP_TABLE","LOG_TABLE","x","galoisField","y","GF","p1","p2","coeff","divident","divisor","result","offset","degree","poly","Polynomial","ReedSolomonEncoder","paddedData","remainder","start","buff","reedSolomonEncoder","versionCheck","numeric","alphanumeric","byte","regex","TEST_KANJI","TEST_NUMERIC","TEST_ALPHANUMERIC","str","VersionCheck","Regex","dataStr","Utils","ECCode","Mode","G18","G18_BCH","getBestVersionForDataLength","currentVersion","getReservedBitsCount","getTotalBitsFromDataArray","segments","totalBits","reservedBits","getBestVersionForMixedData","totalCodewords","ecTotalCodewords","dataTotalCodewordsBits","usableBits","seg","ecl","d","G15","G15_MASK","G15_BCH","formatInfo","NumericData","group","remainingNum","numericData","ALPHA_NUM_CHARS","AlphanumericData","alphanumericData","ByteData","l","byteData","KanjiData","kanjiData","dijkstra","graph","predecessors","costs","open","closest","u","cost_of_s_to_u","adjacent_nodes","cost_of_e","cost_of_s_to_u_plus_cost_of_e","cost_of_s_to_v","first_visit","msg","nodes","opts","T","t","a","b","cost","require$$5","require$$6","require$$7","getStringByteLength","getSegments","getSegmentsFromString","numSegs","alphaNumSegs","byteSegs","kanjiSegs","s1","s2","obj","getSegmentBitsLength","mergeSegments","segs","acc","curr","prevSeg","buildNodes","buildGraph","table","prevNodeIds","nodeGroup","currentNodeIds","node","n","prevNodeId","buildSingleSegment","modesHint","bestMode","array","path","optimizedSegs","AlignmentPattern","FinderPattern","MaskPattern","require$$8","Version","require$$9","FormatInfo","require$$10","require$$11","Segments","require$$12","setupFinderPattern","matrix","r","c","setupTimingPattern","setupAlignmentPattern","setupVersionInfo","bits","mod","setupFormatInfo","setupData","inc","bitIndex","byteIndex","dark","createData","buffer","remainingByte","createCodewords","dataTotalCodewords","ecTotalBlocks","blocksInGroup2","blocksInGroup1","totalCodewordsInGroup1","dataCodewordsInGroup1","dataCodewordsInGroup2","ecCount","rs","dcData","ecData","maxDataSize","dataSize","createSymbol","estimatedVersion","rawSegments","bestVersion","dataBits","moduleCount","modules","qrcode","options","hex2rgba","hex","hexCode","hexValue","margin","width","scale","qrSize","imgData","qr","symbolSize","scaledMargin","palette","posDst","pxColor","iSrc","jSrc","clearCanvas","ctx","canvas","getCanvasElement","qrData","canvasEl","image","type","rendererOpts","getColorAttrib","color","attrib","alpha","svgCmd","cmd","qrToPath","moveBy","newRow","lineLength","svgTag","cb","qrcodesize","bg","viewBox","QRCode","CanvasRenderer","SvgRenderer","renderCanvas","renderFunc","text","argsNum","isLastArgCb","e","browser","_","EVENT_READY","defineComponent","done","toCanvas","toDataURL","div","svg","attributes","childNodes","attribute","childNode","h","Mfa","RecoveryCodes","TOTP","VueQrcode","settings","_component_totp_item","_component_recovery_codes","confirmBackupCodes","cancelBackupCodes","_component_qrcode","SecurityTab","oauthToken","localeService","params","alias","id","revokeToken","_component_mfa","_component_i18n_t","_hoisted_24","_hoisted_25","basePropertyOf","object","_basePropertyOf","htmlUnescapes","unescapeHtmlChar","_unescapeHtmlChar","reEscapedHtml","reHasEscapedHtml","unescape","_unescape","baseAssignValue","eq","assignMergeValue","_assignMergeValue","root","freeExports","freeModule","moduleExports","Buffer","allocUnsafe","cloneBuffer","isDeep","Uint8Array","cloneArrayBuffer","arrayBuffer","_cloneArrayBuffer","cloneTypedArray","typedArray","_cloneTypedArray","copyArray","source","_copyArray","isObject","objectCreate","baseCreate","proto","_baseCreate","overArg","getPrototype","_getPrototype","isPrototype","initCloneObject","_initCloneObject","isArrayLike","isObjectLike","isArrayLikeObject","isArrayLikeObject_1","baseGetTag","objectTag","funcProto","objectProto","funcToString","hasOwnProperty","objectCtorString","isPlainObject","Ctor","isPlainObject_1","safeGet","_safeGet","assignValue","objValue","_assignValue","copyObject","customizer","isNew","newValue","_copyObject","nativeKeysIn","_nativeKeysIn","baseKeysIn","isProto","_baseKeysIn","arrayLikeKeys","keysIn","keysIn_1","toPlainObject","toPlainObject_1","isArguments","isBuffer","isFunction","isTypedArray","require$$13","require$$14","baseMergeDeep","srcIndex","mergeFunc","stack","srcValue","stacked","isCommon","isArr","isBuff","isTyped","_baseMergeDeep","Stack","baseFor","baseMerge","_baseMerge","apply","thisArg","_apply","nativeMax","overRest","transform","otherArgs","_overRest","constant","constant_1","defineProperty","identity","baseSetToString","_baseSetToString","HOT_COUNT","HOT_SPAN","nativeNow","shortOut","count","lastCalled","stamp","remaining","_shortOut","setToString","_setToString","baseRest","_baseRest","isIndex","isIterateeCall","_isIterateeCall","createAssigner","assigner","sources","guard","_createAssigner","merge","merge_1","ownKeys","o","_objectSpread2","_defineProperty","_toPrimitive","_toPropertyKey","_typeof","_classCallCheck","instance","Constructor","_defineProperties","target","descriptor","_createClass","protoProps","staticProps","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","iter","minLen","len","arr2","IS_BROWSER","WINDOW","IS_TOUCH_DEVICE","HAS_POINTER_EVENT","NAMESPACE","ACTION_ALL","ACTION_CROP","ACTION_MOVE","ACTION_ZOOM","ACTION_EAST","ACTION_WEST","ACTION_SOUTH","ACTION_NORTH","ACTION_NORTH_EAST","ACTION_NORTH_WEST","ACTION_SOUTH_EAST","ACTION_SOUTH_WEST","CLASS_CROP","CLASS_DISABLED","CLASS_HIDDEN","CLASS_HIDE","CLASS_INVISIBLE","CLASS_MODAL","CLASS_MOVE","DATA_ACTION","DATA_PREVIEW","DRAG_MODE_CROP","DRAG_MODE_MOVE","DRAG_MODE_NONE","EVENT_CROP","EVENT_CROP_END","EVENT_CROP_MOVE","EVENT_CROP_START","EVENT_DBLCLICK","EVENT_TOUCH_START","EVENT_TOUCH_MOVE","EVENT_TOUCH_END","EVENT_POINTER_DOWN","EVENT_POINTER_MOVE","EVENT_POINTER_UP","EVENT_RESIZE","EVENT_WHEEL","EVENT_ZOOM","MIME_TYPE_JPEG","REGEXP_ACTIONS","REGEXP_DATA_URL","REGEXP_DATA_URL_JPEG","REGEXP_TAG_NAME","MIN_CONTAINER_WIDTH","MIN_CONTAINER_HEIGHT","DEFAULTS","TEMPLATE","isNaN","isNumber","isPositiveNumber","isUndefined","_constructor","slice","toArray","forEach","callback","assign","_len","_key","arg","REGEXP_DECIMALS","normalizeDecimalNumber","times","REGEXP_SUFFIX","setStyle","element","styles","style","property","hasClass","addClass","elem","className","removeClass","toggleClass","added","REGEXP_CAMEL_CASE","toParamCase","getData","name","setData","removeData","REGEXP_SPACES","onceSupported","supported","once","listener","removeListener","handler","event","listeners","addListener","_handler","_element$listeners","_len2","_key2","dispatchEvent","getOffset","box","location","REGEXP_ORIGINS","isCrossOriginURL","parts","addTimestamp","timestamp","getTransforms","_ref","rotate","scaleX","scaleY","translateX","translateY","values","getMaxZoomRatio","pointers","pointers2","maxRatio","pointer","pointerId","pointer2","x1","y1","x2","y2","z1","z2","ratio","getPointer","_ref2","endOnly","pageX","pageY","end","getPointersCenter","_ref3","startX","startY","getAdjustedSizes","_ref4","aspectRatio","height","isValidWidth","isValidHeight","adjustedWidth","getRotatedSizes","_ref5","arc","sinArc","cosArc","newWidth","newHeight","getSourceCanvas","_ref6","_ref7","_ref8","imageAspectRatio","imageNaturalWidth","imageNaturalHeight","_ref6$rotate","_ref6$scaleX","_ref6$scaleY","naturalWidth","naturalHeight","_ref8$fillColor","fillColor","_ref8$imageSmoothingE","imageSmoothingEnabled","_ref8$imageSmoothingQ","imageSmoothingQuality","_ref8$maxWidth","maxWidth","_ref8$maxHeight","maxHeight","_ref8$minWidth","minWidth","_ref8$minHeight","minHeight","context","maxSizes","minSizes","destMaxSizes","destMinSizes","destWidth","destHeight","param","fromCharCode","getStringFromCharCode","dataView","REGEXP_DATA_URL_HEAD","dataURLToArrayBuffer","dataURL","base64","binary","uint8","arrayBufferToDataURL","mimeType","chunks","chunkSize","resetAndGetOrientation","orientation","littleEndian","app1Start","ifdStart","exifIDCode","tiffOffset","endianness","firstIFDOffset","_length","_offset","parseOrientation","container","cropper","containerData","imageData","viewMode","rotated","canvasWidth","canvasHeight","canvasData","sizeLimited","positionLimited","cropBoxData","cropped","minCanvasWidth","minCanvasHeight","_getAdjustedSizes","newCanvasLeft","newCanvasTop","changed","transformed","_getRotatedSizes","autoCropArea","limited","minCropBoxWidth","minCropBoxHeight","maxCropBoxWidth","maxCropBoxHeight","preview","crossOrigin","alt","previews","el","img","cropBoxWidth","cropBoxHeight","left","top","originalWidth","originalHeight","events","handlers","ratioX","ratioY","_this","delta","buttons","button","action","touch","change","right","bottom","minLeft","minTop","renderable","range","check","side","hasSameSize","offsetX","offsetY","_this$canvasData","_originalEvent","pivot","center","_scaleX","_scaleY","rounded","widthChanged","heightChanged","_this$getData","initialX","initialY","initialWidth","initialHeight","_options$imageSmoothi","sourceWidth","sourceHeight","srcX","srcY","srcWidth","srcHeight","dstX","dstY","dstWidth","dstHeight","dragBox","face","croppable","movable","AnotherCropper","Cropper","tagName","xhr","clone","_parseOrientation","crossOriginUrl","_this2","isIOSWebKit","sizingImage","body","template","cropBox","parentNode","ImageCropper","cropping","fileInput","reader","trigger","faPlus","ProfileTab","field","ScopeSelector","EmojiInput","InterfaceLanguageSwitcher","suggestor","baseAvatar","baseBanner","src","visibility","slot","filesize","fileSizeFormatService","allowedsize","useInterfaceStore","that","updateAvatar","avatar","avatarName","banner","background","propsToNative","_hoisted_23","_hoisted_26","_hoisted_27","_component_EmojiInput","inputProps","_mergeProps","role","newFields","_component_interface_language_switcher","emailLanguage","isDefaultAvatar","_vShow","_component_image_cropper","isDefaultBanner","bannerPreview","isDefaultBackground","backgroundPreview","_hoisted_28","_hoisted_29","_sfc_main","NumberSetting","_component_NumberSetting","_normalizeProps","_guardReactiveProps","faGlobe","GeneralTab","FloatSetting","ProfileSettingIndicator","format","language","loopSilentAvailable","_component_ProfileSettingIndicator","postFormats","defaultHorizontalUnits","faEyeDropper","hex2rgb","throttle","_normalizeStyle","faFileImport","faFileExport","paletteKeys","__props","emit","__emit","getExportedObject","paletteExporter","newExporter","paletteImporter","newImporter","parsed","exportPalette","importPalette","applyPalette","fallback","updatePalette","paletteKey","faStar","faRetweet","faReply","faExclamationTriangle","faKeyboard","faFont","_sfc_main$b","Popover","_a","manualEntry","modelValue","_b","AppearanceTab","FontControl","Preview","PaletteEditor","updateIndex","resource","capitalizedResource","currentIndex","promise","k","stylePromise","meta","themes","themePromise","bundledPalettes","palettePromise","fg","link","cRed","cGreen","cBlue","cOrange","entries","observer","isIntersecting","theme","ruleset","variant","directives","accent","wallpaper","notif","themeVersion","customTheme","customThemeSource","styleCustomData","filename","deserialize","mapActions","input","theme3","normalizeThemeData","theme2","convertTheme2To3","init","paletteRule","getScopedVersion","getCssRules","_hoisted_31","_hoisted_32","_hoisted_33","previewTheme","stylePalettes","_component_PaletteEditor","_hoisted_30","_component_FloatSetting","_component_FontControl","columns","column","_hoisted_35","_hoisted_36","pleromaFeCommitUrl","VersionTab","backendVersion","frontendVersion","moveUpValid","present","moveUp","newModel","nextTick","moveDnValid","moveDn","del","ColorInput","axis","_resolveDynamicComponent","_c","_d","_component_ColorInput","serializeShadow","inset","deserializeShadow","serialize","rule","header","unroll","component","newVariant","newState","st","directive","valType","faChevronDown","faChevronUp","toModel","_sfc_main$6","OpacityInput","SelectMotion","ComponentPreview","newVal","newType","computedColor","findColor","rgb2hex","fixedShadows","flattenDeep","findShadow","getCssShadowFilter","getCssShadow","shadow","prop","_component_ComponentPreview","getSubshadowLabel","_component_SelectMotion","disabled","updateProperty","_e","_f","_g","_h","_i","_j","_k","_m","getColorFallback","_component_OpacityInput","_n","_component_Popover","faAdjust","faThumbsUp","Tooltip","levelVal","_component_Tooltip","v1OnlyNames","colorConvert","_sfc_main$3","SLOT_INHERITANCE","OPACITIES","themesIndex","themeFunc","themeData","pre","origin","themeEngineVersion","noActionsPossible","CURRENT_VERSION","colors","opacity","hints","colorsConverted","ratios","slotIsBaseText","layer","opacitySlot","getOpacitySlot","textColors","layers","getLayers","textColorKey","newKey","getContrastRatioLayers","DEFAULT_SHADOWS","saveEverything","tabSwitcher","RangeInput","ContrastRatio","ShadowControl","fileVersion","forceUseSource","snapshotEngineVersion","versionsMatch","sourceSnapshotMismatch","forcedSourceLoad","confirmLoadSource","generateColors","generateShadows","relativeLuminance","forceSource","radii","shadows","fonts","colors2to3","shadows2to3","generateRadii","generateFonts","_hoisted_34","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","themeWarning","_component_preview","_KeepAlive","previewContrast","_component_ContrastRatio","_l","_o","_p","__","_ba","_ea","_fa","_ga","_ha","_ja","_ka","_la","_ma","_na","_oa","_pa","_qa","_component_RangeInput","_Aa","_Ba","_Ca","_Da","_Ea","_Fa","_Ga","_Ha","_Ia","_component_ShadowControl","fontsLocal","_Ka","_La","_Ma","_Teleport","_hoisted_55","_hoisted_56","_sfc_main$1","inject","selectedVirtualDirectiveId","ref","selectedVirtualDirective","newVD","newValType","newName","draftVirtualDirectiveValid","draftVirtualDirective","normalizeShadows","watch","splitShadow","normalizeStates","states","faFile","faFloppyDisk","faFolderOpen","faArrowsRotate","faCheck","StringSetting","RoundnessInput","VirtualDirectivesTab","interfaceStore","allEditedRules","styleDataUsed","onImport","getCurrentInstance","metaOut","metaRule","palettes","reactive","onPalettesUpdate","selectedPaletteId","selectedPalette","newPalette","provide","updateOverallPreview","palettesRule","rest","palettesOut","componentsContext","__vite_glob_0_0","__vite_glob_0_1","__vite_glob_0_2","__vite_glob_0_3","__vite_glob_0_4","__vite_glob_0_5","__vite_glob_0_6","__vite_glob_0_7","__vite_glob_0_8","__vite_glob_0_9","__vite_glob_0_10","__vite_glob_0_11","__vite_glob_0_12","__vite_glob_0_13","__vite_glob_0_14","__vite_glob_0_15","__vite_glob_0_16","__vite_glob_0_17","__vite_glob_0_18","__vite_glob_0_19","__vite_glob_0_20","__vite_glob_0_21","__vite_glob_0_22","__vite_glob_0_23","__vite_glob_0_24","__vite_glob_0_25","__vite_glob_0_26","__vite_glob_0_27","__vite_glob_0_28","__vite_glob_0_29","__vite_glob_0_30","__vite_glob_0_31","componentKeysAll","componentsMap","componentKeys","selectedComponentKey","selectedComponent","selectedComponentName","selectedVariant","selectedState","rulesToEditorFriendly","rules","rParent","rComponent","parent","hasChildren","child","pComponent","pVariant","pState","pPath","output","set","cComponent","cVariant","cState","cPath","editorFriendlyFallbackStructure","componentKey","componentValue","defaultRules","subComponent","getPath","pathSuffix","isElementPresent","unset","getEditedElement","postProcess","usedRule","real","getContrast","bgRgb","textRgb","getContrastRatio","editedShadow","editedSubShadowId","editedSubShadow","newEditedShadow","tab","editorHint","editorFriendlyToOriginal","resultRules","convert","variantData","jointState","stateData","cName","allCustomVirtualDirectives","valVal","virtualDirectives","virtualDirectivesRule","vd","virtualDirectivesOut","dynamicVars","staticVars","previewColors","styleExporter","exportStyleData","editorComponents","rootComponent","metaIn","palettesIn","newVirtualDirectives","styleImporter","exportRules","overallPreviewRules","overallPreviewCssRules","watchEffect","simulatePseudoSelectors","css","prefix","previewRules","filtered","componentMatch","parentComponentMatch","ruleState","differenceA","differenceB","aSelectorLength","bSelectorLength","selectors","original","rootDirectivesEntries","_component_VirtualDirectivesTab","isActive","_component_StringSetting","selectedComponentVariants","selectedComponentStates","editedRoundness","_component_RoundnessInput","faWrench","faUser","faFilter","faPaintBrush","faPalette","faBell","faDownload","faEyeSlash","faInfo","faWindowRestore","SettingsModalContent","MutesAndBlocksTab","StyleTab","ThemeTab","targetTab","tabIndex","elm","_component_GeneralTab","_component_AppearanceTab","_component_StyleTab","_component_ThemeTab","_component_ProfileTab","_component_NotificationsTab","_component_SecurityTab","_component_FilteringTab","_component_MutesAndBlocksTab","_component_DataImportExportTab"],"mappings":"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","x_google_ignoreList":[6,7,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98]}